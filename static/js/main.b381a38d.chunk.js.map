{"version":3,"sources":["fragments/element-quiz-match-line/drag.svg","components/element-quiz-5/icon-preloader.gif","components/element-quiz-6/icon-preloader.gif","components/element-forum-1/icon-preloader.gif","components/element-code-snippet-1/copy.svg","components/element-code-snippet-1/check-circle.svg","views/home/image-1.jpg","views/home/image-2.jpg","views/home/image-3.jpg","views/home/image-4.jpg","views/home/image-5.jpg","views/home/image-6.jpg","utils/visible-element.js","utils/string-format.js","components/element-head-1/element-head-1.js","components/element-text/element-text.js","components/element-text-two-column/element-text-two-column.js","components/element-list/element-list.js","components/element-image/element-image.js","components/element-image-and-text/element-image-and-text.js","components/element-image-with-text/element-image-with-text.js","components/element-audio/element-audio.js","libs/react-azure-mp/load-library.js","libs/react-azure-mp/mp-component.jsx","components/element-video/element-video.js","components/element-accordion/element-accordion.js","components/element-tabs/element-tabs.js","components/element-iframe/element-iframe.js","components/element-flashcards-1/element-flashcards-1.js","components/element-flashcards-2/element-flashcards-2.styled.js","components/element-flashcards-2/element-flashcards-2.js","utils/object-to-query-string.js","utils/permission.js","services/index.js","services/auth.js","services/cms.js","components/element-quiz-1/element-quiz-1.styled.js","components/element-quiz-1/element-quiz-1.js","components/element-quiz-2/element-quiz-2.styled.js","components/element-quiz-2/element-quiz-2.js","fragments/element-navigation/navigation.styled.js","fragments/element-progress/progress.styled.js","fragments/element-progress/progress.js","fragments/element-navigation/navigation.js","utils/classNameFn.js","fragments/element-quiz-card/quiz-card.styled.js","fragments/element-quiz-card/quiz-card.js","fragments/element-input-group/input-group.styled.js","fragments/element-input-group/input-group.js","fragments/element-quiz-header/quiz-header.styled.js","fragments/element-quiz-header/quiz-header.js","fragments/element-choice/choice.styled.js","fragments/element-choice/choice.js","fragments/element-radio/radio.styled.js","fragments/element-radio/radio.js","fragments/element-quiz-choice-quill/quiz-choice-quill.styled.js","fragments/element-quiz-image/quiz-image.styled.js","fragments/element-quiz-image/quiz-image.js","fragments/element-quiz-video/quiz-video.styled.js","fragments/element-quiz-video/quiz-video.js","fragments/element-checkbox/checkbox.styled.js","fragments/element-checkbox/checkbox.js","utils/isChoiceSelected.js","fragments/element-quiz-choice-quill/quiz-choice-quill.js","fragments/element-quiz-question-quill/quiz-question-quill.styled.js","fragments/element-quiz-question-quill/quiz-question-quill.js","fragments/element-quiz-question-confirm-feedback/quiz-question-confirm-feedback.styled.js","utils/questionIsCorrect.js","fragments/element-quiz-question-confirm-feedback/quiz-question-confirm-feedback.js","fragments/element-quiz-textarea/quiz-textarea.styled.js","fragments/element-quiz-textarea/quiz-textarea.js","fragments/element-quiz-text-input/quiz-text-input.styled.js","fragments/element-quiz-text-input/quiz-text-input.js","fragments/element-quiz-match-line/quiz-match-line.styled.js","fragments/element-quiz-match-line/quiz-match-line.js","fragments/element-quiz-question/element-quiz-question.js","fragments/element-quiz-finish-result/quiz-finish-result.styled.js","fragments/element-quiz-finish-result/quiz-finish-result.js","components/element-quiz-4/element-quiz-4.styled.js","components/element-quiz-4/element-quiz-4.js","components/element-quiz-5/element-quiz-5.styled.js","utils/key-code.js","components/element-quiz-5/review-modal.styled.js","components/element-quiz-5/note-dropdown.styled.js","components/element-quiz-5/preloader.js","components/element-quiz-5/note-dropdown.js","components/element-quiz-5/review-modal.js","components/element-quiz-5/element-quiz-5.js","components/element-quiz-6/element-quiz-6.styled.js","components/element-quiz-6/review-modal.styled.js","components/element-quiz-6/note-dropdown.styled.js","components/element-quiz-6/preloader.js","components/element-quiz-6/note-dropdown.js","components/element-quiz-6/review-modal.js","utils/userCanRemakeQuiz.js","components/element-quiz-6/element-quiz-6.js","components/user-log/user-log.js","components/video-player/video-player.js","components/element-images-gallery/styles.js","components/element-images-gallery/elements-images-gallery.js","components/element-forum-1/modal.styled.js","components/element-forum-1/quill.styled.js","components/element-forum-1/quill.js","components/element-forum-1/preloader.js","components/element-forum-1/modal.js","components/element-forum-1/learning-player-context-loading.js","components/element-forum-1/composer-player-context.styled.js","components/element-forum-1/composer-player-context.js","components/element-forum-1/note-dropdown.styled.js","components/element-forum-1/note-dropdown.js","components/element-forum-1/forum-message.styled.js","hooks/use-on-screen.js","components/element-forum-1/post-loading.js","components/element-forum-1/forum-message.js","components/element-forum-1/alert-dialog.styled.js","components/element-forum-1/alert-dialog.js","components/element-forum-1/element-forum-1.styled.js","components/element-forum-1/review-modal.styled.js","components/element-forum-1/review-modal.js","components/element-forum-1/element-forum-1.js","components/element-divider-1/element-divider-1.js","components/element-divider-4/element-divider-4.js","components/element-divider-numbered/element-divider-numbered.js","components/element-hotspots-1/element-hotspots-1.styled.js","fragments/element-spot/spot.styled.js","fragments/element-spot/markers.js","fragments/element-spot/spot.js","components/element-hotspots-1/element-hotspots-1.js","components/element-statement-1/element-statement-1.js","components/element-statement-2/element-statement-2.js","components/element-statement-3/element-statement-3.js","components/element-statement-4/element-statement-4.js","components/element-note-1/element-note-1.js","components/element-quote-1/element-quote-1.js","components/element-quote-2/element-quote-2.js","components/element-quote-3/element-quote-3.js","components/element-quote-4/element-quote-4.js","components/element-quote-5/element-quote-5.js","components/element-quote-6/element-quote-6.styled.js","components/element-quote-6/element-quote-6.js","components/element-sorted-activity-1/element-sorted-activity-1.styled.js","components/element-sorted-activity-1/item-card.js","components/element-sorted-activity-1/element-sorted-activity-1.js","components/element-timeline-1/element-timeline-1.styled.js","components/element-timeline-1/element-timeline-1.js","components/element-steps-1/element-steps-1.styled.js","components/element-steps-1/element-steps-1.js","components/element-quiz-3/element-quiz-3.styled.js","components/element-quiz-3/element-quiz-3.js","components/element-attachment-1/element-attachment-1.styled.js","components/element-attachment-1/element-attachment-1.js","components/element-gallery-1/element-gallery-1.styled.js","components/element-gallery-1/element-gallery-1.js","components/element-button-1/element-button-1.styled.js","components/element-button-1/element-button-1.js","components/element-code-snippet-1/element-code-snippet-1.styled.js","components/element-code-snippet-1/element-code-snippet-1.js","components/element-3d/element-3d.js","fragments/interaction-monitor-wrapper/interaction-monitor-wrapper.styled.js","fragments/interaction-monitor-wrapper/interaction-monitor-wrapper.js","utils/throttle.js","hocs/with-object-interaction-monitor.js","views/home/home.js","App.js","serviceWorker.js","index.js","assets/svg/icon-search.svg","assets/svg/close.svg"],"names":["module","exports","__webpack_require__","p","VisibleElement","this","visible","el","top","offsetTop","left","offsetLeft","width","offsetWidth","height","offsetHeight","offsetParent","window","pageYOffset","innerHeight","pageXOffset","innerWidth","StringFormat","HtmlToText","html","replace","ElementHead1","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","elementRef","React","createRef","state","avatar_size","trackElementView","content","isVisible","current","obj","action","element","timestamp","Math","floor","Date","now","metadata","composition_uid","structure","content_uid","element_id","id","element_title","content_title","undefined","dam_assets","length","assets","onTrackEvent","setState","img","target","show_category","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","category","avatar","avatarSize","style","borderColor","avatar_border_color","src","onLoad","handleAvatarChange","bind","show_author_name","author_name","color","primary_color","author_office","show_divider","secondaryColor","secondary_color","backgroundColor","font","toLowerCase","ref","concat","getFont","font_family","backgroundImage","background_image","renderCategory","renderAvatar","renderAuthorInfo","renderDivider","Component","ElementText","textStyle","background_color","paddingTop","padding_top","paddingBottom","padding_bottom","text","ElementTextTwoColumn","handleChange","assertThisInitialized","prevProps","prevState","snapshot","position","items","onChange","ElementList","active_items","itemId","item_id","index","item","isItemActive","push","trackElementClick","filter","_this$props","headerActionsTemplate","footerActionsTemplate","listStyle","map","key","type","onClick","onItemCheck","version","xmlns","viewBox","fill","d","renderQuill","ElementImage","zoomImgRef","zoom_enabled","inner_width","inner_height","img_zoom_width","img_zoom_height","onResizeWindow","refreshZoomOnResize","onResizeIframe","removeEventListener","addEventListener","resizeImage","url","image","zoom","cursor","e","naturalHeight","naturalWidth","zoom_icons_color","_this2","zoom_enabled_new","_this3","imageStyle","aria-labelledby","toggleZoomImage","getImgStyle","caption","index_esm","maxScale","zoom_max_level","centerZoomedOut","centerOnInit","_ref","zoomIn","zoomOut","resetTransform","objectWithoutProperties","Fragment","zoom_header_background_color","renderIconZoomIn","renderIconZoomOut","renderIconClose","wrapperStyle","getWrapperStyle","contentStyle","getImgDynamicStyle","ElementImageAndText","image_width","image_border_radius","borderRadius","_this$props$content","image_position","marginRight","marginLeft","_this$props$content2","parseInt","split","containerStyle","getImageUrl","getTextStyle","ElementImageWithText","opacity","opacity_color","divider_color","ElementAudio","onAudioPlay","onAudioPause","audio","verb","duration","time","progress","trackEvent","currentTarget","currentTime","audioStyle","controls","onPlay","onPause","onEnded","onAudioEnded","onSeeking","onAudioSeeking","loader","AzureMP","videoNode","player","dispose","destroyPlayer","skin","initialization","arguments","amp","Promise","resolve","reject","scriptTag","document","linkTag","rel","href","body","appendChild","head","insertBefore","firstChild","onload","loadLibrary","then","createPlayer","setVideo","tracks","_this$props2","options","onInstanceCreated","assign","logo","enabled","ratio","_this$props3","_this$props3$skin","_this$props3$adaptRat","adaptRatio","cornerPlayBtn","getRatioStyles","classNames","defineProperty","styles","crossOrigin","amp-big-play-centered","ElementVideo","azure_video_url","azure_url","azure_mime_type","azure_subtitles","render_azure_player","location","search","indexOf","custom_options","cstmptns","getCaptions","video","api_env","project_key","access_token","domain","videoUrl","videoObj","video_url","mime_type","subtitles","manifestUrl","fetch","json","manifest","data","asset","find","uid","asset_uid","uri","srclang","language_code","kind","label","language","loadDefaultFormat","azure_media_options","tempUrl","method","streamInfo","ok","headers","get","default_target","getVideoUrl","onVideoPlay","onVideoPause","onVideoEnded","onVideoSeeking","react_azure_mp_mp_component","autoplay","playbackSpeed","initialSpeed","speedLevels","name","value","ElementAccordion","getResumeItems","expanded","active_accordion_title","title","temp","i","manipulateItems","behavior","getAssetUrl","accordionStyle","onToggleItem","renderImage","renderVideo","ElementTabs","active_tab_content","modules","toolbar","align","size","list","formats","Font","ReactQuill","Quill","import","whitelist","register","SizeStyle","activeItem","activeTab","active_tab_title","editable","react_quill_lib_default","theme","active_color","onTabClick","renderActiveTabContent","ElementIframe","resizeWebview","current_width","scale","iframeContainerStyle","iframeStyle","allow","ElementFlashcard1","isFlipped","onCardClick","side","opened","classList","toggle","objectFit","centered_image","handleCenteredImageChange","fullscreen_image","handleFullscreenImageChange","card_height","card_width","cardStyle","maxHeight","maxWidth","aspectRatio","borderTopColor","border_color","renderCardData","ElementFlashcards2","styled","div","_templateObject","CardList","ul","_templateObject2","CardListItem","li","_templateObject3","css","_templateObject4","_templateObject5","_templateObject6","CardInner","_templateObject7","_templateObject8","CardFront","_templateObject9","CardBack","_templateObject10","CardItemTypeText","_templateObject11","CardItemTypeImage","_templateObject12","NavigationContainer","_templateObject13","ChangeCardButton","button","_templateObject14","fontColor","Progress","_templateObject15","ProgressLabel","_templateObject16","ProgressCounter","_templateObject17","ProgressBar","_templateObject18","ElementFlashcard2","flippedItemsIds","visibleCardIndex","trackCardToggleEvent","_this$state","includes","trackViewCardEvent","_this$state2","card_id","assetUrl","handleToggleFlipCard","cardId","toConsumableArray","handlePrevCard","handleNextCard","_content$items","renderProgress","total","percentage","handleKeyDown","code","keyCode","preventDefault","_content$card_height","_content$card_width","_content$items2","_this$state3","tabIndex","onKeyDown","role","front_card","back_card","disabled","objectToQueryString","keys","join","USER_ROLES","isContentOwner","loggedUserUID","contentUserUID","isAdminReviewer","roles","API","auth","user","me","Authorization","Project-Key","Api-Env","resp","_ref2","cms","learning","registerUid","getInteractions","base_url","catch","console","error","interaction","recoverObjects","_ref3","query","queryString","objects","parsed","_ref4","asyncToGenerator","regenerator_default","mark","_callee","object","userDetails","wrap","_context","prev","next","user_uid","sent","hasOwnProperty","abrupt","email","login","detail","interaction_objects","interaction_object","object_data","JSON","parse","t0","stop","_x","apply","all","interactionUid","reviewed","_ref5","_ref6","context_uid","target_uid","score","Content-Type","stringify","status","warn","interactionObjectUid","updateScore","_updateScore","_callee2","_ref7","_context2","_x2","_x3","createObject","_ref8","_ref9","recoverObject","_ref10","_ref11","_callee3","_context3","_x4","socialmedia","connector","connectorUid","createThread","_ref12","_ref13","description","context_type","thread","threadUid","update","_ref14","_ref15","Error","statusText","delete","_ref16","post","postUid","_ref17","_ref18","_ref19","createPost","_ref20","recoverPosts","_ref21","threads","available","_ref22","ContainerFinishButton","element_quiz_1_styled_templateObject","ContainedButton","element_quiz_1_styled_templateObject2","background","element_quiz_1_styled_templateObject3","element_quiz_1_styled_templateObject4","ElementQuiz1","defineAnswered","idQuestion","resetAll","activeChoices","cloneContent","objectSpread","changedQuestions","questions","question","answered","handleComplete","trackAnswerConfirmClick","renderCustomMsg","msg","feedback_default","media_max_width","renderCorrectMsg","getLabels","right","feedback","feedback_correct","xlink","x","y","enableBackground","space","correct_color","fillRule","clipRule","renderIncorrectMsg","incorrect","feedback_incorrect","incorrect_color","verifyAnswer","correctAnswer","choices","choice","correct","no_correct_answer","no_feedback","userCanRemakeQuiz","attempsMade","_content$max_attempts","max_attempts","remake","String","isNaN","total_attempts","loadContentFromDefaultData","loadContentFromServer","updateQuestionsBasedOnObjects","verifyIfHasAnweredAllQuestions","showResume","getSignedUserFromJwt","contentBkp","current_question","answered_qtd","protocol","defaultData","elements","sortQuestions","prevStates","jwtDecode","Array","isArray","toString","oid","loadActiveChoices","answers","log","interaction_uid","contentCopy","lastObjectDate","objectTries","created_at","answer","updateActiveChoisesBasedOnAnswer","_this$state4","hits","_callee5","_context5","resume","rdp_html_content","percentage_average","min_percentage","utilization","grades","show_result","trackQuestionView","currentQuestion","questionId","questionIndex","selectedChoice","total_questions","result","trackQuestionResult","hit","direction","source","source_question","evaluative","formatedQuestions","forEach","formatedQuestion","formatedData","isRemake","splitQuestions","number_of_questions_to_display","randomizeOnRemake","random_on_remake","random_question_order","backup","newQuestions","sort","b","random","slice","alt","questionChanged","_this4","contentClone","_this$state$content$q","contentLanguage","confirm","back","retry","previous","finish","finish_quiz_message","_this$state$activeCho","trackAnswerClick","_this5","qtion","ch","_this6","_this$state5","classSelected","colorChoice","onChoiceClick","renderChoiceRadio","renderChoiceQuill","_this7","onNavigateQuestions","trackNavigation","_this8","_this$state6","_this9","_this$state7","questions_count","answeredQuestions","q","disabledBtn","onFinishClick","_this$state8","renderPreviousQuestionBtn","renderNextQuestionBtn","renderFinishBtn","_this10","_this$state9","_this$state10","renderQuestionQuill","renderChoices","renderFeedback","renderNavigation","_this$state11","renderQuestionare","renderResult","_this11","_this$state12","copyQuestion","_callee6","_context6","user_selected","trackQuizResult","finished","scorm_progress_count","handleFinish","trackRemakeQuiz","getResultLabel","parseFloat","toFixed","_this12","_this$state13","renderFinalMessage","onRemakeQuestionnaire","renderContent","element_quiz_2_styled_templateObject","element_quiz_2_styled_templateObject2","ElementQuiz2","element_quiz_2_styled_templateObject3","element_quiz_2_styled_templateObject4","totalCorrects","answersIds","correctsAnswered","selectedChoices","points","selected","element_quiz_2_styled_ContainerFinishButton","element_quiz_2_styled_ContainedButton","choises","choise","Navigation","navigation_styled_templateObject","Button","navigation_styled_templateObject2","primaryColor","ButtonContainer","navigation_styled_templateObject3","justify","navigation_styled_templateObject4","ProgressContainer","progress_styled_templateObject","progress_styled_templateObject2","ProgressBarPlaceholder","progress_styled_templateObject3","progress_styled_templateObject4","ProgressCount","span","progress_styled_templateObject5","_props$currentProgres","currentProgress","_props$totalProgress","totalProgress","progress_styled_Progress","progress_styled_ProgressBar","onClickPrevius","onClickNext","onClickFinish","labels","_props$showFinishButt","showFinishButton","_props$disableFinishB","disableFinishButton","element_progress_progress","navigation_styled_ContainedButton","classNameFn","trim","QuizCard","quiz_card_styled_templateObject","children","rest","InputGroup","input_group_styled_templateObject","_props$type","QuizHeader","quiz_header_styled_templateObject","Span","quiz_header_styled_templateObject2","CurrentQuestionText","quiz_header_styled_templateObject3","ProgressText","quiz_header_styled_templateObject4","Choice","choice_styled_templateObject","selectedColor","Radio","radio_styled_templateObject","Input","input","radio_styled_templateObject2","_props$value","checked","readOnly","QuizChoiceText","quiz_choice_quill_styled_templateObject","ChoiceContainer","quiz_choice_quill_styled_templateObject2","CenterContainer","quiz_choice_quill_styled_templateObject3","QuizImageVideoContainer","quiz_choice_quill_styled_templateObject4","ColumnContainer","quiz_choice_quill_styled_templateObject5","RowContainer","quiz_choice_quill_styled_templateObject6","QuizImage","quiz_image_styled_templateObject","_props$data","mediaMaxWidth","QuizVideo","quiz_video_styled_templateObject","Checkbox","checkbox_styled_templateObject","checkbox_styled_templateObject2","_props$checked","defaultChecked","_React$useState","useState","_React$useState2","slicedToArray","setChecked","useEffect","checkbox_styled_Input","isChoiceSelected","sourceId","destinationId","QuizChoiceQuill","_props$disabled","_props$activeChoices","_props$onChoiceClick","setColorChoice","element_choice_choice","element_radio_radio","element_checkbox_checkbox","renderChoiceInputType","quiz_image","quiz_video","QuizQuestionQuill","quiz_question_quill_styled_templateObject","QuizQuestion","quiz_question_quill_styled_templateObject2","_props$editable","QuizQuestionFeedback","quiz_question_confirm_feedback_styled_templateObject","ConfirmButton","quiz_question_confirm_feedback_styled_templateObject2","EditButton","quiz_question_confirm_feedback_styled_templateObject3","QuizQuestionFeedbackMessage","quiz_question_confirm_feedback_styled_templateObject4","questionIsCorrect","_question$choices","QuizQuestionConfirmFeedback","_props$answered","_props$onClickConfirm","onClickConfirm","_props$onClickEdit","onClickEdit","answer_saved","edit","TextAreaContainer","quiz_textarea_styled_templateObject","TextArea","textarea","quiz_textarea_styled_templateObject2","QuizTextarea","_props$onChange","_props$defaultValue","defaultValue","setValue","event","rows","TextInputContainer","quiz_text_input_styled_templateObject","TextInput","quiz_text_input_styled_templateObject2","QuizTextInput","QuizMatchLine","quiz_match_line_styled_templateObject","Text","quiz_match_line_styled_templateObject2","lines","MatchList","ol","quiz_match_line_styled_templateObject3","LeftColumn","quiz_match_line_styled_templateObject4","MatchConnector","quiz_match_line_styled_templateObject5","MatchLine","quiz_match_line_styled_templateObject6","connected","quiz_match_line_styled_templateObject7","BaseChoice","quiz_match_line_styled_templateObject8","quiz_match_line_styled_templateObject9","hidden","quiz_match_line_styled_templateObject10","Match","quiz_match_line_styled_templateObject11","Arrow","quiz_match_line_styled_templateObject12","ArrowLeft","quiz_match_line_styled_templateObject13","ArrowRight","quiz_match_line_styled_templateObject14","quiz_match_line_styled_templateObject15","IconImage","quiz_match_line_styled_templateObject16","connectedItems","matches","setItems","_React$useState3","_React$useState4","setConnectedItems","useMemo","titleLines","matchTitleLines","matchTitle","max","saveConnection","match","m","destination","droppableId","connectedItemsCopy","connectedItem","getOperationIndexes","sourceItem","draggableId","destinationItem","isReorderOperation","isMatchOperation","reorderItems","sourceIndex","destinationIndex","_items$splice","splice","reorderedItem","swapItems","itemsCopy","tmp","react_beautiful_dnd_esm","onDragEnd","operationIndexes","provided","innerRef","droppableProps","isDragDisabled","draggableProps","dragHandleProps","quiz_match_line_styled_Choice","dragIcon","ElementQuizQuestion","questionNumber","questionTotal","_props$onlyShowQuesti","onlyShowQuestion","_props$onAnswering","onAnswering","_props$onConfirmAnswe","onConfirmAnswer","_props$onResetAnswer","onResetAnswer","notifyChoiceSelection","quiz_header","quiz_question_quill","onEditQuestionText","input_group","quiz_choice_quill","onEditChoiceText","updateQuestionChoiceTextAndNotify","quiz_text_input","quiz_match_line","quiz_textarea","renderAsnwer","quiz_question_confirm_feedback","QuizFinishResult","quiz_finish_result_styled_templateObject","RemakeButton","quiz_finish_result_styled_templateObject2","RemakeButtonIcon","quiz_finish_result_styled_templateObject3","RemakeButtonText","quiz_finish_result_styled_templateObject4","ResultMessage","quiz_finish_result_styled_templateObject5","_props$onClickRemake","onClickRemake","_props$canRemake","canRemake","pending_review_total","getPendingResultLabel","ElementQuizContainer","element_quiz_4_styled_templateObject","ElementQuiz4","answeredQuestionsIds","currentQuestionIndex","showResult","activity_uid","_callee4","_content$questions","_args4","_context4","updateActiveChoicesBasedOnAnswer","getUsersInteractions","register_uid","last_occurrence","trackQuizFinishView","_this$props$contentLa","en","pt_br","isFinishButtonVisible","isFinishButtonDisabled","updateContentAndNotifyChange","setAnswer","setAnswerConfirmation","deleteAnswerConfirmation","getContentOnlyWithQuestion","goToPreviusQuestion","goToNextQuestion","renderContentFor","quiz_finish_result","resetState","element_quiz_question","onUpdateContent","navigation","createInteractionObject","_callee7","promises","_context7","quiz_card","element_quiz_5_styled_templateObject","element_quiz_5_styled_templateObject2","FeedbackContainer","element_quiz_5_styled_templateObject3","element_quiz_5_styled_templateObject4","element_quiz_5_styled_templateObject5","OutlinedButton","element_quiz_5_styled_templateObject6","TextButton","element_quiz_5_styled_templateObject7","RemakeButtonContainer","element_quiz_5_styled_templateObject8","element_quiz_5_styled_templateObject9","element_quiz_5_styled_templateObject10","NextButtonContainer","element_quiz_5_styled_templateObject11","PrevButtonContainer","element_quiz_5_styled_templateObject12","KeyCode","ESC","ModalDiv","review_modal_styled_templateObject","ContentDiv","review_modal_styled_templateObject2","Form","form","review_modal_styled_templateObject3","Overlay","review_modal_styled_templateObject4","CloseButton","review_modal_styled_templateObject5","review_modal_styled_templateObject6","review_modal_styled_templateObject7","ReviewContent","review_modal_styled_templateObject8","Grid","review_modal_styled_templateObject9","SearchColumn","review_modal_styled_templateObject10","AnsweredColumn","review_modal_styled_templateObject11","ReviewedColumn","review_modal_styled_templateObject12","ReviewColumn","review_modal_styled_templateObject13","HeadRow","review_modal_styled_templateObject14","BodyRow","review_modal_styled_templateObject15","StudentData","review_modal_styled_templateObject16","AnsweredData","review_modal_styled_templateObject17","ReviewedData","review_modal_styled_templateObject18","ReviewData","_templateObject19","ReviewDataOverlay","_templateObject20","_templateObject21","StudentList","_templateObject22","Student","_templateObject23","StudentButton","_templateObject24","CheckboxLabel","_templateObject25","checkColor","CheckboxInput","_templateObject26","Checkmark","_templateObject27","QuestionText","_templateObject28","AnswerLabel","_templateObject29","AnswerText","_templateObject30","SearchLabel","_templateObject31","SearchInput","_templateObject32","SearchInputIcon","_templateObject33","MenuIcon","_templateObject34","Title","_templateObject35","AnswerContainer","_templateObject36","NoteContainer","_templateObject37","QuestionList","_templateObject38","Question","_templateObject39","Container","note_dropdown_styled_templateObject","Dropdown","note_dropdown_styled_templateObject2","DropdownButton","note_dropdown_styled_templateObject3","note_dropdown_styled_templateObject4","rotate","note_dropdown_styled_templateObject5","List","note_dropdown_styled_templateObject6","zIndex","pos","note_dropdown_styled_templateObject7","note_dropdown_styled_templateObject8","ListOption","note_dropdown_styled_templateObject9","hoverColor","ContainerNoteBadge","note_dropdown_styled_templateObject10","NoteBadge","note_dropdown_styled_templateObject11","ListScroll","note_dropdown_styled_templateObject12","preloader_templateObject","Img","preloader_templateObject2","Preloader","_ref$width","_ref$height","_ref$gifHeight","gifHeight","preloader_Container","gif","NoteDropdown","_props$notes","notes","_props$label","_props$selected","_props$listTitle","listTitle","_props$onSelect","onSelect","note","_props$onHoverNote","onHoverNote","_props$open","open","_props$primaryColor","_props$backgroundColo","_props$backgroundHove","backgroundHoverColor","_props$listZIndex","listZIndex","_props$position","_props$show","show","isLoadingNote","listRef","useRef","_useState","_useState2","dropdownPos","setDropdownPos","_useState3","_useState4","isOpen","setIsOpen","_useState5","_useState6","hoverNote","setHoverNote","_listRef$current$getB","getBoundingClientRect","totalHeight","actualPos","handleMouseOption","aria-haspopup","aria-expanded","note_dropdown_styled_Arrow","aria-selected","handleClickOption","onMouseEnter","onMouseLeave","ReviewModal","_props$users","users","_props$noteRange","noteRange","customOptions","_props$onConfirm","onConfirm","_props$onCancel","onCancel","btnConfirmTextColor","_props$labels","closeIcon","expandRightIcon","expandLeftIcon","_props$updateLocalStu","updateLocalStudentInteraction","selectedUser","closeRef","questionListRef","setText","searchText","setSearchText","setSelectedUser","_useState7","_useState8","isListOfItemsOpened","setIsListOfItemsOpened","_useState9","_useState10","setQuestions","_useState11","_useState12","setIsLoadingNote","_useState13","_useState14","sortAnsweredOrder","setSortAnsweredOrder","_useState15","_useState16","sortReviewedOrder","setSortReviewedOrder","getStyleForOrder","order","interactionObject","_user$user_uid","_user$name","_user$email","_user$interaction_obj","_user$interaction_uid","count_reviewed","interactionObjectTemp","isReviewed","_interaction","_interaction$uid","_interaction$reviewer","reviewer_uid","_interaction$score","_interaction$target_u","_interaction$context_","_object_data$data","total_messages","updateLocalQuestion","questionsCopy","userInteractionObject","students","orderedUsers","byAnswered","byReviewed","selectedUserUpdated","scrollTop","focus","handleClose","getQuestionAnswer","aria-modal","review","aria-describedby","onKeyUp","which","stopPropagation","onSubmit","close","aria-label","placeholder","searchClearIcon","searchIcon","textDecoration","handleStudentSelect","answered_by_student","select_to_start_review","note_dropdown","_selectedUser$interac","handleSelectNote","ElementQuiz5","questionObj","activeAnswers","getNoteRange","_this$state$content","_this$state$content$g","grade_type","_this$state$content$g2","grade_numeral","min","steps","_grade_numeral$min","_grade_numeral$max","_grade_numeral$steps","values","renderStats","renderConfirmAnswerButton","renderEditAnswerButton","renderDissertationArea","handleCloseReviewModal","currentQuestionPos","answeredQuestionsQtd","questionAnswer","is_review_modal_open","is_loading_review_modal","stats","finish_review","element_quiz_5_styled_TextAreaContainer","element_quiz_5_styled_TextArea","handleChangeAnswer","_this$state5$content","element_quiz_5_styled_NextButtonContainer","element_quiz_5_styled_ContainerFinishButton","element_quiz_5_styled_ContainedButton","startReviewForQuestion","_this$state10$content","_this$state10$user$ro","_this13","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","resetAllQuestions","_this14","_this$state14","element_quiz_5_styled_RemakeButtonContainer","element_quiz_5_styled_RemakeButtonIcon","element_quiz_5_styled_RemakeButtonText","_this$state15","_this15","confirm_button_text_color","_this$state16","_this$state16$user$ro","review_modal","studentsCopy","student","row","reviewed_at","reviewer_user_uid","updated_at","element_quiz_6_styled_templateObject","element_quiz_6_styled_templateObject2","element_quiz_6_review_modal_styled_templateObject","element_quiz_6_review_modal_styled_templateObject2","element_quiz_6_review_modal_styled_templateObject3","element_quiz_6_review_modal_styled_templateObject4","element_quiz_6_review_modal_styled_templateObject5","element_quiz_6_review_modal_styled_templateObject6","element_quiz_6_review_modal_styled_templateObject7","element_quiz_6_review_modal_styled_templateObject8","element_quiz_6_review_modal_styled_templateObject9","element_quiz_6_review_modal_styled_templateObject10","element_quiz_6_review_modal_styled_templateObject11","element_quiz_6_review_modal_styled_templateObject12","element_quiz_6_review_modal_styled_templateObject13","element_quiz_6_review_modal_styled_templateObject14","element_quiz_6_review_modal_styled_templateObject15","element_quiz_6_review_modal_styled_templateObject16","element_quiz_6_review_modal_styled_templateObject17","element_quiz_6_review_modal_styled_templateObject18","review_modal_styled_templateObject19","review_modal_styled_templateObject20","review_modal_styled_templateObject21","review_modal_styled_templateObject22","review_modal_styled_templateObject23","review_modal_styled_templateObject24","review_modal_styled_templateObject25","review_modal_styled_templateObject26","review_modal_styled_templateObject27","review_modal_styled_templateObject28","review_modal_styled_templateObject29","review_modal_styled_templateObject30","review_modal_styled_templateObject31","review_modal_styled_templateObject32","review_modal_styled_templateObject33","review_modal_styled_templateObject34","review_modal_styled_templateObject35","review_modal_styled_templateObject36","review_modal_styled_templateObject37","review_modal_styled_templateObject38","review_modal_styled_templateObject39","element_quiz_6_note_dropdown_styled_templateObject","element_quiz_6_note_dropdown_styled_templateObject2","element_quiz_6_note_dropdown_styled_templateObject3","element_quiz_6_note_dropdown_styled_templateObject4","element_quiz_6_note_dropdown_styled_templateObject5","element_quiz_6_note_dropdown_styled_templateObject6","element_quiz_6_note_dropdown_styled_templateObject7","element_quiz_6_note_dropdown_styled_templateObject8","element_quiz_6_note_dropdown_styled_templateObject9","element_quiz_6_note_dropdown_styled_templateObject10","element_quiz_6_note_dropdown_styled_templateObject11","element_quiz_6_note_dropdown_styled_templateObject12","element_quiz_6_preloader_templateObject","element_quiz_6_preloader_templateObject2","element_quiz_6_preloader_Container","preloader_Img","note_dropdown_styled_Container","note_dropdown_styled_Dropdown","note_dropdown_styled_DropdownButton","element_quiz_6_note_dropdown_styled_Arrow","note_dropdown_styled_List","note_dropdown_styled_ListScroll","note_dropdown_styled_ListOption","note_dropdown_styled_ContainerNoteBadge","note_dropdown_styled_NoteBadge","preloader_Preloader","_props$allQuestions","allQuestions","review_modal_styled_ModalDiv","review_modal_styled_Form","review_modal_styled_Overlay","review_modal_styled_ContentDiv","review_modal_styled_ReviewContent","review_modal_styled_MenuIcon","review_modal_styled_CloseButton","review_modal_styled_Grid","review_modal_styled_HeadRow","review_modal_styled_SearchColumn","review_modal_styled_SearchLabel","review_modal_styled_SearchInput","review_modal_styled_SearchInputIcon","review_modal_styled_AnsweredColumn","review_modal_styled_ReviewedColumn","review_modal_styled_ReviewColumn","review_modal_styled_Title","review_modal_styled_StudentList","review_modal_styled_Student","review_modal_styled_StudentButton","review_modal_styled_BodyRow","review_modal_styled_StudentData","review_modal_styled_AnsweredData","review_modal_styled_CheckboxLabel","review_modal_styled_CheckboxInput","review_modal_styled_Checkmark","review_modal_styled_ReviewedData","review_modal_styled_ReviewData","review_modal_styled_ReviewDataOverlay","review_modal_styled_QuestionList","review_modal_styled_Question","findIndex","getQuestionIndex","review_modal_styled_QuestionText","review_modal_styled_AnswerContainer","review_modal_styled_NoteContainer","element_quiz_6_note_dropdown","review_modal_styled_AnswerLabel","review_modal_styled_AnswerText","_content$remake","ElementQuiz6","c","trackQuestionFeedback","quizTypesWithReview","questionsPendingReview","_callee9","_context9","_callee8","_context8","_x5","handleRemakeQuiz","getQuestionsByType","_this$state9$user$rol","renderReview","element_quiz_6_review_modal","element_quiz_6_styled_OutlinedButton","element_quiz_6_styled_ElementQuizContainer","UserLog","dist_default","unix","renderTimestamp","verbLabel","events","renderViewElement","renderClickElement","ImagesGalleryContainer","styles_templateObject","ImagesContainer","styles_templateObject2","ImageContainer","styles_templateObject3","imagesSize","numberOfImages","Modal","styles_templateObject4","ModalImage","styles_templateObject5","Caption","styles_templateObject6","ArrowButton","styles_templateObject7","styles_templateObject8","styles_templateObject9","Dots","styles_templateObject10","Dot","styles_templateObject11","isSelected","Close","styles_templateObject12","ElementImagesGallery","sliderRef","setVisible","images","isModalActivated","setIsModalActivated","currentImageOnModal","setCurrentImageOnModal","imagesGalleryStyle","text_color","sliderSettings","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","initialSlide","handleClickOnImage","newCurrentImage","slickGoTo","styles_ArrowLeft","react_slick_lib_default","beforeChange","currentSlide","nextSlide","handleClickOnDot","styles_ArrowRight","ContainerDiv","modal_styled_templateObject","modal_styled_templateObject2","modal_styled_templateObject3","modal_styled_templateObject4","modal_styled_templateObject5","ActionsDiv","modal_styled_templateObject6","modal_styled_templateObject7","QuillContainer","quill_styled_templateObject","colorPickerOpened","quillColor","addCustomColorPicker","toggleColor","onQuillColorChange","quillRef","current_selection","current_quill_color","render_quill_color_picker","colors","script","QuillR","quill","querySelector","insertAdjacentHTML","customColor","selection","getSelection","rangeCount","getRangeAt","removeAllRanges","addRange","hex","changeSelectedTextColor","sel","range","deleteContents","innerHTML","node","frag","createDocumentFragment","insertNode","editor","es","triangle","PureComponent","element_forum_1_preloader_templateObject","element_forum_1_preloader_templateObject2","element_forum_1_preloader_Container","element_forum_1_preloader_Img","_props$title","_props$btnConfirmLabe","btnConfirmLabel","_props$btnCancelLabel","btnCancelLabel","_props$btnConfirmText","_props$btnConfirmColo","btnConfirmColor","_props$btnCancelTextC","btnCancelTextColor","_props$btnCancelColor","btnCancelColor","_props$isLoading","isLoading","modal_styled_Form","modal_styled_Overlay","modal_styled_ContentDiv","modal_styled_ActionsDiv","modal_styled_Button","LearningPlayerContextLoading","NoMessageDiv","composer_player_context_styled_templateObject","Icon","composer_player_context_styled_templateObject2","Message","composer_player_context_styled_templateObject3","ComposerPlayerContext","element_forum_1_note_dropdown_styled_templateObject","element_forum_1_note_dropdown_styled_templateObject2","element_forum_1_note_dropdown_styled_templateObject3","element_forum_1_note_dropdown_styled_templateObject4","element_forum_1_note_dropdown_styled_templateObject5","element_forum_1_note_dropdown_styled_templateObject6","element_forum_1_note_dropdown_styled_templateObject7","element_forum_1_note_dropdown_styled_templateObject8","element_forum_1_note_dropdown_styled_templateObject9","element_forum_1_note_dropdown_styled_templateObject10","element_forum_1_note_dropdown_styled_templateObject11","element_forum_1_note_dropdown_styled_Container","element_forum_1_note_dropdown_styled_Dropdown","element_forum_1_note_dropdown_styled_DropdownButton","element_forum_1_note_dropdown_styled_Arrow","element_forum_1_note_dropdown_styled_List","element_forum_1_note_dropdown_styled_ListOption","element_forum_1_note_dropdown_styled_ContainerNoteBadge","element_forum_1_note_dropdown_styled_NoteBadge","element_forum_1_preloader_Preloader","MessageContentItem","forum_message_styled_templateObject","column","elevation","forum_message_styled_templateObject2","forum_message_styled_templateObject3","MessageHeader","forum_message_styled_templateObject4","Author","forum_message_styled_templateObject5","forum_message_styled_templateObject6","Actions","forum_message_styled_templateObject7","ActionItem","forum_message_styled_templateObject8","ActionButton","forum_message_styled_templateObject9","forum_message_styled_templateObject10","useOnScreen","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","disconnect","PostLoading","_props$onScreen","onScreen","_props$column","paddingLeft","ForumMessage","rawContent","authorUID","topicBackgroundColor","topicAuthorColor","topicTextColor","createdAtDateTime","createdAt","_props$byLabel","byLabel","interactionObjects","_props$language","onClickDelete","onClickReply","_props$onClickSaveNot","onClickSaveNote","_props$disableOperati","disableOperations","_props$withReviewDrop","withReviewDropdown","_props$elevation","setIsVisible","isEditing","setIsEditing","authorName","setAuthorName","notesRange","setNotesRange","setNote","handleSaveNote","savedNote","prevNote","post_loading","dateTime","element_forum_1_note_dropdown","forum_message_styled_Message","pt-br","Backdrop","alert_dialog_styled_templateObject","alert_dialog_styled_templateObject2","alert_dialog_styled_templateObject3","Label","h2","alert_dialog_styled_templateObject4","Description","alert_dialog_styled_templateObject5","DescriptionText","alert_dialog_styled_templateObject6","alert_dialog_styled_templateObject7","alert_dialog_styled_templateObject8","AlertDialog","_props$id","_props$description","_props$controlsID","controlsID","overflow","alert_dialog_styled_Container","alert_dialog_styled_ContentDiv","alert_dialog_styled_ActionsDiv","alert_dialog_styled_Button","aria-controls","element_forum_1_styled_templateObject","element_forum_1_styled_templateObject2","MessagesContainer","element_forum_1_styled_templateObject3","element_forum_1_review_modal_styled_templateObject","element_forum_1_review_modal_styled_templateObject2","element_forum_1_review_modal_styled_templateObject3","element_forum_1_review_modal_styled_templateObject4","element_forum_1_review_modal_styled_templateObject5","element_forum_1_review_modal_styled_templateObject6","element_forum_1_review_modal_styled_templateObject7","element_forum_1_review_modal_styled_templateObject8","element_forum_1_review_modal_styled_templateObject9","element_forum_1_review_modal_styled_templateObject10","element_forum_1_review_modal_styled_templateObject11","element_forum_1_review_modal_styled_templateObject12","element_forum_1_review_modal_styled_templateObject13","element_forum_1_review_modal_styled_templateObject14","element_forum_1_review_modal_styled_templateObject15","element_forum_1_review_modal_styled_templateObject16","element_forum_1_review_modal_styled_templateObject17","element_forum_1_review_modal_styled_templateObject18","element_forum_1_review_modal_styled_templateObject19","element_forum_1_review_modal_styled_templateObject20","element_forum_1_review_modal_styled_templateObject21","ReviewNoMessagesDataOverlay","element_forum_1_review_modal_styled_templateObject22","element_forum_1_review_modal_styled_templateObject23","LeftList","element_forum_1_review_modal_styled_templateObject24","element_forum_1_review_modal_styled_templateObject25","element_forum_1_review_modal_styled_templateObject26","element_forum_1_review_modal_styled_templateObject27","element_forum_1_review_modal_styled_templateObject28","element_forum_1_review_modal_styled_templateObject29","element_forum_1_review_modal_styled_templateObject30","element_forum_1_review_modal_styled_templateObject31","element_forum_1_review_modal_styled_templateObject32","element_forum_1_review_modal_styled_templateObject33","element_forum_1_review_modal_styled_templateObject34","element_forum_1_review_modal_styled_templateObject35","element_forum_1_review_modal_styled_templateObject36","element_forum_1_review_modal_styled_templateObject37","RightList","element_forum_1_review_modal_styled_templateObject38","element_forum_1_review_modal_styled_templateObject39","_templateObject40","_templateObject41","_props$iterateRightLi","iterateRightList","rightListRef","messages","setMessages","message","_message$children","child","_interaction2","_interaction2$uid","_interaction2$reviewe","_interaction2$score","_interaction2$target_","_interaction2$context","messagesCopy","element_forum_1_review_modal_styled_ModalDiv","element_forum_1_review_modal_styled_Form","element_forum_1_review_modal_styled_Overlay","element_forum_1_review_modal_styled_ContentDiv","element_forum_1_review_modal_styled_ReviewContent","element_forum_1_review_modal_styled_MenuIcon","element_forum_1_review_modal_styled_CloseButton","element_forum_1_review_modal_styled_Grid","element_forum_1_review_modal_styled_HeadRow","element_forum_1_review_modal_styled_SearchColumn","element_forum_1_review_modal_styled_SearchLabel","element_forum_1_review_modal_styled_SearchInput","element_forum_1_review_modal_styled_SearchInputIcon","element_forum_1_review_modal_styled_AnsweredColumn","element_forum_1_review_modal_styled_ReviewedColumn","element_forum_1_review_modal_styled_ReviewColumn","element_forum_1_review_modal_styled_Title","element_forum_1_review_modal_styled_Student","element_forum_1_review_modal_styled_StudentButton","element_forum_1_review_modal_styled_BodyRow","element_forum_1_review_modal_styled_StudentData","fontSize","element_forum_1_review_modal_styled_AnsweredData","element_forum_1_review_modal_styled_CheckboxLabel","element_forum_1_review_modal_styled_CheckboxInput","element_forum_1_review_modal_styled_Checkmark","element_forum_1_review_modal_styled_ReviewedData","element_forum_1_review_modal_styled_ReviewData","element_forum_1_review_modal_styled_ReviewDataOverlay","no_messages_to_review","ElementForum1","mountThreadsAndPosts","getThreads","renderContext","renderForumMessage","toggleVisibilityOfNewTopicModal","toggleVisibilityOfReplyModal","sendThread","sendPost","onApiSendPost","onApiSendThread","onApiDeleteThread","onApiGetAuthorInfo","appendPostIntoThread","closeAlertDialog","onApiDeletePost","handleDeletePost","handleConfirmAlertDialog","handleDeleteThread","resetAlertDialog","isUserAllowedToCreateTopic","onApiEditPost","renderModal","getInteractionObjects","filterInteractionObjectOf","reviewModalIterateRightList","is_showing_new_topic_modal","is_loading_new_topic_modal_confirmation","is_showing_reply_thread_modal","is_loading_new_reply_thread_modal_confirmation","is_showing_alert_dialog","context","forum_messages","all_forum_messages","current_thread","syncTimer","authors","alert_dialog_action","alert_dialog_action_data","current_page","total_pages","thread_page_size","posts_page_size","clearTimeout","user_register_uid","page_size","page","firstLoading","isforReview","loading","_prevState$all_forum_","_prevState$forum_mess","onApiGetThreadPosts","_prevState$all_forum_2","_prevState$forum_mess2","prevAuthors","social_media_connector_uid","context_title","_this$state4$user$rol","args","forum_messages_new","_this$state7$posts_pa","updatedThread","_this$props$onChange","date","date_whitout_milisseconds","moment","local","format","is_showing_edit_post_modal","_this$props$content$e","enable_new_topics","_this$state$user$role","canCreate","author_uid","objCpy","authorUid","highlightedUser","defaultColor","_this$state$interacti","copy","int","parsedInteraction","primary_topic_background_color","primary_topic_author_color","primary_topic_text_color","topic_button_color","secondary_topic_background_color","secondary_topic_author_color","secondary_topic_text_color","confirm_button_background_color","_message$current_page","_message$total_pages","learning_player_context_loading","elevationFor","author","forum_message","highlightedUserColor","getByLabel","getFormatDate","updateLocalInteraction","editPost","posts","_context10","_prevState$forum_mess3","element_forum_1_styled_OutlinedButton","_callee10","evt","_context11","persist","innerText","removeAttribute","_prevState$forum_mess4","_x7","_this$state10$forum_m","is_loading_more","startReview","r","composer_player_context","renderLearningPlayerContext","cancel_button_background_color","cancel_button_text_color","modal","messageCopy","containsSelectedUser","_messageCopy$children","selectedUserReplies","_this$props$content3","_this$state12$user$ro","_this$state12$all_for","forumStyle","alert_dialog","element_forum_1_review_modal","ElementDivider1","dividerContainerStyle","lineStyle","ElementDivider4","ElementDividerNumbered","divider_primary_color","circleStyle","divider_secondary_color","objectIndex","ElementHotspots1","element_hotspots_1_styled_templateObject","element_hotspots_1_styled_templateObject2","Stage","figure","element_hotspots_1_styled_templateObject3","element_hotspots_1_styled_templateObject4","showCursor","Spot","spot_styled_templateObject","posY","posX","flipped","spot_styled_templateObject2","spot_styled_templateObject3","spot_styled_templateObject4","spot_styled_templateObject5","isMoving","spot_styled_templateObject6","spot_styled_templateObject7","spot_styled_templateObject8","Tooltip","spot_styled_templateObject9","flippedY","spot_styled_templateObject10","flippedX","spot_styled_templateObject11","spot_styled_templateObject12","spot_styled_templateObject13","TooltipHeader","spot_styled_templateObject14","NavigationButton","spot_styled_templateObject15","spot_styled_templateObject16","TooltipImage","spot_styled_templateObject17","TooltipAudio","spot_styled_templateObject18","TooltipDescription","spot_styled_templateObject19","RemoveButton","spot_styled_templateObject20","CancelButton","spot_styled_templateObject21","spot_styled_templateObject22","MoveButton","spot_styled_templateObject23","markers","01","02","03","04","05","06","07","08","09","10","11","12","13","transform","14","15","16","17","18","19","20","21","22","23","24","25","26","_props$icon","icon","onClickRemove","onGrab","onMove","onRelease","onNext","onPrev","onFocus","onBlur","containerRef","tooltipRef","setExpanded","setIsMoving","_React$useState5","_React$useState6","isTryingToDelete","setIsTryingToDelete","handleClickOutside","contains","closeDragElement","elementDrag","clientX","relativePostOfMovingButton","clientY","handleCancelClick","handleConfirmClick","handleNextClick","handlePrevClick","pointerEvents","tooltip","onMouseDown","onMouseUp","spot_styled_ConfirmButton","spot_styled_CloseButton","stageRef","timeoutMoveSpot","movingSpotId","disableAddSpot","createSpot","uuidv1","hasMedia","isActive","getCoordinatesInPorcentage","rect","clientWidth","clientHeight","addSpot","_content$spots","spots","coord","newSpot","moveSpot","info","setTimeout","_content$spots2","spot","parentX","parentY","originalSpot","originalSpotIndex","handleRemoveSpot","_content$spots3","handleStartMoveSpot","handleStopMoveSpot","handleNextSpotFocus","_content$spots4","currentSpot","currentSpotIndex","nextSpot","getElementById","handlePrevSpotFocus","_content$spots5","prevSpot","_content$spots6","spot_color","image_alt","element_hotspots_1_styled_ElementHotspots1","marginTop","marginBottom","element_hotspots_1_styled_Container","element_hotspots_1_styled_Img","element_spot_spot","ElementStatement1","ElementStatement2","ElementStatement3","ElementStatement4","ElementNote1","ElementQuote1","handleChangeText","handleChangeAuthorName","getAvatarUrl","fontFamily","renderText","ElementQuote3","ElementQuote4","ElementQuote5","getBackgroundUrl","Root","element_quote_6_styled_templateObject","Carousel","element_quote_6_styled_templateObject2","Slides","element_quote_6_styled_templateObject3","Slide","element_quote_6_styled_templateObject4","Quote","element_quote_6_styled_templateObject5","Avatar","element_quote_6_styled_templateObject6","AvatarImage","element_quote_6_styled_templateObject7","AuthorInfo","element_quote_6_styled_templateObject8","AuthorName","element_quote_6_styled_templateObject9","TextContainer","element_quote_6_styled_templateObject10","element_quote_6_styled_templateObject11","Controls","element_quote_6_styled_templateObject12","ControlsLeft","element_quote_6_styled_templateObject13","ControlsLeftArrow","svg","element_quote_6_styled_templateObject14","Pages","element_quote_6_styled_templateObject15","Page","element_quote_6_styled_templateObject16","ControlsRight","element_quote_6_styled_templateObject17","ControlsRightArrow","element_quote_6_styled_templateObject18","ElementQuote6","visibleSlideIndex","element_quote_6_styled_Text","handlePageChange","slideElement","visibleSlideId","visibleItem","scrollIntoView","prevIndex","prevItem","itemElement","nextIndex","isInViewport","isVisivle","bottom","setActivePageMarker","slideId","pageMarker","getSlidePageId","resetActivePageMarkers","add","remove","getSlideId","ElementSortedActivity1","element_sorted_activity_1_styled_templateObject","element_sorted_activity_1_styled_templateObject2","ItemCardList","element_sorted_activity_1_styled_templateObject3","ItemCard","element_sorted_activity_1_styled_templateObject4","cursorStyle","isCorrect","element_sorted_activity_1_styled_templateObject5","element_sorted_activity_1_styled_templateObject6","DropPileList","element_sorted_activity_1_styled_templateObject7","DropPileItemCardList","element_sorted_activity_1_styled_templateObject8","DropPile","element_sorted_activity_1_styled_templateObject9","ResultItem","element_sorted_activity_1_styled_templateObject10","ResultPlacar","element_sorted_activity_1_styled_templateObject11","ReloadButton","element_sorted_activity_1_styled_templateObject12","isDragging","handleDragStart","dataTransfer","setData","handleDrag","handleDragEnd","getCursor","draggable","element_sorted_activity_1_styled_ItemCard","onDragStart","onDrag","movedItems","incorrectMovedItems","pileItems","piles","trackElementFinish","moved_correctly","handleDrop","pileId","getData","handleDragOver","getNotMovedItems","_content$piles","pile_color","pile_text_color","item_color","item_text_color","element_sorted_activity_1_styled_ElementSortedActivity1","element_sorted_activity_1_styled_Container","item_card","pile","onDrop","onDragOver","ElementTimeline1","element_timeline_1_styled_templateObject","TimelineList","element_timeline_1_styled_templateObject2","TimelineItem","element_timeline_1_styled_templateObject3","TimelineDate","element_timeline_1_styled_templateObject4","TimelineTitle","element_timeline_1_styled_templateObject5","TimelineDescription","element_timeline_1_styled_templateObject6","TimelineImage","element_timeline_1_styled_templateObject7","TimelineAudio","element_timeline_1_styled_templateObject8","element_timeline_1_styled_ElementTimeline1","ElementSteps1","element_steps_1_styled_templateObject","element_steps_1_styled_templateObject2","element_steps_1_styled_templateObject3","element_steps_1_styled_templateObject4","element_steps_1_styled_templateObject5","Card","element_steps_1_styled_templateObject6","element_steps_1_styled_templateObject7","element_steps_1_styled_templateObject8","element_steps_1_styled_templateObject9","CardTitle","element_steps_1_styled_templateObject10","CardDescription","element_steps_1_styled_templateObject11","CardImage","element_steps_1_styled_templateObject12","CardAudio","element_steps_1_styled_templateObject13","StartButton","element_steps_1_styled_templateObject14","RetryButton","element_steps_1_styled_templateObject15","ProgressList","element_steps_1_styled_templateObject16","ProgressItem","element_steps_1_styled_templateObject17","active","element_steps_1_styled_templateObject18","StepBadge","element_steps_1_styled_templateObject19","itemRef","itemsStringfy","trackItemView","isVisibleItem","item_data","start","step","handleResetCard","handleItemIndexChange","getCurrentItemHeight","isHidden","getItemsLength","_content$items3","hasIntro","count","getItemIndex","_content$items4","_content$items5","filteredItems","element_steps_1_styled_ElementSteps1","element_steps_1_styled_NavigationContainer","element_steps_1_styled_ChangeCardButton","element_steps_1_styled_CardList","minHeight","from","_","nextProps","element_quiz_3_styled_templateObject","ElementQuiz3","sameTextChoice","element_quiz_3_styled_ElementQuizContainer","ElementAttachment1","element_attachment_1_styled_templateObject","AttachmentList","element_attachment_1_styled_templateObject2","AttachmentItem","element_attachment_1_styled_templateObject3","Attachment","element_attachment_1_styled_templateObject4","Information","element_attachment_1_styled_templateObject5","FileName","element_attachment_1_styled_templateObject6","FileSize","element_attachment_1_styled_templateObject7","AttachmentIcon","element_attachment_1_styled_templateObject8","FileIcon","element_attachment_1_styled_templateObject9","LeftContainer","element_attachment_1_styled_templateObject10","RightContainer","element_attachment_1_styled_templateObject11","getBytes","bytes","element_attachment_1_styled_ElementAttachment1","original_url","filename","element_gallery_1_styled_templateObject","element_gallery_1_styled_templateObject2","element_gallery_1_styled_templateObject3","element_gallery_1_styled_templateObject4","Item","element_gallery_1_styled_templateObject5","element_gallery_1_styled_templateObject6","Image","element_gallery_1_styled_templateObject7","element_gallery_1_styled_templateObject8","element_gallery_1_styled_templateObject9","element_gallery_1_styled_templateObject10","element_gallery_1_styled_templateObject11","element_gallery_1_styled_templateObject12","element_gallery_1_styled_templateObject13","element_gallery_1_styled_templateObject14","element_gallery_1_styled_templateObject15","element_gallery_1_styled_templateObject16","element_gallery_1_styled_templateObject17","ElementGallery1","element_gallery_1_styled_ImageContainer","element_gallery_1_styled_Root","element_gallery_1_styled_Carousel","element_gallery_1_styled_Slides","element_gallery_1_styled_Slide","element_gallery_1_styled_Controls","element_gallery_1_styled_ControlsLeft","element_gallery_1_styled_ControlsLeftArrow","element_gallery_1_styled_Pages","element_gallery_1_styled_Page","element_gallery_1_styled_ControlsRight","element_gallery_1_styled_ControlsRightArrow","ElementButton1","element_button_1_styled_templateObject","ButtonList","element_button_1_styled_templateObject2","ButtonItem","element_button_1_styled_templateObject3","ButtonLink","element_button_1_styled_templateObject4","ButtonLabel","element_button_1_styled_templateObject5","getDestinationUrl","element_button_1_styled_ElementButton1","htmlFor","ElementCodeSnippet1","element_code_snippet_1_styled_templateObject","SnippetList","element_code_snippet_1_styled_templateObject2","SnippetItem","element_code_snippet_1_styled_templateObject3","Figure","element_code_snippet_1_styled_templateObject4","Pre","pre","element_code_snippet_1_styled_templateObject5","FigCaption","figcaption","element_code_snippet_1_styled_templateObject6","CopyButton","element_code_snippet_1_styled_templateObject7","CopyButtonIcon","element_code_snippet_1_styled_templateObject8","codeRef","copied","getCaptionAriaProps","handleCopyItemCodeText","navigator","clipboard","writeText","element_code_snippet_1_styled_ElementCodeSnippet1","checkCircleIcon","copyIcon","Element3d","Helmet","class","file","shadow-intensity","ar","ar-modes","camera-controls","touch-action","slot","interaction_monitor_wrapper_styled_templateObject","IconsList","interaction_monitor_wrapper_styled_templateObject2","InteractionStatusContainer","interaction_monitor_wrapper_styled_templateObject3","InteractionCounter","interaction_monitor_wrapper_styled_templateObject4","InteractionMonitorObjectWrapper","objectInteractionMonitor","isOnScreen","isRequiredInteraction","setIsRequiredInteraction","completed","setCompleted","setInteraction","elementView","required_interaction","completedObjects","interactionActionsCount","interactions","onObjectInteractionEvent","interaction_monitor_wrapper_styled_Container","show_interaction_progress","WrappedComponent","throttle","func","delay","getTime","ConditionalLazyLoad","elementId","scrollToId","lib_default","ViewHome","scrollTo","elem","need_scroll_to_element_id","MutationObserver","subtree","childList","handleRedirectObject","scormApi","unpacked","suspendData","getAPIHandle","LMSInitialize","LMSGetValue","lzw","unpack","redirectToObject","handleLoad","contentReady","scormAPI","lessionStatus","handleScroll","_this2$state","renderCompleted","timerStart","progressPage","scrollY","limitPage","scrollPage","sessionTimer","MillisecondsToCMIDuration","suspendDataIsValid","prepareSuspendData","suspendDataUpdate","suspend_data","quizUpdated","suspendDataFinish","loadRequiredObjectsState","isAllRequired","requiredObjects","objectsData","_objectInteractionMonitor","setCompletedObjects","setRequiredObjects","updateCurrentObjectOnSuspendData","current_object_id","notifySummaryUpdated","composition","timer","scrollToEnd","prerequisites","scoreQuizzes","summary_items","summary_items_current","summary_items_render","show_summary","finish_btn","can_track_object","Sdk","insights","createXapiTracking","endpoint","anchorTags","getElementsByTagName","_loop","cordova","CordovaExec","prototype","replaceAll","RegExp","initListeners","loadStructure","components","atob","response","notifySuspendDataUpdated","notiftSessionUpdated","notiftLocationUpdated","notifyStatusUpdated","notifyCommit","notifyProtocol","quizzes","quiz","statusUpdated","reduce","sum","finishActivity","current_summary_item","n","hms","dtm","setTime","h","getMinutes","s","getSeconds","cs","round","getMilliseconds","substr","sendPostMessage","rdp_composer_structure","parent","postMessage","userData","adjustStructure","sendStructurePostMessage","hasIndex","tempItems","lastItem","filtered","interface","originalJson","accessToken","mapReplaced","_loop2","urlBase","newUrl","sortQuestionChoices","random_order","pack","LMSSetValue","LMSCommit","customListenerTrack","path","unshift","ui","childrensIDs","transformFontToSlug","toggleIndexMenu","changeIndexItemsCurrent","home_ConditionalLazyLoad","once","offset","element_head_1_ElementHead1","scrolling","element_text_ElementText","element_text_two_column_ElementTextTwoColumn","element_list_ElementList","element_image_ElementImage","element_image_and_text_ElementImageAndText","element_image_with_text_ElementImageWithText","element_audio_ElementAudio","element_video_ElementVideo","element_accordion_ElementAccordion","element_tabs_ElementTabs","element_iframe_ElementIframe","element_flashcards_1_ElementFlashcard1","element_flashcards_2","element_quiz_1_ElementQuiz1","content_language","element_quiz_2_ElementQuiz2","element_quiz_3_ElementQuiz3","element_quiz_4_ElementQuiz4","element_quiz_5_ElementQuiz5","element_quiz_6_ElementQuiz6","elements_images_gallery","element_forum_1_ElementForum1","element_divider_1_ElementDivider1","element_divider_4_ElementDivider4","element_divider_numbered_ElementDividerNumbered","getElementIndexByType","element_hotspots_1","element_statement_1_ElementStatement1","element_statement_2_ElementStatement2","element_statement_3_ElementStatement3","element_statement_4_ElementStatement4","element_gallery_1","element_note_1_ElementNote1","element_quote_1_ElementQuote1","element_quote_2_ElementQuote1","element_quote_3_ElementQuote3","element_quote_4_ElementQuote4","element_quote_5_ElementQuote5","element_quote_6","element_sorted_activity_1","element_timeline_1","element_steps_1","element_attachment_1","element_button_1","element_code_snippet_1","element_3d_Element3d","lastIndex","user_log_UserLog","template","getTemplate","renderUserLog","withObjectInteractionMonitor","setEvents","_React$useState7","_React$useState8","_React$useState9","_React$useState10","setInteractionActionsCount","checkIfHasCompletedAllObjects","checkIfHasCompletedObject","completedObject","viewed","clicked","itensClicked","clickedAllCards","addCompletedObject","quizResultTypes","sendMessageToPlayer","_window$cstmptns","objectEvents","required_objects","completed_objects","newEvents","katex","App","Route","exact","component","Boolean","hostname","ReactDOM","render","HashRouter","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b381a38d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/drag.d4eb5d44.svg\";","module.exports = \"data:image/gif;base64,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\"","module.exports = \"data:image/gif;base64,R0lGODlh2gCVAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAA2gCVAAAI/wABCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnzx8ZJGAA+qaCBAoKDiBQGmWAAwUTyCa4IECA1iYJKFDggKDsBAMJ2DaA2+RuBbcF/h5owPaA4iUP7EYwcDmAAcOhm0SwGzYA67YDsP/WTjLAcdbLsQdYQFD9ePIUAyBAQHqgg+4GhQdv7hx+RQbzIeBAcgsoUF9CtYXHnn8VORCggM8xFF4ABrzHYHwOBtiQehFeiBGACCTHUIceZkSAdyXuNOFwFqaI0AIMHCDjjBCtmJ2LCs2oI4oN2VghjgrBuCOPQNZEYpETHZkQh0hKxCRD/FHYYpMIERAlcQ0laNuCVL44IZZLimhleEp2eV14PwoknkHqcXldc1OaKVwAJCb4XHhq2hanmQ3NmRyeZ1LI50T8RQgoAIUOCpF6YB7qp6IP8ffeoQAkCKlDWxJE6XV7XloQAUc2B6anF1nZKamopqrqqqy26uqrsMY/KuustNZq66245qrrrrz26uuvwAYr7LDEFmvsscgmq+yyzDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGe1JAACH5BAUFAAAALF0AOgAYABcAAAiZAAEIHEiwoIIABRMqHIhAAYKCBxgslEhQgUWCCBIkUIjgYcWLAhloVMCxo4GBFkkKVKDxgEIGHR2gBHlg5EIADjpSTAlggMYEFBd29MjTgUaPPQ8cOIkRKUGRCwYaUKp0gMABCBDeJBiAakQCWxcO8Ooy7MKpB6Kaval1rduwBAwEmEv3LQC5dOu+jZt3rt2/gAMLHnxT7dqAACH5BAUFAAAALF4AOgAdAA4AAAiZAAEIHEhwYAAEBRMqXAjAAQIHCQMwHDjAQEEEGAk6UKBgosADByQOxIhQYACOJSeCPDBgZEaBCDh6FGhgpcuUKGcKZADSIgCSAAhwVCByIIGFA2z+zHiAI8SBBxIkYEAggIGWA3mGVNhxpwKpCVgGGGvgaNADCyYuQAA2QckFY8em1dmWKEECBuL69Bg1LNKxWGc6CIxUJ8OAACH5BAUFAAAALGQAOgAZABEAAAiPAAEIHAhgwYEFBBMqXMjgAIOEDxcCIDAg4YGLCREgkBggAMKBFw8Q1CgRQMcABEBiFOhAY0SFAzoaUCkSAAONDkoCMNCxIoCQAjVu1EngpECgAEgmVKAgAMEFPRUGQOBzKlMFUn2WdHBVQU6dC7sOJegUrE2mZsEeSJm2rVuFCeLKVfCyrdy7Cd4CwJuAbkAAIfkEBQUAAAAsawA6ABIAGAAACIsABzAYAKCgwYMIAzBACMAAQYYAGEg8yODAAYgRJxYcYPEiRIkLC3Y0gBFkQQMdMWYM2fHhx4kBLIYsyAABAowLDhAw6MAmgpkQCfq8qbLgUAckixr9qbSp06cFFUidSlTl1KsKimJVgCAAVKcHXDY9kCCBx6ZlyyoAihNB2gRVizJQkPasUrIJvAYEACH5BAUFAAAALGsAOgASAB4AAAipAAkYIACgoMGDCA0EMIBwAcKDASJCZMDgYcGIAQ5SzGgRo8EAFB12lAhgAcWKFgF4BHAy5UWJJhlwLGjgwIEBFgfMHGDTJkOXBBj0PIDS5dCbLg0u8JkU4cymUJMimErVwdOHVLMikKrVQdSvBgl+ZaBAAdiyZRFczekArQKvFg8kEBkAAVqLDhIk2HrQrkUCehMUbSo3gdmvCvQe+BogMFgEesVGJWoxIAAh+QQFBQAAACxsADsAEQAfAAAIpAABCBwIYAABgggRLggQIKFDAgwNOExogOGAiQQHRMRIkGGAgxwLMlyQkSFIgicBEKhokeNCjyQxegxgIKVDjQEuhhSoc6dPhweCCmUQE6jQoxiPBiX6s6nPAAgQMPAZNaqDn1URTGSggKCDqlMJHlCg4OrAqVoBJFgrkKyChg7XJhhINm1CuQMRkJ2Il+7eu2wHOviLsG9HhwoSdPXJIEHYnQEBACH5BAUFAAAALGUASAAYABIAAAiTAAEIHEiwIIAACBMaIGCw4cCEEA04dAgR4cKJGDNiDKAR44IDByR2NAiy5ICRBAkwKHmAwcgACE4CGMBSJIAFCQ40RICgoAGQMgEgSJDAAQAFSAXy7DmRAdEEDJEqEMiAp1GHCojqPJpUoAOeLkkSnSpQKsGlDbMmCMuV7ECeDYkyLdt1INuCKwsiUDAX5UO3GgMCACH5BAUFAAAALF8ATAAdAA4AAAigAAEIHEiwoEEAAw4SHOBAocEBAQIkPHggQYIDDgkaiBjAAAGCARRYtJiR4AKOARYIRDAyAQKVDhcc+AiAwMaIAypaVMBA4ACeBgMcONBz4ICNBBhYxDjQgQIFGBFIFTj0wESDNAeGfLpyKgADVUsORMC1K4KBDIYaEAvg6VmzRsOWJKsgwFivAtMyzfi04d23Aw1cdWi3oAMEftmKBVwyIAAh+QQFBQAAACxdAEkAGQARAAAIjQAZKEhAsCCAgwgTKjxYsGGChRATCnT4MKLFixgvEjiQEaMCBQw6QkTw8aPIhA5KKnCAcUCAhSURvDwoc6HLAAsSBjCpEAGCgweCHgxAlABGnz8BBOUI4KaBiw58hlQq9KABogMiMvDJEmhVAASIzhyZ1CvTgwuIRvSpcKnCAUa1KmRwYOpJhQsO5FwYEAAh+QQFBQAAACxeAEIAEQAYAAAIgQADJEhwAIDBgwgPHhiYQAGDhBABIGCYAMGCiAgZKKCIMeFCgh0TDigYsqTJkyhTqlyJkQECBCYNOHj5siRNmAM6unzp4CCBAxchvnx4kMGBAwEABFiKceRRg0uTRjx6wABUphANUD0YderRnFelekSKsCvEAWINGghg9SQBAwQCAgAh+QQFBQAAACxdADwADgAdAAAImQABCBwIgMEBgggHJkiAICHChQkCOBx4YKGCiQMVLDyIkQHEARkbEkSw0EFGBQoQSASwIAFHgQ5QonQA0mEABDIvYgSAksFOAAR+7gzgAIHRowmPKhVJkOhSpkKjrsRo4MCBBRMHWN3q0OBWBkERVrXKAKvAAGEBaD1ggOCCAAFqOiQAd6pDA3DlJhwAty1VuGltBjCLkYDegAA7\"","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/copy.a3c00457.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-circle.dbe57287.svg\";","module.exports = __webpack_public_path__ + \"static/media/image-1.e69dfd15.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-2.86947c34.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-3.cd0d3d4d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-4.11d32b56.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-5.c4ddcbaf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-6.54678425.jpg\";","var visibleElement = function() {\n  this.visible = function(el) {\n    var top = el.offsetTop;\n    var left = el.offsetLeft;\n    var width = el.offsetWidth;\n    var height = el.offsetHeight;\n\n    while(el.offsetParent) {\n      el = el.offsetParent;\n      top += el.offsetTop;\n      left += el.offsetLeft;\n    }\n\n    return (\n      top < (window.pageYOffset + window.innerHeight) &&\n      left < (window.pageXOffset + window.innerWidth) &&\n      (top + height) > window.pageYOffset &&\n      (left + width) > window.pageXOffset\n    );\n  }\n\n  return this;\n}\n\nvar VisibleElement = new visibleElement();\n\nexport {\n    VisibleElement\n};\n\n\n\n","var stringFormat = function() {\n  this.HtmlToText = function(html) {\n    return html.replace(/<[^>]*>/g, '');\n  }\n  return this;\n}\n\nvar StringFormat = new stringFormat();\n\nexport {\n  StringFormat\n};","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-head-1.css';\n\nexport default class ElementHead1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"header-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  renderCategory() {\n    var content = this.props.content;\n\n    if (content.show_category === false) return null;\n\n    return <div className=\"rdp-element-head-1-category\" dangerouslySetInnerHTML={{__html: content.category}}/>\n  }\n\n  renderAvatar() {\n    var content = this.props.content;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-head-1-avatar\" style={{borderColor: content.avatar_border_color}}>\n        <img\n          style={avatarSize === \"width\" ? {width: \"102%\"} : {height: \"102%\"}}\n          src={content.avatar}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  renderAuthorInfo() {\n    var content = this.props.content;\n\n    if (content.show_author_name === false) return null;\n\n    return <div className=\"rdp-element-head-1-author-info\">\n      <div className=\"rdp-element-head-1-author-name\" dangerouslySetInnerHTML={{__html: content.author_name}}/>\n      <span className=\"rdp-element-head-1-author-divider\" style={{color: content.primary_color}}> | </span>\n      <div className=\"rdp-element-head-1-author-office\" dangerouslySetInnerHTML={{__html: content.author_office}}/>\n    </div>\n  }\n\n  renderDivider() {\n    let { content } = this.props;\n\n    if (content.show_divider === false) return null;\n\n    var secondaryColor = this.props.content.secondary_color;\n    return <div className=\"rdp-element-head-1-divider\" style={{backgroundColor: secondaryColor}}></div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var content = this.props.content;\n    \n    return (<div id={content.id} ref={this.elementRef} className={`rdp-element-head-1 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundImage: `url(${content.background_image})` }}>\n      {this.renderCategory()}\n      {this.renderAvatar()}\n      {this.renderAuthorInfo()}\n      {this.renderDivider()}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-text.css';\n\nexport default class ElementText extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        }\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var content = this.props.content;\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div id={content.id} ref={this.elementRef} className={`rdp-element-text ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-text-content\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-text-two-column.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementTextTwoColumn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"text-two-column\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(position, text) {\n    var content = this.props.content;\n    content.items[position] = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-text-two-column ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-text-two-column-items\">\n        <div className=\"rdp-element-text-two-column-item first\">\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.items[0]}}></div>\n        </div>\n        <div className=\"rdp-element-text-two-column-item last\">\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.items[1]}}></div>\n        </div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-list.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": this.props.content,\n      \"active_items\": [],\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"list\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackElementClick(itemId) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"list-2\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  handleChange(text, index) {\n    var content = this.state.content;\n    content.items[index].text = text;\n    this.setState({\n      \"content\": content\n    });\n    this.props.onChange(content);\n  }\n\n  renderQuill(item) {\n    return <div className=\"editor\" dangerouslySetInnerHTML={{__html: item.text}}></div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  onItemCheck(id) {\n    if (!this.isItemActive(id)) {\n      var items = this.state.active_items;\n      items.push(id);\n      this.setState({\n        \"items\": items\n      });\n      this.trackElementClick(id);\n    }\n  }\n\n  isItemActive(id) {\n    var items = this.state.active_items;\n    return items.filter(item => item === id).length > 0;\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var listStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n    \n    return <div ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={listStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-list-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className=\"element-list-item\">\n            {content.type === \"list-1\" &&\n              <span className=\"element-list-item-number\" style={{\n                backgroundColor: content.primary_color,\n                color: content.secondary_color\n              }}>{index + 1}</span>\n            }\n            {content.type === \"list-2\" &&\n              <span className=\"element-list-item-checkbox\"\n                style={{\n                  borderColor: content.primary_color,\n                  color: content.secondary_color\n                }}\n                onClick={() => _this.onItemCheck(item.id)}\n              >\n                {_this.isItemActive(item.id) &&\n                  <span className=\"element-list-item-checkbox-checked\" style={{backgroundColor: content.primary_color}}>\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"768\" height=\"768\" viewBox=\"0 0 768 768\">\n                      <path fill={content.secondary_color} d=\"M617.376 169.376l-329.376 329.376-137.376-137.376c-12.512-12.512-32.768-12.512-45.248 0s-12.512 32.768 0 45.248l160 160c12.512 12.512 32.768 12.512 45.248 0l352-352c12.512-12.512 12.512-32.768 0-45.248s-32.768-12.512-45.248 0z\"></path>\n                    </svg>\n                  </span>\n                }\n              </span>\n            }\n            {content.type === \"list-3\" &&\n              <span className=\"element-list-item-bullet\" style={{backgroundColor: content.primary_color}}></span>\n            }\n            <div className=\"element-list-item-text\">\n              {_this.renderQuill(item, index)}\n            </div>\n          </li>\n        })}\n      </ul>\n      {footerActionsTemplate}\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport './element-image.css';\n\nexport default class ElementImage extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n    this.zoomImgRef = React.createRef();\n\n    this.state = {\n      \"visible\": false,\n      \"zoom_enabled\": false,\n      \"inner_width\": window.innerWidth,\n      \"inner_height\": window.innerHeight - 60,\n      \"img_zoom_width\": \"100%\",\n      \"img_zoom_height\": \"auto\"\n    }\n\n    this.onResizeWindow = this.onResizeWindow.bind(this);\n    this.refreshZoomOnResize = this.refreshZoomOnResize.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    this.onResizeIframe();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResizeWindow);\n  }\n\n  onResizeIframe() {\n    window.addEventListener(\"resize\", this.onResizeWindow);\n  }\n\n  onResizeWindow() {\n    this.refreshZoomOnResize();\n    this.resizeImage();\n  }\n\n  resizeImage() {\n    // \"zoom_enabled\": false,\n    this.setState({\n      \"width\": window.innerWidth,\n      \"height\": window.innerHeight - 60\n    })\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.image\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getImgStyle() {\n    var style = {};\n    var content = this.props.content;\n\n    if (content.type === \"image-1\") {\n      if (content.width !== null) {\n        style.width = content.width + \"px\"\n      };\n    };\n\n    if (content.zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    return style;\n  }\n\n  toggleZoomImage() {\n    this.setState({\n      \"zoom_enabled\": !this.state.zoom_enabled\n    })\n  }\n\n  getWrapperStyle() {\n    var obj = {\n      width: `${this.state.inner_width}px`,\n      height: `${this.state.inner_height}px`\n    }\n    return obj\n  }\n\n  getImgDynamicStyle() {\n    return {\n      \"width\": this.state.img_zoom_width,\n      \"height\": this.state.img_zoom_height\n    }\n  }\n\n  onLoad(e) {\n    var width = \"100%\";\n    var height = \"auto\";\n    var calcHeight = e.target.naturalHeight / (window.innerHeight - 60);\n    var calcWidth = e.target.naturalWidth / window.innerWidth;\n\n    if (calcHeight > calcWidth) {\n      width = \"auto\";\n      height = \"100%\";\n    };\n\n    this.setState({\n      \"img_zoom_width\": width,\n      \"img_zoom_height\": height\n    });\n  }\n\n  renderIconZoomIn() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z\"></path>\n    </svg>\n  }\n\n  renderIconZoomOut() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z\"></path>\n    </svg>\n  }\n\n  renderIconClose() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z\"></path>\n    </svg>\n  }\n\n  refreshZoomOnResize() {\n    const {zoom_enabled} = this.state;\n\n    let zoom_enabled_new = zoom_enabled;\n\n    this.setState({\n      \"zoom_enabled\": false\n    }, () => {\n      if (zoom_enabled_new) {\n        this.setState({\n          \"zoom_enabled\": true\n        })\n      }\n    })\n  }\n\n  render() {\n    var content = this.props.content;\n    var imageStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (\n      <div id={content.id} ref={this.elementRef} className={this.props.className} style={imageStyle}>\n\n        <figure\n          aria-labelledby={`caption-${content.id}`}\n        >\n          {content.zoom &&\n            <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={content.image}/>\n          }\n          {!content.zoom &&\n            <img style={this.getImgStyle()} src={content.image}/>\n          }\n\n          {content.caption && (\n            <figcaption id={`caption-${content.id}`}>\n              <div\n                dangerouslySetInnerHTML={{__html: content.caption}}\n              />\n            </figcaption>\n          )}\n        </figure>\n\n        {this.state.zoom_enabled &&\n          <TransformWrapper\n            maxScale={content.zoom_max_level || 3}\n            centerZoomedOut={true}\n            centerOnInit={true}\n          >\n            {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\n              <React.Fragment>\n                <div className=\"element-image-1-modal\">\n                  <div className=\"element-image-1-modal-header\" style={{backgroundColor: content.zoom_header_background_color || \"#FFFFFF\"}}>\n                    <div className=\"element-image-1-modal-header-zoom-btns\">\n                      <span className=\"element-image-1-modal-header-zoom-btn\" onClick={() => zoomIn()}>{this.renderIconZoomIn()}</span>\n                      <span className=\"element-image-1-modal-header-zoom-btn\" onClick={() => zoomOut()}>{this.renderIconZoomOut()}</span>\n                    </div>\n                    <span className=\"element-image-1-modal-header-close-btn\" onClick={() => this.toggleZoomImage()}>{this.renderIconClose()}</span>\n                  </div>\n                  <div className=\"element-image-1-modal-body\">\n                    <TransformComponent wrapperStyle={this.getWrapperStyle()} contentStyle={this.getWrapperStyle()}>\n                      <img ref={this.zoomImgRef} style={this.getImgDynamicStyle()} src={content.image} onLoad={(e) => this.onLoad(e)}/>\n                    </TransformComponent>\n                  </div>\n                </div>\n              </React.Fragment>\n            )}\n          </TransformWrapper>\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport 'animate.css/animate.min.css';\nimport './element-image-and-text.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementImageAndText extends Component {\n  constructor(props) {\n    super(props);\n    this.zoomImgRef = React.createRef();\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"zoom_enabled\": false,\n      \"inner_width\": window.innerWidth,\n      \"inner_height\": window.innerHeight - 60,\n      \"img_zoom_width\": \"100%\",\n      \"img_zoom_height\": \"auto\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.onResizeWindow = this.onResizeWindow.bind(this);\n    this.refreshZoomOnResize = this.refreshZoomOnResize.bind(this);\n  }\n\n  componentDidMount() {\n    // this.resizeWebview();\n    this.onResizeIframe();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResizeWindow);\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image-and-text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  onResizeIframe() {\n    window.addEventListener(\"resize\", this.onResizeWindow);\n  }\n\n  onResizeWindow() {\n    this.refreshZoomOnResize();\n    this.resizeImage();\n  }\n\n  resizeImage() {\n    // \"zoom_enabled\": false,\n    this.setState({\n      \"width\": window.innerWidth,\n      \"height\": window.innerHeight - 60\n    })\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  getImgStyle() {\n    var content = this.props.content;\n    var style = {\n      \"width\": content.image_width\n    };\n    \n    if (content.zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    if (content.image_border_radius) {\n      style.borderRadius = content.image_border_radius + \"px\";\n    };\n\n    return style;\n  }\n\n  toggleZoomImage() {\n    this.setState({\n      \"zoom_enabled\": !this.state.zoom_enabled\n    })\n  }\n\n  getWrapperStyle() {\n    var obj = {\n      width: `${this.state.inner_width}px`,\n      height: `${this.state.inner_height}px`\n    }\n    return obj\n  }\n\n  getImgDynamicStyle() {\n    return {\n      \"width\": this.state.img_zoom_width,\n      \"height\": this.state.img_zoom_height\n    }\n  }\n\n  onLoad(e) {\n    var width = \"100%\";\n    var height = \"auto\";\n    var calcHeight = e.target.naturalHeight / (window.innerHeight - 60);\n    var calcWidth = e.target.naturalWidth / window.innerWidth;\n\n    if (calcHeight > calcWidth) {\n      width = \"auto\";\n      height = \"100%\";\n    };\n\n    this.setState({\n      \"img_zoom_width\": width,\n      \"img_zoom_height\": height\n    });\n  }\n\n  renderIconZoomIn() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z\"></path>\n    </svg>\n  }\n\n  renderIconZoomOut() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z\"></path>\n    </svg>\n  }\n\n  renderIconClose() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z\"></path>\n    </svg>\n  }\n\n  refreshZoomOnResize() {\n    const {zoom_enabled} = this.state;\n\n    let zoom_enabled_new = zoom_enabled;\n\n    this.setState({\n      \"zoom_enabled\": false\n    }, () => {\n      if (zoom_enabled_new) {\n        this.setState({\n          \"zoom_enabled\": true\n        })\n      }\n    })\n  }\n\n  handleTextChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getImgStyle() {\n    var {\n      image_width,\n      image_position,\n      zoom,\n      image_border_radius\n    } = this.props.content;\n\n    var style = {\n      \"width\": `calc(${image_width} - 20px)`\n    };\n\n    if (image_position === \"left\") {\n      style.marginRight = \"20px\";\n    } else {\n      style.marginLeft = \"20px\";\n    }\n    \n    if (zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    if (image_border_radius) {\n      style.borderRadius = image_border_radius + \"px\";\n    };\n\n    return style;\n  }\n\n  getTextStyle() {\n    var { image_width, image_position } = this.props.content;\n    var style = {};\n\n    if (image_position === \"left\") {\n      style.marginLeft = \"20px\";\n    } else {\n      style.marginRight = \"20px\";\n    }\n\n    var width = style.width = 100 - parseInt(image_width.split(\"%\")[0]);\n    style.width = `calc(${width}% - 20px)`;\n\n    return style;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n    var containerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div ref={this.elementRef} className={`element-image-and-text ${this.getFont(content.font_family) || \"\"}`} style={containerStyle}>\n\n    {content.image_position === \"left\" &&\n      <div className=\"element-image-and-text-container left\">\n        {content.zoom &&\n          <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n        {!content.zoom &&\n          <img style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n\n        <div className=\"element-image-and-text-container-text\" style={this.getTextStyle()}>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n        </div>\n      </div>\n    }\n\n    {content.image_position === \"right\" &&\n      <div className=\"element-image-and-text-container right\">\n        <div className=\"element-image-and-text-container-text\" style={this.getTextStyle()}>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n        </div>\n\n        {content.zoom &&\n          <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n        {!content.zoom &&\n          <img style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n      </div>\n    }\n\n    {this.state.zoom_enabled &&\n      <TransformWrapper\n        maxScale={content.zoom_max_level || 3}\n        centerZoomedOut={true}\n        centerOnInit={true}\n      >\n        {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\n          <React.Fragment>\n            <div className=\"element-image-and-text-modal\">\n              <div className=\"element-image-and-text-modal-header\" style={{backgroundColor: content.zoom_header_background_color || \"#FFFFFF\"}}>\n                <div className=\"element-image-and-text-modal-header-zoom-btns\">\n                  <span className=\"element-image-and-text-modal-header-zoom-btn\" onClick={() => zoomIn()}>{this.renderIconZoomIn()}</span>\n                  <span className=\"element-image-and-text-modal-header-zoom-btn\" onClick={() => zoomOut()}>{this.renderIconZoomOut()}</span>\n                </div>\n                <span className=\"element-image-and-text-modal-header-close-btn\" onClick={() => this.toggleZoomImage()}>{this.renderIconClose()}</span>\n              </div>\n              <div className=\"element-image-and-text-modal-body\">\n                <TransformComponent wrapperStyle={this.getWrapperStyle()} contentStyle={this.getWrapperStyle()}>\n                  <img ref={this.zoomImgRef} style={this.getImgDynamicStyle()} src={this.getImageUrl(content.image)} onLoad={(e) => this.onLoad(e)}/>\n                </TransformComponent>\n              </div>\n            </div>\n          </React.Fragment>\n        )}\n      </TransformWrapper>\n    }\n  </div>\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-image-with-text.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementImageWithText extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image-with-text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  handleTextChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var containerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div ref={this.elementRef} className={`element-image-with-text ${this.getFont(content.font_family) || \"\"}`} style={containerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-image-with-text-container\" style={{\n        backgroundImage: `url(${this.getImageUrl(content.image)})`\n      }}>\n        <div className=\"element-image-with-text-container-opacity\" style={{\n          opacity: content.opacity,\n          backgroundColor: content.opacity_color\n        }}></div>\n        <div className=\"element-image-with-text-container-center\">\n          <div className=\"element-image-with-text-container-line\">\n            <div className=\"element-image-with-text-container-divider\" style={{backgroundColor: content.divider_color}}></div>\n          </div>\n          <div className=\"element-image-with-text-container-text\">\n            <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n          </div>\n        </div>\n      </div>\n      {footerActionsTemplate}\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-audio.css';\n\nexport default class ElementAudio extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.onAudioPlay = this.onAudioPlay.bind(this);\n    this.onAudioPause = this.onAudioPause.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"audio\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"url\": content.audio,\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        \n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(verb, current, duration) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"audio\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": verb,\n      \"metadata\": {\n        \"url\": content.audio,\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"time\": {\n          \"current\": current,\n          \"duration\": duration,\n          \"progress\": current / duration * 100\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  onAudioPlay(e) {\n    this.trackEvent(\"played\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioPause(e) {\n    this.trackEvent(\"paused\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioEnded(e) {\n    this.trackEvent(\"ended\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioSeeking(e) {\n    this.trackEvent(\"skipped\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  render() {\n    var content = this.props.content;\n    var audioStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={audioStyle}>\n      <audio\n        controls src={content.audio}\n        onPlay={(e) => this.onAudioPlay(e)}\n        onPause={(e) => this.onAudioPause(e)}\n        onEnded={(e) => this.onAudioEnded(e)}\n        onSeeking={(e) => this.onAudioSeeking(e)}\n      ></audio>\n    </div>)\n  }\n}\n","let loader = false\n\nexport default (skin = 'amp-default') => {\n  if (!loader && !window.amp) {\n    loader = new Promise((resolve, reject) => {\n      let scriptTag = document.createElement('script')\n      let linkTag = document.createElement('link')\n      linkTag.rel = 'stylesheet'\n      scriptTag.id = 'amp-azure'\n      scriptTag.src = '//amp.azure.net/libs/amp/2.3.10/azuremediaplayer.min.js'\n      linkTag.href = `//amp.azure.net/libs/amp/2.3.10/skins/${skin}/azuremediaplayer.min.css`\n      document.body.appendChild(scriptTag)\n      document.head.insertBefore(linkTag, document.head.firstChild)\n      scriptTag.onload = () => resolve({ skin: skin })\n    })\n  }\n  return loader || Promise.resolve({skin: skin})\n}\n","import React, { Component } from 'react'\nimport loadLibrary from './load-library'\nimport classNames from 'classnames'\nimport styles from './mp-component.css'\n\nconst DEFAULT_SKIN = 'amp-default'\n// const DEFAULT_RATIO = [16, 9]\nconst DEFAULT_RATIO = false\n\nclass AzureMP extends Component {\n  constructor(props) {\n    super(props)\n    this.videoNode = React.createRef()\n  }\n  destroyPlayer() {\n    this.player && this.player.dispose()\n  }\n  componentWillUnmount() {\n    this.destroyPlayer()\n  }\n  componentDidMount() {\n    const { skin } = this.props\n    this.initialization = loadLibrary(skin).then(() => {\n      this.createPlayer()\n      this.setVideo()\n    })\n  }\n  // componentDidUpdate(prevProps) {\n  //   if (\n  //     prevProps.src !== this.props.src ||\n  //     prevProps.tracks !== this.props.tracks\n  //   ) {\n  //     this.initialization.then(() => this.setVideo())\n  //   }\n  // }\n  setVideo() {\n    const { src, tracks } = this.props;\n    this.player.src(src, tracks)\n  }\n  createPlayer() {\n    const { options, onInstanceCreated } = this.props\n    const defaultOptions = {\n      controls: true,\n      logo: { enabled: false }\n    }\n    this.player = window.amp(\n      this.videoNode.current,\n      Object.assign({}, defaultOptions, options)\n    )\n    onInstanceCreated && onInstanceCreated(this.player)\n  }\n  getRatioStyles(ratio) {\n    if (!ratio) {\n      return {}\n    }\n    return { paddingBottom: (ratio[1] / ratio[0]) * 100 + '%' }\n  }\n  render() {\n    const {\n      className,\n      skin = DEFAULT_SKIN,\n      adaptRatio = DEFAULT_RATIO,\n      cornerPlayBtn\n    } = this.props\n    return (\n      <div\n        style={this.getRatioStyles(adaptRatio)}\n        className={classNames(\n          { [styles['azure-mp-container']]: adaptRatio },\n          className\n        )}>\n        <video\n          crossOrigin=\"anonymous\"\n          ref={this.videoNode}\n          className={classNames('azuremediaplayer', `${skin}-skin`, {\n            'amp-big-play-centered': !cornerPlayBtn\n          })}\n        />\n      </div>\n    )\n  }\n}\n\nexport default AzureMP\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport { AzureMP } from '../../libs/react-azure-mp/index';\nimport './element-video.css';\n\nexport default class ElementVideo extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false,\n      \"azure_video_url\": null,\n      \"azure_url\": null,\n      \"azure_mime_type\": null,\n      \"azure_subtitles\": null,\n      \"render_azure_player\": window.location.search.indexOf(\"?custom_options=\") > -1,\n      custom_options: window.cstmptns,\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    this.getCaptions();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"video\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.video\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(verb, current, duration) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"video\",\n      \"verb\": verb,\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"url\": content.video,\n        \"time\": {\n          \"current\": current,\n          \"duration\": duration,\n          \"progress\": current / duration * 100\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  onVideoPlay(e) {\n    this.trackEvent(\"played\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoPause(e) {\n    this.trackEvent(\"paused\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoEnded(e) {\n    this.trackEvent(\"ended\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoSeeking(e) {\n    this.trackEvent(\"skipped\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  getVideoUrl(video) \n  {\n    if (video.indexOf(\"http\") == -1)\n    {\n      return `./${video}`;\n    }\n    \n    const { custom_options } = this.state;\n\n    if (!custom_options) \n    {\n      return video;\n    }\n    const {\n        api_env,\n        project_key,\n        access_token,\n        domain \n      } = custom_options;\n    return `https://${domain}/storage/v1.0/content/default/target?uid=${video.split(\"uid=\")[1].split(\"&\")[0]}&access_token=${access_token}&project_key=${project_key}&api_env=${api_env}`;\n  }\n\n  async getCaptions() {\n    if (this.state.render_azure_player) {\n      var manifestUrl;\n      var videoUrl = this.props.content.video;\n      var videoObj = {\n        \"video_url\": videoUrl,\n        \"url\": null,\n        \"mime_type\": null,\n        \"subtitles\": null\n      }\n\n      if (videoUrl.search(\"/content/default/target\") > -1) {\n        manifestUrl = videoUrl.replace(\"/content/default/target\", \"/content/path/manifest.json\");\n      } else {\n        manifestUrl = videoUrl.replace(\"/content\", \"/content/path/manifest.json\");\n      }\n\n      var manifest = await fetch(manifestUrl).then((p) => p.json());\n      var subtitles = [];\n\n      if (manifest.subtitles) {\n        var data = manifest.subtitles.map((p) => {\n          p.asset = manifest.assets.find((a) => a.uid == p.asset_uid);\n          return p;\n        });\n\n        subtitles = data\n          .filter((p) => p.asset.mime_type == \"text/vtt\")\n          .map((p) => {\n            var result = {\n              src: videoUrl.replace(\"/content\",`/content/path/${p.asset.uri}`).replace(\"/default/target\", \"\"),\n              srclang: p.language_code,\n              kind: \"subtitles\",\n              label: p.language,\n            };\n\n            return result;\n          });\n      }\n\n      var loadDefaultFormat = true;\n\n      if (\n        manifest.azure_media_options &&\n        manifest.azure_media_options[\"SmoothStreaming\"]\n      ) {\n        var tempUrl = manifest.azure_media_options[\"SmoothStreaming\"][0];\n        var streamInfo = await fetch(tempUrl, { method: \"head\" });\n\n        if (streamInfo.ok) {\n          videoObj.mime_type = streamInfo.headers.get(\"Content-Type\");\n          videoObj.video_url = tempUrl;\n          loadDefaultFormat = false;\n        }\n      }\n\n      if (loadDefaultFormat) \n      {\n        if (videoUrl.indexOf('default/target') != -1) {\n          videoUrl = videoUrl.replace(\"/content/default/target\",`/content/path/${manifest.default_target}`);\n        }else\n        {\n          videoUrl = videoUrl.replace(\"/content\",`/content/path/${manifest.default_target}`);\n        }\n        videoObj.mime_type = manifest.type;\n        videoObj.video_url = videoUrl;\n      }\n\n      videoObj.subtitles = subtitles;\n\n      this.setState({\n        \"azure_subtitles\": videoObj.subtitles,\n        \"azure_video_url\": videoObj.video_url,\n        \"azure_url\": videoObj.url || videoObj.video_url,\n        \"azure_mime_type\": videoObj.mime_type\n      });\n    }\n  }\n\n  render() {\n    var content = this.props.content;\n    var imageStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={imageStyle}>\n      {!this.state.render_azure_player &&\n        <video\n          controls src={this.getVideoUrl(content.video)}\n          onPlay={(e) => this.onVideoPlay(e)}\n          onPause={(e) => this.onVideoPause(e)}\n          onEnded={(e) => this.onVideoEnded(e)}\n          onSeeking={(e) => this.onVideoSeeking(e)}\n        />\n      }\n      {this.state.render_azure_player && this.state.azure_video_url &&\n        <div className=\"element-video-1-azure\">\n          <AzureMP\n            className=\"azuremediaplayer amp-default-skin amp-big-play-centered\"\n            src={[{src: this.state.azure_video_url, type: this.state.azure_mime_type }]}\n            tracks={this.state.azure_subtitles}\n            options={{\n              autoplay: false,\n              controls: true,\n              width: \"760px\",\n              logo: { enabled: false },\n              adaptRatio: false,\n              playbackSpeed: {\n                enabled: true,\n                initialSpeed: 1.0,\n                speedLevels: [\n                  { name: \"x2.0\", value: 2.0 },\n                  { name: \"x1.75\", value: 1.75 },\n                  { name: \"x1.5\", value: 1.5 },\n                  { name: \"x1.25\", value: 1.25 },\n                  { name: \"normal\", value: 1.0 },\n                  { name: \"x0.75\", value: 0.75 },\n                  { name: \"x0.5\", value: 0.5 },\n                ],\n              },\n            }}\n          />\n        </div>\n      }\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-accordion.css';\n\nexport default class ElementAccordion extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var items = content.items;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": content.type,\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": this.getResumeItems(items)\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(index) {\n    var content = this.state.content;\n    var items = content.items;\n    var item = items[index];\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"accordion\",\n      \"verb\": item.expanded? \"opened\" : \"closed\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"active_accordion_title\": item.title,\n        \"item_id\": item.id,\n        \"options\": this.getResumeItems(items)\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  getResumeItems(items) {\n    var temp = [];\n    for (var i = 0; i < items.length; i++) {\n      temp.push({\n        \"id\": items[i].id,\n        \"title\": items[i].title,\n        \"text\": StringFormat.HtmlToText(items[i].text),\n        \"image\": items[i].image,\n        \"video\": items[i].video\n      });\n    };\n    return temp;\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    var items = content.items;\n    for (var i = 0; i < items.length; i++) {\n      items[i].expanded = false;\n    };\n    content.items = items;\n    this.setState({\n      \"content\": content\n    })\n  }\n\n  onToggleItem(index) {\n    var content = this.state.content;\n    var items = content.items;\n    if(content.behavior === \"close-all\") {\n      for (var i = 0; i < items.length; i++) {\n        if (i !== index) {\n          items[i].expanded = false;\n        }\n      };\n    };\n    items[index].expanded = !items[index].expanded;\n    this.setState({\n      \"content\": content\n    }, function() {\n      this.trackEvent(index);\n    })\n  }\n\n  renderQuill(item, index) {\n    return <div className=\"editor\" dangerouslySetInnerHTML={{__html: item.text}}></div>\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage(item) {\n    if (item.image !== null) {\n      return <img className=\"element-accordion-item-image\" src={this.getAssetUrl(item.image)}/>\n    }\n  }\n\n  renderVideo(item) {\n    if (item.video !== null) {\n      return <video className=\"element-accordion-item-video\" controls src={this.getAssetUrl(item.video)}/>\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-accordion-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className={`element-accordion-item ${item.expanded === true ? \"expanded\" : \"not-expanded\"}`}>\n            <span className=\"element-accordion-item-title\" onClick={() => _this.onToggleItem(index)}>{item.title}</span>\n            <div className=\"element-accordion-item-text\">\n              {_this.renderQuill(item, index)}\n            </div>\n            {_this.renderImage(item)}\n            {_this.renderVideo(item)}\n          </li>\n        })}\n      </ul>\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport ReactQuill from 'react-quill';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-tabs.css';\n\nexport default class ElementTabs extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false,\n      \"active_tab_content\": null,\n      \"modules\": {\n        \"toolbar\": [\n          ['bold', 'italic', 'underline','strike'],\n          [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }],\n          [{'size': [\"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"]}],\n          [{'list': 'ordered'}, {'list': 'bullet'}],\n          ['link', {'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"custom-color\"]}]\n        ]\n      },\n      \"formats\": [\n        'header',\n        'size',\n        'bold', 'italic', 'underline', 'strike',\n        'list', 'bullet', 'indent', 'link', 'color', 'align'\n      ]\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var items = content.items;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"tabs\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": this.getResumeItems(items)\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getResumeItems(items) {\n    var temp = [];\n    for (var i = 0; i < items.length; i++) {\n      temp.push({\n        \"id\": items[i].id,\n        \"title\": items[i].title,\n        \"text\": StringFormat.HtmlToText(items[i].text),\n        \"image\": items[i].image,\n        \"video\": items[i].video\n      });\n    };\n    return temp;\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n\n    const Font = ReactQuill.Quill.import('formats/font');\n    Font.whitelist = ['large', 'medium', \"small\", \"regular\", \"bold\", \"pullquote\"];\n    ReactQuill.Quill.register(Font, true);\n\n    let SizeStyle = ReactQuill.Quill.import('attributors/style/size');\n    SizeStyle.whitelist = [\"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"]\n    ReactQuill.Quill.register(SizeStyle, true);\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    this.setState({\n      \"content\": content,\n      \"active_tab_content\": content.items[0]\n    })\n  }\n\n  handleChange(text) {\n    var _this = this;\n    var content = this.state.content;\n    var items = content.items;\n    var activeItem = this.state.active_tab_content;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === activeItem.id) {\n        items[i].text = text;\n        _this.setState({\n          \"active_tab_content\": items[i]\n        });\n      };\n    };\n\n    this.setState({\n      \"content\": content\n    });\n    this.props.onChange(content);\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  trackEvent(item) {\n    var content = this.props.content;\n    var items = content.items;\n    var activeTab = this.state.active_tab_content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"tabs\",\n      \"verb\": \"opened\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"active_tab_title\": activeTab.title,\n        \"item_id\": item.id,\n        \"options\": this.getResumeItems(items)\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  onTabClick(item) {\n    this.setState({\n      \"active_tab_content\": item\n    }, function() {\n      this.trackEvent(item);\n    })\n  }\n\n  renderQuill() {\n    var modules = this.state.modules;\n    var formats = this.state.formats;\n    var content = this.state.active_tab_content;\n\n    if (this.props.editable) {\n      return <>\n        <ReactQuill theme=\"bubble\"\n        value={content.text}\n        modules={modules}\n        formats={formats}\n        onChange={(text) => this.handleChange(text)} />\n      </>\n    } else {\n      return <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n    }\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage() {\n    var content = this.state.active_tab_content;\n    if (content.image !== null) {\n      return <img className=\"element-tabs-item-image\" src={this.getAssetUrl(content.image)}/>\n    }\n  }\n\n  renderVideo() {\n    var content = this.state.active_tab_content;\n    if (content.video !== null) {\n      return <video className=\"element-tabs-item-video\" controls src={this.getAssetUrl(content.video)}/>\n    }\n  }\n\n  renderActiveTabContent() {\n    return <div className=\"element-tabs-content\">\n      {this.renderQuill()}\n      {this.renderImage()}\n      {this.renderVideo()}\n    </div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <div ref={this.elementRef} className=\"element-tabs-container\">\n        <ul className=\"element-tabs-items\">\n          {items.map(function(item, index) {\n            return <li key={index} style={_this.state.active_tab_content.id === item.id ? {borderColor: content.active_color} : {}} className={`element-tabs-item ${_this.state.active_tab_content.id === item.id ? \"active\" : \"\"}`}>\n              <span className=\"element-tabs-item-title\" style={_this.state.active_tab_content.id === item.id ? {color: content.active_color} : {}} onClick={() => _this.onTabClick(item)}>{item.title}</span>\n            </li>\n          })}\n        </ul>\n        {_this.renderActiveTabContent()}\n      </div>\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-iframe.css';\n\nexport default class ElementIframe extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = {\n      \"visible\": false,\n      \"width\": this.props.content.width,\n      \"height\": this.props.content.height\n    }\n  }\n\n  componentDidMount() {\n    this.resizeWebview();\n    this.onResizeIframe();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"webview\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.url\n          }\n        }\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  onResizeIframe() {\n    var _this = this;\n    window.addEventListener(\"resize\", function() {\n      _this.resizeWebview()\n    });\n  }\n\n  resizeWebview() {\n    if (window.innerWidth < 801) {\n      var current_width = this.state.width;\n      var scale = (window.innerWidth / current_width * 1);\n      this.setState({\n        \"width\": window.innerWidth,\n        \"height\": this.state.height * scale\n      })\n    }\n  }\n \n  render() {\n    var content = this.props.content;\n    var iframeContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var iframeStyle = {\n      width: this.state.width + \"px\",\n      height: this.state.height + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={iframeContainerStyle}>\n      <iframe style={iframeStyle} src={content.url} allow=\"fullscreen\" />\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-flashcards-1.css';\n\nexport default class ElementFlashcard1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false,\n      \"isFlipped\": false\n    }\n\n    this.onCardClick = this.onCardClick.bind(this);\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"flashcards-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(e, index, item) {\n    var content = this.state.content;\n    var side = e.target.className === \"element-flashcards-1-item-inner\" ? \"front\" : \"verse\";\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards\",\n      \"verb\": \"flipped\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"item_id\": item.id,\n        \"position\": index + 1,\n        \"side\": side,\n        \"options\": content.items\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    var items = content.items;\n    for (var i = 0; i < items.length; i++) {\n      items[i].opened = false;\n    };\n    content.items = items;\n    this.setState({\n      \"content\": content\n    })\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage(item) {\n    if (item.image !== null) {\n      return <img className=\"element-flashcards-1-item-image\" src={this.getAssetUrl(item.image)}/>\n    }\n  }\n\n  renderVideo(item) {\n    if (item.video !== null) {\n      return <video className=\"element-flashcards-1-item-video\" controls src={this.getAssetUrl(item.video)}/>\n    }\n  }\n\n  onCardClick(e, index, item) {\n    e.target.classList.toggle(\"flipped\");\n    this.trackEvent(e, index, item);\n  }\n\n  handleCenteredImageChange(img) {\n    if (img.target.width > img.target.height) {\n      img.target.style.width = \"85%\";\n    } else {\n      img.target.style.height = \"85%\";\n    }\n  }\n\n  handleFullscreenImageChange(img) {\n    img.target.style.objectFit = \"cover\";\n    if (img.target.width > img.target.height) {\n      img.target.style.height = \"110%\";\n      img.target.style.width = \"100%\";\n    } else {\n      img.target.style.width = \"110%\";\n    }\n  }\n\n  renderCardData(item, target, index) {\n    var data = item[target];\n\n    if (data.text !== null) {\n      return <span className=\"element-flashcards-1-item-data-text\" dangerouslySetInnerHTML={{__html: data.text}} />\n    };\n    if (data.centered_image !== null) {\n      return <img onLoad={(img) => this.handleCenteredImageChange(img)} className=\"element-flashcards-1-item-data-centered-image\" src={this.getAssetUrl(data.centered_image)}/>\n    };\n    if (data.fullscreen_image !== null) {\n      return <img onLoad={(img) => this.handleFullscreenImageChange(img)} className=\"element-flashcards-1-item-data-fullscreen-image\" src={this.getAssetUrl(data.fullscreen_image)}/>\n    };\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var height = content.card_height || 240\n    var width = content.card_width || 240\n    var cardStyle = {\n      maxHeight: height + \"px\",\n      maxWidth: width + \"px\",\n      aspectRatio: `${width / height}`,\n      width: '100%'\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-flashcards-1-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className=\"element-flashcards-1-item\" style={cardStyle}>\n            <div className=\"element-flashcards-1-item-inner\" onClick={(e) => _this.onCardClick(e, index, item)}>\n              <div className=\"element-flashcards-1-item-front\" style={{borderTopColor: _this.state.content.border_color}}>\n                {_this.renderCardData(item, \"front_card\", index)}\n              </div>\n              <div className=\"element-flashcards-1-item-back\">\n                {_this.renderCardData(item, \"back_card\", index)}\n              </div>\n            </div>\n          </li>\n        })}\n      </ul>\n    </div>\n  }\n}\n","import styled, {css} from \"styled-components\";\n\nexport const ElementFlashcards2 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const CardList = styled.ul`\n  width: 100%;\n  max-width: 800px;\n  padding: 10px;\n  display: block;\n  margin: auto;\n  text-align: center;\n  overflow: hidden;\n  height: calc(${props => props.maxHeight || \"400\"}px + 30px);\n  position: relative;\n`;\n\nexport const CardListItem = styled.li`\n  display: inline-block;\n  transition: all 0.2s linear;\n  perspective: 1000px;\n  top: 0;\n  cursor: pointer;\n  pointer-events: all;\n  height: ${props => props.maxHeight || \"400\"}px;\n  width: ${props => props.maxWidth || \"400\"}px;\n  aspect-ratio: ${props => props.aspectRatio || \"1\"};\n  opacity: 0;\n  position: absolute;\n\n  ${props => props.position === \"left\" && css`\n    left: 0;\n  `}\n\n  ${props => props.position === \"right\" && css`\n    left: 100%;\n  `}\n  \n  ${props => props.position === \"center\" && css`\n    opacity: 1;\n    left: calc(50% - ${props => props.maxWidth || \"400\"}px / 2);\n  `}\n`;\n\nexport const CardInner = styled.div`\n  pointer-events: none;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.8s;\n  transform-style: preserve-3d;\n\n  ${props => props.isFlipped && css`\n    transform: rotateY(180deg);\n  `}\n`;\n\nexport const CardFront = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #FFFFFF;\n  color: black;\n  pointer-events: none;\n  border: 1px solid #ededed;\n  border-top: 3px solid #00643e;\n`;\n\nexport const CardBack = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #fafafa;\n  color: black;\n  transform: rotateY(180deg);\n  pointer-events: none;\n  border: 1px solid #ededed;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0,0,0,.05);\n`;\n\nexport const CardItemTypeText = styled.p`\n  padding: 10px;\n`;\n\nexport const CardItemTypeImage = styled.img``;\n\nexport const NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: ${props => props.maxWidth || \"400\"}px;\n`;\n\nexport const ChangeCardButton = styled.button`\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ${props => props.fontColor || \"white\"};\n  background: ${props => props.backgroundColor || \"#00643e\"};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    filter: brightness(1.3);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.backgroundColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const Progress = styled.div`\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  max-width: 200px;\n`;\n\nexport const ProgressLabel = styled.div`\n  width: calc(100% - 10px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n`;\n\nexport const ProgressCounter = styled.div`\n  font-weight: bold;\n  font-size: 11px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n`;\n\nexport const ProgressBar = styled.div`\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n`;","import React, { Component } from 'react';\nimport * as S from \"./element-flashcards-2.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementFlashcard2 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: [],\n    flippedItemsIds: [],\n    visibleCardIndex: 0,\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"flashcards-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackCardToggleEvent = (e, itemId) => {\n    const {\n      flippedItemsIds,\n      visibleCardIndex\n    } = this.state;\n    const content = this.props.content;\n    const side = flippedItemsIds.includes(itemId) ? \"verse\" : \"front\";\n    const obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards-2\",\n      \"verb\": \"flipped\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"position\": visibleCardIndex + 1,\n        \"side\": side,\n        \"options\": content.items,\n        \"item_id\": itemId\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackViewCardEvent = () => {\n    const {\n      flippedItemsIds,\n      visibleCardIndex\n    } = this.state;\n    const content = this.props.content;\n    const { items } = content;\n    const item = items[visibleCardIndex];\n    const side = flippedItemsIds.includes(item.id) ? \"verse\" : \"front\";\n    const obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards-2\",\n      \"verb\": \"view\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"position\": visibleCardIndex + 1,\n        \"card_id\": item.id,\n        \"side\": side,\n        \"options\": content.items\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  handleCenteredImageChange = (img) => {\n    if (img.target.width > img.target.height) {\n      img.target.style.width = \"85%\";\n    } else {\n      img.target.style.height = \"85%\";\n    }\n  }\n\n  handleFullscreenImageChange = (img) => {\n    img.target.style.objectFit = \"cover\";\n    if (img.target.width > img.target.height) {\n      img.target.style.height = \"110%\";\n      img.target.style.width = \"100%\";\n    } else {\n      img.target.style.width = \"110%\";\n    }\n  }\n\n  renderCardData(data) {\n    if (null !== data.text) {\n      return (\n        <S.CardItemTypeText dangerouslySetInnerHTML={{__html: data.text}} />\n      )\n    }\n    if (null !== data.centered_image) {\n      return (\n        <S.CardItemTypeImage\n          onLoad={this.handleCenteredImageChange}\n          src={this.getAssetUrl(data.centered_image)}\n        />\n      )\n    }\n    if (null !== data.fullscreen_image) {\n      return (\n        <S.CardItemTypeImage\n          onLoad={this.handleFullscreenImageChange}\n          src={this.getAssetUrl(data.fullscreen_image)}\n        />\n      )\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  handleToggleFlipCard = (e, id) => {\n    const {\n      flippedItemsIds,\n    } = this.state;\n\n    const cardId = id || e.target.id;\n\n    if (flippedItemsIds.includes(cardId)) {\n      this.setState({\n        flippedItemsIds: flippedItemsIds.filter(id => id !== cardId)\n      }, () => {\n        this.trackCardToggleEvent(e, cardId);\n      })\n    } else {\n      this.setState({\n        flippedItemsIds: [...flippedItemsIds, cardId]\n      }, () => {\n        this.trackCardToggleEvent(e, cardId);\n      })\n    }\n  }\n\n  handlePrevCard = (e) => {\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex > 0) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex - 1,\n      }, () => {\n        this.trackViewCardEvent();\n      })\n    }\n  }\n\n  handleNextCard = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex < items.length - 1) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex + 1,\n      }, () => {\n        this.trackViewCardEvent();\n      })\n    }\n  }\n\n  renderProgress = () => {\n    const { content } = this.props;\n    const { visibleCardIndex } = this.state;\n    const { items, border_color } = content;\n    const current = visibleCardIndex + 1;\n    const total = items.length;\n    const percentage = (100 / total * current) + \"%\";\n    return (\n      <S.Progress>\n        <S.ProgressLabel>\n          <S.ProgressBar style={{ width: percentage, backgroundColor: border_color }}/>\n        </S.ProgressLabel>\n\n        <S.ProgressCounter style={{ color: border_color }}>\n          {current}/{total}\n        </S.ProgressCounter>\n      </S.Progress>\n    )\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === \"ArrowLeft\") {\n      this.handlePrevCard();\n    } else if (e.key === \"ArrowRight\") {\n      this.handleNextCard();\n    } else if (e.key === \" \" || e.code === \"Space\" || e.keyCode === 32) {\n      e.preventDefault();\n      const { content } = this.props;\n      const { items } = content;\n      const { visibleCardIndex } = this.state;\n      const cardId = items[visibleCardIndex].id;\n      this.handleToggleFlipCard(e, cardId);\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      card_height = 240,\n      card_width = 240,\n      items = [],\n      border_color,\n    } = content;\n    const {\n      flippedItemsIds,\n      visibleCardIndex,\n    } = this.state;\n\n    return (\n      <S.ElementFlashcards2\n        ref={this.elementRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        onKeyDown={this.handleKeyDown}\n      >\n        {headerActionsTemplate}\n\n        <S.CardList\n          maxHeight={card_height}\n        >\n          {items.map((item, index) => (\n            <S.CardListItem\n              key={item.id}\n              id={item.id}\n              tabIndex=\"1\"\n              role=\"button\"\n              type=\"button\"\n              onClick={this.handleToggleFlipCard}\n              maxWidth={card_width}\n              maxHeight={card_height}\n              aspectRatio={card_width / card_height}\n              position={index === visibleCardIndex ? \"center\" : index < visibleCardIndex ? \"left\" : \"right\"}\n            >\n              <S.CardInner\n                isFlipped={flippedItemsIds.includes(item.id)}\n              >\n                <S.CardFront style={{borderTopColor: border_color}}>\n                  {this.renderCardData(item.front_card)}\n                </S.CardFront>\n\n                <S.CardBack>\n                  {this.renderCardData(item.back_card)}\n                </S.CardBack>\n              </S.CardInner>\n            </S.CardListItem>\n          ))}\n        </S.CardList>\n\n        <S.NavigationContainer\n          maxWidth={card_width}\n        >\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handlePrevCard}\n            backgroundColor={border_color}\n            disabled={visibleCardIndex === 0}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </svg>\n          </S.ChangeCardButton>\n\n          {this.renderProgress()}\n\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handleNextCard}\n            backgroundColor={border_color}\n            disabled={visibleCardIndex === items.length - 1}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </svg>\n          </S.ChangeCardButton>\n        </S.NavigationContainer>\n\n        {footerActionsTemplate}\n      </S.ElementFlashcards2>\n    )\n  }\n}\n\nexport default ElementFlashcard2;\n","/**\n * Converte o objeto em uma query string\n *\n * @example\n *\n * objetoToQueryString({page: 1, limit: 10})\n * // => 'page=1&limit=10'\n *\n * @param {object} obj Objeto que ser convertido para string\n * @return {string} Retorna uma string com os valores do objeto\n */\nconst objectToQueryString = (obj) => {\n  return Object.keys(obj).map((key) => {\n    const value = obj[key];\n    return `${key}=${value}`;\n  }).join('&');\n};\n\nexport default objectToQueryString;","const USER_ROLES = {\n  ADMIN: 'administratorglobal',\n  REVIEWER: \"reviewer\",\n  REVIEWER_ADMIN: \"reviewadmin\",\n  REVIEWER_CONTRIBUTOR: \"reviewcontributor\",\n  VIEWER: \"viewer\"\n}\nexport const isContentOwner = (loggedUserUID, contentUserUID) => (loggedUserUID.length &&\n  contentUserUID.length) && (loggedUserUID === contentUserUID)\nexport const isAdminReviewer = (roles = []) => roles.includes(USER_ROLES.REVIEWER_ADMIN) ||\n  roles.includes(USER_ROLES.REVIEWER_CONTRIBUTOR) || roles.includes(USER_ROLES.ADMIN)\nexport const isAdminReviewerOrContentOwner = (user, contentUserUID) => isContentOwner(user.uid, contentUserUID) ||\n  isAdminReviewer(user.roles || [])","import auth from './auth';\nimport cms from './cms';\n\nconst API = {\n  auth,\n  cms,\n};\n\nexport default API;\n\n\n/**\n * @typedef {'production'|'homolog'|'development'|'local'} ApiEnvs\n *\n * @typedef {string} UID\n */","\nconst AUTH_API_VERSION = \"v1.0\";\nconst PROTOCOL = \"https\";\n\nexport default {\n  user: {\n    me: ({access_token, api_env, domain, project_key}) => {\n      return fetch(`${PROTOCOL}://${domain}/auth/${AUTH_API_VERSION}/user/me`, {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${access_token}`,\n          \"Project-Key\": project_key,\n          \"Api-Env\": api_env\n        }\n      }).then(resp => resp.json())\n    },\n    uid: (uid, {access_token, api_env, domain, project_key}) => {\n      return fetch(`${PROTOCOL}://${domain}/auth/${AUTH_API_VERSION}/user/uid/${uid}`, {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${access_token}`,\n          \"Project-Key\": project_key,\n          \"Api-Env\": api_env\n        }\n      }).then(resp => resp.json())\n    },\n  }\n}","import objectToQueryString from \"../utils/object-to-query-string\";\nimport API from \"./index\";\nimport {isAdminReviewer} from \"../utils/permission\";\n\nconst CMS_API_VERSION = \"v1.0\";\nconst PROTOCOL = \"https\";\nconst SERVICE = \"cms\";\n\nexport default {\n  learning: {\n    register: {\n      uid: (registerUid) => ({\n        getInteractions: ({domain, api_env, project_key, access_token}) => {\n          const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n          return fetch(`${base_url}/learning/register/uid/${registerUid}/interactions`, {\n            method: \"GET\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n            },\n          })\n            .catch(e => {\n              console.error(e);\n              return e;\n            })\n        },\n        interaction: {\n          /**\n           * @param {object=} query Objeto com os parmetros da query\n           * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n           * @param {UID=} query.target_uid Identificador do objeto de aprendizagem\n           * @param {UID=} query.activity_uid Identificador do objeto de aprendizagem\n           * @param {UID=} query.type Identificador do tipo do objeto de aprendizagem\n           * @param {string} domain Hostname da API\n           * @param {ApiEnvs} api_env Ambiente da API\n           * @param {string} project_key Chave do projeto\n           * @param {string} access_token Token JWT do usurio logado no momento\n           * @return {Promise<Response>}\n           */\n          recoverObjects: ({type, ...query}, {domain, api_env, project_key, access_token}) => {\n            const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n            const queryString = query ? `?${objectToQueryString(query)}` : ``;\n            return fetch(`${base_url}/learning/register/uid/${registerUid}/interaction/objects${queryString}`, {\n              method: \"GET\",\n              headers: {\n                \"Api-Env\": api_env,\n                \"Project-Key\": project_key,\n                \"Authorization\": \"Bearer \" + access_token,\n              },\n            }).then(resp => resp.json())\n              .then(objects => {\n                if (objects && objects.length > 0) {\n                  let parsed = objects.map(async object => {\n                   try {\n                     const userDetails = await API.auth.user.uid(object.user_uid, {\n                       domain,\n                       api_env,\n                       project_key,\n                       access_token\n                     });\n\n                     if (userDetails && userDetails.hasOwnProperty(\"error\")) {\n                       console.error(userDetails.error);\n                       return null;\n                     }\n\n                     let roles = userDetails.roles.map(role => role.type.toLowerCase());\n\n                     if (!isAdminReviewer(roles)) {\n                       object.email = userDetails.login || \"\";\n                       object.name = userDetails.detail.name;\n\n                       object.interaction_objects = object.interaction_objects.map(interaction_object => {\n                         interaction_object.object_data = JSON.parse(interaction_object.object_data);\n                         return interaction_object;\n                       });\n\n                       if (type) {\n                         object.interaction_objects = object.interaction_objects.filter(interaction_object => interaction_object.type === type);\n                       }\n\n                       return object;\n                     } else {\n                       return null;\n                     }\n                   } catch (e) {\n                     console.error(e)\n                     return null;\n                   }\n                  });\n                  return Promise.all(parsed).then(parsed => parsed.filter(p => p !== null));\n                }\n\n                return [];\n              })\n          }\n        }\n      })\n    },\n    interaction: {\n      /** @param {UID} interactionUid Identificador da interao */\n      uid: (interactionUid) => ({\n        object: {\n          reviewed: ({context_uid, type, target_uid, object_data, score}, {\n            domain,\n            api_env,\n            project_key,\n            access_token\n          }) => {\n            const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n            return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/object/reviewed`, {\n              method: \"POST\",\n              headers: {\n                \"Api-Env\": api_env,\n                \"Project-Key\": project_key,\n                \"Authorization\": \"Bearer \" + access_token,\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                context_uid,\n                type,\n                target_uid,\n                object_data: JSON.stringify({\n                  version: \"1.0\",\n                  data: object_data\n                }),\n                score,\n              })\n            }).then(resp => {\n              if (resp.status !== 200) {\n                console.warn(\"No foi possvel salvar a resposta, verifique se o servio est habilitado.\")\n              }\n              return resp.json();\n            }).catch(e => {\n              console.error(e);\n              return e;\n            })\n          }\n        },\n        score: {\n          object: {\n            uid: (interactionObjectUid) => ({\n              updateScore: async (score, {domain, api_env, project_key, access_token}) => {\n                const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n                return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/score/object/uid/${interactionObjectUid}?score=${score}`, {\n                  method: \"PUT\",\n                  headers: {\n                    \"Api-Env\": api_env,\n                    \"Project-Key\": project_key,\n                    \"Authorization\": \"Bearer \" + access_token,\n                  },\n                }).then(resp => {\n                  if (resp.status === 200) {\n                    return resp.json();\n                  }\n                  throw resp;\n                }).catch(e => {\n                  console.error(e);\n                  return e;\n                })\n                  .catch(e => {\n                    console.error(e);\n                    return e;\n                  })\n              }\n            })\n          }\n        },\n        /**\n         * Salva uma interao dos objetos de aprendizagem no banco de dados\n         * @param {UID} context_uid Identificador da estrutura salva no composer\n         * @param {LearningObjectTypes} type Tipo do objeto de aprendizagem\n         * @param {UID} target_uid Identificador do objeto de aprendizagem\n         * @param {Quiz1Answer|Quiz2Answer[]|Quiz5Answer|Forum1Answer} object_data Dados do objeto de aprendizagem\n         * @param {string=} score Pontuao do objeto de aprendizagem\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        createObject: ({context_uid, type, target_uid, object_data, score}, {\n          domain,\n          api_env,\n          project_key,\n          access_token\n        }) => {\n          return fetch(`${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}/learning/interaction/uid/${interactionUid}/object`, {\n            method: \"POST\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              context_uid,\n              type,\n              target_uid,\n              object_data: JSON.stringify({\n                version: \"1.0\",\n                data: object_data\n              }),\n              score,\n            })\n          }).then(resp => {\n            if (resp.status !== 200) {\n              console.warn(\"No foi possvel salvar a resposta, verifique se o servio est habilitado.\")\n            }\n            return resp\n          }).catch(e => {\n            console.error(e);\n            return e;\n          })\n        },\n        /**\n         * @param {object=} query Objeto com os parmetros da query\n         * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n         * @param {UID=} query.target_uid Identificador do objeto de aprendizagem\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        recoverObject: (query, {domain, api_env, project_key, access_token}) => {\n          const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n          const queryString = query ? `?${objectToQueryString(query)}` : ``;\n          return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/objects${queryString}`, {\n            method: \"GET\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n              \"Content-Type\": \"application/json\"\n            },\n          }).then(async resp => {\n            const objects = await resp.json();\n\n            if (objects && objects.length > 0) {\n              return objects.map(object => {\n                object.object_data = JSON.parse(object.object_data);\n\n                return object;\n              });\n            }\n\n            return [];\n          }).catch(e => {\n            console.error(e);\n            return e;\n          })\n        }\n      })\n    }\n  },\n  socialmedia: {\n    connector: {\n      uid: (connectorUid) => ({\n        createThread: (\n          {title, description, content, context_type, context_uid},\n          {domain, api_env, project_key, access_token}\n        ) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/connector/uid/${connectorUid}/thread`, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              title,\n              description,\n              content,\n              context_type,\n              context_uid\n            })\n          }).then(resp => resp.json())\n        }\n      })\n    },\n    thread: {\n      uid: (threadUid) => ({\n        update: (\n          {title, description, content, context_type, context_uid},\n          {domain, api_env, project_key, access_token}\n        ) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}`, {\n            method: \"PUT\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            },\n            body: JSON.stringify({title, description, content, context_type, context_uid})\n          }).then(resp => {\n            if (resp.status === 500) {\n              throw new Error(resp.statusText)\n            } else {\n              return resp.json();\n            }\n          });\n        },\n        delete: ({domain, api_env, project_key, access_token}) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}`, {\n            method: \"DELETE\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            }\n          }).then(resp => {\n            if (resp.status === 500) {\n              throw new Error(resp.statusText)\n            } else if (resp.status === 204) {\n              return threadUid;\n            }\n            return null;\n          });\n        },\n        post: {\n          uid: (postUid) => ({\n            delete: ({domain, api_env, project_key, access_token}) => {\n              return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/post/uid/${postUid}`, {\n                method: 'DELETE', headers: {\n                  \"Authorization\": `Bearer ${access_token}`,\n                  \"Project-Key\": project_key,\n                  \"Api-Env\": api_env,\n                }\n              }).then(resp => {\n                if (resp.status === 500) {\n                  throw new Error(resp.statusText)\n                } else if (resp.status === 204) {\n                  return postUid;\n                }\n                return null;\n              });\n            },\n            update: (\n              {title, description, content, context_type, context_uid},\n              {domain, api_env, project_key, access_token}\n            ) => {\n              return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/post/uid/${postUid}`, {\n                method: \"PUT\",\n                headers: {\n                  \"Authorization\": `Bearer ${access_token}`,\n                  \"Project-Key\": project_key,\n                  \"Api-Env\": api_env,\n                },\n                body: JSON.stringify({title, description, content, context_type, context_uid})\n              }).then(resp => {\n                if (resp.status === 500) {\n                  throw new Error(resp.statusText)\n                } else {\n                  return resp.json();\n                }\n              });\n            },\n          })\n        },\n        /**\n         * @param {object} body\n         * @param {string} body.title\n         * @param {string} body.content\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        createPost: (body, {domain, api_env, project_key, access_token}) => {\n          return fetch(`https://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}/post`, {\n            method: 'POST',\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            },\n            body: JSON.stringify(body)\n          }).then(resp => resp.json())\n        },\n        /**\n         * @param {object=} query Objeto com os parmetros da query\n         * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n         * @param {number=} query.page_size Tamanho da pgina\n         * @param {number=} query.page Pgina a ser exibida\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<ResponsePaginated>}\n         */\n        recoverPosts: (query, {domain, api_env, project_key, access_token}) => {\n          const queryString = query ? `?${objectToQueryString(query)}` : ``;\n          return fetch(`https://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}/posts${queryString}`, {\n            method: 'GET', headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            }\n          }).then(resp => resp.json());\n        }\n      }),\n    },\n    threads: {\n      /**\n       * @param {object=} query Objeto com os parmetros da query\n       * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n       * @param {number=} query.page_size Tamanho da pgina\n       * @param {number=} query.page Pgina a ser exibida\n       * @param {string} domain Hostname da API\n       * @param {ApiEnvs} api_env Ambiente da API\n       * @param {string} project_key Chave do projeto\n       * @param {string} access_token Token JWT do usurio logado no momento\n       * @return {Promise<ResponsePaginated>}\n       */\n      available: (\n        query,\n        {domain, api_env, project_key, access_token}\n      ) => {\n        const queryString = query ? `?${objectToQueryString(query)}` : ``;\n        return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/threads/available${queryString}`, {\n          method: \"GET\",\n          headers: {\n            \"Authorization\": `Bearer ${access_token}`,\n            \"Project-Key\": project_key,\n            \"Api-Env\": api_env,\n          }\n        }).then(resp => resp.json())\n      }\n    }\n  }\n}\n\n/**\n * @typedef {object} Quiz1Answer\n * @property {string} id\n * @property {boolean} correct\n * @property {string} text Contedo HTML com o texto da alternativa\n */\n\n/**\n * @typedef {object} Quiz2Answer\n * @property {string} id\n * @property {boolean} correct\n * @property {string} text Contedo HTML com o texto da alternativa\n */\n\n/**\n * @typedef {string} Quiz5Answer Resposta do usurio\n */\n\n/**\n * @typedef {string} Forum1Answer Post do usurio no frum\n */\n\n/**\n * @typedef {'quiz-1'|'quiz-2'|'quiz-5'|'forum-1'} LearningObjectTypes\n */\n\n/**\n * @typedef {object} ResponsePaginated\n * @property {object} result\n * @property {number} total_pages\n */","import styled from \"styled-components\";\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  ContainerFinishButton,\n  RemakeButtonContainer,\n  NextButtonContainer,\n  ContainedButton\n}","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-1.css';\nimport API from \"../../services\";\nimport {ContainedButton, ContainerFinishButton} from \"./element-quiz-1.styled\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromDefaultData = this.loadContentFromDefaultData.bind(this);\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      visible: false,\n      activeChoices: {},\n      current_question: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      protocol: null,\n      custom_options: window.cstmptns,\n      user: {\n        roles: [],\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n    }\n    this.trackElementView();\n  }\n\n  async getSignedUserFromJwt() {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  loadContentFromDefaultData(defaultData) {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        cloneContent.questions = cloneContent.questions.map((question) => {\n          question.answered = false;\n          if (defaultData.elements[content.id].answers[question.id]) {\n            question.answered = true;\n          }\n          return question;\n        });\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n\n    if (custom_options == undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeChoices = {...this.state.activeChoices};\n\n    question.choices.map((choice) => {\n      if (answer.id === choice.id) {\n        activeChoices[question.id] = choice.id;\n      }\n      return choice;\n    });\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n      activeChoices,\n    } = this.state;\n    const {questions} = content;\n\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async (question) => {\n      if (question.answered) {\n        question.choices.map((choice) => {\n          if (activeChoices[question.id] === choice.id) {\n            if (choice.correct) {\n              hits++;\n            }\n          }\n        });\n      }\n    });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-only-choice\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView() {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-only-choice-question\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick(choice) {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-only-choice-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: {\n            id: choice.id,\n            title: StringFormat.HtmlToText(choice.text),\n          },\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(questionId, questions) {\n    var content = this.props.content;\n    const {activeChoices} = this.state;\n\n    let question = null;\n    let questionIndex = -1;\n\n    for (var i = 0; i < questions.length; i++) {\n      if (questions[i].id === questionId) {\n        question = questions[i];\n        questionIndex = i+1;\n      }\n    }\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = false;\n      question.choices.map((choice) => {\n        if (activeChoices[question.id] === choice.id) {\n          selectedChoice = choice;\n          if (choice.correct) {\n            correctAnswer = true;\n          }\n        }\n      });\n\n      var obj = {\n        action: \"click\",\n        element: \"quiz-only-choice-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions : questions.length,\n          current_question : questionIndex,\n          question: {\n            id: question.id,\n            position: this.state.current_question + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer: {\n              id: selectedChoice.id,\n              title: StringFormat.HtmlToText(selectedChoice.text),\n              correct: correctAnswer,\n            },\n            answers: question.choices.map(choice=>\n              {\n                var result = { ... choice };\n                result.text = StringFormat.HtmlToText(result.text);\n                return result;\n              })\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionResult(correctAnswer, selectedChoice, question);\n      // this.trackQuestionFeedback(correctAnswer, selectedChoice, question);\n    }\n  }\n\n  trackQuestionResult(correctAnswer, selectedChoice, question) {\n    var content = this.props.content;\n    var obj = {\n      action: \"result\",\n      verb: \"viewed\",\n      element: \"quiz-only-choice-question-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(question.question),\n          answer: {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            hit: correctAnswer,\n          },\n        },\n      },\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback(correctAnswer, selectedChoice, question) {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-only-choice-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            position: this.state.current_question + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer: {\n              id: selectedChoice.id,\n              title: StringFormat.HtmlToText(selectedChoice.text),\n              hit: correctAnswer,\n            },\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation(direction) {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-only-choice-question-navigation-next\"\n        : \"quiz-only-choice-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.current_question - 1\n        : this.state.current_question + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.current_question];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.current_question - 1\n              : this.state.current_question + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView(resume) {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-only-choice-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    var evaluative = false;\n    var formatedQuestions = [];\n\n    questions.forEach(question=>{\n      var formatedQuestion = { ... question };\n      formatedQuestion.question = StringFormat.HtmlToText(question.question);\n      formatedQuestions.push(formatedQuestion);\n    })\n\n    for (var i = 0; i < formatedQuestions.length; i++) {\n      if (!formatedQuestions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-only-choice-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: formatedQuestions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n\n    var formatedData = { \n      ... obj,\n      action : \"result\",\n      verb : \"answered\"\n    };\n\n    this.props.onTrackEvent(formatedData);\n\n\n    // if (window.hasOwnProperty('CordovaExec')) {\n    //   window.CordovaExec(function(response) {\n    //     console.log(response);\n    //   }, function(reason) {\n    //     console.log(reason);\n    //     console.error('GlobalMessagePlugin');\n    //   }, 'GlobalMessagePlugin', 'SendMessage', ['ActivityProgress', {\n    //     \"progress\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits)\n    //   }]);\n    // } else {\n    //   this.props.onTrackEvent(obj);\n    // }\n    \n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  trackRemakeQuiz() {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-only-choice-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  // receiveMessage = (event) => {\n\n  //   this.setState({\n  //     \"protocol\": event\n  //   }, () => {\n\n  //     if (event.data !== null && event.data.answered === true) {\n  //       this.setState({\n  //         \"show_result\": true,\n  //         \"grades\": {\n  //           \"rdp_html_content\": {\n  //             \"questions\": event.data.questions,\n  //             \"hits\": event.data.hits,\n  //             \"total\": event.data.total,\n  //             \"percentage_average\": event.data.percentage_average\n  //           }\n  //         }\n  //       });\n  //     };\n\n  //     event.source.postMessage(\"hi there yourself!  the secret response is: rheeeeet!\", event.origin);\n  //   });\n  // }\n\n  renderImage(item) {\n    const style = item.media_max_width\n      ? {maxWidth: item.media_max_width.toString() + \"px\"}\n      : {};\n    if (item.image !== null) {\n      return (\n        <img\n          className=\"element-quiz1-image\"\n          src={item.image}\n          alt=\"Quiz\"\n          style={style}\n        />\n      );\n    }\n  }\n\n  renderVideo(item) {\n    const style = item.media_max_width\n      ? {maxWidth: item.media_max_width.toString() + \"px\"}\n      : {};\n    if (item.video !== null) {\n      return (\n        <video\n          className=\"element-quiz1-video\"\n          controls\n          src={item.video}\n          style={style}\n        />\n      );\n    }\n  }\n\n  handleChangeQuestion(questionChanged, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map((question) => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    this.setState(\n      {\n        content: contentClone,\n      },\n      () => {\n        this.props.onChange(contentClone);\n      }\n    );\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    var language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n      };\n    }\n  }\n\n  renderQuestionQuill(question) {\n    return (\n      <div className=\"element-quiz-1-question\">\n        <div\n          className=\"editor\"\n          dangerouslySetInnerHTML={{__html: question.question}}\n        ></div>\n      </div>\n    );\n  }\n\n  renderChoiceRadio(question, choice) {\n    if (this.state.activeChoices[question.id] === choice.id) {\n      return (\n        <div className=\"element-quiz-1-choice-radio\">\n          <span\n            className=\"element-quiz-1-correct-choice\"\n            style={{backgroundColor: this.state.content.primary_color}}\n          ></span>\n        </div>\n      );\n    } else {\n      return <div className=\"element-quiz-1-choice-radio\"></div>;\n    }\n  }\n\n  onChoiceClick(question, choice) {\n    let {activeChoices = {}} = this.state;\n    activeChoices[question.id] = choice.id;\n    this.setState(\n      {\n        activeChoices: activeChoices,\n      },\n      function () {\n        this.trackAnswerClick(choice);\n      }\n    );\n  }\n\n  handleChangeChoice(question, choice, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map((qtion) => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map((ch) => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        });\n      return qtion;\n    });\n\n    this.setState(\n      {\n        content: contentClone,\n      },\n      () => {\n        this.props.onChange(contentClone);\n      }\n    );\n  }\n\n  renderChoiceQuill(question, choice, index) {\n    let {content, activeChoices} = this.state;\n    let classSelected = null;\n    let colorChoice = content.primary_color;\n    if (activeChoices[question.id] === choice.id) {\n      classSelected = \"choice-selected\";\n      if (question.answered) {\n        let correctAnswer = false;\n        question.choices.map((ch) => {\n          if (ch.correct && activeChoices[question.id] === ch.id) {\n            correctAnswer = true;\n          }\n        });\n\n        if (!question.no_correct_answer) {\n          colorChoice = correctAnswer ? content.correct_color : content.incorrect_color;\n        }\n        classSelected = \"choice-answered\";\n      }\n    }\n\n    return (\n      <div\n        key={choice.id}\n        style={\n          classSelected && {\n            borderColor: colorChoice ? colorChoice : content.primary_color,\n          }\n        }\n        className={`element-quiz-1-choice ${classSelected}`}\n        onClick={() =>\n          !question.answered && this.onChoiceClick(question, choice)\n        }\n      >\n        {this.renderChoiceRadio(question, choice)}\n        <div\n          className=\"element-quiz-1-choice-text\"\n          dangerouslySetInnerHTML={{__html: choice.text}}\n        ></div>\n        {(choice.image && this.renderImage(choice)) ||\n          (choice.video && this.renderVideo(choice))}\n      </div>\n    );\n  }\n\n  renderChoices(question) {\n    var _this = this;\n    var choices = question.choices;\n\n    return (\n      <ul className=\"element-quiz-1-choices\">\n        {choices.map(function (choice, index) {\n          return _this.renderChoiceQuill(question, choice, index);\n        })}\n      </ul>\n    );\n  }\n\n  renderPreviousQuestionBtn() {\n    const {primary_color} = this.state.content;\n    let current_question = this.state.current_question;\n    if (current_question !== 0) {\n      return (\n        <button\n          style={{color: primary_color}}\n          onClick={() => this.onNavigateQuestions(\"prev\")}\n          className=\"rdp-react-quiz-navigation-previous-btn\"\n        >\n          {this.getLabels().previous}\n        </button>\n      );\n    }\n  }\n\n  onNavigateQuestions(direction) {\n    var current = this.state.current_question;\n    var current_question = direction === \"next\" ? current + 1 : current - 1;\n\n    this.setState(\n      {\n        current_question: current_question,\n      },\n      function () {\n        this.trackNavigation(direction);\n        this.trackQuestionView();\n      }\n    );\n  }\n\n  renderNextQuestionBtn() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var questions_count = questions.length;\n    if (questions_count !== current_question + 1) {\n      return (\n        <button\n          style={{color: primary_color}}\n          onClick={() => this.onNavigateQuestions(\"next\")}\n          className=\"rdp-react-quiz-navigation-next-btn\"\n        >\n          {this.getLabels().next}\n        </button>\n      );\n    }\n  }\n\n  renderFinishBtn() {\n    const {current_question, content, activeChoices, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = current_question + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map((q) => {\n      if (activeChoices[q.id] && q.answered) {\n        answeredQuestions++;\n      }\n    });\n    let disabledBtn = questions_count !== answeredQuestions;\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      );\n    }\n  }\n\n  renderProgress() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var current = current_question + 1;\n    var total = questions.length;\n    var percentage = (100 / total) * current + \"%\";\n    return (\n      <div className=\"rdp-react-quiz-navigation-progress\">\n        <div className=\"rdp-react-quiz-navigation-progress-bar-placeholder\">\n          <div\n            style={{width: percentage, backgroundColor: primary_color}}\n            className=\"rdp-react-quiz-navigation-progress-bar\"\n          ></div>\n        </div>\n        <span\n          style={{color: primary_color}}\n          className=\"rdp-react-quiz-navigation-progress-count\"\n        >\n          {current}/{total}\n        </span>\n      </div>\n    );\n  }\n\n  renderNavigation() {\n    return (\n      <div className=\"rdp-react-quiz-navigation\">\n        {this.renderPreviousQuestionBtn()}\n        {this.renderProgress()}\n        {this.renderNextQuestionBtn()}\n        {this.renderFinishBtn()}\n      </div>\n    );\n  }\n\n  defineAnswered = (idQuestion, resetAll = false) => {\n    const {activeChoices, content} = this.state;\n    let cloneContent = {...content};\n\n    let changedQuestions = content.questions.map((question) => {\n      if (question.id === idQuestion) {\n        question.answered = true;\n      }\n      if (resetAll === true) {\n        question.answered = false;\n      }\n      return question;\n    });\n\n    cloneContent.questions = changedQuestions;\n    this.setState(\n      {\n        content: cloneContent,\n      },\n      () => {\n        try {\n          this.props.handleComplete(cloneContent, activeChoices);\n        } catch (e) {\n          console.error(e)\n        }\n        this.trackAnswerConfirmClick(idQuestion, changedQuestions);\n      }\n    );\n  };\n\n  renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && this.renderImage({image, media_max_width})) ||\n          (video && this.renderVideo({video, media_max_width}))}\n        {msg && <p>{msg}</p>}\n      </div>\n    );\n  };\n\n  renderCorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_correct && question.feedback_correct.text) ? question.feedback_correct.text : msg;\n      image = (question.feedback_correct && question.feedback_correct.image) ? question.feedback_correct.image : image;\n      video = (question.feedback_correct && question.feedback_correct.video) ? question.feedback_correct.video : video;\n      media_max_width = (question.feedback_correct && question.feedback_correct.media_max_width) ? question.feedback_correct.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            width=\"56px\"\n            height=\"56px\"\n            viewBox=\"0 0 512 512\"\n            enableBackground=\"new 0 0 512 512\"\n            space=\"preserve\"\n          >\n            <path\n              fill={\n                content.correct_color\n                  ? content.correct_color\n                  : content.primary_color\n              }\n              d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"\n            />\n            <path\n              fill={\n                content.correct_color\n                  ? content.correct_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"\n            />\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  };\n\n  renderIncorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_incorrect && question.feedback_incorrect.text) ? question.feedback_incorrect.text : msg;\n      image = (question.feedback_incorrect && question.feedback_incorrect.image) ? question.feedback_incorrect.image : image;\n      video = (question.feedback_incorrect && question.feedback_incorrect.video) ? question.feedback_incorrect.video : video;\n      media_max_width = (question.feedback_incorrect && question.feedback_incorrect.media_max_width) ? question.feedback_incorrect.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            width=\"56px\"\n            height=\"56px\"\n            viewBox=\"0 0 512 512\"\n            enableBackground=\"new 0 0 512 512\"\n            space=\"preserve\"\n          >\n            <path\n              fill={\n                content.incorrect_color\n                  ? content.incorrect_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"\n            />\n            <path\n              fill={\n                content.incorrect_color\n                  ? content.incorrect_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"\n            />\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  };\n\n  verifyAnswer = (question) => {\n    const {activeChoices} = this.state;\n    const {feedback} = this.state.content;\n\n    let correctAnswer = false;\n    question.choices.map((choice) => {\n      if (choice.correct && activeChoices[question.id] === choice.id) {\n        correctAnswer = true;\n      }\n    });\n\n    const no_correct_answer = question.no_correct_answer;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-1-feedback-msg\">\n          {(correctAnswer && !no_correct_answer)\n            ? this.renderCorrectMsg(question)\n            : (!no_correct_answer)\n              ? this.renderIncorrectMsg(question)\n              : this.renderCustomMsg(question)\n          }\n        </div>\n      );\n    }\n  };\n\n  renderFeedback(question) {\n    const {content, activeChoices} = this.state;\n    const {primary_color} = content;\n\n    return (\n      <div className=\"element-quiz-1-feedback-container\">\n        {question.answered ? (\n          this.verifyAnswer(question)\n        ) : (\n          <button\n            onClick={() =>\n              activeChoices[question.id] && this.defineAnswered(question.id)\n            }\n            style={{\n              backgroundColor: activeChoices[question.id]\n                ? primary_color\n                : \"#F1F1F1\",\n            }}\n            className=\"element-quiz-1-btn-confirm\"\n          >\n            {this.getLabels().confirm}\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  renderQuestionare(question) {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n\n    return (\n      <div>\n        <div className=\"element-quiz-1-header\">\n          <span style={{color: primary_color}}>\n            {this.getLabels().question} {current_question + 1}\n          </span>\n          <span style={{color: primary_color}}>\n            {current_question + 1}/{questions.length}\n          </span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {this.renderImage(question)}\n        {this.renderVideo(question)}\n        {this.renderChoices(question)}\n        {this.renderFeedback(question)}\n        {this.renderNavigation()}\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {current_question, content, show_result} = this.state;\n    const {questions, primary_color} = content;\n    if (questions) {\n      let question = questions[current_question];\n      return (\n        <div className=\"element-quiz-1-container\">\n          {question && !show_result\n            ? this.renderQuestionare(question)\n            : this.renderResult()}\n        </div>\n      );\n    }\n  }\n\n  onFinishClick() {\n    const {\n      content,\n      activeChoices,\n      custom_options,\n      attempsMade\n    } = this.state;\n   \n\n    const {questions} = content;\n\n    //evita qualquer alterao na estrutura original.\n    let copyQuestion = JSON.parse(JSON.stringify(questions));\n    let hits = 0;\n    let total = copyQuestion.length;\n\n    copyQuestion.map(async (question) => {\n      let object_data = {};\n      if (question.answered) {\n        question.choices.map((choice) => {\n          if (activeChoices[question.id] === choice.id) {\n            object_data = choice;\n            choice.user_selected = true;\n\n            if (choice.correct) {\n              hits++;\n            }\n          }\n        });\n      }\n\n      try \n      {\n        const { interaction_uid } = custom_options;\n\n        await API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: {\n            id: object_data.id,\n            correct: object_data.correct,\n            text: object_data.text,\n          },\n          score: object_data.correct ? \"100\" : \"0\",\n        }, custom_options);\n      }catch(e)\n      {\n        console.log(e);\n      }\n    });\n\n    var formatedQuestions = [ ]\n    copyQuestion.forEach(question=> {\n      question.question = StringFormat.HtmlToText(question.question);\n      question.choices.forEach(choice=> choice.text = StringFormat.HtmlToText(choice.text));\n      formatedQuestions.push(question);\n    });\n\n    var resume = {\n      rdp_html_content: {\n        questions: formatedQuestions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState(\n      {\n        grades: resume,\n        show_result: true,\n        answered: true,\n        attempsMade: attempsMade + 1,\n      },\n      () => {\n        try {\n          this.props.handleComplete(content, activeChoices);\n        } catch (error) {\n          console.log(error);\n        }\n\n        // this.trackQuizFinishView(resume);\n        this.trackQuizResult(copyQuestion, resume);\n\n        // if (protocol !== null && typeof protocol !== \"undefined\") {\n        //   protocol.source.postMessage(resume, protocol.origin);\n        // } else {\n        //   console.log(\"ERRO - PROTOCOL NOT FOUND\");\n        // }\n        let score = (100 / total) * hits;\n        let finished = true;\n\n        if (\n          content.utilization &&\n          content.utilization.enabled &&\n          (content.scorm_progress_count === \"with_finish_and_minimum_score\" && content.utilization.percentage > score) &&\n          (content.scorm_progress_count === \"with_finish_and_minimum_score\" || content.scorm_progress_count === \"with_finish_without_minimum_score\")\n        ) {\n          finished = false;\n        }\n\n        try {\n          this.props.handleFinish(content, {\n            score,\n            finished,\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    );\n  }\n\n  onRemakeQuestionnaire() {\n    this.defineAnswered(0, true);\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      current_question: 0,\n      activeChoices: [],\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel(hits, total, percentage) {\n    var language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return `You got ${hits} of ${total} questions right, equivalent to ${percentage} of the quiz.`;\n    } else if (language === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes, o equivalente a ${percentage} do questionrio.`;\n    }\n  }\n\n  renderFinalMessage(grades) {\n    var feedback = this.state.content.feedback.type;\n    if (feedback === \"disabled\") {\n      return (\n        <span className=\"rdp-react-quiz-result-message\">\n          {this.getLabels().finish_quiz_message}\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"rdp-react-quiz-result-message\">\n          {this.getResultLabel(\n            grades.hits,\n            grades.total,\n            `${parseFloat(grades.percentage_average).toFixed(0)}%`\n          )}\n        </span>\n      );\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result} = this.state;\n\n    if (show_result === true) {\n      var grades = this.state.grades.rdp_html_content;\n      return (\n        <div className=\"rdp-react-quiz-result\">\n          <span className=\"rdp-react-quiz-result-icon\"></span>\n          {this.renderFinalMessage(grades)}\n          {this.userCanRemakeQuiz() && (\n            <div\n              className=\"rdp-react-quiz-remake-btn\"\n              onClick={() => this.onRemakeQuestionnaire()}\n            >\n              <span className=\"rdp-react-quiz-remake-btn-icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xlink=\"http://www.w3.org/1999/xlink\"\n                  version=\"1.1\"\n                  id=\"Layer_1\"\n                  x=\"0px\"\n                  y=\"0px\"\n                  width=\"32px\"\n                  height=\"32px\"\n                  viewBox=\"0 0 512 512\"\n                  enableBackground=\"new 0 0 512 512\"\n                  space=\"preserve\"\n                >\n                  <g>\n                    <path\n                      fill={\n                        content.primary_color\n                          ? content.primary_color\n                          : \"#111111\"\n                      }\n                      d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"\n                    />\n                    <path\n                      fill={\n                        content.primary_color\n                          ? content.primary_color\n                          : \"#111111\"\n                      }\n                      d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <span className=\"rdp-react-quiz-remake-btn-text\">\n                {this.getLabels().retry}\n              </span>\n            </div>\n          )}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  render() {\n    let {headerActionsTemplate, content} = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\",\n    };\n\n    return (\n      <div\n        id={content.id}\n        ref={this.elementRef}\n        className={`${this.props.className} ${\n          this.getFont(content.font_family) || \"\"\n        }`}\n        style={accordionStyle}\n      >\n        {headerActionsTemplate}\n        {this.renderContent()}\n      </div>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  ContainerFinishButton,\n  RemakeButtonContainer,\n  NextButtonContainer,\n  ContainedButton\n}","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-2.css';\nimport API from \"../../services\";\nimport {ContainedButton, ContainerFinishButton} from \"./element-quiz-2.styled\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz2 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromDefaultData = this.loadContentFromDefaultData.bind(this);\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      visible: false,\n      activeChoices: {},\n      current_question: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      protocol: null,\n      custom_options: window.cstmptns,\n      user: {\n        roles: []\n      }\n    }\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n      this.trackElementView();\n    }\n  }\n\n  async getSignedUserFromJwt() {\n\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return await new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  loadContentFromDefaultData(defaultData) {\n    try {\n      const {content} = this.props;\n      let cloneContent = content;\n      let loadActiveChoices;\n\n      if (defaultData && defaultData.elements) {\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        cloneContent.questions = cloneContent.questions.map((question) => {\n          question.answered = false;\n          if (defaultData.elements[content.id].answers[question.id]) {\n            question.answered = true;\n          }\n          return question;\n        });\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n\n    if (custom_options == undefined) return;\n    const { interaction_uid } = custom_options;\n\n    return new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeChoices = {...this.state.activeChoices};\n    activeChoices[question.id] = [];\n\n    const answersIds = answer.map((answer) => {\n      return answer.id;\n    });\n\n    question.choices.map((choice) => {\n      if (answersIds.includes(choice.id)) {\n        activeChoices[question.id].push(choice.id);\n      }\n      return choice;\n    });\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n      activeChoices,\n    } = this.state;\n    const {questions} = content;\n\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async question => {\n      let totalCorrects = 0;\n      let correctsAnswered = 0;\n      if (question.answered) {\n        question.choices.map(choice => {\n          if (choice.correct) {\n            totalCorrects++;\n            if (activeChoices[question.id].includes(choice.id)) {\n              correctsAnswered++;\n            }\n          }\n        });\n        if (totalCorrects === correctsAnswered && correctsAnswered === activeChoices[question.id].length) {\n          hits++;\n        }\n      }\n    });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quiz-multiple-choice\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n        ;\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      ;\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n    ;\n  }\n\n  trackQuestionView() {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      \"action\": \"view\",\n      \"element\": \"quiz-multiple-choice-question\",\n      \"verb\": \"viewed\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": currentQuestion.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(currentQuestion.question)\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick(choice) {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      \"action\": \"click\",\n      \"verb\": \"focused\",\n      \"element\": \"quiz-multiple-choice-question-answer\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": currentQuestion.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(currentQuestion.question),\n          \"answer\": {\n            \"id\": choice.id,\n            \"title\": StringFormat.HtmlToText(choice.text)\n          }\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(questionId, questions) {\n    let content = this.props.content;\n    const {activeChoices} = this.state;\n\n    let question = null;\n    for (var i = 0; i < questions.length; i++) {\n      if (questions[i].id === questionId) {\n        question = questions[i];\n      }\n      ;\n    }\n    ;\n\n    if (question !== null) {\n      let selectedChoices = [];\n      let correctAnswer = false;\n      question.choices.map(choice => {\n        if (activeChoices[question.id].includes(choice.id)) {\n          selectedChoices.push(choice);\n          if (choice.correct) {\n            correctAnswer = true;\n          }\n        }\n      });\n      var obj = {\n        \"action\": \"click\",\n        \"element\": \"quiz-multiple-choice-question-confirm-answer\",\n        \"verb\": \"answered\",\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"composition_uid\": window.structure.metadata.content_uid,\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n          \"question\": {\n            \"id\": question.id,\n            \"position\": this.state.current_question + 1,\n            \"title\": StringFormat.HtmlToText(question.question),\n            \"answer\": selectedChoices.map(selectedChoice => ({\n              \"id\": selectedChoice.id,\n              \"title\": StringFormat.HtmlToText(selectedChoice.text),\n              \"correct\": correctAnswer\n            })),\n            \"answers\": question.choices\n          }\n        }\n      }\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionResult(correctAnswer, selectedChoices, question);\n      // this.trackQuestionFeedback(correctAnswer, selectedChoices, question);\n    }\n  }\n\n  trackQuestionResult(correctAnswer, selectedChoices, question) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"result\",\n      \"verb\": \"viewed\",\n      \"element\": \"quiz-multiple-choice-question-result\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": question.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(question.question),\n          \"answer\": selectedChoices.map(selectedChoice => ({\n            \"id\": selectedChoice.id,\n            \"title\": StringFormat.HtmlToText(selectedChoice.text),\n            \"correct\": correctAnswer\n          })),\n        }\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback(correctAnswer, selectedChoices, question) {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        \"action\": \"view\",\n        \"element\": \"quiz-multiple-choice-question-feedback\",\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"composition_uid\": window.structure.metadata.content_uid,\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n          \"question\": {\n            \"id\": question.id,\n            \"position\": this.state.current_question + 1,\n            \"title\": StringFormat.HtmlToText(question.question),\n            \"answer\": selectedChoices.map(selectedChoice => ({\n              \"id\": selectedChoice.id,\n              \"title\": StringFormat.HtmlToText(selectedChoice.text),\n              \"correct\": correctAnswer\n            })),\n          }\n        }\n      }\n\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation(direction) {\n    var content = this.props.content;\n    var element = direction === \"next\" ? \"quiz-multiple-choice-question-navigation-next\" : \"quiz-multiple-choice-question-navigation-previous\";\n    var source = direction === \"next\" ? this.state.current_question - 1 : this.state.current_question + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.current_question];\n\n    var obj = {\n      \"action\": \"click\",\n      \"element\": element,\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": direction === \"next\" ? \"advanced\" : \"retreated\",\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": question.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(question.question)\n        },\n        \"source_question\": {\n          \"id\": source_question.id,\n          \"position\": (direction === \"next\" ? this.state.current_question - 1 : this.state.current_question + 1) + 1,\n          \"title\": StringFormat.HtmlToText(source_question.question)\n        }\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView(resume) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"view\",\n      \"element\": \"quiz-multiple-choice-feedback\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    var evaluative = false;\n\n    for (var i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"view\",\n      \"verb\": \"viewed\",\n      \"element\": \"quiz-multiple-choice-result\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"questions\": questions\n      }\n    }\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        \"hits\": resume.rdp_html_content.hits,\n        \"total\": resume.rdp_html_content.total,\n        \"percentage_average\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits),\n        \"min_percentage\": resume.rdp_html_content.min_percentage\n      }\n    }\n    ;\n\n    // if (window.hasOwnProperty('CordovaExec')) {\n    //   window.CordovaExec(function(response) {\n    //     console.log(response);\n    //   }, function(reason) {\n    //     console.log(reason);\n    //     console.error('GlobalMessagePlugin');\n    //   }, 'GlobalMessagePlugin', 'SendMessage', ['ActivityProgress', {\n    //     \"progress\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits)\n    //   }]);\n    // } else {\n    //   this.props.onTrackEvent(obj);\n    // }\n    this.props.onTrackEvent(obj);\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  trackRemakeQuiz() {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"quiz-multiple-choice-remake\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  manipulateItems() {\n    const {content, defaultData} = this.props;\n    let cloneContent = content;\n    let loadActiveChoices = {};\n    if (defaultData && defaultData.elements && defaultData.elements[content.id]) {\n      loadActiveChoices = defaultData.elements[content.id].answers ? defaultData.elements[content.id].answers : []\n      cloneContent.questions = cloneContent.questions.map(question => {\n        question.answered = false;\n        if (defaultData.elements[content.id].answers[question.id]) {\n          question.answered = true;\n        }\n        return question;\n      });\n    }\n\n    this.setState({\n      content: cloneContent,\n      current_question: 0,\n      activeChoices: loadActiveChoices ? loadActiveChoices : {},\n      custom_options: window.cstmptns,\n    })\n  }\n\n  // receiveMessage = (event) => {\n\n  //   this.setState({\n  //     \"protocol\": event\n  //   }, () => {\n\n  //     if (event.data !== null && event.data.answered === true) {\n  //       this.setState({\n  //         \"show_result\": true,\n  //         \"grades\": {\n  //           \"rdp_html_content\": {\n  //             \"questions\": event.data.questions,\n  //             \"hits\": event.data.hits,\n  //             \"total\": event.data.total,\n  //             \"percentage_average\": event.data.percentage_average\n  //           }\n  //         }\n  //       });\n  //     };\n\n  //     event.source.postMessage(\"hi there yourself!  the secret response is: rheeeeet!\", event.origin);\n  //   });\n  // }\n\n  renderImage(item) {\n    const style = item.media_max_width ? {maxWidth: item.media_max_width.toString() + 'px'} : {};\n    if (item.image !== null) {\n      return <img className=\"element-quiz-2-image\" src={item.image} alt=\"Composer\" style={style}/>\n    }\n  }\n\n  renderVideo(item) {\n    const style = item.media_max_width ? {maxWidth: item.media_max_width.toString() + 'px'} : {};\n    if (item.video !== null) {\n      return <video className=\"element-quiz-2-video\" controls src={item.video} style={style}/>\n    }\n  }\n\n  handleChangeQuestion(questionChanged, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map(question => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    this.setState({\n      \"content\": contentClone\n    }, () => {\n      this.props.onChange(contentClone);\n    });\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    var language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        \"confirm\": \"Confirm\",\n        \"question\": \"Question\",\n        \"back\": \"Back\",\n        \"retry\": \"Try again\",\n        \"previous\": \"Previous\",\n        \"next\": \"Next\",\n        \"finish\": questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        \"incorrect\": \"Incorrect\",\n        \"right\": \"Right!\",\n        \"finish_quiz_message\": \"You have completed this quiz.\"\n      }\n    } else if (language === \"pt_br\") {\n      return {\n        \"confirm\": \"Confirmar\",\n        \"question\": \"Questo\",\n        \"retry\": \"Refazer atividade\",\n        \"previous\": \"Anterior\",\n        \"next\": \"Prximo\",\n        \"finish\": questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        \"incorrect\": \"Incorreto\",\n        \"right\": \"Correto!\",\n        \"finish_quiz_message\": \"Voc finalizou este questionrio.\"\n      }\n    }\n  }\n\n  renderQuestionQuill = (question) => {\n    return (\n      <div className=\"element-quiz-2-question\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: question.question}}></div>\n      </div>\n    );\n\n  }\n\n  renderChoiceRadio(question, choice) {\n    const {activeChoices} = this.state;\n    if (activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n      return <div className=\"element-quiz-2-choice-radio\">\n        <svg className=\"element-quiz-2-correct-choice\" xmlns=\"http://www.w3.org/2000/svg\"\n             xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"9px\"\n             viewBox=\"0 0 12 9\" enableBackground=\"new 0 0 12 9\" space=\"preserve\">\n          <polygon fillRule=\"evenodd\" clipRule=\"evenodd\" fill={this.state.content.primary_color}\n                   points=\"10.15,0.062 4.505,5.782 1.595,2.9 0.032,4.431   4.635,8.98 11.973,1.909 \"/>\n        </svg>\n      </div>\n    } else {\n      return <div className=\"element-quiz-2-choice-radio\"></div>\n    }\n  }\n\n  onChoiceClick(question, choice) {\n    let activeChoices = this.state.activeChoices;\n    if (activeChoices[question.id]) {\n      if (activeChoices[question.id].includes(choice.id)) {\n        activeChoices[question.id] = activeChoices[question.id].filter(selected => {\n          if (selected !== choice.id) return selected;\n        });\n      } else {\n        activeChoices[question.id].push(choice.id);\n      }\n    } else {\n      activeChoices[question.id] = [];\n      activeChoices[question.id].push(choice.id);\n    }\n\n    this.setState({\n      activeChoices: activeChoices\n    }, function () {\n      this.trackAnswerClick(choice);\n    })\n  }\n\n  handleChangeChoice(question, choice, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map(qtion => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map(ch => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        })\n      return qtion;\n    });\n\n    this.setState({\n      \"content\": contentClone\n    }, () => {\n      this.props.onChange(contentClone);\n    });\n\n  }\n\n  renderChoiceQuill(question, choice, index) {\n    let {content, activeChoices} = this.state;\n    let classSelected = null;\n    let colorChoice = content.primary_color;\n    if (activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n      classSelected = \"choice-selected\";\n      if (question.answered) {\n        let correctAnswer = true;\n        let totalCorrects = 0;\n        question.choices.map(ch => {\n          if (ch.correct) totalCorrects++;\n          if (!ch.correct && activeChoices[question.id].includes(ch.id)) {\n            correctAnswer = false;\n          }\n        });\n        if (!activeChoices[question.id] || totalCorrects !== activeChoices[question.id].length) correctAnswer = false;\n        if (!question.no_correct_answer) {\n          colorChoice = correctAnswer ? content.correct_color : content.incorrect_color;\n        }\n        classSelected = \"choice-answered\";\n      }\n    }\n\n    return (\n      <div key={choice.id} style={classSelected && {borderColor: colorChoice ? colorChoice : content.primary_color}}\n           className={`element-quiz-2-choice ${classSelected}`}\n           onClick={() => !question.answered && this.onChoiceClick(question, choice)}\n      >\n        {this.renderChoiceRadio(question, choice)}\n        <div className=\"element-quiz-2-choice-text\" dangerouslySetInnerHTML={{__html: choice.text}}></div>\n        {(choice.image && this.renderImage(choice)) || (choice.video && this.renderVideo(choice))}\n      </div>\n    )\n\n  }\n\n  renderChoices(question) {\n    var _this = this;\n    var choices = question.choices;\n\n    return <ul className=\"element-quiz-2-choices\">\n      {choices.map(function (choice, index) {\n        return _this.renderChoiceQuill(question, choice, index)\n      })}\n    </ul>\n  }\n\n  renderPreviousQuestionBtn() {\n    const {primary_color} = this.state.content;\n    let current_question = this.state.current_question;\n    if (current_question !== 0) {\n      return <button style={{color: primary_color}}\n                     onClick={() => this.setState({\"current_question\": current_question - 1}, function () {\n                       this.trackNavigation(\"prev\");\n                       this.trackQuestionView();\n                     })}\n                     className=\"rdp-react-quiz-navigation-previous-btn\">{this.getLabels().previous}</button>\n    }\n  }\n\n  renderNextQuestionBtn() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var questions_count = questions.length;\n    if (questions_count !== (current_question + 1)) {\n      return <button style={{color: primary_color}}\n                     onClick={() => this.setState({\"current_question\": current_question + 1}, function () {\n                       this.trackNavigation(\"next\");\n                       this.trackQuestionView();\n                     })}\n                     className=\"rdp-react-quiz-navigation-next-btn\">{this.getLabels().next}</button>\n    }\n  }\n\n  renderFinishBtn() {\n    const {current_question, content, activeChoices, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = current_question + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map(q => {\n      if (activeChoices[q.id] && q.answered) {\n        answeredQuestions++;\n      }\n    })\n    let disabledBtn = questions_count !== answeredQuestions;\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      )\n    }\n  }\n\n  renderProgress() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var current = current_question + 1;\n    var total = questions.length;\n    var percentage = (100 / total * current) + \"%\";\n    return <div className=\"rdp-react-quiz-navigation-progress\">\n      <div className=\"rdp-react-quiz-navigation-progress-bar-placeholder\">\n        <div style={{width: percentage, backgroundColor: primary_color}}\n             className=\"rdp-react-quiz-navigation-progress-bar\"></div>\n      </div>\n      <span style={{color: primary_color}} className=\"rdp-react-quiz-navigation-progress-count\">{current}/{total}</span>\n    </div>\n  }\n\n  renderNavigation() {\n    return (\n      <div className=\"rdp-react-quiz-navigation\">\n        {this.renderPreviousQuestionBtn()}\n        {this.renderProgress()}\n        {this.renderNextQuestionBtn()}\n        {this.renderFinishBtn()}\n      </div>\n    );\n  }\n\n  defineAnswered = (idQuestion, resetAll = false) => {\n    let cloneContent = this.state.content;\n    let changedQuestions = this.state.content.questions.map(question => {\n      if (question.id === idQuestion) {\n        question.answered = true;\n      }\n      if (resetAll === true) {\n        question.answered = false;\n      }\n      return question;\n    });\n    cloneContent.questions = changedQuestions;\n    this.setState({\n      \"content\": cloneContent\n    }, () => {\n      try {\n        this.props.handleComplete(cloneContent, this.state.activeChoices);\n      } catch (e) {\n        console.error(e);\n      }\n      this.trackAnswerConfirmClick(idQuestion, changedQuestions);\n    });\n  }\n\n  renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        {msg && <p>{msg}</p>}\n      </div>\n    )\n  }\n\n  renderCorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_correct && question.feedback_correct.text) ? question.feedback_correct.text : msg;\n      image = (question.feedback_correct && question.feedback_correct.image) ? question.feedback_correct.image : image;\n      video = (question.feedback_correct && question.feedback_correct.video) ? question.feedback_correct.video : video;\n      media_max_width = (question.feedback_correct && question.feedback_correct.media_max_width) ? question.feedback_correct.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.correct_color ? content.correct_color : content.primary_color}\n                  d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"/>\n            <path fill={content.correct_color ? content.correct_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"/>\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  renderIncorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_incorrect && question.feedback_incorrect.text) ? question.feedback_incorrect.text : msg;\n      image = (question.feedback_incorrect && question.feedback_incorrect.image) ? question.feedback_incorrect.image : image;\n      video = (question.feedback_incorrect && question.feedback_incorrect.video) ? question.feedback_incorrect.video : video;\n      media_max_width = (question.feedback_incorrect && question.feedback_incorrect.media_max_width) ? question.feedback_incorrect.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"/>\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"/>\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  verifyAnswer = (question) => {\n    const {activeChoices} = this.state;\n    const {feedback} = this.state.content;\n\n    let correctAnswer = true;\n    let totalCorrects = 0;\n    question.choices.map(choice => {\n      if (choice.correct) totalCorrects++;\n      if (!choice.correct && activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n        correctAnswer = false;\n      }\n    });\n    if (!activeChoices[question.id] || totalCorrects !== activeChoices[question.id].length) correctAnswer = false;\n\n    const no_correct_answer = question.no_correct_answer;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-2-feedback-msg\">\n          {(correctAnswer && !no_correct_answer)\n            ? this.renderCorrectMsg(question)\n            : (!no_correct_answer)\n              ? this.renderIncorrectMsg(question)\n              : this.renderCustomMsg(question)\n          }\n        </div>\n      );\n    }\n    ;\n\n  }\n\n  renderFeedback(question) {\n    const {content, activeChoices} = this.state;\n    const {primary_color,} = content;\n\n    return (\n      <div className=\"element-quiz-2-feedback-container\">\n        {question.answered ?\n          this.verifyAnswer(question)\n          :\n          <button onClick={() => activeChoices[question.id] && this.defineAnswered(question.id)}\n                  style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n                  className=\"element-quiz-1-btn-confirm\">{this.getLabels().confirm}</button>\n        }\n      </div>\n    );\n\n  }\n\n  renderQuestionare(question) {\n    const {current_question, content} = this.state;\n    const {questions, primary_color,} = content;\n    return (\n      <div>\n        <div className=\"element-quiz-2-header\">\n          <span style={{color: primary_color}}>{this.getLabels().question} {current_question + 1}</span>\n          <span style={{color: primary_color}}>{current_question + 1}/{questions.length}</span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {this.renderImage(question)}\n        {this.renderVideo(question)}\n        {this.renderChoices(question)}\n        {this.renderFeedback(question)}\n        {this.renderNavigation()}\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {current_question, content, show_result} = this.state;\n    const {questions} = content;\n    if (questions) {\n      let question = questions[current_question];\n      return (\n        <div className=\"element-quiz-2-container\">\n          {question && !show_result ? this.renderQuestionare(question) : this.renderResult()}\n        </div>\n      )\n    }\n  }\n\n\n  onFinishClick() {\n    const {\n      content,\n      activeChoices,\n      custom_options,\n      attempsMade\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async question => {\n      let totalCorrects = 0;\n      let correctsAnswered = 0;\n      let score = \"0\";\n      if (question.answered) {\n        question.choices.map(choice => {\n          if (choice.correct) {\n            totalCorrects++;\n            if (activeChoices[question.id].includes(choice.id)) {\n              correctsAnswered++;\n            }\n          }\n        });\n        if (totalCorrects === correctsAnswered && correctsAnswered === activeChoices[question.id].length) {\n          hits++;\n          score = \"100\";\n        }\n      }\n\n      const choises = activeChoices[question.id] || [];\n      const object_data = question.choices.filter(choise => choises.includes(choise.id));\n\n      if (custom_options) {\n        const {\n          interaction_uid,\n        } = custom_options;\n\n        await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .createObject({\n            context_uid: content.id,\n            type: content.type,\n            target_uid: question.id,\n            object_data,\n            score,\n          }, custom_options);\n      }\n    });\n\n    var resume = {\n      \"rdp_html_content\": {\n        \"questions\": questions,\n        \"hits\": hits,\n        \"total\": total,\n        \"percentage_average\": (100 / total * hits),\n        \"min_percentage\": content.utilization.percentage\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n    });\n\n    this.props.handleComplete(content, activeChoices);\n\n    let score = (100 / total * hits);\n    let finished = true;\n\n    \n    if (\n      content.utilization &&\n      content.utilization.enabled &&\n      (content.scorm_progress_count === \"with_finish_and_minimum_score\" && content.utilization.percentage > score) &&\n      (content.scorm_progress_count === \"with_finish_and_minimum_score\" || content.scorm_progress_count === \"with_finish_without_minimum_score\")\n    ) {\n      finished = false;\n    }\n\n    try {\n      this.props.handleFinish(content, {\n        score,\n        finished\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    // this.trackQuizFinishView(resume);\n    this.trackQuizResult(questions, resume);\n\n    // if (protocol !== null && typeof protocol !== \"undefined\") {\n    //   protocol.source.postMessage(resume, protocol.origin);\n    // } else {\n    //   console.log(\"ERRO - PROTOCOL NOT FOUND\");\n    // }\n\n    this.setState({\n      attempsMade: attempsMade + 1,\n    })\n  }\n\n  onRemakeQuestionnaire() {\n    this.defineAnswered(0, true);\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      current_question: 0,\n      activeChoices: [],\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel(hits, total, percentage) {\n    var language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return `You got ${hits} of ${total} questions right, equivalent to ${percentage} of the quiz.`\n    } else if (language === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes, o equivalente a ${percentage} do questionrio.`\n    }\n    ;\n  }\n\n  renderFinalMessage(grades) {\n    var feedback = this.state.content.feedback.type;\n    if (feedback === \"disabled\") {\n      return <span className=\"rdp-react-quiz-result-message\">{this.getLabels().finish_quiz_message}</span>\n    } else {\n      return <span\n        className=\"rdp-react-quiz-result-message\">{this.getResultLabel(grades.hits, grades.total, `${parseFloat(grades.percentage_average).toFixed(0)}%`)}</span>;\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n\n    if (show_result === true) {\n      let grades = this.state.grades.rdp_html_content;\n      return (\n        <div className=\"rdp-react-quiz-result\">\n          <span className=\"rdp-react-quiz-result-icon\"></span>\n          {this.renderFinalMessage(grades)}\n          {this.userCanRemakeQuiz() &&\n            <div className=\"rdp-react-quiz-remake-btn\" onClick={() => this.onRemakeQuestionnaire()}>\n            <span className=\"rdp-react-quiz-remake-btn-icon\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n                   x=\"0px\" y=\"0px\" width=\"32px\" height=\"32px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n                   space=\"preserve\">\n                <g>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"/>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"/>\n                </g>\n              </svg>\n            </span>\n              <span className=\"rdp-react-quiz-remake-btn-text\">{this.getLabels().retry}</span>\n            </div>}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let {headerActionsTemplate, content} = this.props;\n    let accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`}\n                style={accordionStyle}>\n      {headerActionsTemplate}\n      {this.renderContent()}\n    </div>\n  }\n\n}\n","import styled from \"styled-components\";\n\n\nexport const Navigation = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #f9f9f9;\n  width: 100%;\n  height: 50px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n`;\n\nexport const Button = styled.button`\n  background: transparent;\n  color: ${props => props.primaryColor || \"#2d7b45\"};\n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: 11px;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 2px;\n  cursor: pointer;\n  font-family: Lato-Bold, serif;\n\n  &:disabled,\n  &[disabled=\"true\"],\n  &[disabled=\"disabled\"] {\n    color: #A1A1A1;\n    cursor: default;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: ${props => props.justify || \"middle\"};\n`;\n\nexport const ContainedButton = styled(Button)`\n  background: ${props => props.primaryColor || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  margin-right: 20px;\n\n  &:disabled,\n  &[disabled=\"true\"],\n  &[disabled=\"disabled\"] {\n    cursor: not-allowed;\n    opacity: 0.5;\n    color: white;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n`\n","import styled from \"styled-components\";\n\n\nexport const ProgressContainer = styled.div`\n  flex: 2;\n  max-width: 300px;\n`;\n\nexport const Progress = styled.div`\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n`;\n\nexport const ProgressBarPlaceholder = styled.div`\n  width: calc(100% - 40px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n`;\n\nexport const ProgressBar = styled.div`\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n`;\n\nexport const ProgressCount = styled.span`\n  font-weight: bold;\n  font-size: 11px;\n  margin-left: 5px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n`;","import React from \"react\";\nimport * as S from \"./progress.styled\";\n\n\nfunction Progress(props) {\n  const {\n    primaryColor,\n    currentProgress = 1,\n    totalProgress = 2,\n  } = props;\n  const percentage = (100 / totalProgress * currentProgress) + \"%\";\n\n  return (\n    <S.ProgressContainer>\n      <S.Progress>\n        <S.ProgressBarPlaceholder>\n          <S.ProgressBar\n            style={{\n              width: percentage,\n              backgroundColor: primaryColor\n            }}\n          />\n        </S.ProgressBarPlaceholder>\n\n        <S.ProgressCount\n          style={{\n            color: primaryColor\n          }}\n        >\n          {currentProgress}/{totalProgress}\n        </S.ProgressCount>\n      </S.Progress>\n    </S.ProgressContainer>\n  );\n}\n\nexport default Progress;","import React from \"react\";\nimport * as S from \"./navigation.styled\";\nimport Progress from \"../element-progress/progress\";\n\n\nfunction Navigation(props) {\n  const {\n    onClickPrevius,\n    onClickNext,\n    onClickFinish,\n    labels,\n    primaryColor,\n    currentProgress = 1,\n    totalProgress = 2,\n    showFinishButton = false,\n    disableFinishButton = true,\n  } = props;\n\n  const renderPreviousQuestionBtn = () => {\n    if (currentProgress !== 1) {\n      return (\n        <S.Button\n          tabIndex={1}\n          onClick={onClickPrevius}\n          primaryColor={primaryColor}\n        >\n          {labels.previous}\n        </S.Button>\n      )\n    }\n  }\n\n  const renderNextQuestionBtn = () => {\n    return (\n      <S.Button\n        onClick={onClickNext}\n        primaryColor={primaryColor}\n      >\n        {labels.next}\n      </S.Button>\n    )\n  }\n\n  const renderFinishBtn = () => {\n    return (\n      <S.ContainedButton\n        tabIndex={1}\n        primaryColor={primaryColor}\n        onClick={onClickFinish}\n        disabled={disableFinishButton}\n      >\n        {labels.finish}\n      </S.ContainedButton>\n    )\n  }\n\n  return (\n    <S.Navigation>\n      <S.ButtonContainer\n        justify=\"left\"\n      >\n        {renderPreviousQuestionBtn()}\n      </S.ButtonContainer>\n\n      <Progress\n        primaryColor={primaryColor}\n        currentProgress={currentProgress}\n        totalProgress={totalProgress}\n      />\n\n      <S.ButtonContainer\n        justify=\"right\"\n      >\n        {\n          showFinishButton\n            ? renderFinishBtn()\n            : renderNextQuestionBtn()\n        }\n      </S.ButtonContainer>\n    </S.Navigation>\n  );\n}\n\nexport default Navigation;","export default function classNameFn(classes = []) {\n  return classes.join(\" \").trim();\n}","import styled from \"styled-components\";\n\nexport const QuizCard = styled.div`\n  transition: all 0.3s ease-out;\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  position: relative;\n  background: #ffffff;\n  overflow: hidden;\n  border: 1px solid #ddd;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0, 0, 0, 0.05);\n  padding: 35px 35px 58px 35px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-card.styled\";\n\nfunction QuizCard(props) {\n  const {\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <S.QuizCard\n      {...rest}\n    >\n      {children}\n    </S.QuizCard>\n  )\n}\n\nexport default QuizCard;","import styled from \"styled-components\";\n\n\nexport const InputGroup = styled.div`\n  margin-top: 0;\n  padding-top: 10px;\n`;","import React from \"react\";\nimport * as S from \"./input-group.styled\";\n\nfunction InputGroup(props) {\n  const {\n    type = \"radiogroup\",\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <S.InputGroup\n      role={type}\n      {...rest}\n    >\n      {children}\n    </S.InputGroup>\n  )\n}\n\nexport default InputGroup;","import styled from \"styled-components\";\n\nexport const QuizHeader = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst Span = styled.span`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: ${props => props.primaryColor || \"#00643e\"}\n`;\n\nexport const CurrentQuestionText = styled(Span)``;\n\nexport const ProgressText = styled(Span)`\n  float: right;\n  letter-spacing: 2px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-header.styled\";\n\n\nfunction QuizHeader(props) {\n  const {\n    primaryColor,\n    labels,\n    current,\n    total,\n  } = props;\n\n  return (\n    <S.QuizHeader>\n      <S.CurrentQuestionText\n        primaryColor={primaryColor}\n      >\n        {labels.question} {current + 1}\n      </S.CurrentQuestionText>\n\n      <S.ProgressText\n        primaryColor={primaryColor}\n      >\n        {current + 1}/{total}\n      </S.ProgressText>\n    </S.QuizHeader>\n  )\n}\n\nexport default QuizHeader;","import styled from \"styled-components\";\n\nexport const Choice = styled.div`\n  transition: all 0.3s ease-out;\n  border: 1px solid ${props => props.borderColor || \"transparent\"};\n  border-radius: ${props => props.borderRadius || 0} !important;\n  margin: 10px 0;\n  cursor: pointer;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  display: flex;\n\n  &:hover {\n    background: #f8f8f8;\n    border-radius: 10px;\n  }\n  \n  &:disabled,\n  &[disabled],\n  &[disabled=disabled],\n  &[disabled=true] {\n    cursor: not-allowed;\n  }\n`;","import React from \"react\";\nimport * as S from \"./choice.styled\";\nimport classNameFn from \"../../utils/classNameFn\";\n\n\nfunction Choice(props) {\n  const {\n    children,\n    className,\n    selected,\n    primaryColor,\n    selectedColor,\n    borderRadius,\n    disabled,\n    ...rest\n  } = props;\n\n  return (\n    <S.Choice\n      {...rest}\n      borderColor={selected ? (selectedColor || primaryColor) : null}\n      className={classNameFn([\n        \"element-choice\",\n        className,\n      ])}\n      borderRadius={(selected && disabled) ? \"0px\" : \"10px\"}\n      disabled={disabled}\n    >\n      {children}\n    </S.Choice>\n  )\n}\n\nexport default Choice;","import styled from \"styled-components\";\n\n\nexport const Radio = styled.span`\n  --primary-color: ${props => props.primaryColor || \"#00643e\"};\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`;\n\nexport const Input = styled.input`\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  border-radius: 50%;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n  \n  \n  &::before {\n    content: \"\";\n    width: 0.65em;\n    height: 0.65em;\n    border-radius: 50%;\n    transform: scale(0);\n    transition: 120ms transform ease-in-out;\n    background-color: var(--primary-color);\n  }\n  \n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    transform: scale(1);\n  }\n`;","import React from \"react\";\nimport * as S from \"./radio.styled\";\n\nfunction Radio(props) {\n  const {\n    value = \"\",\n    primaryColor,\n    checked,\n    onChange,\n    ...rest\n  } = props;\n\n  return (\n    <S.Radio\n      primaryColor={primaryColor}\n    >\n      <S.Input\n        type=\"radio\"\n        checked={checked}\n        value={value}\n        onChange={onChange}\n        readOnly={!!!onChange}\n        {...rest}\n      />\n    </S.Radio>\n  )\n}\n\nexport default Radio;","import styled from \"styled-components\";\n\nexport const QuizChoiceText = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n`;\n\nexport const ChoiceContainer = styled.div`\n  display: inline-flex;\n`;\n\nexport const CenterContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n  width: 100%;\n`;\n\nexport const QuizImageVideoContainer = styled(CenterContainer)``;\n\nexport const ColumnContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n`;\n\nexport const RowContainer = styled.div`\n  width: 100%;\n`;","import styled from \"styled-components\";\n\nexport const QuizImage = styled.img`\n  width: -webkit-fill-available;\n  margin: 20px;\n`","import React from \"react\";\nimport * as S from \"./quiz-image.styled\";\n\nfunction QuizImage(props) {\n  const {\n    data = null,\n    mediaMaxWidth,\n  } = props;\n  const style = mediaMaxWidth ? {maxWidth: mediaMaxWidth.toString() + 'px'} : {};\n\n  if (data !== null) {\n    return <S.QuizImage src={data} style={style}/>\n  }\n\n  return null;\n}\n\nexport default QuizImage;","import styled from \"styled-components\";\n\nexport const QuizVideo = styled.img`\n  width: calc(100% - 60px);\n  margin: 20px;\n`","import React from \"react\";\nimport * as S from \"./quiz-video.styled\";\n\nfunction QuizVideo(props) {\n  const {\n    data = null,\n    mediaMaxWidth,\n  } = props;\n  const style = mediaMaxWidth ? {maxWidth: mediaMaxWidth.toString() + 'px'} : {};\n\n\n  if (data !== null) {\n    return <S.QuizVideo controls src={data} style={style}/>\n  }\n\n  return null;\n}\n\nexport default QuizVideo;","import styled from \"styled-components\";\n\n\nexport const Checkbox = styled.span`\n  --primary-color: ${props => props.primaryColor || \"#00643e\"};\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`;\n\nexport const Input = styled.input`\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n\n  &:before {\n    position: absolute;\n    top: 11px;\n    left: 7px;\n    content: \"\";\n    width: 3px;\n    height: 0;\n    transform: rotate(140deg);\n    transition: all 0.2s ease-out;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n\n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    top: 7px;\n    left: 4px;\n    height: 7px;\n    opacity: 1;\n  }\n  \n  &:after {\n    content: \"\";\n    position: absolute;\n    top: 11px;\n    left: 6px;\n    width: 3px;\n    height: 0;\n    transform: rotate(50deg);\n    transition: all 0.2s ease-in;\n    transition-delay: 50ms;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n  \n  &:checked:after,\n  &[checked=true]:after,\n  &[checked=checked]:after {\n    top: 3px;\n    left: 10px;\n    height: 10px;\n    opacity: 1;\n  }\n\n  @keyframes grow-after {\n    0% {\n      height: 0;\n    }\n    100% {\n      height: 10px;\n    }\n  }\n`;","import React from \"react\";\nimport * as S from \"./checkbox.styled\";\n\nfunction Checkbox(props) {\n  const {\n    primaryColor,\n    checked: defaultChecked = false,\n    ...rest\n  } = props;\n  const [checked, setChecked] = React.useState(defaultChecked);\n\n  React.useEffect(() => {\n    if (defaultChecked !== checked) {\n      setChecked(defaultChecked);\n    }\n  }, [defaultChecked]);\n\n  return (\n    <S.Checkbox\n      primaryColor={primaryColor}\n    >\n      <S.Input\n        type=\"checkbox\"\n        checked={checked}\n        readOnly\n        {...rest}\n      />\n    </S.Checkbox>\n  )\n}\n\nexport default Checkbox;","function isChoiceSelected(activeChoices, choice, question) {\n  switch (question.type) {\n    case \"quiz-1\":\n      return activeChoices[question.id] === choice.id;\n    case \"quiz-2\":\n      return activeChoices[question.id] &&  activeChoices[question.id].includes(choice.id);\n    case \"quiz-3\":\n      return String(activeChoices[question.id]).toLowerCase() === String(choice.text).toLowerCase();\n    case \"quiz-4\":\n      return String(activeChoices[question.id]) && (activeChoices[question.id].find(item => item.sourceId === choice.id && item.destinationId === choice.id) !== undefined);\n    default:\n      return null;\n  }\n}\n\nexport default isChoiceSelected;","import React, {useEffect} from \"react\";\nimport Choice from \"../element-choice/choice\";\nimport Radio from \"../element-radio/radio\";\nimport * as S from \"./quiz-choice-quill.styled\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport Checkbox from \"../element-checkbox/checkbox\";\nimport isChoiceSelected from \"../../utils/isChoiceSelected\";\n\nfunction QuizChoiceQuill(props) {\n  const {\n    question,\n    type,\n    choice,\n    content,\n    disabled = false,\n    activeChoices = [],\n    onChoiceClick = () => {\n    },\n  } = props;\n  const [colorChoice, setColorChoice] = React.useState(content.primary_color || \"#00bcd4\");\n  const selected = isChoiceSelected(activeChoices, choice, question);\n\n  useEffect(() => {\n    if (selected) {\n      if (disabled) {\n        let correctAnswer = false;\n        question.choices.forEach(ch => {\n          if (ch.correct && selected) {\n            correctAnswer = true;\n          }\n        });\n\n        setColorChoice(correctAnswer ? content.correct_color : content.incorrect_color);\n      }\n    }\n  }, [activeChoices, choice]);\n\n  useEffect(() => {\n    setColorChoice(content.primary_color || \"#00bcd4\");\n  }, [content]);\n\n  const renderChoiceRadio = (question, choice) => {\n    return (\n      <Radio\n        value={choice.text}\n        checked={selected}\n        primaryColor={content.primary_color}\n      />\n    )\n  }\n\n  const renderChoiceCheckbox = (question, choice) => {\n    return (\n      <Checkbox\n        checked={selected}\n        primaryColor={content.primary_color}\n      />\n    )\n  }\n\n  const handleChoiceClick = () => {\n    if (!disabled && typeof onChoiceClick === \"function\") {\n      try {\n        onChoiceClick(question, choice);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  const renderChoiceInputType = () => {\n    switch (type) {\n      case \"quiz-1\":\n        return renderChoiceRadio(question, choice);\n      case \"quiz-2\":\n        return renderChoiceCheckbox(question, choice);\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <>\n      <Choice\n        role=\"button\"\n        selected={selected}\n        primaryColor={content.primary_color}\n        selectedColor={colorChoice}\n        disabled={disabled}\n        onClick={handleChoiceClick}\n      >\n        <S.ColumnContainer>\n          <S.ChoiceContainer>\n            {renderChoiceInputType()}\n            <S.QuizChoiceText\n              dangerouslySetInnerHTML={{__html: choice.text}}\n            ></S.QuizChoiceText>\n          </S.ChoiceContainer>\n\n          <S.CenterContainer>\n            <S.QuizImageVideoContainer>\n              <S.RowContainer>\n                {\n                  (choice.image && <QuizImage data={choice.image} mediaMaxWidth={choice.media_max_width}/>)\n                  || (choice.video && <QuizVideo data={choice.video} mediaMaxWidth={choice.media_max_width}/>)\n                }\n              </S.RowContainer>\n            </S.QuizImageVideoContainer>\n          </S.CenterContainer>\n        </S.ColumnContainer>\n      </Choice>\n    </>\n  )\n    ;\n}\n\nexport default QuizChoiceQuill;","import styled from \"styled-components\";\n\n\nexport const QuizQuestionQuill = styled.div`\n  border-bottom: 1px solid #f2f2f2;\n`;\n\nexport const QuizQuestion = styled.div`\n  border-bottom: 1px solid #f2f2f2;\n  user-select: none;\n  padding: 10px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-question-quill.styled\";\n\nfunction QuizQuestionQuill(props) {\n  const {\n    question,\n    editable = false,\n  } = props;\n\n  return (\n    <S.QuizQuestionQuill>\n      {\n        editable ? (\n          <div className=\"ql-editor\" dangerouslySetInnerHTML={{__html: question.question}}></div>\n        ) : (\n          <S.QuizQuestion dangerouslySetInnerHTML={{__html: question.question}}/>\n        )\n      }\n    </S.QuizQuestionQuill>\n  );\n}\n\nexport default QuizQuestionQuill;","import styled from \"styled-components\";\n\nexport const QuizQuestionFeedback = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n`;\n\nexport const ConfirmButton = styled.button`\n  transition: all 0.3s ease-out;\n  display: block;\n  margin: 0 auto;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n`;\n\nexport const EditButton = styled.button`\n  margin: 20px 10px;\n  transition: all 0.3s ease-out;\n  display: block;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n`;\n\nexport const QuizQuestionFeedbackMessage = styled.div`\n  transition: all 0.3s ease-out;\n  text-align: center;\n  line-height: 1.42;\n\n  p {\n    margin: 10px auto;\n    font-weight: 500;\n    color: #333;\n  }\n`;","import isChoiceSelected from \"./isChoiceSelected\";\n\nfunction questionIsCorrect(question, activeChoices) {\n  const {choices = []} = question;\n  let totalCorrects = 0;\n  let correctsAnswered = 0;\n\n  if (choices.length) {\n    choices.forEach(choice => {\n      if (\"correct\" in choice && choice.correct === true) {\n        const selected = isChoiceSelected(activeChoices, choice, question);\n        totalCorrects++;\n        if (selected) {\n          correctsAnswered++;\n        }\n      } else if (!(\"correct\" in choice)) {\n        const selected = isChoiceSelected(activeChoices, choice, question);\n        if (selected) {\n          totalCorrects++;\n          correctsAnswered++;\n        }\n      }\n    });\n\n    // Questionrios do tipo 1 e 5 possuem o activeChoices do tipo string\n    // Questionrios do tipo 2 possuem o activeChoices do tipo array pois podem conter mais de uma resposta correta\n    return (totalCorrects > 0 && totalCorrects === correctsAnswered)\n      && (typeof activeChoices[question.id] === \"string\" || correctsAnswered === activeChoices[question.id].length);\n  } else {\n    // Caso possua apenas o texto da pergunta\n    return true;\n  }\n}\n\nexport default questionIsCorrect;","import React from \"react\";\nimport * as S from \"./quiz-question-confirm-feedback.styled\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\n\n\nfunction QuizQuestionConfirmFeedback(props) {\n  const {\n    question,\n    activeChoices,\n    content,\n    labels,\n    answered = false,\n    onClickConfirm = (questionId) => {\n    },\n    onClickEdit = (questionId) => {},\n  } = props;\n  const {primary_color, feedback} = content;\n\n  const renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        {msg && <p>{msg}</p>}\n      </div>\n    )\n  }\n\n  const renderCorrectMsg = (question) => {\n    let msg = labels.right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = question.feedback_correct.text ? question.feedback_correct.text : msg;\n      image = question.feedback_correct.image;\n      video = question.feedback_correct.video;\n      media_max_width = question.feedback_correct.media_max_width;\n    } else {\n      msg = question.feedback_default.text ? question.feedback_default.text : msg;\n      image = question.feedback_default.image;\n      video = question.feedback_default.video;\n      media_max_width = question.feedback_default.media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.correct_color ? content.correct_color : content.primary_color}\n                  d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"/>\n            <path fill={content.correct_color ? content.correct_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"/>\n          </svg>\n        )}\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  const renderIncorrectMsg = (question) => {\n    let msg = labels.incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = question.feedback_incorrect.text ? question.feedback_incorrect.text : msg;\n      image = question.feedback_incorrect.image;\n      video = question.feedback_incorrect.video;\n      media_max_width = question.feedback_incorrect.media_max_width;\n    } else {\n      msg = question.feedback_default.text ? question.feedback_default.text : msg;\n      image = question.feedback_default.image;\n      video = question.feedback_default.video;\n      media_max_width = question.feedback_default.media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"/>\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"/>\n          </svg>\n        )}\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  const verifyAnswer = (question) => {\n    // Caso seja dissertativa permite a edio da resposta\n    if (question.type === \"quiz-5\") {\n      return (\n        <>\n          <S.QuizQuestionFeedbackMessage>\n            {labels.answer_saved}\n          </S.QuizQuestionFeedbackMessage>\n\n          <S.EditButton\n            onClick={() => activeChoices[question.id] && onClickEdit(question.id)}\n            style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n          >\n            {labels.edit || \"Editar\"}\n          </S.EditButton>\n        </>\n      )\n    } else {\n      let correctAnswer = questionIsCorrect(question, activeChoices);\n\n      const no_correct_answer = question.no_correct_answer;\n\n      if (feedback.type !== \"disabled\" && !question.no_feedback) {\n        return (\n          <S.QuizQuestionFeedbackMessage>\n            {(correctAnswer && !no_correct_answer)\n              ? renderCorrectMsg(question)\n              : (!no_correct_answer)\n                ? renderIncorrectMsg(question)\n                : renderCustomMsg(question)\n            }\n          </S.QuizQuestionFeedbackMessage>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  return (\n    <S.QuizQuestionFeedback>\n      {answered ? (\n        <>{verifyAnswer(question)}</>\n      ) : (\n        <S.ConfirmButton\n          onClick={() => activeChoices[question.id] && onClickConfirm(question.id)}\n          style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n        >\n          {labels.confirm}\n        </S.ConfirmButton>\n      )\n      }\n    </S.QuizQuestionFeedback>\n  );\n}\n\nexport default QuizQuestionConfirmFeedback;","import styled from \"styled-components\";\n\nexport const TextAreaContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`;\n\nexport const TextArea = styled.textarea`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-textarea.styled\";\n\nfunction QuizTextarea(props) {\n  const {\n    disabled,\n    primaryColor,\n    onChange = (value) => {},\n    defaultValue = \"\",\n  } = props;\n  const [value, setValue] = React.useState(defaultValue);\n\n  return (\n    <S.TextAreaContainer>\n      <S.TextArea\n        tabIndex={1}\n        value={value}\n        onChange={event => {\n          setValue(event.target.value);\n          onChange(event.target.value);\n        }}\n        disabled={disabled}\n        primaryColor={primaryColor}\n        rows={10}\n      />\n    </S.TextAreaContainer>\n  );\n}\n\nexport default QuizTextarea;","import styled from \"styled-components\";\n\nexport const TextInputContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`;\n\nexport const TextInput = styled.input`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-text-input.styled\";\n\nfunction QuizTextInput(props) {\n  const {\n    disabled,\n    primaryColor,\n    onChange = (value) => {},\n    value = \"\",\n  } = props;\n  return (\n    <S.TextInputContainer>\n      <S.TextInput\n        tabIndex={1}\n        value={value}\n        onChange={event => {\n          onChange(event.target.value);\n        }}\n        disabled={disabled}\n        primaryColor={primaryColor}\n      />\n    </S.TextInputContainer>\n  );\n}\n\nexport default QuizTextInput;","import styled, {css} from \"styled-components\";\n\nexport const QuizMatchLine = styled.div`\n  width: 100%;\n  display: grid;\n  position: relative;\n  transition: all 1s ease-in-out;\n`;\n\nexport const Text = styled.p`\n  padding: 3px 30px;\n  max-height: ${props => props.lines * 15}px;\n  overflow: hidden;\n  text-align: justify !important;\n\n  @media screen and (max-width: 480px) {\n    max-height: ${props => props.lines * 25}px;\n    padding-right: 10px;\n    z-index: 3;\n  }\n`;\n\nexport const MatchList = styled.ol`\n  width: 85%;\n  margin-left: 20%;\n`;\n\nexport const LeftColumn = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\nexport const MatchConnector = styled.ol`\n  width: 100%;\n  position: relative;\n  height: ${props => props.lines * 15}px;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n  }\n`;\n\nexport const MatchLine = styled.ol`\n  width: 80%;\n  margin-right: 20%;\n  display: grid;\n  grid-template-columns: 10% 75%;\n  grid-gap: 35%;\n\n  ${props => props.connected && css`\n    grid-template-columns: 10% 85%;\n    grid-gap: 25%;\n\n    @media screen and (max-width: 480px) {\n      grid-template-columns: 0 100%;\n      grid-gap: 25%;\n    }\n\n    @media screen and (min-width: 430px) and (max-width: 479px) {\n      grid-gap: 15%;\n    }\n  `}\n`\n\nconst BaseChoice = styled.li`\n  min-width: 200px;\n  height: ${props => props.lines * 15}px;\n  flex: 2;\n  background-color: whitesmoke;\n  position: relative;\n  border: 1px solid #ccc;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  word-break: break-word;\n  font-size: 15px;\n  line-height: 15px;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n    transform: scale(0.7);\n  }\n`;\n\nexport const Choice = styled(BaseChoice)`\n  z-index: 2;\n  width: 45%;\n  border-right: none;\n  cursor: grab;\n  border-left-color: whitesmoke;\n  \n  &:active {\n    cursor: grabbing;\n  }\n  \n  &:after {\n    content: \"\";\n    height: ${props => props.lines * 15}px;\n    width: 100%;\n    position: absolute;\n    border-left: 5px solid ${props => props.primaryColor || \"#ccc\"};\n  }\n\n  @media screen and (max-width: 480px) {\n    &:after {\n      height: ${props => props.lines * 25}px;\n    }\n  }\n  \n  &:hover {\n    background-color: #eaeaea;\n    border-left-color: #eaeaea;\n\n    img {\n      opacity: 1;\n    }\n  }\n  \n  ${props => props.hidden && css`\n    opacity: 0;\n    pointer-events: none;\n  `}\n`;\n\nexport const Match = styled(BaseChoice)`\n  z-index: 1;\n  border-left: none;\n  width: 100%;\n  \n  padding-left: ${props => (props.lines * 15) / 4}px;\n\n  @media screen and (max-width: 480px) {\n    padding-left: 30px;\n  }\n  \n  min-width: 100px;\n`;\n\nexport const Arrow = styled.div`\n  width: 0;\n  border-top: ${props => (props.lines * 15) / 2}px solid transparent;\n  border-bottom: ${props => (props.lines * 15) / 2}px solid transparent;\n  border-left: ${props => (props.lines * 15) / 4}px solid transparent;\n  position: absolute;\n  top: 0;\n  margin-top: auto;\n  transition: none;\n\n  @media screen and (max-width: 480px) {\n    border-top: ${props => (props.lines * 25) / 2}px solid transparent;\n    border-bottom: ${props => (props.lines * 25) / 2}px solid transparent;\n    border-left: ${props => (props.lines * 25) / 5}px solid transparent;\n  }\n`;\n\nexport const ArrowLeft = styled(Arrow)`\n  right: -${props => (props.lines * 15) / 4}px;\n  border-left-color: inherit;\n  z-index: 2;\n\n  @media screen and (max-width: 480px) {\n    right: -${props => (props.lines * 25) / 5}px;\n  }\n`;\n\nexport const ArrowRight = styled(Arrow)`\n  left: 0;\n  border-left-color: white;\n  z-index: 1;\n\n  @media screen and (max-width: 480px) {\n    ${props => props.connected && css`\n      display: none;\n    `}\n  }\n`;\n\nexport const IconImage = styled.img`\n  width: 30px;\n  height: ${props => props.lines * 15}px;\n  opacity: 0.5;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-match-line.styled\";\nimport dragIcon from \"./drag.svg\";\nimport {DragDropContext, Draggable, Droppable} from \"react-beautiful-dnd\";\n\nfunction QuizMatchLine(props) {\n  const {\n    primaryColor,\n    data = [],\n    disabled,\n    onChange = (connectedItems) => {},\n  } = props;\n  const choices = [...data].sort(() => Math.random() - 0.5);\n  const matches = data;\n  const [items, setItems] = React.useState(choices || []);\n  const [connectedItems, setConnectedItems] = React.useState([]);\n  const lines = React.useMemo(() => {\n    let lines = 1;\n\n    choices.forEach(choice => {\n      let titleLines = choice.title.length / 40;\n      let matchTitleLines = choice.matchTitle.length / 40;\n      lines = Math.max(lines, titleLines, matchTitleLines);\n    });\n\n    return lines > 3 ? lines : 3;\n  });\n\n  React.useEffect(() => {\n    if (typeof onChange === \"function\") {\n      if (connectedItems.length === choices.length) {\n        onChange(connectedItems);\n      } else {\n        onChange(null);\n      }\n    }\n  }, [connectedItems]);\n\n  const handleDndOperation = (result) => {\n    if (result.destination) {\n      if (isMatchOperation(result)) {\n        saveConnection(result);\n\n        const operationIndexes = getOperationIndexes(result);\n\n        if (isReorderOperation(result)) {\n          setItems(swapItems(operationIndexes.source, operationIndexes.destination));\n        }\n      } else if (isReorderOperation(result)) {\n        setItems(reorderItems(result.source.index, result.destination.index));\n      }\n    }\n  }\n\n  const saveConnection = (result) => {\n    const choice = items[result.source.index];\n    const match = matches.find(m => m.matchTitle === result.destination.droppableId);\n\n    let connectedItemsCopy = [...connectedItems];\n\n    connectedItemsCopy = connectedItemsCopy.filter(item => item.destinationId !== match.id && item.sourceId !== choice.id);\n\n    let connectedItem = {\n      sourceId: choice.id,\n      destinationId: match.id,\n      title: choice.title,\n      matchTitle: result.destination.droppableId,\n      correct:  choice.id === match.id,\n    }\n\n    connectedItemsCopy.push(connectedItem);\n\n    setConnectedItems(connectedItemsCopy);\n  }\n\n  const getOperationIndexes = (result) => {\n    const sourceItem = items.find(item => item.title === result.draggableId);\n    const destinationItem = matches.find(item => item.matchTitle === result.destination.droppableId)\n\n    const destination = matches.indexOf(destinationItem);\n    const source = items.indexOf(sourceItem);\n\n    return {source, destination};\n  }\n\n  const isReorderOperation = (result) => {\n    return result.source.droppableId === \"choices\";\n  }\n\n  const isMatchOperation = (result) => {\n    return result.source.droppableId === \"choices\" && result.destination.droppableId !== \"choices\";\n  }\n\n  const reorderItems = (sourceIndex, destinationIndex) => {\n    const [reorderedItem] = items.splice(sourceIndex, 1);\n    items.splice(destinationIndex, 0, reorderedItem);\n\n    return items;\n  }\n\n  const swapItems = (sourceIndex, destinationIndex) => {\n    let itemsCopy = [...items];\n    const tmp = itemsCopy[destinationIndex];\n    itemsCopy[destinationIndex] = itemsCopy[sourceIndex];\n    itemsCopy[sourceIndex] = tmp;\n    return itemsCopy;\n  }\n\n  return (\n    <S.QuizMatchLine>\n      <DragDropContext\n        onDragEnd={handleDndOperation}\n      >\n        <S.LeftColumn>\n          <Droppable droppableId=\"choices\">\n            {(provided) => (\n              <ol ref={provided.innerRef} {...provided.droppableProps}>\n                {items.map((choice, index) => (\n                  <Draggable\n                    key={choice.title}\n                    isDragDisabled={disabled}\n                    draggableId={choice.title}\n                    index={index}\n                  >\n                    {(provided) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                      >\n                        <S.Choice\n                          className=\"quiz-match-line__choice\"\n                          lines={lines}\n                          primaryColor={primaryColor}\n                        >\n                          <S.IconImage\n                            lines={lines}\n                            src={dragIcon}\n                          />\n                          <S.Text lines={lines}>\n                            {choice.title}\n                          </S.Text>\n\n                          <S.ArrowLeft\n                            lines={lines}\n                            connected={connectedItems.find(item => item.title === choice.title)}\n                          />\n                        </S.Choice>\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n              </ol>\n            )}\n          </Droppable>\n        </S.LeftColumn>\n\n        <S.MatchList>\n          {\n            matches.map((match, index) => (\n              <li key={match.matchTitle}>\n                <Droppable droppableId={match.matchTitle}>\n                  {(provided) => (\n                    <span ref={provided.innerRef} {...provided.droppableProps}>\n                      <S.MatchLine\n                        className={connectedItems.find(item => item.matchTitle === match.matchTitle) ? \"quiz-match-line__match-line-connected\" : \"quiz-match-line__match-line\"}\n                        key={match.matchTitle}\n                        connected={connectedItems.find(item => item.matchTitle === match.matchTitle)}\n                      >\n                        <S.MatchConnector lines={lines}/>\n\n                        <S.Match\n                          className=\"quiz-match-line__match\"\n                          lines={lines}\n                        >\n                          <S.Text lines={lines}>\n                            {match.matchTitle}\n                          </S.Text>\n                          <S.ArrowRight\n                            lines={lines}\n                            connected={connectedItems.find(item => item.matchTitle === match.matchTitle)}\n                          />\n                        </S.Match>\n                      </S.MatchLine>\n                    </span>\n                  )}\n                </Droppable>\n              </li>\n            ))\n          }\n        </S.MatchList>\n      </DragDropContext>\n    </S.QuizMatchLine>\n  )\n}\n\nexport default QuizMatchLine;","import React from 'react';\nimport InputGroup from \"../element-input-group/input-group\";\nimport QuizHeader from \"../element-quiz-header/quiz-header\";\nimport QuizChoiceQuill from \"../element-quiz-choice-quill/quiz-choice-quill\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport QuizQuestionQuill from \"../element-quiz-question-quill/quiz-question-quill\";\nimport QuizQuestionConfirmFeedback from \"../element-quiz-question-confirm-feedback/quiz-question-confirm-feedback\";\nimport QuizTextarea from \"../element-quiz-textarea/quiz-textarea\";\nimport QuizTextInput from \"../element-quiz-text-input/quiz-text-input\";\nimport QuizMatchLine from \"../element-quiz-match-line/quiz-match-line\";\n\nfunction ElementQuizQuestion(props) {\n  const {\n    questionNumber,\n    questionTotal,\n    labels,\n    activeChoices,\n    editable,\n    content,\n    data,\n    answered = false,\n    onlyShowQuestion = false,\n    onAnswering = (questionId, choice) => {\n    },\n    onConfirmAnswer = (questionId) => {\n    },\n    onResetAnswer = (questionId) => {\n    },\n    onChange = (content) => {\n    },\n  } = props;\n\n  const updateQuestionTextAndNotify = (questionChanged, text) => {\n    content.questions = content.questions.map(question => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    try {\n      onChange(content);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const notifyChoiceSelection = (question, choice) => {\n    if (onAnswering) {\n      try {\n        onAnswering(question.id, choice);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const updateQuestionChoiceTextAndNotify = (question, choice, text) => {\n    content.questions = content.questions.map(qtion => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map(ch => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        })\n      return qtion;\n    });\n\n    try {\n      onChange(content);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const notifyAnswerConfirmation = (idQuestion) => {\n    if (onConfirmAnswer) {\n      try {\n        onConfirmAnswer(idQuestion);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const notifyAnswerReset = (idQuestion) => {\n    if (onResetAnswer) {\n      try {\n        onResetAnswer(idQuestion);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const renderAsnwer = (type) => {\n    const choices = data.choices || [];\n\n    switch (type) {\n      case \"quiz-1\":\n      case \"quiz-2\":\n        return (\n          <InputGroup type=\"radiogroup\">\n            {choices.map((choice, index) => (\n              <QuizChoiceQuill\n                key={index}\n                disabled={answered}\n                type={data.type}\n                content={content}\n                question={data}\n                choice={choice}\n                editable={editable}\n                activeChoices={activeChoices}\n                onChoiceClick={() => notifyChoiceSelection(data, choice)}\n                onEditChoiceText={(text) => updateQuestionChoiceTextAndNotify(data, choice, text)}\n              />\n            ))}\n          </InputGroup>\n        );\n\n      case \"quiz-3\":\n        return (\n          <QuizTextInput\n            value={activeChoices[data.id] || \"\"}\n            primaryColor={content.primary_color}\n            onChange={(text) => notifyChoiceSelection(data, text)}\n            disabled={answered}\n          />\n        );\n\n      case \"quiz-4\":\n        return (\n          <QuizMatchLine\n            primaryColor={content.primary_color}\n            data={choices}\n            disabled={answered}\n            onChange={(matches) => notifyChoiceSelection(data, matches)}\n          />\n        )\n\n      case \"quiz-5\":\n        const {primary_color} = content;\n\n        return (\n          <QuizTextarea\n            defaultValue={activeChoices[data.id] || \"\"}\n            primaryColor={primary_color}\n            onChange={(text) => notifyChoiceSelection(data, text)}\n            disabled={answered}\n          />\n        )\n      default:\n        return null;\n    }\n  }\n\n  if (data) {\n    const {primary_color,} = content;\n    const image = data.image || null;\n    const video = data.video || null;\n    const media_max_width = data.media_max_width || null;\n\n\n    return (\n      <>\n        {data && (\n          <>\n            <QuizHeader\n              primaryColor={primary_color}\n              current={questionNumber}\n              total={questionTotal}\n              labels={labels}\n            />\n\n            <QuizQuestionQuill\n              editable={editable}\n              question={data}\n              onEditQuestionText={updateQuestionTextAndNotify}\n            />\n\n            {\n              !onlyShowQuestion && (\n                <>\n                  {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n                    || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width}/>)\n                  }\n\n                  {renderAsnwer(data.type)}\n\n                  <QuizQuestionConfirmFeedback\n                    question={data}\n                    answered={answered}\n                    content={content}\n                    labels={labels}\n                    activeChoices={activeChoices}\n                    onClickConfirm={notifyAnswerConfirmation}\n                    onClickEdit={notifyAnswerReset}\n                  />\n                </>\n              )\n            }\n          </>\n        )}\n      </>\n    )\n  }\n\n  return null;\n}\n\nexport default ElementQuizQuestion;\n","import styled from \"styled-components\";\n\nexport const QuizFinishResult = styled.div`\n  height: 450px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const RemakeButton = styled.button`\n  background: none;\n  transition: all 0.3s ease-out;\n  cursor: pointer;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  \n  &:hover {\n    border: 1px dashed #f1f1f1;\n    background: #f1f1f1;\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"transparent\"} !important;\n    outline-offset: 2px !important;\n  }\n`;\n\nexport const RemakeButtonIcon = styled.span`\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n`;\n\nexport const RemakeButtonText = styled.span`\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n`;\n\nexport const ResultMessage = styled.span`\n  color: #6b6b6b;\n  font-size: 20px;\n  font-weight: 1000;\n  font-family: Lato-Bold,sans-serif;\n  display: block;\n  text-align: center;\n  line-height: 30px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-finish-result.styled\";\n\nfunction QuizFinishResult(props) {\n  const {\n    grades,\n    content,\n    labels,\n    onClickRemake = () => {\n    },\n    canRemake = true,\n    contentLanguage,\n  } = props;\n\n  const getResultLabel = (hits, total, percentage) => {\n    if (contentLanguage === \"en\") {\n      return `You got ${hits} of ${total} alternative questions correct.`\n    } else if (contentLanguage === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes alternativas.`\n    }\n  }\n\n  const getPendingResultLabel = (total) => {\n    if (contentLanguage === \"en\") {\n      return `This quiz has ${total} dissertation question${total > 1 ? \"s\" : \"\"} awaiting review.`\n    } else if (contentLanguage === \"pt_br\") {\n      return `Este questionrio possui ${total} quest${total > 1 ? \"es\" : \"o\"} dissertativa aguardando reviso.`\n    }\n  }\n\n  const renderFinalMessage = (grades) => {\n    const feedback = content.feedback.type;\n    if (feedback === \"disabled\") {\n      return (\n        <S.ResultMessage>\n          {labels.finish_quiz_message}\n        </S.ResultMessage>\n      );\n    } else {\n      return (\n        <>\n          <S.ResultMessage>\n            {getResultLabel(grades.hits, grades.total, `${parseFloat(grades.percentage_average).toFixed(0)}%`)}\n          </S.ResultMessage>\n          {grades.pending_review_total> 0 && (\n            <S.ResultMessage>\n              {getPendingResultLabel(grades.pending_review_total)}\n            </S.ResultMessage>\n          )}\n        </>\n      );\n    }\n  }\n\n  return (\n    <S.QuizFinishResult>\n      <div>\n        {renderFinalMessage(grades.rdp_html_content)}\n\n        {content.remake === \"enable\" && canRemake && (\n          <S.RemakeButton\n            tabIndex={1}\n            onClick={onClickRemake}\n            type=\"button\"\n            primaryColor={content.primary_color}\n          >\n            <S.RemakeButtonIcon>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xlink=\"http://www.w3.org/1999/xlink\"\n                version=\"1.1\"\n                x=\"0px\"\n                y=\"0px\"\n                width=\"32px\"\n                height=\"32px\"\n                viewBox=\"0 0 512 512\"\n                enableBackground=\"new 0 0 512 512\"\n                space=\"preserve\"\n              >\n                <g>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"/>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"/>\n                </g>\n              </svg>\n            </S.RemakeButtonIcon>\n\n            <S.RemakeButtonText>\n              {labels.retry}\n            </S.RemakeButtonText>\n          </S.RemakeButton>\n        )}\n      </div>\n    </S.QuizFinishResult>\n  );\n}\n\nexport default QuizFinishResult;","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport * as S from \"./element-quiz-4.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\n\nexport default class ElementQuiz4 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    visible: false,\n    protocol: null,\n    custom_options: window.cstmptns,\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    activeChoices[question.id] = answer.choices;\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  trackElementView = () => {\n    const {\n      content\n    } = this.props;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          action: \"view\",\n          element: \"quiz-match\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    const content = this.props.content;\n    const currentQuestion = content.questions[this.state.currentQuestionIndex];\n    const obj = {\n      action: \"view\",\n      element: \"quiz-match\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-match-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {activeChoices} = this.state;\n\n    this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    });\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      editable,\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n    } = this.state;\n    const {\n      questions,\n      primary_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          onClickRemake={this.resetState}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n      question.type = \"quiz-4\";\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            editable={editable}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n          />\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = {\n      choices: activeChoices[question.id] || [],\n      id: null,\n    };\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  showResult = () => {\n    const {\n      content,\n      activeChoices,\n      answeredQuestionsIds,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n\n    questions\n      .forEach(question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizFinishView(resume);\n    })\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n    this.sortQuestions(true);\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n\n}\n","import styled from \"styled-components\";\n\nconst TextAreaContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`\n\nconst TextArea = styled.textarea`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  user-select: text !important;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`\n\nconst FeedbackContainer = styled.div`\n  padding: 20px 10px 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n  \n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n\nconst TextButton = styled.button`\n  transition: all 0.3s ease-out;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  color: ${props => props.color || \"#2d7b45\"};\n  \n  &:hover {\n    border: 1px dashed ${props => props.color || \"#2d7b45\"};\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.color || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst RemakeButtonIcon = styled.span`\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n`\n\nconst RemakeButtonText = styled.span`\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nconst PrevButtonContainer = styled.div`\n  position: absolute;\n  left: 0;\n  top: 10px;\n\n  button {\n    margin: 0 0 0 10px;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  FeedbackContainer,\n  TextAreaContainer,\n  TextArea,\n  ContainerFinishButton,\n  ContainedButton,\n  TextButton,\n  RemakeButtonContainer,\n  RemakeButtonIcon,\n  RemakeButtonText,\n  NextButtonContainer,\n  PrevButtonContainer,\n  OutlinedButton,\n}","const KeyCode = {\n\tESC: 27\n}\n\nexport default KeyCode;","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewedColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const StudentList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const QuestionList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import styled, {css} from \"styled-components\";\n\nexport const Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const Dropdown = styled.div`\n\tposition: relative;\n`\n\nexport const DropdownButton = styled.button`\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport const Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nexport const List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nexport const ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nexport const ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nexport const NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport const ListScroll = styled.div`\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n`","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge,\n  ListScroll,\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            <ListScroll>\n              {\n                notes.map((note, index) => (\n                  <ListOption\n                    hoverColor={backgroundHoverColor}\n                    color={primaryColor}\n                    key={index}\n                    role=\"option\"\n                    aria-selected={note === selected ? \"true\" : \"false\"}\n                    onClick={() => handleClickOption(note)}\n                    onMouseEnter={(event) => handleMouseOption(event, note)}\n                    onMouseLeave={(event) => handleMouseOption(event, null)}\n                  >\n                    {note}\n                  </ListOption>\n                ))\n              }\n            </ListScroll>\n          </List>\n        </Dropdown\n          >\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\"/>\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import React, {useEffect, useRef, useState, useMemo} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\nimport NoteDropdown from \"./note-dropdown\";\nimport API from \"../../services\";\n\n\nfunction ReviewModal(props) {\n  const {\n    content,\n    open = false,\n    data = [],\n    users = [],\n    noteRange = [],\n    customOptions,\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    btnConfirmTextColor = \"#fff\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    updateLocalStudentInteraction = (interaction, selectedUser) => {\n    },\n  } = props;\n  const closeRef = useRef();\n  const questionListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [questions, setQuestions] = useState(data);\n  const [isLoadingNote, setIsLoadingNote] = useState([]);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const byAnswered = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.answered && !b.answered) {\n        return -1;\n      }\n      if (!a.answered && b.answered) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.answered && b.answered) {\n        return -1;\n      }\n      if (a.answered && !b.answered) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.reviewed && !b.reviewed) {\n        return -1;\n      }\n      if (!a.reviewed && b.reviewed) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.reviewed && b.reviewed) {\n        return -1;\n      }\n      if (a.reviewed && !b.reviewed) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let answered = false;\n\n    let interactionObjectTemp = questions.map(question => {\n      let interaction = {};\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === question.id);\n        let isReviewed = false;\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (object_data) {\n            answered = true;\n          }\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: 0,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages: questions.length,\n      reviewed: count_reviewed === questions.length,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        const userInteractionObject = interaction.find(item => item.target_uid === question.id);\n\n        if (userInteractionObject) {\n          question.score = userInteractionObject.score;\n        } else {\n          question.score = 0;\n        }\n      });\n\n      setQuestions(questionsCopy);\n    } else {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        } else {\n          question.score = 0;\n        }\n      });\n      setQuestions(questionsCopy);\n    }\n    return interaction;\n  }\n\n  const students = useMemo(() => {\n      const orderedUsers = users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder));\n\n      // Atualiza o usurio selecionado para refletir a mudana na nota\n      if (\"interaction_objects\" in selectedUser) {\n        const selectedUserUpdated = users.find(user => {\n          return user.user_uid === selectedUser.uid\n        });\n        if (selectedUserUpdated !== undefined) {\n          updateLocalQuestion(selectedUserUpdated.interaction_objects);\n        }\n      }\n\n      return orderedUsers;\n    },\n    [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const handleSelectNote = (question, note) => {\n    const {\n      interaction_objects = [],\n      interaction_uid,\n    } = selectedUser;\n    const userInteractionObject = interaction_objects.find(item => item.target_uid === question.id);\n\n    if (userInteractionObject) {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n      API.cms\n        .learning\n        .interaction.uid(interaction_uid)\n        .score\n        .object.uid(userInteractionObject.uid)\n        .updateScore(note, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    } else {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n\n      API.cms.learning.interaction\n        .uid(interaction_uid).object\n        .reviewed({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: \"\",\n          score: note,\n        }, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    }\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const getQuestionAnswer = (question, user) => {\n    if (user && user.interaction_objects) {\n      const interaction = user.interaction_objects.find(interaction => interaction.target_uid === question.id);\n      if (interaction) {\n        return interaction.answer || \"\";\n      }\n    }\n    return \"\";\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.StudentList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p>{user.name}</p>\n                            <p>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === questions.length) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{questions.length}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.StudentList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n              <S.QuestionList ref={questionListRef}>\n                {questions.map((question, i) => (\n                  <S.Question key={i}>\n                    <S.Title primaryColor={primaryColor}>\n                      {labels.question || \"Questo\"} {i + 1}\n                    </S.Title>\n\n                    <S.QuestionText\n                      dangerouslySetInnerHTML={{__html: question.question || \"\"}}\n                    />\n\n                    <S.AnswerContainer>\n                      <S.NoteContainer>\n                        <NoteDropdown\n                          notes={noteRange}\n                          selected={(question.score !== null && question.score !== \"\" && question.score !== \"null\") ? parseInt(question.score) : null}\n                          label={labels.score}\n                          primaryColor={primaryColor}\n                          onSelect={(note) => handleSelectNote(question, note)}\n                          isLoadingNote={isLoadingNote.includes(question.id)}\n                        />\n                      </S.NoteContainer>\n\n                      <S.AnswerLabel aria-label={labels.answer || \"Resposta\"}>\n                        <S.Title primaryColor={primaryColor}>Resposta</S.Title>\n\n                        <S.AnswerText\n                          tabIndex=\"-1\"\n                          primaryColor={primaryColor}\n                          name=\"answer\"\n                          rows=\"10\"\n                          readOnly\n                          value={getQuestionAnswer(question, selectedUser)}\n                        />\n                      </S.AnswerLabel>\n                    </S.AnswerContainer>\n\n                  </S.Question>\n                ))}\n              </S.QuestionList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-5.css';\nimport {\n  ContainedButton,\n  ContainerFinishButton,\n  FeedbackContainer,\n  NextButtonContainer,\n  OutlinedButton,\n  PrevButtonContainer,\n  RemakeButtonContainer,\n  RemakeButtonIcon,\n  RemakeButtonText,\n  TextArea,\n  TextAreaContainer,\n  TextButton\n} from \"./element-quiz-5.styled\";\nimport API from \"../../services\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz5 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n    this.renderStats = this.renderStats.bind(this);\n    this.renderConfirmAnswerButton = this.renderConfirmAnswerButton.bind(this);\n    this.renderEditAnswerButton = this.renderEditAnswerButton.bind(this);\n    this.renderDissertationArea = this.renderDissertationArea.bind(this);\n    this.renderConfirmAnswerButton = this.renderConfirmAnswerButton.bind(this);\n    this.handleCloseReviewModal = this.handleCloseReviewModal.bind(this);\n    this.getNoteRange = this.getNoteRange.bind(this);\n    this.createInteractionObject = this.createInteractionObject.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      activeAnswers: {},\n      currentQuestionPos: 0,\n      current_question: null,\n      answeredQuestionsQtd: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      questionAnswer: \"\",\n      visible: false,\n      custom_options: window.cstmptns,\n      is_review_modal_open: false,\n      is_loading_review_modal: false,\n      user: {\n        roles: []\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      interaction_uid,\n    } = custom_options;\n\n    return new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeAnswers = {...this.state.activeAnswers};\n    activeAnswers[question.id] = answer;\n\n    this.setState({\n      activeAnswers,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n    } = this.state;\n    const {questions} = content;\n\n    let total = questions.length;\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        total: total,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    let content = this.props.content;\n    let isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible) {\n        let obj = {\n          action: \"view\",\n          element: \"quiz-essay\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView() {\n    let content = this.props.content;\n    let currentQuestion = content.questions[this.state.currentQuestionPos];\n    let obj = {\n      action: \"view\",\n      element: \"quiz-essay-question\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionPos + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(question) {\n    const { activeAnswers } = this.state;\n    try {\n      let content = this.props.content;\n      if (question !== null) {\n        let obj = {\n          action: \"click\",\n          element: \"quiz-essay-question-confirm-answer\",\n          verb: \"answered\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n            question: {\n              id: question.id,\n              position: this.state.currentQuestionPos + 1,\n              title: StringFormat.HtmlToText(question.question),\n              answer: activeAnswers[question.id],\n            },\n          },\n        };\n        this.props.onTrackEvent(obj);\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  trackNavigation(direction) {\n    let content = this.props.content;\n    let element =\n      direction === \"next\"\n        ? \"quiz-essay-question-navigation-next\"\n        : \"quiz-essay-question-navigation-previous\";\n    let source =\n      direction === \"next\"\n        ? this.state.currentQuestionPos - 1\n        : this.state.currentQuestionPos + 1;\n    let source_question = this.props.content.questions[source];\n    let question = this.props.content.questions[this.state.currentQuestionPos];\n\n    let obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.currentQuestionPos + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionPos - 1\n              : this.state.currentQuestionPos + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    let evaluative = false;\n\n    for (let i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    let content = this.props.content;\n    let obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-essay-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: questions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz() {\n    let content = this.props.content;\n    let obj = {\n      action: \"click\",\n      element: \"quiz-essay-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  async getSignedUserFromJwt() {\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    let language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        edit: \"Edit answer\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        answer_saved: \"Answer saved!\",\n        stats: \"Statistics\",\n        review: \"Review answers\",\n        answer: \"Answer\",\n        reviewed: \"Reviewed\",\n        answered_by_student: \"Answered by student\",\n        answered: \"Answered\",\n        search: \"Search\",\n        finish_review: \"Finish review\",\n        close: \"Close\",\n        score: \"Score\",\n        select_to_start_review: \"Select a student to review.\"\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        edit: \"Editar resposta\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        answer_saved: \"Resposta salva!\",\n        stats: \"Estatsticas\",\n        review: \"Revisar respostas\",\n        answer: \"Resposta\",\n        reviewed: \"Revisado\",\n        answered_by_student: \"Respondido pelo aluno\",\n        answered: \"Respondido\",\n        search: \"Pesquisar\",\n        finish_review: \"Finalizar reviso\",\n        close: \"Fechar\",\n        score: \"Nota\",\n        select_to_start_review: \"Selecione um aluno para efetuar a reviso.\"\n      };\n    }\n  }\n\n  renderQuestionQuill(question) {\n    return (\n      <div className=\"element-quiz-5-question\">\n        <div\n          className=\"editor\"\n          dangerouslySetInnerHTML={{__html: question.question}}\n        />\n      </div>\n    );\n  }\n\n  handleChangeAnswer(question, questionAnswer) {\n    let contentClone = this.state.content;\n    let activeAnswers = this.state.content;\n\n    activeAnswers[question.id] = questionAnswer;\n\n    this.setState({\n      content: contentClone,\n      questionAnswer,\n      activeAnswers,\n    });\n  }\n\n  renderDissertationArea(question) {\n    const {\n      content: {\n        primary_color\n      },\n      activeAnswers,\n    } = this.state;\n\n    return (\n      <TextAreaContainer>\n        <TextArea\n          tabIndex={1}\n          value={activeAnswers[question.id] || \"\"}\n          onChange={event => this.handleChangeAnswer(question, event.target.value)}\n          disabled={question.answered}\n          primaryColor={primary_color}\n          rows={10}\n        />\n      </TextAreaContainer>\n    )\n  }\n\n  renderPreviousQuestionBtn() {\n    const {\n      content: {\n        primary_color\n      },\n      currentQuestionPos\n    } = this.state;\n\n    if (currentQuestionPos > 0) {\n      return (\n        <PrevButtonContainer>\n          <TextButton\n            tabIndex={1}\n            type=\"button\"\n            color={primary_color}\n            onClick={() => this.onNavigateQuestions('prev')}\n          >\n            {this.getLabels().previous}\n          </TextButton>\n        </PrevButtonContainer>\n      )\n    }\n  }\n\n  onNavigateQuestions(direction) {\n    const current = this.state.currentQuestionPos;\n    const currentQuestionPos = direction === \"next\" ? current + 1 : current - 1;\n\n    this.setState(\n      {\n        currentQuestionPos\n      },\n      function () {\n        this.trackNavigation(direction);\n        this.trackQuestionView();\n      }\n    );\n  }\n\n  renderNextQuestionBtn() {\n    const {\n      currentQuestionPos,\n      content: {\n        questions,\n        primary_color\n      }\n    } = this.state;\n    const nextQuestionPos = currentQuestionPos + 1;\n\n    if (nextQuestionPos < questions.length) {\n      return (\n        <NextButtonContainer>\n          <TextButton\n            tabIndex={1}\n            type=\"button\"\n            color={primary_color}\n            onClick={() => this.onNavigateQuestions('next')}\n          >\n            {this.getLabels().next}\n          </TextButton>\n        </NextButtonContainer>\n      )\n    }\n  }\n\n  renderFinishBtn() {\n    const {currentQuestionPos, content, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = currentQuestionPos + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map(q => {\n      if (q.answered) {\n        answeredQuestions++;\n      }\n    })\n    let disabledBtn = questions_count !== answeredQuestions || isAdminReviewer(user.roles);\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      )\n    }\n  }\n\n  renderProgress() {\n    const {currentQuestionPos, content} = this.state;\n    const {questions, primary_color} = content;\n    const current = currentQuestionPos + 1;\n    const total = questions.length;\n    const percentage = (100 / total) * current + \"%\";\n    return (\n      <div className=\"rdp-react-quiz-5-navigation-progress\">\n        <div className=\"rdp-react-quiz-5-navigation-progress-bar-placeholder\">\n          <div\n            style={{width: percentage, backgroundColor: primary_color}}\n            className=\"rdp-react-quiz-5-navigation-progress-bar\"\n          />\n        </div>\n        <span\n          style={{color: primary_color}}\n          className=\"rdp-react-quiz-5-navigation-progress-count\"\n        >\n          {current}/{total}\n        </span>\n      </div>\n    );\n  }\n\n  resetAllQuestions() {\n    let cloneContent = this.state.content;\n    cloneContent.questions = this.state.content.questions.map(question => {\n      question.answered = false;\n      question.answer = \"\";\n      return question;\n    });\n    this.setState({\n      content: cloneContent\n    }, () => this.defineAnswered(0));\n  }\n\n  defineAnswered = (idQuestion, answered = true) => {\n    let cloneContent = this.state.content;\n    let questionObj = null;\n\n    cloneContent.questions = this.state.content.questions.map(question => {\n      if (question.id === idQuestion) {\n        question.answered = answered;\n        questionObj = question;\n      }\n      return question;\n    });\n\n    this.setState({\n        content: cloneContent\n      },\n      () => {\n        try {\n          this.props.handleComplete(cloneContent, this.state.activeAnswers);\n        } catch (e) {\n          console.error(e)\n        }\n        this.trackAnswerConfirmClick(questionObj);\n      }\n    );\n  }\n\n  verifyAnswer = (question) => {\n    const {feedback} = this.state.content;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-5-feedback-msg\">\n          {this.getLabels().answer_saved}\n        </div>\n      );\n    }\n  };\n\n  renderFeedback(question) {\n    return (\n      <div className=\"element-quiz-5-feedback-container\">\n        {this.verifyAnswer(question)}\n        {this.renderEditAnswerButton(question)}\n      </div>\n    );\n  }\n\n  renderConfirmAnswerButton(question) {\n    const {content, activeAnswers} = this.state;\n    const {primary_color} = content;\n\n    let currentAnswer = activeAnswers[question.id] || \"\";\n    const enabled = currentAnswer.length > 0;\n\n    return (\n      <FeedbackContainer>\n        <ContainedButton\n          tabIndex={1}\n          type=\"button\"\n          onClick={() => this.defineAnswered(question.id)}\n          background={enabled ? primary_color : \"#F1F1F1\"}\n          disabled={!enabled}\n        >\n          {this.getLabels().confirm}\n        </ContainedButton>\n      </FeedbackContainer>\n    )\n  }\n\n  renderEditAnswerButton(question) {\n    const {content} = this.state;\n    const {primary_color} = content;\n\n    return (\n      <FeedbackContainer>\n        <ContainedButton\n          tabIndex={1}\n          type=\"button\"\n          onClick={() => this.defineAnswered(question.id, false)}\n          background={primary_color}\n        >\n          {this.getLabels().edit}\n        </ContainedButton>\n      </FeedbackContainer>\n    )\n  }\n\n  renderStats(question) {\n    const {\n      content: {\n        primary_color\n      },\n      is_loading_review_modal\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"rdp-react-quiz-5-stats-container\">\n          {/*<h3 className=\"rdp-react-quiz-5-stats-container-title\">*/}\n          {/*  {this.getLabels().stats}*/}\n          {/*</h3>*/}\n          <div className=\"rdp-react-quiz-5-stats-container-content\">\n            {/*<ul>*/}\n            {/*  <li>usurios que finalizaram</li>*/}\n            {/*  <li>usurios que no finalizaram</li>*/}\n            {/*</ul>*/}\n\n            <OutlinedButton\n              tabIndex={1}\n              type=\"button\"\n              onClick={() => {\n                this.setState({\n                  is_loading_review_modal: true,\n                }, () => this.startReviewForQuestion(question))\n              }}\n              background={primary_color}\n              disabled={is_loading_review_modal}\n            >\n              {this.getLabels().review}...\n            </OutlinedButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n\n  startReviewForQuestion(question) {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n      this.setState({\n        is_review_modal_open: true,\n        is_loading_review_modal: false,\n        current_question: question,\n        interaction_objects\n      })\n    });\n  }\n\n  handleCloseReviewModal() {\n    this.setState({\n      is_review_modal_open: false,\n    })\n  }\n\n  renderQuestionare(question) {\n    const {\n      currentQuestionPos,\n      content: {\n        questions,\n        primary_color\n      },\n      user: {\n        roles = []\n      }\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"element-quiz-5-header\">\n          <span style={{color: primary_color}}>\n            {this.getLabels().question} {currentQuestionPos + 1}\n          </span>\n          <span style={{color: primary_color}}>\n            {currentQuestionPos + 1}/{questions.length}\n          </span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {isAdminReviewer(roles) ? this.renderStats(question) : (\n          <>\n            {this.renderDissertationArea(question)}\n            {\n              question.answered\n                ? this.renderFeedback(question)\n                : this.renderConfirmAnswerButton(question)\n            }\n          </>\n        )}\n        <div className=\"rdp-react-quiz-5-navigation\">\n          {this.renderPreviousQuestionBtn()}\n          {this.renderProgress()}\n          {this.renderNextQuestionBtn()}\n          {!isAdminReviewer(roles) && this.renderFinishBtn()}\n        </div>\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {\n      currentQuestionPos,\n      content: {\n        questions\n      },\n      show_result\n    } = this.state;\n\n    if (questions && questions.length) {\n      let question = questions[currentQuestionPos];\n      return (\n        <div className=\"element-quiz-5-container\">\n          {question && !show_result\n            ? this.renderQuestionare(question)\n            : this.renderResult()}\n        </div>\n      );\n    }\n  }\n\n  async createInteractionObject(question) {\n    const {\n      content,\n      custom_options,\n      activeAnswers,\n    } = this.state;\n    const {\n      interaction_uid,\n    } = custom_options;\n\n    return API.cms.learning.interaction\n      .uid(interaction_uid)\n      .createObject({\n        context_uid: content.id,\n        type: content.type,\n        target_uid: question.id,\n        object_data: activeAnswers[question.id],\n      }, custom_options);\n  }\n\n  onFinishClick() {\n    const {\n      content,\n      activeAnswers,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n\n    for (const question of questions) {\n      this.createInteractionObject(question);\n    }\n\n    let total = questions.length;\n\n    let resume = {\n      rdp_html_content: {\n        questions: questions,\n        total: total,\n      },\n    };\n\n    this.setState(\n      {\n        grades: resume,\n        show_result: true,\n        answered: true,\n        attempsMade: attempsMade + 1,\n      },\n      () => {\n\n        this.trackQuizResult(questions, resume);\n\n        try {\n          this.props.handleComplete(content, activeAnswers);\n          this.props.handleFinish(content, {\n            score: \"0\",\n            finished: true,\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    );\n  }\n\n  onRemakeQuestionnaire() {\n    this.resetAllQuestions();\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      currentQuestionPos: 0,\n      activeAnswers: [],\n      questionAnswer: \"\",\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel() {\n    let language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return \"Your responses have been sent for review.\";\n    } else if (language === \"pt_br\") {\n      return \"Suas respostas foram enviadas para anlise.\";\n    }\n  }\n\n  renderFinalMessage() {\n    const feedback = this.state.content.feedback.type;\n\n    if (feedback === \"disabled\") {\n      return <span className=\"rdp-react-quiz-5-result-message\">{this.getLabels().finish_quiz_message}</span>\n    } else {\n      return (\n        <span className=\"rdp-react-quiz-5-result-message\">\n          {this.getResultLabel()}\n        </span>\n      )\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n\n    if (show_result) {\n      return (\n        <div className=\"rdp-react-quiz-5-result\">\n          <span className=\"rdp-react-quiz-5-result-icon\"/>\n          {this.renderFinalMessage()}\n          {this.userCanRemakeQuiz() && (\n            <RemakeButtonContainer>\n              <TextButton\n                tabIndex={1}\n                type=\"button\"\n                onClick={() => this.onRemakeQuestionnaire()}\n                color={content.primary_color}\n              >\n                <RemakeButtonIcon>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    xlink=\"http://www.w3.org/1999/xlink\"\n                    version=\"1.1\"\n                    id=\"Layer_1\"\n                    x=\"0px\"\n                    y=\"0px\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    viewBox=\"0 0 512 512\"\n                    enableBackground=\"new 0 0 512 512\"\n                    space=\"preserve\"\n                  >\n                    <g>\n                      <path\n                        fill={\n                          content.primary_color\n                            ? content.primary_color\n                            : \"#111111\"\n                        }\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"\n                      />\n                      <path\n                        fill={\n                          content.primary_color\n                            ? content.primary_color\n                            : \"#111111\"\n                        }\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"\n                      />\n                    </g>\n                  </svg>\n                </RemakeButtonIcon>\n\n                <RemakeButtonText>\n                  {this.getLabels().retry}\n                </RemakeButtonText>\n              </TextButton>\n            </RemakeButtonContainer>\n          )}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  getUsersInteractions() {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: content.id, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      content: {\n        primary_color,\n        background_color,\n        padding_bottom,\n        padding_top,\n        font_family,\n        confirm_button_text_color,\n        questions,\n        id\n      },\n      className\n    } = this.props;\n    const {\n      user: {\n        roles = []\n      },\n      is_review_modal_open,\n      interaction_objects,\n      custom_options,\n    } = this.state;\n\n    return (\n      <div\n        id={this.props.content.id}\n        ref={this.elementRef}\n        className={`${className} ${\n          this.getFont(font_family) || \"\"\n        }`}\n        style={{\n          backgroundColor: background_color,\n          paddingTop: padding_top + \"px\",\n          paddingBottom: padding_bottom + \"px\",\n        }}\n      >\n        {headerActionsTemplate}\n        {this.renderContent()}\n        {\n          (isAdminReviewer(roles)) && (\n            <ReviewModal\n              open={is_review_modal_open}\n              content={this.props.content}\n              data={questions}\n              customOptions={custom_options}\n              users={interaction_objects}\n              btnConfirmTextColor={confirm_button_text_color}\n              primaryColor={primary_color}\n              noteRange={this.getNoteRange()}\n              onCancel={this.handleCloseReviewModal}\n              onConfirm={this.handleCloseReviewModal}\n              labels={this.getLabels()}\n              updateLocalStudentInteraction={(interaction, selectedUser) => {\n                let studentsCopy = [...interaction_objects];\n\n                studentsCopy = studentsCopy.map(student => {\n                  if (student.user_uid === selectedUser.uid) {\n                    if (student.interaction_objects.length === 0) {\n                      student.interaction_objects = [interaction];\n                    } else {\n                      student.interaction_objects = student.interaction_objects.map(row => {\n                        if (row.uid === interaction.uid) {\n                          return {\n                            ...row,\n                            score: interaction.score,\n                            reviewed_at: interaction.reviewed_at,\n                            reviewer_user_uid: interaction.reviewer_user_uid,\n                            updated_at: interaction.updated_at,\n                          };\n                        }\n                        return row;\n                      });\n                    }\n                  }\n                  return student;\n                });\n\n                this.setState({\n                  interaction_objects: studentsCopy,\n                })\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;\n\nexport const OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n  \n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewedColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const StudentList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const QuestionList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import styled, {css} from \"styled-components\";\n\nexport const Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const Dropdown = styled.div`\n\tposition: relative;\n`\n\nexport const DropdownButton = styled.button`\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport const Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nexport const List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nexport const ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nexport const ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nexport const NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport const ListScroll = styled.div`\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n`","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge,\n  ListScroll,\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            <ListScroll>\n              {\n                notes.map((note, index) => (\n                  <ListOption\n                    hoverColor={backgroundHoverColor}\n                    color={primaryColor}\n                    key={index}\n                    role=\"option\"\n                    aria-selected={note === selected ? \"true\" : \"false\"}\n                    onClick={() => handleClickOption(note)}\n                    onMouseEnter={(event) => handleMouseOption(event, note)}\n                    onMouseLeave={(event) => handleMouseOption(event, null)}\n                  >\n                    {note}\n                  </ListOption>\n                ))\n              }\n            </ListScroll>\n          </List>\n        </Dropdown\n          >\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\"/>\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import React, {useEffect, useMemo, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\nimport NoteDropdown from \"./note-dropdown\";\nimport API from \"../../services\";\n\n\nfunction ReviewModal(props) {\n  const {\n    content,\n    allQuestions = [],\n    open = false,\n    data = [],\n    users = [],\n    noteRange = [],\n    customOptions,\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    btnConfirmTextColor = \"#fff\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    updateLocalStudentInteraction = (interaction, selectedUser) => {\n    },\n  } = props;\n  const closeRef = useRef();\n  const questionListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [questions, setQuestions] = useState(data);\n  const [isLoadingNote, setIsLoadingNote] = useState([]);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const byAnswered = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.answered && !b.answered) {\n        return -1;\n      }\n      if (!a.answered && b.answered) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.answered && b.answered) {\n        return -1;\n      }\n      if (a.answered && !b.answered) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.reviewed && !b.reviewed) {\n        return -1;\n      }\n      if (!a.reviewed && b.reviewed) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.reviewed && b.reviewed) {\n        return -1;\n      }\n      if (a.reviewed && !b.reviewed) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let answered = false;\n\n    let interactionObjectTemp = questions.map(question => {\n      let interaction = {};\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === question.id);\n        let isReviewed = false;\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (object_data) {\n            answered = true;\n          }\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: 0,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages: questions.length,\n      reviewed: count_reviewed === questions.length,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        const userInteractionObject = interaction.find(item => item.target_uid === question.id);\n\n        if (userInteractionObject) {\n          question.score = userInteractionObject.score;\n        } else {\n          question.score = 0;\n        }\n      });\n\n      setQuestions(questionsCopy);\n    } else {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        } else {\n          question.score = 0;\n        }\n      });\n      setQuestions(questionsCopy);\n    }\n    return interaction;\n  }\n\n  const students = useMemo(() => {\n      const orderedUsers = users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder))\n      // Atualiza o usurio selecionado para refletir a mudana na nota\n      if (\"interaction_objects\" in selectedUser) {\n        const selectedUserUpdated = users.find(user => {\n          return user.user_uid === selectedUser.uid\n        });\n        if (selectedUserUpdated !== undefined) {\n          updateLocalQuestion(selectedUserUpdated.interaction_objects);\n        }\n      }\n      return orderedUsers;\n    }, [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const handleSelectNote = (question, note) => {\n    const {\n      interaction_objects = [],\n      interaction_uid,\n    } = selectedUser;\n    const userInteractionObject = interaction_objects.find(item => item.target_uid === question.id);\n\n    if (userInteractionObject) {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n      API.cms\n        .learning\n        .interaction.uid(interaction_uid)\n        .score\n        .object.uid(userInteractionObject.uid)\n        .updateScore(note, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    } else {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n\n      API.cms.learning.interaction\n        .uid(interaction_uid).object\n        .reviewed({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: \"\",\n          score: note,\n        }, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    }\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const getQuestionAnswer = (question, user) => {\n    if (user && user.interaction_objects) {\n      const interaction = user.interaction_objects.find(interaction => interaction.target_uid === question.id);\n      if (interaction) {\n        return interaction.answer || \"\";\n      }\n    }\n    return \"\";\n  }\n\n  const getQuestionIndex = (question) => {\n    if (allQuestions && allQuestions.length > 0) {\n      return allQuestions.findIndex(item => item.id === question.id);\n    } else {\n      return 0;\n    }\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.StudentList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p>{user.name}</p>\n                            <p>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === questions.length) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{questions.length}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.StudentList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n              <S.QuestionList ref={questionListRef}>\n                {questions.map((question, i) => (\n                  <S.Question key={i}>\n                    <S.Title primaryColor={primaryColor}>\n                      {labels.question || \"Questo\"} {getQuestionIndex(question) + 1}\n                    </S.Title>\n\n                    <S.QuestionText\n                      dangerouslySetInnerHTML={{__html: question.question || \"\"}}\n                    />\n\n                    <S.AnswerContainer>\n                      <S.NoteContainer>\n                        <NoteDropdown\n                          notes={noteRange}\n                          selected={(question.score !== null && question.score !== \"\" && question.score !== \"null\") ? parseInt(question.score) : null}\n                          label={labels.score}\n                          primaryColor={primaryColor}\n                          onSelect={(note) => handleSelectNote(question, note)}\n                          isLoadingNote={isLoadingNote.includes(question.id)}\n                        />\n                      </S.NoteContainer>\n\n                      <S.AnswerLabel aria-label={labels.answer || \"Resposta\"}>\n                        <S.Title primaryColor={primaryColor}>Resposta</S.Title>\n\n                        <S.AnswerText\n                          tabIndex=\"-1\"\n                          primaryColor={primaryColor}\n                          name=\"answer\"\n                          rows=\"10\"\n                          readOnly\n                          value={getQuestionAnswer(question, selectedUser)}\n                        />\n                      </S.AnswerLabel>\n                    </S.AnswerContainer>\n\n                  </S.Question>\n                ))}\n              </S.QuestionList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","const userCanRemakeQuiz = (content, attempsMade) => {\n  const {\n    max_attempts = null,\n    remake = \"disable\"\n  } = content;\n  //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n  // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n  // a verificao do limite de refaes\n  if (remake === \"enable\" && String(max_attempts) === 'null') {\n    return true;\n  }\n  if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n    const default_first_attempt_count = 1;\n    const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n    return remake === \"enable\" && attempsMade < total_attempts\n  }\n\n  return false;\n}\n\nexport default userCanRemakeQuiz;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\nimport * as S from \"./element-quiz-6.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport userCanRemakeQuiz from \"../../utils/userCanRemakeQuiz\";\n\nexport default class ElementQuiz6 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    protocol: null,\n    custom_options: window.cstmptns,\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    is_review_modal_open: false,\n    is_loading_review_modal: false,\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n      this.trackElementView();\n    }\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    switch (question.type) {\n      case \"quiz-1\":\n        question.choices.forEach((choice) => {\n          if (answer.id === choice.id) {\n            activeChoices[question.id] = choice.id;\n          }\n        });\n        break;\n      case \"quiz-2\":\n        activeChoices[question.id] = [];\n        question.choices.forEach((choice) => {\n          if (answer.find(c => c.id === choice.id) !== undefined) {\n            activeChoices[question.id].push(choice.id);\n          }\n        });\n        break;\n      case \"quiz-5\":\n        activeChoices[question.id] = answer;\n        break;\n      default:\n        console.error(\"Question type not found\");\n\n    }\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  //region Trackers\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-mixed\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-mixed\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          type: currentQuestion.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick = (choice) => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-mixed-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          type: currentQuestion.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: choice,\n        },\n      },\n    };\n\n    if (currentQuestion.type === \"quiz-1\" || currentQuestion.type === \"quiz-2\") {\n      obj.metadata.question.answer = {\n        id: choice.id,\n        title: StringFormat.HtmlToText(choice.text),\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick = (questionId, questions) => {\n    var content = this.props.content;\n    const {activeChoices, currentQuestionIndex} = this.state;\n\n    let question = questions[currentQuestionIndex] || null;\n    let questionIndex = currentQuestionIndex || -1;\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = null;\n      let answer;\n\n      switch (question.type) {\n        case \"quiz-1\":\n          selectedChoice = question.choices.find((choice) => activeChoices[question.id] === choice.id);\n          correctAnswer = questionIsCorrect(question, activeChoices);\n          answer = {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            correct: correctAnswer,\n          };\n          break;\n        case \"quiz-2\":\n          selectedChoice = question.choices.filter((choice) => activeChoices[question.id].includes(choice.id));\n          correctAnswer = questionIsCorrect(question, activeChoices);\n          answer = selectedChoice.map((choice) => ({\n            id: choice.id,\n            title: StringFormat.HtmlToText(choice.text),\n            correct: correctAnswer,\n          }));\n          break;\n        case \"quiz-5\":\n          answer = activeChoices[question.id];\n          break;\n          default:\n            console.error(\"Question type not supported: \", question.type);\n      }\n\n\n      const obj = {\n        action: \"click\",\n        element: \"quiz-mixed-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions: questions.length,\n          current_question: questionIndex,\n          question: {\n            id: question.id,\n            type: question.type,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n            answers: question.choices ? question.choices.map(choice => {\n              let result = { ... choice };\n              result.text = StringFormat.HtmlToText(result.text);\n              return result;\n            }) : null\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionFeedback(correctAnswer, answer, question);\n    }\n  }\n\n  trackQuestionResult = (correctAnswer, selectedChoice, question) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"result\",\n      verb: \"viewed\",\n      element: \"quiz-mixed-question-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          type: question.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n          answer: {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            hit: correctAnswer,\n          },\n        },\n      },\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback = (correctAnswer, answer, question) => {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-mixed-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            type: question.type,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation = (direction) => {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-mixed-question-navigation-next\"\n        : \"quiz-mixed-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.currentQuestionIndex - 1\n        : this.state.currentQuestionIndex + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.currentQuestionIndex];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          type: question.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionIndex - 1\n              : this.state.currentQuestionIndex + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-mixed-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    let evaluative = false;\n\n    for (let i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    let content = this.props.content;\n    let obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-mixed-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: questions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz = () => {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-mixed-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n  //endregion Trackers\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n        reviewed: \"Reviewed\",\n        review: \"Review answers\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n        review: \"Revisar respostas\",\n        reviewed: \"Revisado\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {content, activeChoices} = this.state;\n    let {questions} = content;\n    let question = questions.find(q => q.id === questionId);\n\n    switch (question.type) {\n      case \"quiz-1\":\n        this.setState({activeChoices: {...activeChoices, [questionId]: choice.id}});\n        break;\n\n      case \"quiz-2\":\n        if (activeChoices[question.id]) {\n          if (activeChoices[question.id].includes(choice.id)) {\n            activeChoices[question.id] = activeChoices[question.id].filter(selected => selected !== choice.id);\n          } else {\n            activeChoices[question.id].push(choice.id);\n          }\n        } else {\n          activeChoices[question.id] = [];\n          activeChoices[question.id].push(choice.id);\n        }\n\n        this.setState({\n          activeChoices: activeChoices\n        });\n        break;\n      case \"quiz-3\":\n      case \"quiz-4\":\n      case \"quiz-5\":\n        this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n        break;\n      default:\n        return;\n    }\n\n    this.trackAnswerClick(choice);\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds, content: {\n      questions\n    }} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    }, () => {\n      this.trackAnswerConfirmClick(questionId, questions)\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"prev\");\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"next\");\n    });\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = null;\n\n    switch (question.type) {\n      case \"quiz-1\":\n        object_data = question.choices.find(c => c.id === activeChoices[question.id]);\n        break;\n      case \"quiz-2\":\n        object_data = question.choices.filter(c => activeChoices[question.id].includes(c.id));\n        break;\n      case \"quiz-5\":\n        object_data = activeChoices[question.id];\n        break;\n      default:\n        console.error(\"Invalid question type\");\n    }\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  showResult = async () => {\n    const {content, activeChoices, answeredQuestionsIds, attempsMade} = this.state;\n    const {questions} = content;\n    let hits = 0;\n    const quizTypesWithReview = [\"quiz-5\"];\n    const questionsPendingReview = questions.filter(q => quizTypesWithReview.includes(q.type));\n    let total = questions.length - questionsPendingReview.length;\n\n    questions\n      .filter(q => quizTypesWithReview.includes(q.type) === false)\n      .forEach(async question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        pending_review_total: questionsPendingReview.length,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizResult(questions, resume);\n    });\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  handleCloseReviewModal = () => {\n    this.setState({\n      is_review_modal_open: false,\n    });\n  }\n\n  startReviewForQuestion = (question) => {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n        this.setState({\n          is_review_modal_open: true,\n          is_loading_review_modal: false,\n          current_question: question,\n          interaction_objects\n        })\n      })\n      .catch(error => {\n        console.error(\"Error getting interaction objects\", error);\n      });\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  renderReview(question) {\n    const {\n      content: {\n        primary_color\n      },\n      is_loading_review_modal\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"rdp-react-quiz-5-stats-container\">\n          <div className=\"rdp-react-quiz-5-stats-container-content\">\n            <S.OutlinedButton\n              tabIndex={1}\n              type=\"button\"\n              onClick={() => {\n                this.setState({\n                  is_loading_review_modal: true,\n                }, () => this.startReviewForQuestion(question))\n              }}\n              background={primary_color}\n              disabled={is_loading_review_modal}\n            >\n              {this.getLabels().review}...\n            </S.OutlinedButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n    this.sortQuestions(true);\n  }\n\n  handleRemakeQuiz = () => {\n    this.resetState();\n    this.trackRemakeQuiz();\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  getQuestionsByType = (type) => {\n    const {content} = this.state;\n    return content.questions.filter(q => q.type === type);\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n      user: {\n        roles = []\n      },\n      custom_options,\n      is_review_modal_open,\n      interaction_objects,\n      attempsMade,\n    } = this.state;\n    const {\n      questions,\n      primary_color,\n      confirm_button_text_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          canRemake={userCanRemakeQuiz(content, attempsMade)}\n          onClickRemake={this.handleRemakeQuiz}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n            onlyShowQuestion={isAdminReviewer(roles)}\n          />\n\n          {(isAdminReviewer(roles)) && this.renderReview(question)}\n\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n\n          {\n            (isAdminReviewer(roles)) && (\n              <ReviewModal\n                open={is_review_modal_open}\n                allQuestions={questions}\n                content={content}\n                data={this.getQuestionsByType(\"quiz-5\")}\n                customOptions={custom_options}\n                users={interaction_objects}\n                btnConfirmTextColor={confirm_button_text_color}\n                primaryColor={primary_color}\n                noteRange={this.getNoteRange()}\n                onCancel={this.handleCloseReviewModal}\n                onConfirm={this.handleCloseReviewModal}\n                labels={this.getLabels()}\n                updateLocalStudentInteraction={(interaction, selectedUser) => {\n                  let studentsCopy = [...interaction_objects];\n\n                  studentsCopy = studentsCopy.map(student => {\n                    if (student.user_uid === selectedUser.uid) {\n                      if (student.interaction_objects.length === 0) {\n                        student.interaction_objects = [interaction];\n                      } else {\n                        student.interaction_objects = student.interaction_objects.map(row => {\n                          if (row.uid === interaction.uid) {\n                            return {\n                              ...row,\n                              score: interaction.score,\n                              reviewed_at: interaction.reviewed_at,\n                              reviewer_user_uid: interaction.reviewer_user_uid,\n                              updated_at: interaction.updated_at,\n                            };\n                          }\n                          return row;\n                        });\n                      }\n                    }\n                    return student;\n                  });\n\n                  this.setState({\n                    interaction_objects: studentsCopy,\n                  })\n                }}\n              />\n            )\n          }\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n\n}\n","import React, {Component} from 'react';\nimport Moment from 'react-moment';\nimport './user-log.css';\n\nexport default class UserLog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  renderTimestamp(timestamp) {\n    return <div className=\"rdp-composer-player-user-log-date\">\n      <Moment unix>{timestamp}</Moment>\n    </div>\n  }\n\n  renderViewElement(event) {\n    let _this = this;\n    const {\n      element,\n    } = event;\n\n    switch (element) {\n      case \"video\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>player de vdeo</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"accordion\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>accordion</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"audio\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>player de udio</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"header-1\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>cabealho</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"webview\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>webview</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"tabs\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o elemento de <b>tabs</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"flashcards\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o elemento de <b>flashcards</b> identificado\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"text\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>texto</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"image\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>imagem</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-only-choice\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz de nica escolha</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-only-choice-question\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a questo de ttulo <b>{event.metadata.question.title}</b> da <b>atividade de\n            quiz de nica escolha</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-multiple-choice\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz de mltiplas escolhas</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-essay\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz dissertativo</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-essay-question\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a questo de ttulo <b>{event.metadata.question.title}</b> da <b>atividade de quiz\n            dissertativo</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      default:\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            {event.action}\n          </>\n        )\n    }\n  }\n\n  renderClickElement(event) {\n    let _this = this;\n    const {\n      element,\n      verb,\n    } = event;\n\n    switch (element) {\n      case \"accordion\":\n        const verbLabel = verb === \"opened\" ? \"abriu\" : \"fechou\";\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio {verbLabel} o item <b>{event.metadata.title}</b> do elemento <b>accordion</b> identificado\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      default:\n        return <>{event.action}</>\n    }\n  }\n\n  render() {\n    let _this = this;\n    let events = this.props.events;\n\n    return (\n      <ul className=\"rdp-composer-player-user-log\">\n        {\n          events.map(function (event, index) {\n            let action = event.action;\n\n            switch (action) {\n              case \"view\":\n                return (\n                  <li key={index}>\n                    {_this.renderViewElement(event)}\n                  </li>\n                )\n              case \"click\":\n                return (\n                  <li key={index}>\n                    {_this.renderClickElement(event)}\n                  </li>\n                )\n              default:\n                return <li key={index}>{event.action}</li>\n            }\n          })\n        }\n      </ul>\n    )\n  }\n}\n","import React from 'react';\nimport videojs from 'video.js';\n// import 'video.js/dist/video-js.css';\n\nexport default class VideoPlayer extends React.Component {\n  componentDidMount() {\n    // instantiate Video.js\n    this.player = videojs(this.videoNode, this.props, function onPlayerReady() {\n      console.log('onPlayerReady', this)\n    });\n  }\n\n  // destroy player on unmount\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose()\n    }\n  }\n\n  // wrap the player in a div with a `data-vjs-player` attribute\n  // so videojs won't create additional wrapper in the DOM\n  // see https://github.com/videojs/video.js/pull/3856\n  render() {\n    return (\n      <div>\t\n        <div data-vjs-player>\n          <video height=\"auto\" width=\"100%\" ref={ node => this.videoNode = node } className=\"video-js\"></video>\n        </div>\n      </div>\n    )\n  }\n}","import styled from 'styled-components';\n\nexport const ImagesGalleryContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const ImagesContainer = styled.div`\n  max-width: 750px;\n  display: flex;\n  justify-content: center;\n  \n  @media(max-width: 800px) {\n    flex-direction: column;\n  }\n`;\n\nexport const ImageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 10px;\n\n  @media(max-width: 800px) {\n    margin: 10px 0;\n  }\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n\n  & > img {\n    cursor: pointer;\n    transition: 0.3s;\n    margin-bottom: 8px;\n    object-fit: cover;\n\n    ${({ numberOfImages }) => {\n        const imagesSize = 750 / numberOfImages;\n        return `width: ${imagesSize}px; height: ${imagesSize}px;`;\n      }\n    }\n\n    @media(max-width: 800px) {\n      width: 70vw;\n      height: 70vw;\n    }\n  }\n`;\n\nexport const Modal = styled.div`\n  position: fixed;\n  z-index: 1000;\n  padding-top: 50px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.9);\n  overflow-x: hidden;\n\n  .slick-list {\n    width: 100%;\n  }\n\n  .slick-track, .slick-slider {\n    display: flex;\n    justify-content: center;\n  }\n\n  .slick-slide {\n    margin: 0;\n    position: relative;\n    text-align: center;\n    flex-flow: column;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media(max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n`;\n\nexport const ModalImage = styled.img`\n  margin: auto;\n  display: block;\n  width: 70%;\n  max-width: 700px;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n  \n  @media only screen and (max-width: 700px) {\n    width: 100%;\n  }\n`;\n\nexport const Caption = styled.p`\n  margin: auto;\n  display: block;\n  width: 80%;\n  max-width: 700px;\n  text-align: center;\n  color: #ccc;\n  padding: 10px 0;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n`;\n\nexport const ArrowButton = styled.button`\n  background: #f1f1f1;\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 50%;\n  z-index: 1000;\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n\n  &:first-of-type {\n    left: 28px;\n  }\n\n  &:last-of-type {\n    right: 28px;\n  }\n\n  &:hover,\n  &:focus {\n    background: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  i {\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 5px;\n    margin-top: 3px;\n  }\n\n  @media (max-width: 700px) {\n    &:first-of-type {\n      left: 8px;\n    }\n\n    &:last-of-type {\n      right: 8px;\n    }\n  }\n`;\n\nexport const ArrowLeft = styled.i`\n  transform: rotate(135deg);\n  -webkit-transform: rotate(135deg);\n  margin-left: 5px;\n`;\n\nexport const ArrowRight = styled.i`\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  margin-right: 5px;\n`;\n\n\nexport const Dots = styled.ul`\n  width: 100vw;\n  text-align: center;\n  margin-top: 10px;\n`;\n\nexport const Dot = styled.li`\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin: 0 8px;\n  background: #f1f1f1;\n  border-radius: 50%;\n  opacity: ${({ isSelected }) => isSelected ? 1 : 0.25};\n  cursor: pointer;\n`;\n\nexport const Close = styled.span`\n  position: absolute;\n  top: 15px;\n  right: 35px;\n  color: #f1f1f1;\n  font-size: 40px;\n  font-weight: bold;\n  transition: 0.3s;\n\n  &:focus, &:hover {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n`;","import React, { useRef, useState } from \"react\";\nimport Slider from \"react-slick\";\nimport \"animate.css/animate.min.css\";\n\nimport * as S from \"./styles\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nconst ElementImagesGallery = ({\n  headerActionsTemplate,\n  footerActionsTemplate,\n  content,\n  onTrackEvent\n}) => {\n  const elementRef = useRef(null);\n  const sliderRef = useRef(null);\n  const [visible, setVisible] = useState(false);\n\n  React.useEffect(() => {\n    trackElementView();\n  }, []);\n\n  const trackElementView = () => {\n    var isVisible = VisibleElement.visible(elementRef.current);\n    if (visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"images-gallery-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        onTrackEvent(obj);\n      };\n      setVisible(isVisible);\n    };\n  }\n\n  const [isModalActivated, setIsModalActivated] = useState(\n    content.images.map(() => false)\n  );\n  const [currentImageOnModal, setCurrentImageOnModal] = useState(0);\n\n  const handleClickOnImage = (i) => {\n    isModalActivated[i] = true;\n    setIsModalActivated([...isModalActivated]);\n    setCurrentImageOnModal(i);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalActivated(isModalActivated.map(() => false));\n  };\n\n  const handleClickOnNext = () => {\n    const newCurrentImage =\n      currentImageOnModal === content.images.length - 1\n        ? 0\n        : currentImageOnModal + 1;\n\n    sliderRef.current.slickGoTo(newCurrentImage);\n  };\n\n  const handleClickOnPrev = () => {\n    const newCurrentImage =\n      currentImageOnModal === 0\n        ? content.images.length - 1\n        : currentImageOnModal - 1;\n\n    sliderRef.current.slickGoTo(newCurrentImage);\n  };\n\n  const handleClickOnDot = (index) => {\n    setCurrentImageOnModal(index);\n    sliderRef.current.slickGoTo(index);\n  };\n\n  const imagesGalleryStyle = {\n    backgroundColor: content.background_color,\n    paddingTop: content.padding_top + \"px\",\n    paddingBottom: content.padding_bottom + \"px\",\n    color: content.text_color,\n  };\n\n  const sliderSettings = {\n    dots: false,\n    infinite: false,\n    arrows: false,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    initialSlide: currentImageOnModal,\n  };\n\n  return (\n    <S.ImagesGalleryContainer ref={elementRef} style={imagesGalleryStyle}>\n      {headerActionsTemplate}\n      <S.ImagesContainer>\n        {content.images.map((image, i) => (\n          <S.ImageContainer numberOfImages={content.images.length} key={i}>\n            <img\n              src={image.src}\n              alt={image.caption}\n              onClick={() => handleClickOnImage(i)}\n            />\n            <span>{image.caption}</span>\n          </S.ImageContainer>\n        ))}\n      </S.ImagesContainer>\n      {isModalActivated.includes(true) && (\n        <S.Modal>\n          <div>\n            <S.ArrowButton onClick={handleClickOnPrev}>\n              <S.ArrowLeft />\n            </S.ArrowButton>\n            <Slider\n              ref={sliderRef}\n              beforeChange={(currentSlide, nextSlide) =>\n                setCurrentImageOnModal(nextSlide)\n              }\n              {...sliderSettings}\n            >\n              {content.images.map((image, index) => (\n                <div key={index}>\n                  <S.ModalImage src={image.src} alt=\"\" />\n                  {image.caption && <S.Caption>{image.caption}</S.Caption>}\n                </div>\n              ))}\n            </Slider>\n            <S.Dots>\n              {content.images.map((image, index) => (\n                <S.Dot\n                  onClick={() => handleClickOnDot(index)}\n                  isSelected={index === currentImageOnModal}\n                  key={index}\n                />\n              ))}\n            </S.Dots>\n            <S.ArrowButton onClick={handleClickOnNext}>\n              <S.ArrowRight />\n            </S.ArrowButton>\n            <S.Close onClick={handleCloseModal}>&times;</S.Close>\n          </div>\n        </S.Modal>\n      )}\n      {footerActionsTemplate}\n    </S.ImagesGalleryContainer>\n  );\n};\n\nexport default ElementImagesGallery;\n","import styled from \"styled-components\";\n\nexport const ContainerDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 300px;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n`\n\nexport const TextArea = styled.textarea`\n  margin: 15px;\n  display: block;\n  width: calc(100% - 30px);\n  resize: none;\n  height: 210px;\n  border: 0;\n  outline: none;\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`","import styled from \"styled-components\";\n\nexport const QuillContainer = styled.div`\n  .quill {\n    margin: 0;\n    border-radius: 8px;\n\n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size span.ql-picker-label.ql-active::before, \n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size.ql-expanded span.ql-picker-options span.ql-picker-item::before {\n      content: attr(data-value) !important;\n    }\n    \n    .ql-toolbar.ql-snow {\n      border: none;\n      ${props => props.colorPickerOpened && \"opacity: 0;\"}\n\n      + .ql-container.ql-snow {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n\n    .ql-container.ql-snow {\n      background-color: transparent;\n      border: none;\n\n      .ql-editor {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n  }\n\n  .ql-format-custom-color {\n    width: 25px;\n    height: 22px;\n    cursor: pointer;\n    display: inline-block;\n    background-color: ${props => props.quillColor || \"#000\"};\n  }\n\n  .ql-custom-color-picker {\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .ql-custom-color-picker-overlay {\n    position: relative;\n    top: 40px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n\n  .ql-custom-color-picker .github-picker {\n    border: 0 !important;\n    min-height: 40px !important;\n    box-shadow: none !important;\n    background: #ffffff !important;\n    justify-content: center !important;\n    align-items: center !important;\n    padding: 5px !important;\n  }\n`","import React, {PureComponent} from 'react';\nimport ReactQuill, {Quill as QuillR} from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport {GithubPicker} from \"react-color\";\nimport {QuillContainer} from \"./quill.styled\";\n\nclass Quill extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.addCustomColorPicker = this.addCustomColorPicker.bind(this);\n    this.toggleColor = this.toggleColor.bind(this);\n    this.onQuillColorChange = this.onQuillColorChange.bind(this);\n\n    this.quillRef = React.createRef();\n\n    this.state = {\n      current_selection: null,\n      current_quill_color: \"#000\",\n      render_quill_color_picker: false,\n      colors: [\n        \"#000000\", \"#555555\", \"#ABB8C3\", \"#e60000\", \"#F47373\", \"#ff9900\", \"#FCB900\", \"#FCCB00\",\n        \"#008a00\", \"#4CAF50\", \"#CDDC39\", \"#0066cc\", \"#03A9F4\", \"#8ED1FC\", \"#9933ff\", \"#F78DA7\", \"#ffffff\"\n      ],\n      modules: {\n        toolbar: [\n          ['bold', 'italic', 'underline','strike'],\n          [\n            { 'align': '' },\n            { 'align': 'center' },\n            { 'align': 'right' }\n          ],\n          [\n            { 'script': 'sub' },\n            { 'script': 'super' },\n            'formula'\n          ],\n          [\n            {\n              'size': [\n                false, \"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\",\n                \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\",\n                \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"\n              ]\n            }\n          ],\n          [{'list': 'ordered'}, {'list': 'bullet'}],\n          ['link']\n        ]\n      },\n      formats: [\n        'header', 'size', 'bold', 'italic', 'underline', 'strike', 'script',\n        'formula', 'list', 'bullet', 'indent', 'link', 'color', 'align'\n      ]\n    }\n  }\n\n  componentWillMount() {\n    const Font = QuillR.import('formats/font');\n    Font.whitelist = ['large', 'medium', \"small\", \"regular\", \"bold\", \"pullquote\"];\n    QuillR.register(Font, true);\n\n    let SizeStyle = QuillR.import('attributors/style/size');\n    SizeStyle.whitelist = [\n      \"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\",\n      \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\",\n      \"55px\", \"60px\"\n    ]\n    QuillR.register(SizeStyle, true);\n  }\n\n  componentDidMount() {\n    this.addCustomColorPicker();\n  }\n\n  addCustomColorPicker() {\n    const quillRef = this.quillRef;\n    const quill = quillRef.current;\n\n    if (quill !== null) {\n      const toolbar = quill.querySelector(\".ql-toolbar\")\n      if (toolbar) {\n        toolbar.insertAdjacentHTML(\"beforeend\",\n          '<span class=\"ql-formats\"><span class=\"ql-format-custom-color\"></span></span>'\n        )\n      }\n      const customColor = quill.querySelector(\".ql-format-custom-color\")\n      if (customColor) {\n        customColor.addEventListener(\"click\", this.toggleColor)\n      }\n    }\n  }\n\n  toggleColor() {\n    const {\n      render_quill_color_picker\n    } = this.state;\n    let current_selection = null;\n    const selection = window.getSelection();\n\n    if (selection && selection.rangeCount > 0) {\n      console.log(\"range\", selection.getRangeAt(0));\n      current_selection = selection.getRangeAt(0);\n    }\n\n    this.setState({\n      current_selection,\n      render_quill_color_picker: !render_quill_color_picker\n    })\n  }\n\n  onQuillColorChange(color) {\n    const {\n      current_selection\n    } = this.state;\n    const selection = window.getSelection();\n    if (selection && current_selection) {\n      selection.removeAllRanges();\n      selection.addRange(current_selection);\n    }\n    this.setState({\n      current_quill_color: color.hex,\n      render_quill_color_picker: false,\n    });\n\n    this.changeSelectedTextColor(color.hex);\n  }\n\n  changeSelectedTextColor(color) {\n    const quill = this.quillRef;\n    const {\n      onChange,\n    } = this.props;\n\n    if (window.getSelection) {\n      const sel = getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        const range = getSelection().getRangeAt(0);\n\n        let html = '<span style=\"color: ' + color + ';\">' + range + '</span>'\n        range.deleteContents();\n\n        let el = document.createElement(\"div\");\n        el.innerHTML = html;\n        let frag = document.createDocumentFragment(),\n          node,\n          lastNode;\n        while ( (node = el.firstChild) ) {\n          lastNode = frag.appendChild(node);\n        }\n        range.insertNode(frag);\n      }\n    }\n\n    if (quill.current !== null && onChange) {\n      const editor = quill.current.querySelector(\".ql-editor\");\n      if (editor) {\n        onChange(editor.innerHTML);\n      }\n    }\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      placeholder,\n    } = this.props;\n    const {\n      render_quill_color_picker,\n      modules,\n      formats,\n      colors,\n      current_quill_color\n    } = this.state;\n\n    return (\n      <QuillContainer\n        ref={this.quillRef}\n        quillColor={current_quill_color}\n        colorPickerOpened={render_quill_color_picker}\n      >\n        {\n          render_quill_color_picker &&\n          <div className=\"ql-custom-color-picker\">\n            <div\n              className=\"ql-custom-color-picker-overlay\"\n              onClick={this.toggleColor}\n            />\n            <GithubPicker\n              colors={colors}\n              color={current_quill_color}\n              onChange={this.onQuillColorChange}\n              triangle=\"hide\"\n              width=\"100%\"\n            />\n          </div>\n        }\n        <ReactQuill\n          value={value}\n          onChange={onChange}\n          placeholder={placeholder}\n          modules={modules}\n          formats={formats}\n          theme={\"snow\"}\n        />\n      </QuillContainer>\n    );\n  }\n}\n\nexport default Quill;","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport {ActionsDiv, Button, ContainerDiv, ContentDiv, Form, Overlay} from \"./modal.styled\";\nimport Quill from \"./quill\";\nimport Preloader from \"./preloader\";\n\nfunction Modal(props) {\n\tconst {\n\t\topen = false,\n\t\tonConfirm = (text) => text,\n\t\tonCancel = () => {},\n\t\tvalue = \"\",\n\t\ttitle = \"Criar tpico\",\n\t\tbtnConfirmLabel = \"Criar tpico\",\n\t\tbtnCancelLabel = \"Cancelar\",\n    btnConfirmTextColor = \"#fff\",\n    btnConfirmColor = \"#000\",\n    btnCancelTextColor = \"#fff\",\n    btnCancelColor = \"#000\",\n    isLoading = false,\n\t} = props;\n\tconst [text, setText] = useState(value);\n\n  useEffect(() => {\n    setText(value);\n  }, [value]);\n\n\tconst handleEscape = (event) => {\n\t\tlet key = event.which || event.keyCode;\n\n\t\tif (key === KeyCode.ESC) {\n\t\t\tevent.stopPropagation();\n      onCancel();\n\t\t}\n\t}\n\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tonConfirm(text);\n    setText(\"\");\n  }\n\n\tconst handleClose = () => {\n\t\tonCancel();\n    setText(\"\");\n  }\n\n\treturn (<ContainerDiv\n\t\trole=\"dialog\"\n\t\taria-modal=\"true\"\n\t\taria-labelledby={title}\n\t\tonKeyUp={handleEscape}\n\t\thidden={!open}\n\t>\n\t\t<Form onSubmit={handleSubmit}>\n\t\t\t<Overlay onClick={handleClose}/>\n\n\t\t\t<ContentDiv>\n        <Quill\n          value={text}\n          onChange={setText}\n          placeholder=\"Escreva aqui...\"\n        />\n\n\t\t\t\t<ActionsDiv>\n\t\t\t\t\t<Button\n            type=\"submit\"\n            background={btnConfirmColor}\n            color={btnConfirmTextColor}\n            disabled={isLoading}\n          >\n\t\t\t\t\t\t{btnConfirmLabel}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{marginLeft: \"15px\"}}\n            background={btnCancelColor}\n            color={btnCancelTextColor}\n            disabled={isLoading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{btnCancelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</ActionsDiv>\n\t\t\t</ContentDiv>\n\t\t</Form>\n\t</ContainerDiv>)\n}\n\nexport default Modal;","import React from 'react';\n\nfunction LearningPlayerContextLoading() {\n\treturn (<div className=\"element-forum-1-preloader\">\n\t\t<div className=\"element-forum-1-preloader-message\">\n\t\t\t<div className=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t<div\n\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t<div\n\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div className=\"element-forum-1-preloader-message-children\">\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>);\n}\n\nexport default LearningPlayerContextLoading;","import styled from \"styled-components\";\n\nconst NoMessageDiv = styled.div`\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  text-align: center;\n  padding-bottom: 40px;\n`\n\nconst Icon = styled.span`\n  width: 200px;\n  height: 132px;\n  display: block;\n  margin: auto;\n  background-image: url(\"./icon-no-message.png\");\n  background-size: 240px;\n  background-position: center;\n  background-repeat: no-repeat;\n`\n\nconst Message = styled.p`\n  display: block;\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  margin: 15px 0;\n  color: #acb6c1;\n`\n\nexport {\n\tNoMessageDiv,\n\tIcon,\n\tMessage,\n}","import React from 'react';\nimport {NoMessageDiv, Icon, Message} from \"./composer-player-context.styled\";\n\nfunction ComposerPlayerContext() {\n\treturn (\n\t\t<NoMessageDiv>\n\t\t\t<Icon />\n\t\t\t<Message>\n\t\t\t\tFuncionalidade habilitada apenas no mdulo de Learning.\n\t\t\t</Message>\n\t\t</NoMessageDiv>\n\t)\n}\n\nexport default ComposerPlayerContext;","import styled, {css} from \"styled-components\";\n\nconst Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Dropdown = styled.div`\n\tposition: relative;\n`\n\nconst DropdownButton = styled.button`\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nconst Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nconst List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  overflow-y: auto;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nconst ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nconst ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nconst NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport {\n\tContainer,\n\tDropdown,\n\tDropdownButton,\n\tArrow,\n\tList,\n\tListOption,\n\tContainerNoteBadge,\n\tNoteBadge,\n}","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            {\n              notes.map((note, index) => (\n                <ListOption\n                  hoverColor={backgroundHoverColor}\n                  color={primaryColor}\n                  key={index}\n                  role=\"option\"\n                  aria-selected={note === selected ? \"true\" : \"false\"}\n                  onClick={() => handleClickOption(note)}\n                  onMouseEnter={(event) => handleMouseOption(event, note)}\n                  onMouseLeave={(event) => handleMouseOption(event, null)}\n                >\n                  {note}\n                </ListOption>\n              ))\n            }\n          </List>\n        </Dropdown>\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\" />\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import styled, {css} from \"styled-components\";\n\nconst MessageContentItem = styled.div`\n  background-color: ${props => props.backgroundColor || \"#e1f1eb\"};\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  margin-left: ${props => props.column ? (props.column * 40) + \"px\" : \"0\"};\n  ${props => props.elevation === 1 && css`\n      box-shadow: 1px 1px 3px #A8A8A8;\n  `}\n  ${props => props.elevation === -1 && css`\n      box-shadow: 1px 1px 3px ${props.backgroundColor || \"#e1f1eb\"};\n  `}\n`\n\nconst MessageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 15px;\n`\n\nconst Author = styled.span`\n  font-size: 12px;\n  color: ${props => props.color || \"#A8A8A8\"};\n  display: block;\n`\n\nconst Message = styled.p`\n  font-size: 14px;\n  line-height: 18px;\n  color: ${props => props.color || \"#727272\"};\n  display: block;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n`\n\nconst Actions = styled.ul`\n  display: block;\n  text-align: right;\n  margin-top: 10px;\n`\n\nconst ActionItem = styled.li`\n  display: inline-block;\n`\n\nconst ActionButton = styled.button`\n  text-transform: uppercase;\n  color: ${props => props.color || '#00643e'};\n  font-size: 10px;\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 10px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  border-radius: 10px;\n  \n  &:focus {\n    outline: 2px solid #00643e !important;\n    outline-offset: 2px;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nconst OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-family: Lato-Bold, serif;\n  background: transparent;\n  color: ${props => props.background || \"#000\"};\n  border: 1px solid ${props => props.background || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: brightness(1.2);\n  }\n`\n\nexport {\n\tMessageContentItem,\n\tMessageHeader,\n\tAuthor,\n\tMessage,\n  Actions,\n  ActionItem,\n  ActionButton,\n  OutlinedButton,\n}","import {useEffect, useState} from \"react\";\n\nexport default function useOnScreen(ref) {\n  const [isIntersecting, setIntersecting] = useState(false)\n\n  const observer = new IntersectionObserver(\n    ([entry]) => setIntersecting(entry.isIntersecting)\n  )\n\n  useEffect(() => {\n    if (ref.current) {\n      observer.observe(ref.current)\n    }\n    return () => observer.disconnect()\n  }, [ref])\n\n  return isIntersecting\n}","import React, {useEffect, useRef} from 'react';\nimport useOnScreen from \"../../hooks/use-on-screen\";\n\nfunction PostLoading(props) {\n  const {\n    onScreen = () => {},\n    column = 1,\n  } = props;\n  const ref = useRef();\n  const isVisible = useOnScreen(ref);\n\n  useEffect(() => {\n    if (isVisible) {\n      onScreen();\n    }\n  }, [isVisible, onScreen]);\n\n\treturn (<div ref={ref} className=\"element-forum-1-preloader\">\n\t\t<div className=\"element-forum-1-preloader-message-children\" style={{paddingLeft: (column * 40) + \"px\"}}>\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>);\n}\n\nexport default PostLoading;","import React, {useEffect, useMemo, useState} from 'react';\nimport NoteDropdown from \"./note-dropdown\";\nimport {\n  ActionButton,\n  ActionItem,\n  Actions,\n  Author,\n  Message,\n  MessageContentItem,\n  MessageHeader\n} from \"./forum-message.styled\";\nimport PostLoading from \"./post-loading\";\nimport {isAdminReviewer, isContentOwner} from \"../../utils/permission\";\nimport API from \"../../services\";\nimport Quill from \"./quill\";\n\nfunction ForumMessage(props) {\n  const {\n    id,\n    user,\n    rawContent,\n    primaryColor = '#00643e',\n    authorUID,\n    column = 0,\n    topicBackgroundColor,\n    topicAuthorColor,\n    topicTextColor,\n    children,\n    value,\n    createdAtDateTime,\n    createdAt,\n    byLabel = \"Por\",\n    customOptions,\n    content,\n    interactionObjects,\n    language = \"pt-br\",\n    onClickDelete,\n    onClickReply,\n    onClickEdit,\n    onClickSaveNote = () => {},\n    disableOperations = false,\n    withReviewDropdown = false,\n    elevation = 0,\n  } = props;\n  const [isVisible, setIsVisible] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [authorName, setAuthorName] = useState(null);\n  const [notesRange, setNotesRange] = useState([]);\n  const [note, setNote] = useState(null);\n  const [text, setText] = useState(value);\n  const [isLoadingNote, setIsLoadingNote] = useState(false);\n\n  useEffect(() => {\n    const getNoteRange = () => {\n      const {\n        grade_type,\n        grade_numeral,\n      } = content;\n\n      switch (grade_type) {\n        case 'numeral':\n        default:\n          const {min = 0, max = 10, steps = 1} = grade_numeral;\n          let values = [];\n\n          for (let i = min; i <= max; i += steps) {\n            values.push(i);\n          }\n\n          return values;\n      }\n    }\n\n    setNotesRange(getNoteRange)\n  }, [content])\n\n  useEffect(() => {\n    if (Array.isArray(interactionObjects)) {\n      const object = interactionObjects[0];\n      if (object && Array.isArray(object.interaction_objects)) {\n        const interaction = object.interaction_objects[0];\n\n        if (interaction && interaction.score !== null) {\n          setNote(parseInt(interaction.score));\n        }\n      }\n    }\n  }, [interactionObjects])\n\n  useMemo(async () => {\n    if (authorUID && authorName === null && isVisible) {\n      const {\n        access_token, api_env, domain, project_key,\n      } = customOptions;\n\n      try {\n        const body = await API.auth.user.uid(authorUID, {\n          access_token,\n          api_env,\n          domain,\n          project_key,\n        });\n        setAuthorName(body.detail.name);\n      } catch (e) {\n        setAuthorName(\"\");\n      }\n    }\n  }, [customOptions, authorUID, authorName, isVisible])\n\n  const getRemoveLabel = () => {\n    const label = {\n      \"en\": \"Remove\", \"pt-br\": \"Excluir\"\n    }\n    return label[language] || \"Excluir\";\n  }\n\n  const getReplyLabel = () => {\n    const label = {\n      \"en\": \"Reply\", \"pt-br\": \"Comentar\"\n    }\n    return label[language] || \"Comentar\";\n  }\n\n  const getEditLabel = () => {\n    const label = {\n      \"en\": \"Edit\", \"pt-br\": \"Editar\"\n    }\n    return label[language] || \"Editar\";\n  }\n\n  const getCancelLabel = () => {\n    const label = {\n      \"en\": \"Cancel\", \"pt-br\": \"Cancelar\"\n    }\n    return label[language] || \"Cancelar\";\n  }\n\n  const getSaveLabel = () => {\n    const label = {\n      \"en\": \"Save\", \"pt-br\": \"Salvar\"\n    }\n    return label[language] || \"Salvar\";\n  }\n\n  const handleSaveNote = (savedNote) => {\n    if (Array.isArray(interactionObjects)) {\n      const object = interactionObjects[0];\n      if (object && Array.isArray(object.interaction_objects)) {\n        const interaction = object.interaction_objects[0];\n\n        if (interaction) {\n          const prevNote = note;\n          setNote(savedNote);\n\n          setIsLoadingNote(true);\n\n          API.cms\n            .learning\n            .interaction.uid(object.interaction_uid)\n            .score\n            .object.uid(interaction.uid)\n            .updateScore(savedNote, customOptions)\n            .then((resp) => {\n              setIsLoadingNote(false);\n              onClickSaveNote(savedNote, resp);\n            })\n            .catch(() => {\n              setNote(prevNote);\n              setIsLoadingNote(false);\n            });\n        } else {\n          setIsLoadingNote(true);\n\n          API.cms\n            .learning\n            .interaction.uid(object.interaction_uid)\n            .object\n            .reviewed({\n              context_uid: customOptions.activity_uid,\n              type: content.type,\n              target_uid: rawContent.uid,\n              object_data: rawContent,\n              score: savedNote,\n            }, customOptions)\n            .then((resp) => {\n              setNote(savedNote);\n              setIsLoadingNote(false);\n              onClickSaveNote(savedNote, resp);\n            });\n        }\n      }\n    }\n  }\n\n  const handleClickEdit = () => {\n    setIsEditing(true);\n  }\n\n  const handleClickSave = () => {\n    setIsEditing(false);\n    onClickEdit(text);\n  }\n\n  const renderNoteDropdown = () => {\n    return (\n      <NoteDropdown\n        notes={notesRange}\n        primaryColor={primaryColor}\n        onSelect={handleSaveNote}\n        selected={note}\n        isLoadingNote={isLoadingNote}\n      />\n    )\n  }\n\n  const renderOnlyNote = () => {\n    return (\n      <NoteDropdown\n        notes={notesRange}\n        primaryColor={primaryColor}\n        selected={note}\n        show={false}\n      />\n    )\n  }\n\n  if (authorName === null)\n    return <PostLoading column={column} onScreen={() => setIsVisible(true)}/>\n\n  return (\n    <MessageContentItem\n      backgroundColor={topicBackgroundColor}\n      column={column}\n      elevation={elevation}\n    >\n      <MessageHeader>\n        <Author\n          color={topicAuthorColor}\n        >\n          {`${byLabel}: ${authorName || \"\"} - `}\n          <time dateTime={createdAtDateTime}>{createdAt}</time>\n        </Author>\n\n        {(withReviewDropdown && isAdminReviewer(user.roles) && (user.uid !== authorUID)) &&\n          renderNoteDropdown()\n        }\n\n        {(!withReviewDropdown && note !== null) &&\n          renderOnlyNote()\n        }\n      </MessageHeader>\n\n      {\n        (value && !isEditing) && (\n          <Message\n            color={topicTextColor}\n            dangerouslySetInnerHTML={{__html: value}}\n          />\n        )\n      }\n\n      {\n        (isEditing) && (\n          <div>\n            <Quill\n              value={text}\n              onChange={setText}\n              placeholder=\"Escreva aqui...\"\n            />\n          </div>\n        )\n      }\n\n      {children}\n\n      <Actions>\n        <ActionItem>\n          {\n            isEditing ? (\n              <>\n                <ActionButton\n                  type=\"button\"\n                  color={primaryColor}\n                  onClick={handleClickSave}\n                >\n                  {getSaveLabel()}\n                </ActionButton>\n\n                <ActionButton\n                  type=\"button\"\n                  color={primaryColor}\n                  onClick={() => setIsEditing(false)}\n                >\n                  {getCancelLabel()}\n                </ActionButton>\n              </>\n            ) : (\n              !disableOperations && <>\n                {onClickReply && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={() => onClickReply(id)}\n                  >\n                    {getReplyLabel()}\n                  </ActionButton>\n                )}\n\n                {(authorName && isContentOwner(user.uid || \"\", authorUID) && onClickEdit && note === null) && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={handleClickEdit}\n                  >\n                    {getEditLabel()}\n                  </ActionButton>\n                )}\n\n                {(authorName && isContentOwner(user.uid || \"\", authorUID) && onClickDelete && note === null) && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={() => onClickDelete(id)}\n                  >\n                    {getRemoveLabel()}\n                  </ActionButton>\n                )}\n              </>\n            )\n          }\n        </ActionItem>\n      </Actions>\n    </MessageContentItem>\n  )\n}\n\nexport default ForumMessage;","import styled from \"styled-components\";\n\nconst Backdrop = styled.div`\n  position: fixed;\n  overflow-y: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  @media screen and (min-width: 640px) {\n    background: rgba(0, 0, 0, 0.3);\n  }\n`\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n`\n\nconst ContentDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 200px;\n  top: 40%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n`\n\nconst Label = styled.h2`\n  margin: 20px;\n  font-size: 1.3rem;\n  text-align: center;\n`\nconst Description = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst DescriptionText = styled.p`\n  font-size: 1.3rem;\n`\n\nconst ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n`\n\nconst Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport {\n  Container,\n  ContentDiv,\n  Backdrop,\n  ActionsDiv,\n  Button,\n  Label,\n  Description,\n  DescriptionText,\n}","import React, {useEffect} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport {\n  ActionsDiv,\n  Button,\n  Container,\n  ContentDiv,\n  Description,\n  DescriptionText,\n  Label,\n  Backdrop\n} from \"./alert-dialog.styled\";\n\nfunction AlertDialog(props) {\n  const {\n    id = \"alert-dialog\",\n    open = false,\n    onConfirm = () => {\n    },\n    onCancel = () => {\n    },\n    label = \"Confirmao\",\n    description = \"Deseja realizar esta ao?\",\n    btnConfirmLabel = \"Sim\",\n    btnCancelLabel = \"No\",\n    controlsID = \"\",\n    btnConfirmTextColor = \"#fff\",\n    btnConfirmColor = \"#000\",\n    btnCancelTextColor = \"#fff\",\n    btnCancelColor = \"#000\",\n  } = props;\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  useEffect(() => {\n    if (open) {\n      document.querySelector('body').style.overflow = \"hidden\";\n    } else {\n      document.querySelector('body').style.overflow = \"auto\";\n    }\n\n    return () => document.querySelector('body').style.overflow = \"auto\";\n  }, [open])\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleCancel = () => {\n    onCancel();\n  }\n\n  const handleConfirm = () => {\n    onConfirm();\n  }\n\n  return (\n    <Backdrop hidden={!open}>\n      <Container\n        id={id}\n        role=\"alertdialog\"\n        aria-modal=\"true\"\n        aria-labelledby={id + \"-label\"}\n        aria-describedby={id + \"-desc\"}\n        onKeyUp={handleEscape}\n        hidden={!open}\n      >\n\n\n        <ContentDiv>\n          <Label id={id + \"-label\"}>\n            {label}\n          </Label>\n\n          <Description id={id + \"-desc\"}>\n            <DescriptionText>\n              {description}\n            </DescriptionText>\n          </Description>\n\n          <ActionsDiv>\n            <Button\n              id={id + \"-confirm\"}\n              aria-controls={controlsID}\n              type=\"button\"\n              onClick={handleConfirm}\n              color={btnConfirmTextColor}\n              background={btnConfirmColor}\n              disabled={isLoading}\n            >\n              {btnConfirmLabel}\n            </Button>\n\n            <Button\n              type=\"button\"\n              onClick={handleCancel}\n              style={{marginLeft: \"15px\"}}\n              color={btnCancelTextColor}\n              background={btnCancelColor}\n              disabled={isLoading}\n            >\n              {btnCancelLabel}\n            </Button>\n          </ActionsDiv>\n        </ContentDiv>\n      </Container>\n    </Backdrop>\n  )\n}\n\nexport default AlertDialog;","import styled, {css} from \"styled-components\";\n\nexport const OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n    \n    ${props => props.isLoading && css`\n      cursor: progress;\n    `};\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n\n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n\nexport const MessagesContainer = styled.div`\n  border-bottom: 1px solid #e9e9e9;\n  transform: scale(0.9);\n\n  &:last-child {\n    margin-bottom: 20px;\n  }\n`;","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 1;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.button`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n`\n\nexport const ReviewedColumn = styled.button`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const ReviewNoMessagesDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const LeftList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  font-size: 20px;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const RightList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import React, {useEffect, useMemo, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\n\n\nfunction ReviewModal(props) {\n  const {\n    open = false,\n    data = [],\n    users = [],\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    iterateRightList = (item, index, selectedUser) => item,\n  } = props;\n  const closeRef = useRef();\n  const rightListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [messages, setMessages] = useState(data);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let total_messages = 0;\n    let answered = false;\n\n    let interactionObjectTemp = messages.map(message => {\n      let interaction = {};\n      let isReviewed = false;\n\n      const {children = []} = message;\n\n      if (children.length > 0) {\n        children.forEach(child => {\n          interaction = interaction_objects.find(interaction => interaction.target_uid === child.uid);\n\n          if (interaction) {\n            const {\n              reviewer_uid = null,\n              score = null,\n            } = interaction;\n\n            total_messages++;\n            answered = true;\n\n            if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n              isReviewed = true;\n              count_reviewed++;\n            }\n          }\n        })\n      }\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === message.uid);\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          total_messages++;\n          answered = true;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: null,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const byAnswered = (order = \"asc\") => ( a, b ) => {\n    if ( order === \"asc\" ) {\n      if ( a.answered && !b.answered ) {\n        return -1;\n      }\n      if ( !a.answered && b.answered ) {\n        return 1;\n      }\n    } else if ( order === \"desc\" ) {\n      if ( !a.answered && b.answered ) {\n        return -1;\n      }\n      if ( a.answered && !b.answered ) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => ( a, b ) => {\n    if ( order === \"asc\" ) {\n      if ( a.total_messages !== a.count_reviewed && b.total_messages === b.count_reviewed ) {\n        return -1;\n      }\n      if ( a.total_messages === a.count_reviewed && b.total_messages !== b.count_reviewed ) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if ( a.total_messages === a.count_reviewed && b.total_messages !== b.count_reviewed ) {\n        return -1;\n      }\n      if ( a.total_messages !== a.count_reviewed && b.total_messages === b.count_reviewed ) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const students = useMemo(() =>\n      users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder)),\n    [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    setMessages(data);\n  }, [data]);\n\n  useEffect(() => {\n    if (rightListRef && rightListRef.current) {\n      rightListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (rightListRef && rightListRef.current) {\n      rightListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let messagesCopy = [...messages];\n      messagesCopy.forEach(message => {\n        const userInteractionObject = interaction.find(item => item.target_uid === message.id);\n        if (userInteractionObject) {\n          message.score = userInteractionObject.score;\n        }\n      });\n\n      setMessages(messagesCopy);\n    } else {\n      let messagesCopy = [...messages];\n      messagesCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        }\n      });\n      setMessages(messagesCopy);\n    }\n    return interaction;\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.LeftList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p style={{fontSize: \"16px\"}}>{user.name}</p>\n                            <p style={{fontSize: \"16px\"}}>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === user.total_messages) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{user.total_messages || 0}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.LeftList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n\n              <S.ReviewNoMessagesDataOverlay\n                isVisible={selectedUser.total_messages === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.no_messages_to_review || \"Este aluno no possui mensagens para reviso.\"}\n                </p>\n              </S.ReviewNoMessagesDataOverlay>\n\n              <S.RightList ref={rightListRef}>\n                {messages.map((message, index) => <span\n                  key={index}>{iterateRightList(message, index, selectedUser)}</span>)}\n              </S.RightList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","import React, {Component} from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-forum-1.css';\nimport Modal from \"./modal\";\nimport LearningPlayerContextLoading from \"./learning-player-context-loading\";\nimport ComposerPlayerContext from \"./composer-player-context\";\nimport ForumMessage from \"./forum-message\";\nimport AlertDialog from \"./alert-dialog\";\nimport API from \"../../services\";\nimport moment from \"moment\";\nimport PostLoading from \"./post-loading\";\nimport {MessagesContainer, OutlinedButton} from \"./element-forum-1.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementForum1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    const {\n      contentLanguage = \"pt-br\"\n    } = this.props;\n\n    this.handleChange = this.handleChange.bind(this);\n    this.mountThreadsAndPosts = this.mountThreadsAndPosts.bind(this);\n    this.getThreads = this.getThreads.bind(this);\n    this.renderContext = this.renderContext.bind(this);\n    this.renderForumMessage = this.renderForumMessage.bind(this);\n    this.toggleVisibilityOfNewTopicModal = this.toggleVisibilityOfNewTopicModal.bind(this);\n    this.toggleVisibilityOfReplyModal = this.toggleVisibilityOfReplyModal.bind(this);\n    this.sendThread = this.sendThread.bind(this);\n    this.sendPost = this.sendPost.bind(this);\n    this.onApiSendPost = this.onApiSendPost.bind(this);\n    this.onApiSendThread = this.onApiSendThread.bind(this);\n    this.onApiDeleteThread = this.onApiDeleteThread.bind(this);\n    this.onApiGetAuthorInfo = this.onApiGetAuthorInfo.bind(this);\n    this.appendPostIntoThread = this.appendPostIntoThread.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n    this.closeAlertDialog = this.closeAlertDialog.bind(this);\n    this.onApiDeletePost = this.onApiDeletePost.bind(this);\n    this.handleDeletePost = this.handleDeletePost.bind(this);\n    this.handleConfirmAlertDialog = this.handleConfirmAlertDialog.bind(this);\n    this.handleDeleteThread = this.handleDeleteThread.bind(this);\n    this.resetAlertDialog = this.resetAlertDialog.bind(this);\n    this.isUserAllowedToCreateTopic = this.isUserAllowedToCreateTopic.bind(this);\n    this.createInteractionObject = this.createInteractionObject.bind(this);\n    this.onApiEditPost = this.onApiEditPost.bind(this);\n    this.renderModal = this.renderModal.bind(this);\n    this.getInteractionObjects = this.getInteractionObjects.bind(this);\n    this.filterInteractionObjectOf = this.filterInteractionObjectOf.bind(this);\n    this.handleCloseReviewModal = this.handleCloseReviewModal.bind(this);\n    this.reviewModalIterateRightList = this.reviewModalIterateRightList.bind(this);\n\n    this.state = {\n      content: props.content,\n      interaction_objects: [],\n      language: contentLanguage,\n      is_showing_new_topic_modal: false,\n      is_loading_new_topic_modal_confirmation: false,\n      is_showing_reply_thread_modal: false,\n      is_loading_new_reply_thread_modal_confirmation: false,\n      is_showing_alert_dialog: false,\n      context: \"composer_player\",\n      forum_messages: [],\n      all_forum_messages: [],\n      custom_options: null,\n      current_thread: null,\n      syncTimer: null,\n      user: {\n        roles: []\n      },\n      is_review_modal_open: false,\n      is_loading_review_modal: false,\n      authors: [],\n      alert_dialog_action: null,\n      alert_dialog_action_data: null,\n      current_page: 1,\n      total_pages: 1,\n      thread_page_size: 5,\n      posts_page_size: 5,\n      visible: false\n    }\n  }\n\n  componentDidMount() {\n    if (window.cstmptns) {\n      this.setState({\n        context: \"learning_player\",\n        custom_options: window.cstmptns,\n      }, () => {\n        this.getSignedUserFromJwt()\n          .then(this.getInteractionObjects)\n          .then(this.getThreads)\n          .then(this.mountThreadsAndPosts);\n      });\n    }\n  }\n\n\n  componentWillUnmount() {\n    const {\n      syncTimer\n    } = this.state;\n\n    if (syncTimer) {\n      clearTimeout(syncTimer);\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"forum-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  async getInteractionObjects(user) {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n      interaction_uid,\n    } = custom_options;\n\n    try {\n      if (isAdminReviewer(user.roles)) {\n        const interaction_objects = await API.cms\n          .learning\n          .register.uid(register_uid)\n          .interaction\n          .recoverObjects(\n            {\n              activity_uid,\n              last_occurrence: true,\n              type: \"forum-1\",\n            },\n            custom_options\n          );\n\n        this.setState({\n          interaction_objects,\n        });\n      } else {\n        // O aluno solicita a lista de objetos de interao\n        const interaction_objects = await API.cms\n          .learning\n          .interaction.uid(interaction_uid)\n          .recoverObject({context_uid: activity_uid}, custom_options);\n\n        const userInteractionObject = {\n          interaction_objects,\n          interaction_uid,\n          user_register_uid: null,\n          user_uid: user.uid,\n        }\n\n        this.setState({\n          interaction_objects: [userInteractionObject],\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async getSignedUserFromJwt() {\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  async getThreads() {\n    const {\n      current_page,\n      custom_options,\n      thread_page_size = 5\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    return API.cms\n      .socialmedia\n      .threads\n      .available(\n        {\n          //TODO: change activity_uid to content.id\n          context_uid: activity_uid,\n          page_size: thread_page_size,\n          page: current_page\n        },\n        custom_options\n      )\n      .then(data => {\n        this.setState({\n          total_pages: data.total_pages,\n        })\n        return data.result;\n      });\n  }\n\n  async mountThreadsAndPosts(threads, firstLoading = true, isforReview = false) {\n    if (threads.length === 0) {\n      if (isforReview) {\n        this.setState(prevState => {\n          return {all_forum_messages: []}\n        });\n      } else {\n        this.setState(prevState => {\n          return {forum_messages: []}\n        });\n      }\n    }\n\n    for (const thread of threads) {\n      try {\n        if (firstLoading) {\n          thread.loading = true;\n          if (isforReview) {\n            this.setState(prevState => {\n              const {all_forum_messages = []} = prevState;\n              return {all_forum_messages: [...all_forum_messages, thread]}\n            });\n          } else {\n            this.setState(prevState => {\n              const {forum_messages = []} = prevState;\n              return {forum_messages: [...forum_messages, thread]}\n            });\n          }\n        }\n\n        let children = await this.onApiGetThreadPosts(thread.uid);\n        thread.children = children.result;\n        thread.current_page = children.current_page;\n        thread.total_pages = children.total_pages;\n        thread.loading = false;\n\n        if (isforReview) {\n          this.setState(prevState => {\n            const {all_forum_messages = []} = prevState;\n            return {all_forum_messages: [...all_forum_messages.map(value => value.uid === thread.uid ? thread : value)]}\n          });\n        } else {\n          this.setState(prevState => {\n            const {forum_messages = []} = prevState;\n            return {forum_messages: [...forum_messages.map(value => value.uid === thread.uid ? thread : value)]}\n          });\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    return threads;\n  }\n\n  onApiGetAuthorInfo(uid) {\n    const {\n      custom_options,\n      authors,\n    } = this.state;\n\n    return new Promise((resolve, reject) => {\n      const user = authors.find(value => value.uid === uid);\n      if (user) {\n        resolve(user);\n      } else {\n        API.auth\n          .user.uid(uid, custom_options)\n          .then(data => {\n            this.setState(prevState => {\n              const {authors: prevAuthors} = prevState;\n              return {authors: [...prevAuthors, data]}\n            });\n            resolve(data);\n          })\n          .catch(reject);\n      }\n    })\n  }\n\n  async onApiSendThread(text) {\n    const {\n      custom_options,\n      content,\n      user,\n    } = this.state;\n    const {\n      activity_uid, social_media_connector_uid\n    } = custom_options;\n\n    try {\n      const thread = await API.cms\n        .socialmedia\n        .connector.uid(social_media_connector_uid)\n        .createThread(\n          {\n            title: content.context_title || \"title\",\n            description: \"description\",\n            content: text,\n            context_type: \"Activity\",\n            //TODO: change activity_uid to content.id\n            context_uid: activity_uid\n          },\n          custom_options\n        );\n\n      await this.createInteractionObject(thread);\n      await this.getInteractionObjects(user);\n      await this.getThreads().then(this.mountThreadsAndPosts);\n    } catch (e) {\n      console.error(e);\n      throw e;\n    }\n  }\n\n  // TODO: Necessita implementar a API\n  // onApiEditThread(uid, text) {\n  //   const {\n  //     custom_options\n  //   } = this.state;\n  //   const {\n  //     activity_uid\n  //   } = custom_options;\n  //\n  //   return API.cms\n  //     .socialmedia\n  //     .thread.uid(uid)\n  //     .update(\n  //       {\n  //         title: \"title\",\n  //         description: \"description\",\n  //         content: text,\n  //         context_type: \"Activity\",\n  //         //TODO: change activity_uid to content.id\n  //         context_uid: activity_uid\n  //       },\n  //       custom_options\n  //     )\n  //     .then(resp => {\n  //       console.log(resp)\n  //     });\n  // }\n\n  onApiEditPost(threadUid, postUid, text) {\n    const {\n      custom_options,\n      content,\n      user: {\n        roles = []\n      }\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .post.uid(postUid)\n      .update(\n        {\n          title: content.context_title || \"title\",\n          content: text,\n          context_type: \"Activity\",\n          //TODO: change activity_uid to content.id\n          context_uid: activity_uid\n        },\n        custom_options\n      )\n      .then(async resp => {\n        if (!isAdminReviewer(roles)) {\n          await this.createInteractionObject(resp);\n        }\n\n        const {\n          forum_messages\n        } = this.state;\n        const {content} = resp;\n\n        const thread = forum_messages.find(value => value.uid === threadUid);\n        let post = thread.children.find(value => value.uid === postUid);\n        post = {...post, content};\n        thread.children = [...thread.children.filter(value => value.uid !== postUid), post];\n        this.setState({forum_messages: [...forum_messages.filter(value => value.uid !== threadUid), thread]});\n      });\n  }\n\n  onApiDeleteThread(uid) {\n    const {\n      custom_options,\n      forum_messages\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread\n      .uid(uid)\n      .delete(custom_options)\n      .then((resp) => {\n        if (resp !== null) {\n          this.setState({\n            forum_messages: forum_messages.filter(value => value.uid !== uid)\n          })\n        }\n      });\n  }\n\n  handleConfirmAlertDialog() {\n    const {alert_dialog_action, alert_dialog_action_data} = this.state;\n\n    switch (alert_dialog_action) {\n      case \"delete_post\":\n        this.onApiDeletePost(alert_dialog_action_data)\n          .then(this.resetAlertDialog)\n          .catch(this.resetAlertDialog)\n        break;\n      case \"delete_thread\":\n        this.onApiDeleteThread(alert_dialog_action_data)\n          .then(this.resetAlertDialog)\n          .catch(this.resetAlertDialog)\n        break;\n      default:\n        this.setState({\n          alert_dialog_action: null,\n          alert_dialog_action_data: null,\n          is_showing_alert_dialog: false,\n        })\n    }\n  }\n\n  handleDeletePost(uid, threadUid) {\n    this.setState({\n      is_showing_alert_dialog: true,\n      alert_dialog_action: \"delete_post\",\n      alert_dialog_action_data: {uid, threadUid}\n    })\n  }\n\n  handleDeleteThread(uid) {\n    this.setState({\n      is_showing_alert_dialog: true,\n      alert_dialog_action: \"delete_thread\",\n      alert_dialog_action_data: uid\n    })\n  }\n\n  resetAlertDialog(args) {\n    this.setState({\n      alert_dialog_action: null,\n      alert_dialog_action_data: null,\n      is_showing_alert_dialog: false,\n    });\n    return args\n  }\n\n  onApiDeletePost({uid, threadUid}) {\n    const {\n      custom_options,\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .post.uid(uid)\n      .delete(custom_options)\n      .then(resp => {\n        if (resp !== null) {\n          const {\n            forum_messages\n          } = this.state;\n\n          const forum_messages_new = forum_messages.map(thread => {\n            if (thread.uid === threadUid) {\n              thread.children = [...thread.children.filter(value => value.uid !== uid)];\n            }\n            return thread;\n          });\n          this.setState({forum_messages: forum_messages_new});\n        }\n      });\n  }\n\n  onApiGetThreadPosts(threadUid, page = 1) {\n    let {\n      custom_options,\n      posts_page_size = 5\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .recoverPosts(\n        {\n          page,\n          page_size: posts_page_size,\n        },\n        custom_options\n      );\n  }\n\n  async onApiSendPost(text) {\n    const {\n      custom_options,\n      current_thread,\n      content,\n    } = this.state;\n\n    try {\n      const post = await API.cms\n        .socialmedia\n        .thread.uid(current_thread)\n        .createPost(\n          {\n            title: content.title || \"\",\n            content: text,\n          },\n          custom_options\n        );\n\n      await this.createInteractionObject(post);\n      await this.appendPostIntoThread(post);\n    } catch (e) {\n      console.error(e);\n      throw e;\n    }\n  }\n\n  async createInteractionObject(object_data) {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      content,\n    } = this.props;\n    const {\n      interaction_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .interaction.uid(interaction_uid)\n      .createObject({\n        //TODO: change activity_uid to content.id\n        context_uid: activity_uid,\n        type: content.type,\n        target_uid: object_data.uid,\n        object_data,\n      }, custom_options)\n  }\n\n  appendPostIntoThread(post) {\n    const {\n      current_thread,\n    } = this.state;\n    console.log(\"appendPostIntoThread\", post);\n    this.setState(prevState => {\n      const updatedThread = prevState.forum_messages.find(thread => thread.uid === current_thread)\n      updatedThread.children = [...updatedThread.children, post];\n      const filtered = prevState.forum_messages.map(thread => {\n        if (thread.uid !== updatedThread.uid)\n          return thread\n        else\n          return updatedThread\n      })\n      return {\n        forum_messages: filtered\n      }\n    })\n  }\n\n  handleChange(content) {\n    const {\n      onChange = () => console.warn(\"No onChange defined\")\n    } = this.props;\n\n    onChange(content);\n  }\n\n  getFormatDate(date = \"\") {\n    let language = this.state.language;\n    if (date.length) {\n      let date_whitout_milisseconds = date.split(\".\")[0] + \"Z\";\n      if (language === \"en\") {\n        return moment(date_whitout_milisseconds).local().format(\"MM/DD/YYYY - HH:mm:ss\");\n      } else {\n        return moment(date_whitout_milisseconds).local().format(\"DD/MM/YYYY - HH:mm:ss\");\n      }\n    }\n    return \"\"\n  }\n\n  getByLabel() {\n    const {language} = this.state;\n    const label = {\n      \"en\": \"By\", \"pt-br\": \"Por\"\n    }\n    return label[language] || \"Por\";\n  }\n\n  sendThread(text) {\n    const {\n      forum_messages,\n    } = this.state;\n\n    const backup = [...forum_messages];\n\n    this.setState({\n      is_loading_new_topic_modal_confirmation: true,\n      forum_messages: []\n    })\n\n    this.onApiSendThread(text)\n      .then(() => {\n        this.setState({\n          is_showing_new_topic_modal: false,\n          is_loading_new_topic_modal_confirmation: false\n        })\n      })\n      .catch(() => {\n        this.setState({\n          is_loading_new_topic_modal_confirmation: false,\n          forum_messages: backup,\n        })\n      })\n  }\n\n  sendPost(text) {\n    this.setState({\n      is_loading_new_reply_thread_modal_confirmation: true\n    })\n    this.onApiSendPost(text)\n      .then(() => {\n        this.setState({\n          is_showing_reply_thread_modal: false,\n          is_loading_new_reply_thread_modal_confirmation: false\n        })\n      })\n      .catch(() => {\n        this.setState({\n          is_loading_new_reply_thread_modal_confirmation: false\n        })\n      })\n  }\n\n  // TODO: Necessita implementar a API\n  // editThread(uid, text) {\n  //   this.setState({\n  //     is_showing_edit_thread_modal: false\n  //   })\n  //   this.onApiEditThread(uid, text)\n  // }\n\n  editPost(threadUid, postUid, text) {\n    this.setState({\n      is_showing_edit_post_modal: false\n    })\n    this.onApiEditPost(threadUid, postUid, text)\n  }\n\n  toggleVisibilityOfNewTopicModal() {\n    const {\n      is_showing_new_topic_modal\n    } = this.state;\n\n    this.setState({\n      is_showing_new_topic_modal: !is_showing_new_topic_modal\n    })\n  }\n\n  closeAlertDialog() {\n    this.setState({\n      is_showing_alert_dialog: false\n    })\n  }\n\n  toggleVisibilityOfReplyModal(uid) {\n    const {\n      is_showing_reply_thread_modal\n    } = this.state;\n\n    this.setState({\n      is_showing_reply_thread_modal: !is_showing_reply_thread_modal, current_thread: uid || null\n    });\n  }\n\n  isUserAllowedToCreateTopic() {\n    const {\n      content: {\n        enable_new_topics = []\n      },\n    } = this.props;\n    const {\n      user: {\n        roles = []\n      },\n    } = this.state;\n\n    let canCreate = false;\n\n    roles.map(role => {\n      if (enable_new_topics.includes(role)) {\n        canCreate = true;\n      }\n      return role;\n    })\n\n    return canCreate;\n  }\n\n  filterInteractionObjectOf(uid, author_uid) {\n    const {\n      interaction_objects\n    } = this.state;\n    let copy = [...interaction_objects];\n    return copy.filter(obj => obj.user_uid === author_uid)\n      .map(obj => {\n        let objCpy = {...obj};\n        objCpy.interaction_objects = objCpy.interaction_objects\n          .filter(interaction => interaction.object_data.data.uid === uid);\n        return objCpy;\n      })\n  }\n\n  highlightedUserColor(authorUid, highlightedUser, defaultColor) {\n    if (highlightedUser !== null && highlightedUser.uid !== authorUid) {\n      return \"#e5e5e5\";\n    }\n    return defaultColor;\n  }\n\n  updateLocalInteraction(interaction, author_uid) {\n    const {\n      interaction_objects = []\n    } = this.state;\n\n    let copy = [...interaction_objects];\n    copy = copy.map(obj => {\n      if (obj.user_uid === author_uid) {\n        let objCpy = {...obj};\n        objCpy.interaction_objects = objCpy.interaction_objects\n          .map(int => {\n            if (int.uid === interaction.uid) {\n              let parsedInteraction = {...interaction};\n              parsedInteraction.object_data = JSON.parse(interaction.object_data);\n              return parsedInteraction;\n            }\n            return int;\n          });\n        return objCpy;\n      }\n\n      return obj;\n    })\n\n    this.setState({\n      interaction_objects: copy\n    });\n  }\n\n  renderForumMessage(message, withReviewDropdown = false, highlightedUser = null) {\n    const {\n      content: {\n        primary_topic_background_color,\n        primary_topic_author_color,\n        primary_topic_text_color,\n        topic_button_color,\n        secondary_topic_background_color,\n        secondary_topic_author_color,\n        secondary_topic_text_color,\n        confirm_button_background_color\n      },\n    } = this.props;\n\n    const {\n      content, uid, created_at, children = null, author_uid, loading, current_page = 1, total_pages = 1,\n    } = message;\n\n    const {\n      user,\n    } = this.state;\n\n    if (loading)\n      return (\n        <LearningPlayerContextLoading\n          id={`thread-${uid}`}\n          key={`thread-${uid}`}\n        />\n      )\n\n    function elevationFor(author, user) {\n      return author === user ? 1 : -1;\n    }\n\n    return (\n      <li key={uid}>\n        <ForumMessage\n          elevation={withReviewDropdown ? elevationFor(author_uid, highlightedUser.uid) : 0}\n          withReviewDropdown={withReviewDropdown && author_uid === highlightedUser.uid}\n          disableOperations={withReviewDropdown}\n          id={`thread-${uid}`}\n          user={user}\n          authorUID={author_uid}\n          customOptions={this.state.custom_options}\n          content={this.props.content}\n          rawContent={message}\n          interactionObjects={this.filterInteractionObjectOf(uid, author_uid)}\n          primaryColor={topic_button_color}\n          topicBackgroundColor={withReviewDropdown ? this.highlightedUserColor(author_uid, highlightedUser, primary_topic_background_color) : primary_topic_background_color}\n          topicAuthorColor={primary_topic_author_color}\n          topicTextColor={primary_topic_text_color}\n          byLabel={this.getByLabel()}\n          createdAtDateTime={created_at}\n          value={content}\n          createdAt={this.getFormatDate(created_at)}\n          onClickReply={() => this.toggleVisibilityOfReplyModal(uid)}\n          // TODO: Necessrio implementar API de edio\n          // onClickEdit={(text) => this.editThread(uid, text)}\n          onClickDelete={(children !== null && children.length > 0) ? null : () => this.handleDeleteThread(uid)}\n          onClickSaveNote={(note, interaction) => this.updateLocalInteraction(interaction, author_uid)}\n        />\n\n        {children && (children.map((row, i) => (\n          <ForumMessage\n            elevation={withReviewDropdown ? elevationFor(row.author_uid, highlightedUser.uid) : 0}\n            withReviewDropdown={withReviewDropdown && row.author_uid === highlightedUser.uid}\n            disableOperations={withReviewDropdown}\n            id={`post-${row.uid}`}\n            key={`post-${row.uid}`}\n            user={user}\n            uid={row.uid}\n            column={1}\n            threadUid={uid}\n            authorUID={row.author_uid}\n            customOptions={this.state.custom_options}\n            content={this.props.content}\n            rawContent={row}\n            interactionObjects={this.filterInteractionObjectOf(row.uid, row.author_uid)}\n            value={row.content}\n            primaryColor={topic_button_color}\n            topicBackgroundColor={withReviewDropdown ? this.highlightedUserColor(row.author_uid, highlightedUser, primary_topic_background_color) : secondary_topic_background_color}\n            topicAuthorColor={secondary_topic_author_color}\n            topicTextColor={secondary_topic_text_color}\n            byLabel={this.getByLabel()}\n            createdAtDateTime={row.created_at}\n            createdAt={this.getFormatDate(row.created_at)}\n            onClickEdit={(text) => this.editPost(uid, row.uid, text)}\n            onClickDelete={() => this.handleDeletePost(row.uid, uid)}\n            onClickSaveNote={(note, interaction) => this.updateLocalInteraction(interaction, row.author_uid)}\n          />\n        )))}\n\n        {\n          (withReviewDropdown && current_page < total_pages) && (\n            <PostLoading column={1} onScreen={async () => {\n              let posts = await this.onApiGetThreadPosts(uid, current_page + 1);\n              let thread = message;\n              thread.children = [...thread.children, ...posts.result];\n              thread.current_page = current_page + 1;\n              thread.total_pages = posts.total_pages;\n              this.setState(prevState => {\n                const {forum_messages = []} = prevState;\n                return {forum_messages: [...forum_messages.map(value => value.uid === uid ? thread : value)]}\n              });\n            }}/>\n          )\n        }\n\n        {\n          (children.length >= 5 && current_page < total_pages && !withReviewDropdown) && (\n            <div className=\"load-more-container\">\n              <OutlinedButton\n                background={confirm_button_background_color}\n                onClick={async evt => {\n                  evt.persist();\n                  evt.target.innerText = \"carregando...\";\n                  evt.target.disabled = true;\n                  let posts = await this.onApiGetThreadPosts(uid, current_page + 1);\n                  evt.target.innerText = \"carregar mais...\";\n                  evt.target.removeAttribute(\"disabled\");\n                  let thread = message;\n                  thread.children = [...thread.children, ...posts.result];\n                  thread.current_page = current_page + 1;\n                  thread.total_pages = posts.total_pages;\n                  this.setState(prevState => {\n                    const {forum_messages = []} = prevState;\n                    return {forum_messages: [...forum_messages.map(value => value.uid === uid ? thread : value)]}\n                  });\n                }}\n              >\n                carregar {children.length > 0 ? \"mais\" : \"respostas\"}...\n              </OutlinedButton>\n            </div>\n          )\n        }\n      </li>\n    )\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    let language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        edit: \"Edit answer\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        answer_saved: \"Answer saved!\",\n        stats: \"Statistics\",\n        review: \"Review answers\",\n        answer: \"Answer\",\n        reviewed: \"Reviewed\",\n        answered_by_student: \"Answered by student\",\n        answered: \"Answered\",\n        search: \"Search\",\n        finish_review: \"Finish review\",\n        close: \"Close\",\n        score: \"Score\",\n        select_to_start_review: \"Select a student to review.\",\n        no_messages_to_review: \"This student has no messages for review.\"\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        edit: \"Editar resposta\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        answer_saved: \"Resposta salva!\",\n        stats: \"Estatsticas\",\n        review: \"Revisar respostas\",\n        answer: \"Resposta\",\n        reviewed: \"Revisado\",\n        answered_by_student: \"Respondido pelo aluno\",\n        answered: \"Respondido\",\n        search: \"Pesquisar\",\n        finish_review: \"Finalizar reviso\",\n        close: \"Fechar\",\n        score: \"Nota\",\n        select_to_start_review: \"Selecione um aluno para efetuar a reviso.\",\n        no_messages_to_review: \"O aluno no possui mensagens para reviso.\"\n      };\n    }\n  }\n\n  startReview() {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n        this.getThreads()\n          .then(threads => this.mountThreadsAndPosts(threads, true, true))\n          .then(threads => {\n            this.setState({\n              is_review_modal_open: true,\n              is_loading_review_modal: false,\n              interaction_objects\n            })\n          });\n      });\n  }\n\n  getUsersInteractions() {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({\n          // TODO: Mudar para content.id\n          context_uid: activity_uid,\n          activity_uid,\n          last_occurrence: true\n        }, custom_options\n      );\n  }\n\n  renderLearningPlayerContext() {\n    const {\n      content: {\n        topic_button_color,\n      }\n    } = this.props;\n\n    const {\n      forum_messages = null,\n      current_page,\n      total_pages,\n      is_loading_more,\n      is_loading_review_modal,\n      user,\n    } = this.state;\n\n    if (forum_messages === null) return <LearningPlayerContextLoading/>\n\n    return (<>\n      {forum_messages.length === 0 && (<div className=\"element-forum-1-no-message\">\n        <span className=\"element-forum-1-no-message-icon\"/>\n        <span className=\"element-forum-1-no-message-message\">\n          No h nenhum tpico nesse frum.\n        </span>\n        {this.isUserAllowedToCreateTopic() && (\n          <button\n            type=\"button\"\n            className=\"element-forum-1-no-message-new-topic-btn\"\n            onClick={this.toggleVisibilityOfNewTopicModal}\n            style={{backgroundColor: topic_button_color}}\n          >\n            Responder\n          </button>\n        )}\n      </div>)}\n\n      {forum_messages.length > 0 && (<div className=\"element-forum-content\">\n        <div className=\"element-forum-1-content-header\">\n          {\n            isAdminReviewer(user.roles) && (\n              <OutlinedButton\n                tabIndex={1}\n                type=\"button\"\n                onClick={() => {\n                  this.setState({\n                    is_loading_review_modal: true,\n                    thread_page_size: 50000,\n                    posts_page_size: 50000,\n                    all_forum_messages: [],\n                    current_page: 1,\n                  }, () => this.startReview())\n                }}\n                background={topic_button_color}\n                disabled={is_loading_review_modal}\n                isLoading={is_loading_review_modal}\n              >\n                {this.getLabels().review}...\n              </OutlinedButton>\n            )\n          }\n\n          {this.isUserAllowedToCreateTopic() && (\n            <button\n              type=\"button\"\n              className=\"element-forum-1-content-header-new-topic-btn\"\n              onClick={this.toggleVisibilityOfNewTopicModal}\n              style={{backgroundColor: topic_button_color}}\n            >\n              Responder\n            </button>\n          )}\n        </div>\n        <ul className=\"element-forum-content-messages\">\n          {forum_messages.map((message) => this.renderForumMessage(message, false))}\n        </ul>\n        {\n          (current_page < total_pages && !is_loading_more) && (\n            <PostLoading column={0} onScreen={() => {\n              this.setState({\n                current_page: current_page + 1,\n                is_loading_more: true,\n              }, () => {\n                this.getThreads()\n                  .then(this.mountThreadsAndPosts)\n                  .then(r => {\n                    this.setState({\n                      is_loading_more: false,\n                    })\n                  })\n              });\n            }}/>\n          )\n        }\n      </div>)}\n    </>)\n  }\n\n  renderContext() {\n    const {context} = this.state;\n\n    switch (context) {\n      case \"composer_player\":\n        return <ComposerPlayerContext/>\n      case \"learning_player\":\n        return this.renderLearningPlayerContext();\n      default:\n    }\n  }\n\n  renderModal() {\n    const {\n      content: {\n        cancel_button_background_color,\n        cancel_button_text_color,\n        confirm_button_background_color,\n        confirm_button_text_color,\n      },\n    } = this.props;\n    const {\n      is_showing_new_topic_modal,\n      is_loading_new_topic_modal_confirmation,\n      is_showing_reply_thread_modal,\n      is_loading_new_reply_thread_modal_confirmation,\n    } = this.state;\n\n    let props = {\n      open: true,\n      btnConfirmTextColor: confirm_button_text_color,\n      btnConfirmColor: confirm_button_background_color,\n      btnCancelTextColor: cancel_button_text_color,\n      btnCancelColor: cancel_button_background_color,\n    };\n\n    switch (true) {\n      case is_showing_new_topic_modal:\n        props = {\n          ...props, ...{\n            title: \"Responder\",\n            btnConfirmLabel: \"Responder\",\n            onConfirm: this.sendThread,\n            onCancel: this.toggleVisibilityOfNewTopicModal,\n            isLoading: is_loading_new_topic_modal_confirmation,\n          }\n        }\n        break;\n      case is_showing_reply_thread_modal:\n        props = {\n          ...props, ...{\n            title: \"Adicionar comentrio\",\n            btnConfirmLabel: \"Comentar\",\n            onConfirm: this.sendPost,\n            onCancel: this.toggleVisibilityOfReplyModal,\n            isLoading: is_loading_new_reply_thread_modal_confirmation,\n          }\n        }\n        break;\n      default:\n        props = {\n          ...props, ...{\n            open: false,\n          }\n        }\n        break;\n    }\n\n    return <Modal {...props} />\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  handleCloseReviewModal() {\n    this.setState({\n      is_review_modal_open: false,\n    })\n  }\n\n  reviewModalIterateRightList(message, index, selectedUser) {\n    let messageCopy = {...message};\n    let containsSelectedUser = false;\n\n    const {\n      children = null, author_uid,\n    } = messageCopy;\n\n    if (selectedUser !== null) {\n      if (children && children.length > 0) {\n        const selectedUserReplies = children.filter(child => child.author_uid === selectedUser.uid);\n        containsSelectedUser = selectedUserReplies.length > 0;\n\n        messageCopy.children = selectedUserReplies;\n      }\n\n      if (containsSelectedUser === false && author_uid === selectedUser.uid) {\n        containsSelectedUser = true;\n      }\n    }\n\n    if (containsSelectedUser) {\n      return (\n        <MessagesContainer role=\"listitem\">\n          {this.renderForumMessage(messageCopy, true, selectedUser)}\n        </MessagesContainer>\n      )\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      content: {\n        topic_button_color,\n        background_color,\n        padding_top,\n        padding_bottom,\n        cancel_button_background_color,\n        cancel_button_text_color,\n        confirm_button_background_color,\n        confirm_button_text_color,\n      },\n      className\n    } = this.props;\n\n    const {\n      is_showing_alert_dialog,\n      user: {\n        roles = []\n      },\n      is_review_modal_open,\n      interaction_objects,\n      custom_options,\n      all_forum_messages = [],\n    } = this.state;\n\n    const forumStyle = {\n      backgroundColor: background_color, paddingTop: padding_top + \"px\", paddingBottom: padding_bottom + \"px\"\n    }\n\n    return (<div ref={this.elementRef} id={this.props.content.id} className={className} style={forumStyle}>\n      {this.renderContext()}\n      {this.renderModal()}\n      <AlertDialog\n        open={is_showing_alert_dialog}\n        onCancel={this.closeAlertDialog}\n        onConfirm={this.handleConfirmAlertDialog}\n        btnConfirmTextColor={confirm_button_text_color}\n        btnConfirmColor={confirm_button_background_color}\n        btnCancelTextColor={cancel_button_text_color}\n        btnCancelColor={cancel_button_background_color}\n      />\n      {\n        (isAdminReviewer(roles) && is_review_modal_open) && (\n          <ReviewModal\n            open={is_review_modal_open}\n            data={all_forum_messages}\n            iterateRightList={this.reviewModalIterateRightList}\n            customOptions={custom_options}\n            users={interaction_objects}\n            btnConfirmTextColor={confirm_button_text_color}\n            primaryColor={topic_button_color}\n            noteRange={this.getNoteRange()}\n            onCancel={this.handleCloseReviewModal}\n            onConfirm={this.handleCloseReviewModal}\n            labels={this.getLabels()}\n          />\n        )\n      }\n    </div>)\n  }\n}","import React, { Component } from 'react';\nimport './element-divider-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDivider1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_color,\n      height: content.height\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-1\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-1-content\">\n        <div className=\"element-divider-1-line\" style={lineStyle}></div>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport './element-divider-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDivider4 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_color,\n      height: content.height\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-4\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-4-content\">\n        <div className=\"element-divider-4-line\" style={lineStyle}></div>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport './element-divider-numbered.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDividerNumbered extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-numbered\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_primary_color\n    }\n\n    var circleStyle = {\n      backgroundColor: content.divider_primary_color,\n      color: content.divider_secondary_color\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-numbered\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-numbered-content\">\n        <div className=\"element-divider-numbered-line\" style={lineStyle}></div>\n        <span className=\"element-divider-numbered-circle\" style={circleStyle}>{this.props.objectIndex + 1}</span>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementHotspots1 = styled.div`\n  padding-top: ${props => props.paddingTop || \"30\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"30\"}px;\n  overflow: hidden;\n  position: relative;\n  background-color: ${props => props.backgroundColor || \"transparent\"};\n`;\n\nexport const Container = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nexport const Stage = styled.figure`\n  height: auto;\n  max-width: 760px;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n`;\n\nexport const Img = styled.img`\n  width: ${props => props.width ? `${props.width}px` : \"100%\"};\n  height: auto;\n  max-width: 760px;\n  display: block;\n  cursor: ${props => props.showCursor ? \"crosshair\" : \"default\"};\n  margin-left: auto;\n  margin-right: auto;\n`;","import styled, {css} from 'styled-components';\n\nexport const Spot = styled.button`\n  border-radius: 100%;\n  position: absolute;\n  top: calc(${props => `${props.posY}%`} - 21px);\n  left: calc(${props => `${props.posX}%`} - 21px);\n  background: white;\n  border: 2px solid transparent;\n  box-shadow: 1px 1px 1px 1px rgba(204, 204, 204, 0.47);\n  margin: 4px;\n  cursor: pointer;\n  outline: 8px solid rgba(255, 255, 255, 0.56) !important;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 38px;\n  height: 38px;\n  animation: pulse 3s ease-in-out infinite;\n  color: ${props => props.color || \"#2d7b45\"};\n  transition: opacity 0.3s ease-in-out, transform 0.5s ease-in-out;\n\n  @media only screen and (max-width: 700px) {\n    transform: scale(0.7);\n  }\n\n  @media only screen and (max-width: 600px) {\n    transform: scale(0.6);\n  }\n\n  @media only screen and (max-width: 400px) {\n    transform: scale(0.4);\n  }\n\n  @media only screen and (max-width: 300px) {\n    transform: scale(0.3);\n  }\n\n  &:hover {\n    border: 2px solid ${props => props.color || \"#2d7b45\"};\n  }\n\n  @keyframes pulse {\n    0% {\n      outline-offset: 4px;\n    }\n    50% {\n      outline-offset: 16px;\n    }\n    100% {\n      outline-offset: 4px;\n    }\n  }\n\n  &:before {\n    transition: opacity 0.3s ease-in-out;\n    opacity: 0;\n    content: '';\n  }\n\n  &:focus, &.expanded {\n    background: ${props => props.color || \"#2d7b45\"};\n    color: white;\n    animation: none;\n    outline: none !important;\n    border-color: white;\n\n    &:hover {\n      border: 2px solid #bbb;\n    }\n\n    .hotspot-remove-btn, .hotspot-cancel-btn {\n      opacity: 1;\n      top: -30px;\n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ${props => !props.flipped && css`\n        left: -30px;\n      `}\n      ${props => props.flipped && css`\n        right: -30px;\n        left: auto;\n      `}\n    }\n\n    .hotspot-move-btn, .hotspot-confirm-btn {\n      opacity: 1;\n      top: 30px;\n      \n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ${props => !props.flipped && css`\n        left: -30px;\n      `}\n      ${props => props.flipped && css`\n        right: -30px;\n        left: auto;\n      `}\n    }\n  }\n\n  ${props => props.isMoving && css`\n    &:focus, &.expanded {\n      opacity: 0.8;\n    }\n  `}\n\n  ${props => !props.isMoving && css`\n    &:focus, &.expanded {\n      &::before {\n        content: \"\";\n        position: absolute;\n        top: 7px;\n        left: ${props => props.flipped ? \"-20px\" : \"40px\"};\n        width: 0;\n        height: 0;\n        border-top: 10px solid transparent;\n        border-bottom: 10px solid transparent;\n        border-right: 10px solid white;\n        z-index: 2;\n        opacity: 1;\n        ${props => props.flipped && css`\n          transform: rotate(180deg);\n        `}\n      }\n\n      @media only screen and (max-width: 700px) {\n        &::before {\n          left: ${props => props.flipped ? \"-36px\" : \"55px\"};\n        }\n      }\n\n      @media only screen and (max-width: 600px) {\n        &::before {\n          left: ${props => props.flipped ? \"-45px\" : \"63px\"};\n        }\n      }\n      \n      .hotspot-tooltip {\n        opacity: 1;\n        height: auto;\n      }\n    }\n  `}\n`;\n\nexport const Tooltip = styled.div`\n  pointer-events: inherit;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  transition: opacity 0.3s ease-in-out;\n  width: auto;\n  height: 0;\n  background: white;\n  top: calc(${props => `${props.posY}%`} - 40px);\n  ${props => props.flippedY && css`\n    top: calc(${props => `${props.posY}%`} - 140px);\n  `}\n  left: calc(${props => `${props.posX}%`} + 35px);\n  ${props => props.flippedX && css`\n    left: calc(${props => `${props.posX}%`} - 335px);\n  `}\n  bottom: 0;\n  min-height: 100px;\n  max-width: 300px;\n  max-height: 400px;\n  overflow: hidden;\n  border-radius: 8px;\n  box-shadow: 14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  ${props => props.flippedX && css`\n    box-shadow: -14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  `}\n  color: black;\n  z-index: 1;\n  padding: 20px;\n  cursor: initial;\n  \n  ${props => props.expanded === \"true\" && css`\n    opacity: 1;\n    height: auto;\n    overflow: auto;\n    display: initial;\n\n    @media only screen and (max-width: 468px) {\n      top: 0;\n      left: 0;\n      position: fixed;\n      z-index: 9999;\n      right: 0;\n      width: 100%;\n      bottom: 0;\n      height: 100%;\n      max-height: 100%;\n      border-radius: 0;\n      max-width: 100%;\n    }\n  `}\n`;\n\nexport const TooltipHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 30px;\n  \n  p {\n    font-weight: bold;\n  }\n`;\n\nexport const NavigationButton = styled.span`\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: none;\n  padding: 2px;\n  margin: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: none;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ${props => props.color || \"#2d7b45\"};\n  }\n`;\n\nexport const CloseButton = styled.span`\n  display: none;\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: 0;\n  padding: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ${props => props.color || \"#2d7b45\"};\n  }\n`;\n\nexport const TooltipImage = styled.img`\n  width: 100%;\n  height: auto;\n  margin: 10px 0;\n`;\n\nexport const TooltipAudio = styled.audio`\n  width: 100%;\n  margin: 10px 0;\n`;\n\nexport const TooltipDescription = styled.div`\n  margin-top: 10px;\n  text-align: justify;\n`;\n\nexport const RemoveButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n`;\n\nexport const CancelButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n`;\n\nexport const ConfirmButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n`;\n\nexport const MoveButton = styled.div`\n  position: absolute;\n  cursor: grab;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n  \n  &:active {\n    cursor: grabbing;\n  }\n`;","import React from \"react\";\n\nconst markers = {\n  \"01\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" />\n    </svg>\n  ),\n  \"02\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n    </svg>\n  ),\n  \"03\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M 11,4L 13,4L 13,15L 11,15L 11,4 Z M 13,18L 13,20L 11,20L 11,18L 13,18 Z\" />\n    </svg>\n  ),\n  \"04\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M10,19H13V22H10V19M12,2C17.35,2.22 19.68,7.62 16.5,11.67C15.67,12.67 14.33,13.33 13.67,14.17C13,15 13,16 13,17H10C10,15.33 10,13.92 10.67,12.92C11.33,11.92 12.67,11.33 13.5,10.67C15.92,8.43 15.32,5.26 12,5A3,3 0 0,0 9,8H6A6,6 0 0,1 12,2Z\" />\n    </svg>\n  ),\n  \"05\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" />\n    </svg>\n  ),\n  \"06\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n    </svg>\n  ),\n  \"07\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\" />\n    </svg>\n  ),\n  \"08\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z\" />\n    </svg>\n  ),\n  \"09\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n    </svg>\n  ),\n  \"10\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n    </svg>\n  ),\n  \"11\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\" />\n    </svg>\n  ),\n  \"12\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\" />\n    </svg>\n  ),\n  \"13\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n    </svg>\n  ),\n  \"14\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\" />\n    </svg>\n  ),\n  \"15\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\" />\n    </svg>\n  ),\n  \"16\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n    </svg>\n  ),\n  \"17\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M10,7V9H12V17H14V7H10Z\" />\n    </svg>\n  ),\n  \"18\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V9H13V11H11A2,2 0 0,0 9,13V17H11L15,17V15H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9Z\" />\n    </svg>\n  ),\n  \"19\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H9V9H13V11H11V13H13V15H9V17H13A2,2 0 0,0 15,15\" />\n    </svg>\n  ),\n  \"20\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V13H13V17H15V7H13V11H11V7H9Z\" />\n    </svg>\n  ),\n  \"21\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V13H13V15H9V17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H9Z\" />\n    </svg>\n  ),\n  \"22\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H11M11,13H13V15H11V13Z\" />\n    </svg>\n  ),\n  \"23\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,17L15,9V7H9V9H13L9,17\" />\n    </svg>\n  ),\n  \"24\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,13H13V15H11M11,9H13V11H11M11,17H13A2,2 0 0,0 15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H11A2,2 0 0,0 9,9V10.5A1.5,1.5 0 0,0 10.5,12A1.5,1.5 0 0,0 9,13.5V15C9,16.11 9.9,17 11,17\" />\n    </svg>\n  ),\n  \"25\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M13,17A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11A2,2 0 0,0 9,9V11A2,2 0 0,0 11,13H13V15H9V17H13M13,11H11V9H13V11Z\" />\n    </svg>\n  ),\n  \"26\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11M11,9H13V15H11V9Z\" />\n    </svg>\n  ),\n}\n\nexport default markers;\n","import React from \"react\";\nimport * as S from \"./spot.styled\";\nimport markers from \"./markers\";\n\nfunction Spot(props) {\n  const {\n    id,\n    icon = \"01\",\n    title = \"\",\n    description = \"\",\n    image,\n    audio,\n    className,\n    posX,\n    posY,\n    editable,\n    onClickRemove,\n    onGrab,\n    onMove,\n    onRelease,\n    onNext,\n    onPrev,\n    onFocus,\n    onBlur,\n    color,\n  } = props;\n  const containerRef = React.useRef(null);\n  const tooltipRef = React.useRef(null);\n  const [expanded, setExpanded] = React.useState(\"false\");\n  const [isMoving, setIsMoving] = React.useState(false);\n  const [isTryingToDelete, setIsTryingToDelete] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (containerRef && !containerRef.current.contains(e.target)) {\n        setExpanded(\"false\");\n        if (isTryingToDelete) {\n          setIsTryingToDelete(false);\n        }\n\n        if (typeof onBlur === \"function\") {\n          onBlur(e);\n        }\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleRemoveClick = e => {\n    if (typeof onClickRemove === \"function\") {\n      onClickRemove(id);\n    }\n  }\n\n  const closeDragElement = () => {\n    document.removeEventListener(\"mouseup\", closeDragElement);\n    document.removeEventListener(\"mousemove\", elementDrag);\n    setIsMoving(false);\n\n    if (typeof onRelease === \"function\") {\n      onRelease(id);\n    }\n  }\n\n  const elementDrag = (e) => {\n    e = e || window.event;\n    e.preventDefault();\n    // Posio do boto de mover relativo ao spot\n    const relativePostOfMovingButton = 30;\n    const x = e.clientX + (posX > 60 ? (relativePostOfMovingButton - (relativePostOfMovingButton * 2)) : relativePostOfMovingButton)\n    const y = e.clientY - relativePostOfMovingButton;\n\n    if (typeof onMove === \"function\" && x && y) {\n      onMove(e, {\n        id, x, y\n      });\n    }\n  }\n\n  const handleMouseDown = e => {\n    e = e || window.event;\n    e.preventDefault();\n\n    if (!isMoving) {\n      document.addEventListener(\"mouseup\", closeDragElement);\n      document.addEventListener(\"mousemove\", elementDrag);\n    }\n\n    if (typeof onGrab === \"function\") {\n      setIsMoving(true);\n      onGrab(id);\n    }\n  }\n\n  const handleMouseUp = e => {\n    if (typeof onRelease === \"function\") {\n      setIsMoving(false);\n      onRelease(id);\n    }\n  }\n\n  const handleCancelClick = e => {\n    if (isTryingToDelete) {\n      setIsTryingToDelete(false);\n    }\n  }\n\n  const handleConfirmClick = e => {\n    if (isTryingToDelete) {\n      handleRemoveClick(e);\n    }\n  }\n\n  const handleFocus = e => {\n    setExpanded(\"true\");\n\n    if (typeof onFocus === \"function\") {\n      onFocus(e);\n    }\n  }\n\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      handleConfirmClick(e);\n    }\n    if (e.key === \"Escape\") {\n      handleCancelClick(e);\n    }\n    if (e.key === \"ArrowRight\" && typeof onNext === \"function\") {\n      handleNextClick(e);\n    }\n    if (e.key === \"ArrowLeft\" && typeof onPrev === \"function\") {\n      handlePrevClick(e);\n    }\n  }\n\n  const handleNextClick = e => {\n    e.stopPropagation();\n    setExpanded(\"false\");\n    if (typeof onNext === \"function\") {\n      onNext(e, id);\n    }\n  }\n\n  const handlePrevClick = e => {\n    e.stopPropagation();\n    setExpanded(\"false\");\n    if (typeof onPrev === \"function\") {\n      onPrev(e, id);\n    }\n  }\n\n  const handleClose = e => {\n    e.stopPropagation();\n    setExpanded(\"false\")\n  }\n\n  return (\n    <div\n      role=\"button\"\n      ref={containerRef}\n      onClick={e => e.stopPropagation()}\n      onFocus={handleFocus}\n      onKeyDown={handleKeyDown}\n      style={{pointerEvents: \"auto\"}}\n    >\n      <S.Spot\n        id={id}\n        aria-expanded={expanded}\n        className={[expanded === \"true\" ? \"expanded\" : \"\", posX > 60 ? \"flipped\" : \"\"].concat(className).join(\" \")}\n        posX={posX}\n        posY={posY}\n        flipped={posX > 60}\n        isMoving={isMoving}\n        color={color}\n      >\n        {markers[icon]()}\n        {\n          editable && (\n            <>\n              <S.RemoveButton\n                className=\"hotspot-remove-btn\"\n                role=\"button\"\n                type=\"button\"\n                onClick={e => setIsTryingToDelete(true)}\n                tooltip=\"Remove\"\n              >\n                <svg\n                  version=\"1.1\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 768 768\"\n                >\n                  <title>remove</title>\n                  <g id=\"icomoon-ignore\">\n                  </g>\n                  <path fill=\"currentColor\"\n                        d=\"M607.5 127.5v64.5h-447v-64.5h111l33-31.5h159l33 31.5h111zM192 607.5v-384h384v384c0 34.5-30 64.5-64.5 64.5h-255c-34.5 0-64.5-30-64.5-64.5z\"></path>\n                </svg>\n              </S.RemoveButton>\n\n              <S.MoveButton\n                className=\"hotspot-move-btn\"\n                role=\"button\"\n                type=\"button\"\n                onMouseDown={handleMouseDown}\n                onMouseUp={handleMouseUp}\n                tooltip=\"Move\"\n              >\n                <svg\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path fill=\"currentColor\"\n                        d=\"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z\"/>\n                </svg>\n              </S.MoveButton>\n\n              {\n                isTryingToDelete && (\n                  <>\n                    <S.CancelButton\n                      className=\"hotspot-cancel-btn\"\n                      role=\"button\"\n                      type=\"button\"\n                      onClick={handleCancelClick}\n                      tooltip=\"Cancel\"\n                    >\n                      <svg\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path fill=\"currentColor\"\n                              d=\"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\"/>\n                      </svg>\n                    </S.CancelButton>\n\n                    <S.ConfirmButton\n                      className=\"hotspot-confirm-btn\"\n                      role=\"button\"\n                      type=\"button\"\n                      onClick={handleConfirmClick}\n                      tooltip=\"Confirm\"\n                    >\n                      <svg\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/>\n                      </svg>\n                    </S.ConfirmButton>\n                  </>\n                )\n              }\n            </>\n          )\n        }\n      </S.Spot>\n\n      {\n        !isMoving && (\n          <S.Tooltip\n            ref={tooltipRef}\n            className=\"hotspot-tooltip\"\n            posX={posX}\n            posY={posY}\n            flippedX={posX > 60}\n            flippedY={posY > 70}\n            expanded={expanded}\n            onClick={e => e.stopPropagation()}\n          >\n            <S.TooltipHeader>\n              <p>{title}</p>\n\n              <div>\n                <S.NavigationButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handlePrevClick}\n                  color={color}\n                >\n                  &larr;\n                </S.NavigationButton>\n\n                <S.NavigationButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handleNextClick}\n                  color={color}\n                >\n                  &rarr;\n                </S.NavigationButton>\n\n                <S.CloseButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handleClose}\n                  color={color}\n                >\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n                  </svg>\n                </S.CloseButton>\n              </div>\n            </S.TooltipHeader>\n\n            {\n              image && (\n                <S.TooltipImage\n                  src={image}\n                />\n              )\n            }\n\n            {\n              audio && (\n                <S.TooltipAudio\n                  src={audio}\n                  controls\n                />\n              )\n            }\n\n            <S.TooltipDescription\n              dangerouslySetInnerHTML={{__html: description}}\n            />\n          </S.Tooltip>\n        )\n      }\n    </div>\n  );\n}\n\nexport default Spot;","import React, {Component} from \"react\";\nimport * as S from \"./element-hotspots-1.styled\";\nimport Spot from \"../../fragments/element-spot/spot\";\nimport uuidv1 from \"uuid/v1\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementHotspots1 extends Component {\n  stageRef = React.createRef();\n  timeoutMoveSpot = null;\n  state = {\n    editable: false,\n    movingSpotId: null,\n    disableAddSpot: false,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.movingSpotId !== null) {\n      this.moveSpot(this.state.movingSpotId);\n    }\n    this.trackElementView();\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutMoveSpot);\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.stageRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"hotspots-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"url\": content.image,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  createSpot = () => {\n    return ({\n      id: uuidv1(),\n      x: \"0\",\n      y: \"0\",\n      icon: \"01\",\n      title: \"Lorem ipsum dolor sit amet\",\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n      hasMedia: false,\n      isActive: false,\n      image: null,\n      audio: null,\n    })\n  }\n\n  getCoordinatesInPorcentage = (event) => {\n    const rect = event.target.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    const width = event.target.clientWidth;\n    const height = event.target.clientHeight;\n\n    const posX = ((x * 100) / width).toString();\n    const posY = ((y * 100) / height).toString();\n\n    return {\n      x: posX,\n      y: posY\n    }\n  }\n\n  addSpot = e => {\n    if (this.state.disableAddSpot) {\n      this.setState({\n        disableAddSpot: false,\n      })\n      return;\n    }\n\n    if (this.state.movingSpotId !== null) {\n      this.setState({\n        movingSpotId: null,\n      })\n      return;\n    }\n\n    if (this.state.editable) {\n      let {content} = this.props;\n      const {spots = []} = content;\n      const coord = this.getCoordinatesInPorcentage(e);\n\n      let newSpot = this.createSpot();\n      newSpot.x = coord.x;\n      newSpot.y = coord.y;\n\n      content.spots = [...spots, newSpot];\n\n      this.props.onChange(content);\n    }\n  }\n\n  moveSpot = (e, info = {}) => {\n    if (this.timeoutMoveSpot) {\n      clearTimeout(this.timeoutMoveSpot);\n    }\n\n    this.timeoutMoveSpot = setTimeout(() => {\n      if (this.state.movingSpotId !== null) {\n        const {id, x, y} = info;\n        const {content} = this.props;\n        const {spots = []} = content;\n\n        let spot = spots.find(spot => spot.id === id);\n\n        if (spot) {\n          const rect = this.stageRef.current.getBoundingClientRect();\n          const parentX = rect.left;\n          const parentY = rect.top;\n\n          const width = this.stageRef.current.clientWidth;\n          const height = this.stageRef.current.clientHeight;\n\n          const posX = (((x - parentX) * 100) / width).toFixed(2);\n          const posY = (((y - parentY) * 100) / height).toFixed(2);\n\n          if (posX >= 0 && posX <= 100) spot.x = posX;\n          if (posY >= 0 && posY <= 100) spot.y = posY;\n\n          const originalSpot = spots.find(spot => spot.id === this.state.movingSpotId);\n          const originalSpotIndex = spots.indexOf(originalSpot);\n          spots[originalSpotIndex] = spot;\n          content.spots = [...spots];\n\n          this.props.onChange(content);\n        }\n\n        clearTimeout(this.timeoutMoveSpot);\n      }\n    }, 5);\n  }\n\n  handleRemoveSpot = (id) => {\n    let {content} = this.props;\n    const {spots = []} = content;\n\n    content.spots = spots.filter(spot => spot.id !== id);\n\n    this.props.onChange(content);\n  }\n\n  handleStartMoveSpot = (id) => {\n    const {\n      movingSpotId\n    } = this.state;\n\n    if (movingSpotId === null || movingSpotId !== id) {\n      this.setState({\n        movingSpotId: id\n      });\n    }\n  }\n\n  handleStopMoveSpot = (id) => {\n    this.setState({\n      disableAddSpot: true,\n    });\n  }\n\n  handleNextSpotFocus = (e, id) => {\n    const {content} = this.props;\n    const {spots = []} = content;\n\n    const currentSpot = spots.find(spot => spot.id === id);\n    const currentSpotIndex = spots.indexOf(currentSpot);\n    const nextSpot = spots[currentSpotIndex + 1] || spots[0];\n\n    if (nextSpot) {\n      const spotElement = document.getElementById(nextSpot.id);\n      spotElement.focus();\n    }\n  }\n\n  handlePrevSpotFocus = (e, id) => {\n    const {content} = this.props;\n    const {spots = []} = content;\n\n    const currentSpot = spots.find(spot => spot.id === id);\n    const currentSpotIndex = spots.indexOf(currentSpot);\n    const prevSpot = spots[currentSpotIndex - 1] || spots[spots.length - 1];\n\n    if (prevSpot) {\n      const spotElement = document.getElementById(prevSpot.id);\n      spotElement.focus();\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      className,\n      content\n    } = this.props;\n    const {\n      image,\n      spots = [],\n      spot_color,\n      background_color,\n      padding_top,\n      padding_bottom,\n      image_alt,\n      width,\n    } = content;\n    const {\n      disableAddSpot,\n      editable,\n    } = this.state;\n\n    return (\n      <S.ElementHotspots1\n        className={className}\n        marginTop={\"\"}\n        marginBottom={\"\"}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Container>\n          <S.Stage\n            ref={this.stageRef}\n            onClick={this.addSpot}\n          >\n            <S.Img\n              src={image}\n              alt={image_alt}\n              showCursor={!disableAddSpot && editable}\n              width={width}\n            />\n\n            <ol>\n              {spots.map((spot) => (\n                <li key={spot.id}>\n                  <Spot\n                    editable={editable}\n                    id={spot.id}\n                    posY={spot.y}\n                    posX={spot.x}\n                    image={spot.image}\n                    audio={spot.audio}\n                    title={spot.title}\n                    description={spot.description}\n                    icon={spot.icon}\n                    onClickRemove={this.handleRemoveSpot}\n                    onGrab={this.handleStartMoveSpot}\n                    onMove={this.moveSpot}\n                    onRelease={this.handleStopMoveSpot}\n                    onNext={this.handleNextSpotFocus}\n                    onPrev={this.handlePrevSpotFocus}\n                    onFocus={e => this.setState({disableAddSpot: true})}\n                    color={spot_color}\n                  />\n                </li>\n              ))}\n            </ol>\n          </S.Stage>\n        </S.Container>\n\n        {footerActionsTemplate}\n      </S.ElementHotspots1>\n    );\n  }\n}\n\nexport default ElementHotspots1;","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-1 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-1-container\" style={{borderColor: content.border_color}}>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-2.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement2 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-2 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-2-container\">\n        <div className=\"rdp-element-statement-2-container-border\" style={{backgroundColor: content.border_color}}></div>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-3.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement3 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-3\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-3 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-3-container\" style={{borderColor: content.border_color}}>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement4 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-4 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-4-container\">\n        <div className=\"rdp-element-statement-4-container-border\" style={{backgroundColor: content.border_color}}></div>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-note-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementNote1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"note-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-note-1 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-note-1-container\" style={{backgroundColor: content.secondary_color, borderColor: content.primary_color}}>\n        <span className=\"rdp-element-note-1-container-icon\">\n          {content.icon === \"info\" &&\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n              <path fill={content.primary_color} d=\"M224 152c0-13.2 10.8-24 24-24h16c13.2 0 24 10.8 24 24v16c0 13.2-10.8 24-24 24h-16c-13.2 0-24-10.8-24-24v-16z\"></path>\n              <path fill={content.primary_color} d=\"M320 384h-128v-32h32v-96h-32v-32h96v128h32z\"></path>\n              <path fill={content.primary_color} d=\"M256 0c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256-114.615-256-256-256zM256 464c-114.875 0-208-93.125-208-208s93.125-208 208-208 208 93.125 208 208-93.125 208-208 208z\"></path>\n            </svg>\n          }\n        </span>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-1-text-container\">\n      <div className=\"rdp-element-quote-1-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-1-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-1-author-info\">\n      <div className=\"rdp-element-quote-1-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-1 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-1-container\" style={{borderColor: content.primary_color}}>\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-2.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-2-text-container\">\n      <div className=\"rdp-element-quote-2-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-2-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-2-author-info\">\n      <div className=\"rdp-element-quote-2-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-2 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-2-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-3.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote3 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-3\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-3-text-container\">\n      <span className=\"rdp-element-quote-3-text-container-icon\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"416\" height=\"448\" viewBox=\"0 0 416 448\">\n          <path fill={content.primary_color} d=\"M192 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48zM416 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48z\"></path>\n        </svg>\n      </span>\n      <div className=\"rdp-element-quote-3-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n      {this.renderAuthorInfo()}\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-3-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-3-author-info\">\n      <div className=\"rdp-element-quote-3-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-3 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-3-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote4 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-4-text-container\">\n      <div className=\"rdp-element-quote-4-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n      {this.renderAuthorInfo()}\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-4-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-4-author-info\">\n      <div className=\"rdp-element-quote-4-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-4 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-4-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-5.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote5 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-5\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-5-text-container\">\n      <span className=\"rdp-element-quote-5-text-container-icon\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n          <path fill={content.primary_color} d=\"M112.5 224c61.856 0 112 50.145 112 112s-50.144 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.817 5.818-11.126 12.008-15.915 18.51 5.719-0.9 11.58-1.373 17.552-1.373zM400.5 224c61.855 0 112 50.145 112 112s-50.145 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.818 5.818-11.127 12.008-15.916 18.51 5.72-0.9 11.58-1.373 17.553-1.373z\"></path>\n        </svg>\n      </span>\n      <div className=\"rdp-element-quote-5-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-5-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-5-author-info\">\n      <div className=\"rdp-element-quote-5-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-5 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundImage: `url(${this.getBackgroundUrl(content.background_image)})` }}>\n      <div className=\"rdp-element-quote-5-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n    </div>;\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Root = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Carousel = styled.div`\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Slides = styled.ul`\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n`;\n\nexport const Slide = styled.li`\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Quote = styled.div`\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  padding: 50px 0;\n  text-align: center;\n  border-top: 1px solid #e9eaeb;\n  border-bottom: 1px solid #e9eaeb;\n  margin: 30px auto;\n  \n  &.mobile,\n  &.tablet {\n    padding: 30px;\n  }\n`;\n\nexport const Avatar = styled.div`\n  width: 70px;\n  height: 70px;\n  border-radius: 500px;\n  overflow: hidden;\n  display: block;\n  margin: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n  margin-bottom: 30px;\n`;\n\nexport const AvatarImage = styled.img`\n  margin-left: 50%;\n  margin-top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n`;\n\nexport const AuthorInfo = styled.div`\n  display: block;\n  margin-top: 10px;\n`;\n\nexport const AuthorName = styled.div`\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nexport const TextContainer = styled.div`\n  position: relative;\n`;\n\nexport const Text = styled.div`\n  color: #fff;\n  margin-top: 30px;\n  width: 100%;\n  display: block;\n  line-height: 5px;\n\n  .editor {\n    padding: 0;\n    line-height: inherit;\n    overflow: hidden;\n  }\n\n  .editor p:before,\n  .editor p:after {\n    content: '\"';\n    color: #313537;\n    font-size: 16px;\n  }\n\n  .editor * {\n    line-height: 10px;\n    padding-bottom: 10px;\n  }\n`;\n\nexport const Controls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n\n  @media (max-width: 800px) {\n    display: none;\n  }\n`;\n\nexport const ControlsLeft = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const ControlsLeftArrow = styled.svg``;\n\nexport const Pages = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n\n  @media (max-width: 600px) {\n    display: none;\n  }\n`;\n\nexport const Page = styled.div`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ${props => props.primaryColor || \"#2d7b45\"};\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n`;\n\nexport const ControlsRight = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const ControlsRightArrow = styled.svg``;","import React, { Component } from 'react';\nimport * as S from './element-quote-6.styled';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementQuote6 extends Component {\n  elementRef = React.createRef();\n  state = {\n    avatar_size: \"width\",\n    visibleSlideIndex: 0,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    const { items } = this.props.content;\n    if (items.length > 0) {\n      this.setActivePageMarker(items[0].id);\n    }\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-6\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  handleAvatarChange = (img) => {\n    this.setState({\n      avatar_size: img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  renderText = (text) => {\n    return (\n      <S.TextContainer>\n        <S.Text>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: text}}/>\n        </S.Text>\n      </S.TextContainer>\n    );\n  }\n\n  renderAvatar = (avatar) => {\n    if (avatar !== null) {\n      const { avatar_size } = this.state;\n\n      return (\n        <S.Avatar>\n          <S.AvatarImage\n            style={{ [avatar_size]: \"102%\" }}\n            src={this.getAssetUrl(avatar)}\n            onLoad={this.handleAvatarChange}\n            alt=\"avatar\"\n          />\n        </S.Avatar>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderAuthorInfo = (author_name) => {\n    return (\n      <S.AuthorInfo>\n        <S.AuthorName\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          value={author_name}\n        />\n      </S.AuthorInfo>\n    )\n  }\n\n  handlePageChange = (page) => (event) => {\n    const { content } = this.props;\n    const { items } = content;\n\n    event.preventDefault();\n    const slideElement = document.getElementById(page);\n\n    let visibleSlideId = page.split(\"slide-\")[1];\n    let visibleItem = items.find(item => item.id === visibleSlideId);\n    let visibleSlideIndex = items.indexOf(visibleItem);\n    this.setState({visibleSlideIndex}, () => {\n      slideElement.scrollIntoView();\n      slideElement.focus();\n    });\n  }\n\n  handlePrevClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex > 0) {\n      const prevIndex = visibleSlideIndex - 1;\n      let prevItem = this.props.content.items[prevIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: prevIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  handleNextClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex < this.props.content.items.length - 1) {\n      const nextIndex = visibleSlideIndex + 1;\n      let prevItem = this.props.content.items[nextIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: nextIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  isInViewport = (event, target) => {\n    const element = target || event.target;\n    const rect = element.getBoundingClientRect();\n    const isVisivle = rect.top >= 0 && rect.bottom <= window.innerHeight;\n\n    if (isVisivle) {\n     this.setActivePageMarker(element.id.split(\"slide-\")[1]);\n     this.trackElementClick(element.id.split(\"slide-\")[1]);\n    }\n\n    return isVisivle;\n  }\n\n  trackElementClick = (itemId) => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"quote-6\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  setActivePageMarker = (slideId) => {\n    const pageMarker = document.getElementById(this.getSlidePageId(slideId));\n    if (pageMarker) {\n      this.resetActivePageMarkers();\n      pageMarker.classList.add(\"active\");\n    }\n  }\n\n  resetActivePageMarkers = () => {\n    const { items } = this.props.content;\n\n    items.forEach(item => {\n      const pageMarker = document.getElementById(this.getSlidePageId(item.id));\n      if (pageMarker) {\n        pageMarker.classList.remove(\"active\")\n      }\n    });\n  }\n\n  getSlideId = id => `slide-${id}`;\n\n  getSlidePageId = id => `page-${id}`;\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.Root\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Carousel\n          className=\"element-quote-6-carrousel\"\n        >\n          <S.Slides\n            className=\"element-quote-6-slides\"\n          >\n            {\n              items.map((item) =>\n                (\n                 <S.Slide\n                   className=\"element-quote-6-slide\"\n                   key={item.id}\n                   tabIndex=\"1\"\n                   id={this.getSlideId(item.id)}\n                   onFocus={this.isInViewport}\n                 >\n                   <S.Quote\n                     style={{borderColor: primary_color}}\n                   >\n                     {this.renderAvatar(item.avatar)}\n                     {this.renderText(item.text)}\n                     {this.renderAuthorInfo(item.author_name)}\n                   </S.Quote>\n                 </S.Slide>\n                )\n              )}\n          </S.Slides>\n        </S.Carousel>\n\n        <S.Controls\n          className=\"element-quote-6-controls\"\n        >\n          <S.ControlsLeft\n            onClick={this.handlePrevClick}\n          >\n            <S.ControlsLeftArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </S.ControlsLeftArrow>\n          </S.ControlsLeft>\n\n          <S.Pages role=\"list\">\n            {\n              items.map((item, index) =>\n                (\n                  <S.Page\n                    id={this.getSlidePageId(item.id)}\n                    key={item.id}\n                    role=\"listitem\"\n                    onClick={this.handlePageChange(this.getSlideId(item.id))}\n                    primaryColor={primary_color}\n                  >\n                    {index+1}\n                  </S.Page>\n                )\n              )}\n          </S.Pages>\n\n          <S.ControlsRight\n            onClick={this.handleNextClick}\n          >\n            <S.ControlsRightArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </S.ControlsRightArrow>\n          </S.ControlsRight>\n        </S.Controls>\n\n        {footerActionsTemplate}\n      </S.Root>\n    );\n  }\n}\n\nexport default ElementQuote6;\n","import styled, {css} from \"styled-components\";\n\nexport const ElementSortedActivity1 = styled.div`\n  padding-top: ${props => props.paddingTop || \"30\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"30\"}px;\n  overflow: hidden;\n  position: relative;\n  background-color: ${props => props.backgroundColor || \"transparent\"};\n`;\n\nexport const Container = styled.div`\n  max-width: 750px;\n  margin: 0 auto;\n`;\n\nexport const ItemCardList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  height: 200px;\n`;\n\nexport const ItemCard = styled.li`\n  position: absolute;\n  padding: 20px;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: ${props => props.backgroundColor || \"#FFFFFF\"};\n  border: 1px solid #ededed;\n  color: ${props => props.fontColor || \"#000\"};\n  width: 300px;\n  height: 200px;\n  border-top: 3px solid ${props => props.borderColor || \"#00643e\"};\n  cursor: ${props => props.cursorStyle || \"grab\"};\n  pointer-events: all;\n  box-shadow: 0 2px 5px rgb(0 0 0 / 10%);\n  \n  p {\n    max-height: 130px;\n    overflow: hidden;\n  }\n\n  &[draggable=true]:after {\n    content: \"\";\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    bottom: 12px;\n    left: calc(50% - 12px);\n    background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTMsMTVWMTNINVYxNUgzTTMsMTFWOUg1VjExSDNNNywxNVYxM0g5VjE1SDdNNywxMVY5SDlWMTFIN00xMSwxNVYxM0gxM1YxNUgxMU0xMSwxMVY5SDEzVjExSDExTTE1LDE1VjEzSDE3VjE1SDE1TTE1LDExVjlIMTdWMTFIMTVNMTksMTVWMTNIMjFWMTVIMTlNMTksMTFWOUgyMVYxMUgxOVoiIC8+Cjwvc3ZnPg==\");\n  }\n  \n  ${props => props.isCorrect === false && css`\n    opacity: 0;\n    animation: shake 0.5s, disappear 0s;\n    animation-delay: 0s, 0.5s;\n  `}\n\n  ${props => props.isCorrect === true && css`\n    opacity: 0;\n    transform: scale(0.8);\n    animation: correct 1s, slide 0.5s;\n    animation-delay: 0s, 1s;\n    \n    &::after {\n      content: \"\";\n      width: 34px;\n      height: 34px;\n      position: absolute;\n      animation: grow 1s;\n      top: -12px;\n      left: -12px;\n      background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTAsMTdMNSwxMkw2LjQxLDEwLjU4TDEwLDE0LjE3TDE3LjU5LDYuNThMMTksOE0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMloiIC8+Cjwvc3ZnPg==\");\n    }\n  `}\n  \n  @keyframes grow {\n    0% {\n      width: 0;\n      height: 0;\n      top: 12px;\n      left: 12px;\n    }\n    100% {\n      width: 34px;\n      height: 34px;\n      top: -12px;\n      left: -12px;\n    }\n  };\n\n  @keyframes slide {\n    0% {\n      opacity: 1;\n      top: 0;\n    }\n    100% {\n      opacity: 0;\n      top: 200px;\n    }\n  };\n  \n  @keyframes correct {\n    0% {\n      opacity: 1;\n      transform: scale(1);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(0.8);\n    }\n  };\n  \n  @keyframes shake {\n    0% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    25% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    50% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    75% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate(0, 0);\n    }\n  };\n\n  @keyframes disappear {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  };\n`;\n\nexport const DropPileList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  width: 100%;\n  position: relative;\n  min-height: 220px;\n  gap: 30px;\n  margin-top: 30px;\n`;\n\nexport const DropPileItemCardList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  width: 300px;\n  height: 200px;\n  pointer-events: none;\n  background: ${props => props.backgroundColor || \"#e1e1e1\"};\n  color: ${props => props.color || \"#000\"};\n  border: 1px dashed ${props => props.borderColor || \"#00643e\"};\n  box-shadow: inset 0 2px 5px rgb(0 0 0 / 60%);\n`;\n\nexport const DropPile = styled.li`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 320px;\n  height: 220px;\n  overflow: hidden;\n  padding: 20px;\n  \n  p {\n    margin: 10px;\n  }\n`;\n\nexport const ResultItem = styled.li`\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 300px;\n  height: 200px;\n`;\n\nexport const ResultPlacar = styled.p`\n  font-weight: bold;\n  font-size: 1.3em;\n`;\n\nexport const ReloadButton = styled.button`\n  border: none;\n  background: none;\n  height: auto;\n  width: 100px;\n  margin: 20px;\n  cursor: pointer;\n  pointer-events: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  justify-content: center;\n  align-items: center;\n  border-top: 1px solid #bbb;\n  padding-top: 20px;\n  text-transform: uppercase;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-sorted-activity-1.styled\";\n\nclass ItemCard extends Component {\n  state = {\n    isDragging: false,\n  }\n\n  handleDragStart = (e) => {\n    e.dataTransfer.setData(\"text\", e.target.id);\n\n    this.setState({\n      isDragging: true,\n    });\n  }\n\n  handleDrag = (e) => {}\n\n  handleDragEnd = (e) => {\n    this.setState({\n      isDragging: false,\n    });\n  }\n\n  getCursor = () => {\n    const {\n      draggable,\n    } = this.props;\n    const {\n      isDragging,\n    } = this.state;\n\n    if (isDragging) {\n      return \"grabbing\";\n    } else if (draggable) {\n      return \"grab\";\n    }\n\n    return \"default\"\n  }\n\n  render() {\n    const {\n      id,\n      title,\n      primaryColor,\n      backgroundColor,\n      draggable,\n      isCorrect,\n      color,\n    } = this.props;\n    const {\n      isDragging,\n    } = this.state;\n\n    return (\n      <S.ItemCard\n        id={id}\n        draggable={draggable ? \"true\" : \"false\"}\n        borderColor={primaryColor}\n        backgroundColor={backgroundColor}\n        fontColor={color}\n        cursorStyle={this.getCursor()}\n        isDragging={isDragging}\n        onDragStart={this.handleDragStart}\n        onDrag={this.handleDrag}\n        onDragEnd={this.handleDragEnd}\n        title={title}\n        isCorrect={isCorrect}\n      >\n        <p>\n          {title}\n        </p>\n      </S.ItemCard>\n    );\n  }\n}\n\nexport default ItemCard;","import React, {Component} from 'react';\nimport * as S from \"./element-sorted-activity-1.styled\";\nimport ItemCard from \"./item-card\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementSortedActivity1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    language: this.props.contentLanguage || \"pt_br\",\n    movedItems: [],\n    incorrectMovedItems: [],\n    pileItems: [],\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n\n    if (this.state.movedItems !== prevState.movedItems) {\n      const {\n        content\n      } = this.props;\n      const {\n        items,\n      } = content;\n\n      if (this.state.movedItems.length === items.length) {\n        this.trackElementFinish();\n      }\n    }\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"sorted-activity-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n            \"piles\": content.piles,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackElementFinish = () => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"sorted-activity-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": \"ended\",\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"items\": content.items,\n        \"piles\": content.piles,\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const language = this.state.language;\n    const labels = {\n      pt_br: {\n        remake: \"Refazer\",\n        moved_correctly: \"Movidos corretamente\",\n      },\n      en: {\n        remake: \"Remake\",\n        moved_correctly: \"Moved correctly\",\n      }\n    }\n\n    return labels[language] || labels.pt_br;\n  }\n\n  handleDrop = (e) => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n\n    e.preventDefault();\n\n    const pileElement = e.target;\n    const pileId = pileElement.id;\n\n    const data = e.dataTransfer.getData(\"text\");\n    let pileItems = [...this.state.pileItems];\n    const item = items.find(item => item.id === data);\n\n    if (!pileItems[pileId]) pileItems[pileId] = [];\n\n    pileItems[pileId].push(item);\n\n    let movedItems = [...this.state.movedItems];\n    let incorrectMovedItems = [...this.state.incorrectMovedItems];\n\n    if (pileId === item.pileId) {\n      movedItems = [...this.state.movedItems, data];\n    } else {\n      incorrectMovedItems = incorrectMovedItems.filter(id => id !== data);\n      incorrectMovedItems.push(data);\n    }\n\n    this.setState({\n      movedItems,\n      pileItems,\n      incorrectMovedItems,\n    }, () => {\n      if (pileId !== item.pileId) {\n        setTimeout(() => {\n          pileItems[pileId] = pileItems[pileId].filter(item => item.id !== data);\n          this.setState({\n            pileItems\n          });\n        }, 1000);\n      }\n    });\n  }\n\n  handleDragOver = (e) => {\n    e.preventDefault();\n  }\n\n  getNotMovedItems = () => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      movedItems,\n    } = this.state;\n\n    return items.filter(item => !movedItems.includes(item.id));\n  }\n\n  resetState = () => {\n    this.setState({\n      movedItems: [],\n      incorrectMovedItems: [],\n      pileItems: []\n    });\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      className,\n      content\n    } = this.props;\n    const {\n      items,\n      piles = [],\n      primary_color,\n      background_color,\n      pile_color,\n      pile_text_color,\n      item_color,\n      item_text_color,\n      padding_top,\n      padding_bottom,\n    } = content;\n    const {\n      pileItems,\n      movedItems,\n      incorrectMovedItems,\n    } = this.state;\n\n    return (\n      <S.ElementSortedActivity1\n        ref={this.elementRef}\n        className={className}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Container>\n          {\n            movedItems.length === items.length ? (\n              <S.ItemCardList>\n                <S.ResultItem>\n                  <S.ResultPlacar>\n                    {(items.length - incorrectMovedItems.length)}/{items.length} {this.getLabels().moved_correctly}\n                  </S.ResultPlacar>\n\n                  <S.ReloadButton\n                    onClick={this.resetState}\n                  >\n                    {this.getLabels().remake}\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                    >\n                      <path fill=\"currentColor\" d=\"M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z\" />\n                    </svg>\n                  </S.ReloadButton>\n                </S.ResultItem>\n              </S.ItemCardList>\n            ) : (\n              <S.ItemCardList>\n                {\n                  this.getNotMovedItems().map((item) => (\n                    <ItemCard\n                      draggable\n                      id={item.id}\n                      key={item.id}\n                      primaryColor={primary_color}\n                      backgroundColor={item_color}\n                      color={item_text_color}\n                      title={item.title}\n                    />\n                  ))\n                }\n              </S.ItemCardList>\n            )\n          }\n\n          <S.DropPileList>\n            {\n              piles.map((pile) => (\n                <S.DropPile\n                  id={pile.id}\n                  key={pile.id}\n                  onDrop={this.handleDrop}\n                  onDragOver={this.handleDragOver}\n                  primaryColor={primary_color}\n                  title={pile.title}\n                >\n                  <S.DropPileItemCardList\n                    backgroundColor={pile_color}\n                    color={pile_text_color}\n                    borderColor={primary_color}\n                  >\n                    <p>\n                      {pile.title}\n                    </p>\n                    {\n                      pileItems[pile.id] &&\n                      pileItems[pile.id].map((item) => (\n                        <ItemCard\n                          id={item.id}\n                          key={item.id}\n                          primaryColor={primary_color}\n                          backgroundColor={item_color}\n                          color={item_text_color}\n                          title={item.title}\n                          isCorrect={item.pileId === pile.id}\n                        />\n                      ))\n                    }\n                  </S.DropPileItemCardList>\n                </S.DropPile>\n              ))\n            }\n          </S.DropPileList>\n        </S.Container>\n\n        {footerActionsTemplate}\n      </S.ElementSortedActivity1>\n    );\n  }\n}\n\nexport default ElementSortedActivity1;","import styled from \"styled-components\";\n\nexport const ElementTimeline1 = styled.div`\n  width: 100%;\n  padding-top: ${props => props.paddingTop || 0}px;\n  padding-bottom: ${props => props.paddingBottom || 0}px;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n  padding-right: 10px;\n`;\n\nexport const TimelineList = styled.ul`\n  li {\n    margin-bottom: 50px;\n  }\n  \n  li:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport const TimelineItem = styled.li`\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-left: 5px solid ${props => props.primaryColor || \"#00643e\"};\n  border-radius: 8px;\n  position: relative;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    height: 50px;\n    width: 1px;\n    border-left: 1px solid ${props => props.primaryColor || \"grey\"};\n  }\n  \n  &:last-child:before {\n    border-left: none;\n  }\n`;\n\nexport const TimelineDate = styled.p`\n  color: ${props => props.primaryColor || \"#00643e\"};\n  font-weight: bold;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n`;\n\nexport const TimelineTitle = styled.p`\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n`;\n\nexport const TimelineDescription = styled.p`\n  font-size: 1.2rem;\n`;\n\nexport const TimelineImage = styled.img`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const TimelineAudio = styled.audio`\n  width: 100%;\n  margin: 20px 0;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-timeline-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementTimeline1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"timeline-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"items\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n    return \"\";\n  }\n\n  getAssetUrl(assetUrl) {\n    return assetUrl;\n  }\n\n  render() {\n    const {\n      className,\n      content,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      items = [],\n    } = content;\n\n    return (\n      <S.ElementTimeline1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont()}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.TimelineList>\n          {items.map((item) => (\n            <S.TimelineItem\n              key={item.id}\n              backgroundColor={background_color}\n              primaryColor={primary_color}\n            >\n              <S.TimelineDate\n                primaryColor={primary_color}\n              >\n                {item.date}\n              </S.TimelineDate>\n\n              <S.TimelineTitle\n                dangerouslySetInnerHTML={{__html: item.title}}\n              />\n\n              {item.audio && (\n                <S.TimelineAudio\n                  src={this.getAssetUrl(item.audio)}\n                  controls\n                />\n              )}\n\n              <S.TimelineDescription\n                dangerouslySetInnerHTML={{__html: item.description}}\n              />\n\n              {item.image && (\n                <S.TimelineImage\n                  src={this.getAssetUrl(item.image)}\n                />\n              )}\n            </S.TimelineItem>\n          ))}\n        </S.TimelineList>\n\n        {footerActionsTemplate}\n      </S.ElementTimeline1>\n    );\n  }\n}\n\nexport default ElementTimeline1;","import styled, {css} from \"styled-components\";\n\nexport const ElementSteps1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const CardList = styled.ul`\n  max-width: 1000px;\n  position: relative;\n  margin: auto;\n  display: inline-block;\n`;\n\nexport const NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  max-width: 1000px;\n  gap: 20px;\n`;\n\nconst Button = styled.button`\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ${props => props.fontColor || \"white\"};\n  background: ${props => props.backgroundColor || \"#00643e\"};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n\n  &:active, &:disabled {\n    animation: none;\n  }\n\n  &:hover {\n    filter: brightness(1.3);\n  }\n\n  &:disabled {\n    cursor: default;\n    opacity: 0;\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.backgroundColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const ChangeCardButton = styled(Button)`\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n`;\n\nexport const Card = styled.div`\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  transition: all 0.2s ease-in-out;\n  opacity: 0;\n  position: absolute;\n\n  ${props => props.position === \"right\" && css`\n    margin-left: 100%;\n    position: absolute;\n    top: 0;\n    pointer-events: none;\n  `}\n\n  ${props => props.position === \"left\" && css`\n    margin-left: -100%;\n    position: absolute;\n    pointer-events: none;\n  `}\n\n  ${props => props.position === \"center\" && css`\n    opacity: 1;\n    transition: all 0.2s ease-in-out;\n    transition-delay: 0.3s;\n    position: relative;\n    border-left: 5px solid ${props => props.primaryColor || \"#00643e\"};\n  `}\n`;\n\nexport const CardTitle = styled.p`\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n  text-align: ${props => props.align};\n`;\n\nexport const CardDescription = styled.p`\n  font-size: 1.2rem;\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const CardAudio = styled.audio`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const StartButton = styled(Button)`\n  width: 300px;\n  border-radius: 8px;\n  margin: 20px auto;\n`;\n\nexport const RetryButton = styled(Button)`\n  margin: 20px auto;\n  border-radius: 0;\n  height: auto;\n  width: auto;\n  background-color: transparent;\n  color: ${props => props.fontColor || \"#00643e\"};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 10px;\n`;\n\nexport const ProgressList = styled.ul`\n  margin: 50px auto 0 auto;\n  text-align: center;\n`;\n\nexport const ProgressItem = styled.li`\n  display: inline-block;\n  padding: 5px;\n  margin: 2px;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  \n  ${props => props.active && css`\n    border: 2px solid ${props => props.primaryColor || \"#00643e\"};\n    border-radius: 100%;\n    color: ${props => props.primaryColor || \"#00643e\"};\n  `}\n`;\n\n\nexport const StepBadge = styled.span`\n  position: absolute;\n  left: calc(50% - 50px);\n  top: -25px;\n  width: 100px;\n  height: 50px;\n  background-color: ${props => props.primaryColor || \"#00643e\"};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-size: 1.2rem;\n  color: #fff;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-steps-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementSteps1 extends Component {\n  itemRef = React.createRef();\n  state = {\n    itemsStringfy: JSON.stringify(this.props.content.items),\n    visibleCardIndex: 0,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // Redefine o estado para evitar exibir um item que deixou de existir ou est oculto\n    if (JSON.stringify(nextProps.content.items) !== prevState.itemsStringfy) {\n      return {\n        itemsStringfy: JSON.stringify(nextProps.content.items),\n        visibleCardIndex: 0,\n      };\n    }\n    return null;\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.itemRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"steps-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackItemView = () => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = []\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n    const filteredItems = items.filter(this.isVisibleItem);\n\n    const item = filteredItems[visibleCardIndex];\n\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"steps-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": item.id || null,\n        \"item_data\": item,\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const {contentLanguage} = this.props;\n\n    const labels = {\n      \"pt_br\": {\n        \"retry\": \"Tentar novamente\",\n        \"start\": \"Iniciar\",\n        \"step\": \"Passo\",\n      },\n      \"en\": {\n        \"retry\": \"Start again\",\n        \"start\": \"Start\",\n        \"step\": \"Step\",\n      }\n    };\n\n    return labels[contentLanguage || \"pt_br\"];\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  handlePrevCard = () => {\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex > 0) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex - 1,\n      }, () => {\n        this.trackItemView();\n      });\n    }\n  }\n\n  handleNextCard = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex < items.length - 1) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex + 1,\n      }, () => {\n        this.trackItemView();\n      });\n    }\n  }\n\n  handleResetCard = () => {\n    this.setState({\n      visibleCardIndex: 0,\n    }, () => {\n      this.trackItemView();\n    });\n  }\n\n  handleItemIndexChange = (index) => {\n    this.setState({\n      visibleCardIndex: index,\n    }, () => {\n      this.trackItemView();\n    });\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === \"ArrowLeft\") {\n      this.handlePrevCard();\n    } else if (e.key === \"ArrowRight\") {\n      this.handleNextCard();\n    }\n  }\n\n  getCurrentItemHeight = () => {\n    if (this.itemRef.current) {\n      return this.itemRef.current.offsetHeight;\n    }\n  }\n\n  isVisibleItem = (item) => {\n    return false === item.isHidden\n  }\n\n  getItemsLength = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const hasIntro = items.find(item => false === item.isHidden && \"intro\" === item.type);\n    let count = items.filter(this.isVisibleItem).length;\n\n    if (hasIntro) {\n      return count - 1;\n    }\n\n    return count;\n  }\n\n  getItemIndex = (i) => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const hasHiddenIntro = items.find(item => false === item.isHidden && \"intro\" === item.type);\n\n    if (hasHiddenIntro) {\n      return i + 1;\n    }\n    return i;\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      primary_color,\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    const filteredItems = items.filter(this.isVisibleItem);\n\n    return (\n      <S.ElementSteps1\n        ref={this.itemRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        onKeyDown={this.handleKeyDown}\n      >\n        {headerActionsTemplate}\n\n        <S.NavigationContainer>\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handlePrevCard}\n            backgroundColor={primary_color}\n            disabled={visibleCardIndex === 0}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"36\"\n              height=\"36\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"/>\n            </svg>\n          </S.ChangeCardButton>\n\n          <S.CardList\n            minHeight={this.getCurrentItemHeight() + 30}\n          >\n            {filteredItems.map((item, index) => (\n              <S.Card\n                key={item.id}\n                show={visibleCardIndex === index}\n                backgroundColor={background_color}\n                primaryColor={primary_color}\n                position={index === visibleCardIndex ? \"center\" : index < visibleCardIndex ? \"left\" : \"right\"}\n              >\n                {\n                  (\"intro\" !== item.type && \"summary\" !== item.type) && (\n                    <S.StepBadge\n                      primaryColor={primary_color}\n                    >\n                      {this.getLabels().step} {(items[0].type === \"intro\" && items[0].isHidden) ? index + 1 : index}\n                    </S.StepBadge>\n                  )\n                }\n\n                <S.CardTitle\n                  align={(\"intro\" === item.type  || \"summary\" === item.type) ? \"center\" : \"left\"}\n                  dangerouslySetInnerHTML={{__html: item.title}}\n                />\n\n                {item.image && (\n                  <S.CardImage\n                    src={this.getAssetUrl(item.image)}\n                  />\n                )}\n\n                {item.audio && (\n                  <S.CardAudio\n                    src={this.getAssetUrl(item.audio)}\n                    controls\n                  />\n                )}\n\n                <S.CardDescription\n                  dangerouslySetInnerHTML={{__html: item.description}}\n                />\n\n                {item.type === \"intro\" && (\n                  <S.StartButton\n                    tabIndex=\"1\"\n                    type=\"button\"\n                    onClick={this.handleNextCard}\n                    backgroundColor={primary_color}\n                  >\n                    {this.getLabels().start}\n                  </S.StartButton>\n                )}\n\n                {item.type === \"summary\" && (\n                  <S.RetryButton\n                    tabIndex=\"1\"\n                    type=\"button\"\n                    onClick={this.handleResetCard}\n                    fontColor={primary_color}\n                  >\n                    {this.getLabels().retry}\n                    <svg\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 768 768\"\n                    >\n                      <path fill=\"currentColor\" d=\"M625.504 469.344c-23.552 66.656-71.84 117.44-131.008 145.696s-128.992 33.952-195.648 10.4-117.44-71.84-145.696-131.008-33.952-128.992-10.4-195.648 71.84-117.44 131.008-145.696 128.992-33.952 195.648-10.4c38.016 13.44 70.688 34.816 95.584 60.224l90.368 85.088h-111.36c-17.664 0-32 14.336-32 32s14.336 32 32 32h191.904c0.128 0 0.288 0 0.416 0 4.384-0.032 8.544-0.96 12.352-2.624 3.808-1.632 7.328-4.032 10.368-7.2 0.384-0.384 0.736-0.8 1.088-1.216 2.432-2.784 4.288-5.888 5.6-9.184 1.312-3.264 2.080-6.816 2.208-10.496 0.064-0.448 0.064-0.896 0.064-1.344v-191.936c0-17.664-14.336-32-32-32s-32 14.336-32 32v117.92l-93.312-87.84c-31.776-32.384-72.768-59.072-119.936-75.712-83.328-29.472-170.752-22.336-244.608 12.96s-134.304 98.816-163.744 182.144-22.272 170.72 12.992 244.576 98.816 134.304 182.144 163.744 170.72 22.304 244.576-12.992 134.304-98.816 163.744-182.144c5.888-16.672-2.848-34.944-19.52-40.832s-34.944 2.848-40.832 19.52z\"></path>\n                    </svg>\n                  </S.RetryButton>\n                )}\n\n                {item.type !== \"intro\" && (\n                  <S.ProgressList>\n                    {\n                      Array.from({ length: this.getItemsLength() }, (_, i) => (\n                        <S.ProgressItem\n                          key={i}\n                          tabIndex=\"1\"\n                          role=\"button\"\n                          onClick={() => this.handleItemIndexChange(this.getItemIndex(i))}\n                          active={visibleCardIndex === this.getItemIndex(i)}\n                          primaryColor={primary_color}\n                        >\n                          {items[i+1].type === \"summary\" ? (\n                            <svg\n                              xmlns=\"http://www.w3.org/2000/svg\"\n                              viewBox=\"0 0 24 24\"\n                              width=\"16\"\n                              height=\"16\"\n                            >\n                              <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" />\n                            </svg>\n                          ) : i + 1}\n                        </S.ProgressItem>\n                      ))\n                    }\n                  </S.ProgressList>\n                )}\n              </S.Card>\n            ))}\n          </S.CardList>\n\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handleNextCard}\n            backgroundColor={primary_color}\n            disabled={visibleCardIndex === filteredItems.length - 1}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"36\"\n              height=\"36\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"/>\n            </svg>\n          </S.ChangeCardButton>\n        </S.NavigationContainer>\n\n        {footerActionsTemplate}\n      </S.ElementSteps1>\n    )\n  }\n}\n\nexport default ElementSteps1;\n","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\nimport * as S from \"./element-quiz-3.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport userCanRemakeQuiz from \"../../utils/userCanRemakeQuiz\";\n\nexport default class ElementQuiz3 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    protocol: null,\n    custom_options: window.cstmptns,\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n    }\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    activeChoices[question.id] = answer.text;\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  //region Trackers\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-fill-the-blank\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-fill-the-blank\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick = (choice) => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-mixed-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: choice,\n        },\n      },\n    };\n\n    if (currentQuestion.type === \"quiz-1\" || currentQuestion.type === \"quiz-2\") {\n      obj.metadata.question.answer = {\n        id: choice.id,\n        title: StringFormat.HtmlToText(choice.text),\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick = (questionId, questions) => {\n    var content = this.props.content;\n    const {activeChoices, currentQuestionIndex} = this.state;\n\n    let question = questions[currentQuestionIndex] || null;\n    let questionIndex = currentQuestionIndex || -1;\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = null;\n      let answer;\n\n      selectedChoice = question.choices.find((choice) => this.sameTextChoice(choice, question));\n      correctAnswer = questionIsCorrect(question, activeChoices);\n\n\n      if (selectedChoice) {\n        answer = {\n          id: selectedChoice.id,\n          title: selectedChoice.text,\n        };\n      }\n\n\n      const obj = {\n        action: \"click\",\n        element: \"quiz-fill-the-blank-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions: questions.length,\n          current_question: questionIndex,\n          question: {\n            id: question.id,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n            answers: question.choices ? question.choices : null\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionFeedback(correctAnswer, answer, question);\n    }\n  }\n\n  trackQuestionFeedback = (correctAnswer, answer, question) => {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-fill-the-blank-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            position: this.state.currentQuestionIndex + 1,\n            title: question.question,\n            answer,\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation = (direction) => {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-fill-the-blank-question-navigation-next\"\n        : \"quiz-fill-the-blank-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.currentQuestionIndex - 1\n        : this.state.currentQuestionIndex + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.currentQuestionIndex];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionIndex - 1\n              : this.state.currentQuestionIndex + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-fill-the-blankfeedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz = () => {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-fill-the-blank-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n  //endregion Trackers\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {activeChoices} = this.state;\n\n    this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n\n    this.trackAnswerClick(choice);\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds, content: {\n      questions\n    }} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    }, () => {\n      this.trackAnswerConfirmClick(questionId, questions)\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"prev\");\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"next\");\n    });\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      editable,\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n      attempsMade,\n    } = this.state;\n    const {\n      questions,\n      primary_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          canRemake={userCanRemakeQuiz(content, attempsMade)}\n          onClickRemake={this.handleRemakeQuiz}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n      question.type = \"quiz-3\";\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            editable={editable}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n          />\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  sameTextChoice = (choice, question) => {\n    const {\n      activeChoices,\n    } = this.state;\n\n    return String(choice.text).toLowerCase() === String(activeChoices[question.id]).toLowerCase()\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = question.choices.find(c => this.sameTextChoice(c, question));\n\n    if (object_data === undefined) {\n      object_data = {\n        text: activeChoices[question.id] || \"\",\n        id: null,\n      }\n    }\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  showResult = () => {\n    const {\n      content,\n      activeChoices,\n      answeredQuestionsIds,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n\n    questions\n      .forEach(question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizFinishView(resume);\n    })\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n  }\n\n  handleRemakeQuiz = () => {\n    this.resetState();\n    this.trackRemakeQuiz();\n    this.sortQuestions(true);\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementAttachment1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const AttachmentList = styled.ul`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nexport const AttachmentItem = styled.li`\n  max-width: 600px;\n  width: 100%;\n  height: 120px;\n`;\n\nexport const Attachment = styled.a`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  cursor: pointer;\n  text-decoration: none;\n  color: black;\n  \n  &:hover, &:focus {\n    text-decoration: underline;\n    color: ${props => props.primaryColor || \"#00643e\"};\n    border: 1px solid ${props => props.primaryColor || \"#00643e\"};\n  }\n  \n  &:visited {\n    color: initial;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const Information = styled.div`\n  display: block;\n  color: inherit;\n`;\n\nexport const FileName = styled.p`\n  margin: 5px;\n  font-weight: bold;\n  max-width: 300px;\n  color: inherit;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  line-clamp: 2;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 20px;\n`;\n\nexport const FileSize = styled.p`\n  margin: 5px;\n  font-size: 0.8rem;\n  text-transform: uppercase;\n  color: inherit;\n`;\n\nexport const AttachmentIcon = styled.svg`\n  color: inherit;\n`;\n\nexport const FileIcon = styled.svg`\n  color: inherit;\n  max-height: 48px;\n  width: auto;\n  \n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n`;\n\nexport const LeftContainer = styled.div`\n  flex: 4;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  gap: 10px;\n  color: inherit;\n`;\n\nexport const RightContainer = styled.div`\n  flex: 1;\n  text-align: end;\n  color: inherit;\n`;\n\n\n","import React, { Component } from 'react';\nimport * as S from \"./element-attachment-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementAttachment1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": content.type,\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  getBytes = (bytes) => {\n    if (bytes < 1024) return bytes + \" B\";\n    if (bytes < 1048576) return (bytes / 1024).toFixed(1) + \" KB\";\n    if (bytes < 1073741824) return (bytes / 1048576).toFixed(1) + \" MB\";\n    if (bytes < 1099511627776) return (bytes / 1073741824).toFixed(1) + \" GB\";\n    return (bytes / 1099511627776).toFixed(1) + \" TB\";\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n\n    return (\n      <S.ElementAttachment1\n        ref={this.elementRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.AttachmentList>\n          {items.map((item) => (\n            <S.AttachmentItem key={item.id}>\n              <S.Attachment\n                tabIndex=\"1\"\n                href={this.getAssetUrl(item.original_url)}\n                target=\"_blank\"\n                primaryColor={primary_color}\n              >\n                <S.LeftContainer>\n                  <S.FileIcon\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path fill=\"currentColor\" d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\" />\n                  </S.FileIcon>\n\n                  <S.Information>\n                    <S.FileName>\n                      {item.filename}\n                    </S.FileName>\n\n                    <S.FileSize>\n                      {this.getBytes(item.size)}\n                    </S.FileSize>\n                  </S.Information>\n                </S.LeftContainer>\n\n                <S.RightContainer>\n                  <S.AttachmentIcon\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"32\"\n                    height=\"32\"\n                  >\n                    <path fill=\"currentColor\" d=\"M17,13L12,18L7,13H10V9H14V13M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z\" />\n                  </S.AttachmentIcon>\n                </S.RightContainer>\n              </S.Attachment>\n            </S.AttachmentItem>\n          ))}\n        </S.AttachmentList>\n\n        {footerActionsTemplate}\n      </S.ElementAttachment1>\n    )\n  }\n}\n\nexport default ElementAttachment1;\n","import styled from \"styled-components\";\n\nexport const Root = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Carousel = styled.div`\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Slides = styled.ul`\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n`;\n\nexport const Slide = styled.li`\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Item = styled.div`\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  text-align: center;\n  margin: 30px auto;\n`;\n\nexport const ImageContainer = styled.div`\n  width: 100%;\n  height: 500px;\n  overflow: hidden;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    height: auto;\n    box-shadow: none\n  }\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  height: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n`;\n\nexport const AuthorInfo = styled.div`\n  display: block;\n  margin-top: 10px;\n`;\n\nexport const AuthorName = styled.div`\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nexport const TextContainer = styled.div`\n  position: relative;\n  \n  .element-quote-6-text {\n    color: #fff;\n    margin-top: 30px;\n    width: 100%;\n    display: block;\n\n    @media (max-width: 600px) {\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n\n    .ql-editor {\n      padding: 0;\n      line-height: inherit;\n      overflow: hidden;\n    }\n\n    .ql-editor p:before,\n    .ql-editor p:after {\n      content: '\"';\n      color: #313537;\n      font-size: 16px;\n    }\n\n    .ql-editor * {\n      line-height: 150%;\n    }\n  }\n`;\n\nexport const Controls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n`;\n\nexport const ControlsLeft = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  \n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n`;\n\nexport const ControlsLeftArrow = styled.svg``;\n\nexport const Pages = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n`;\n\nexport const Page = styled.div`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ${props => props.primaryColor || \"#2d7b45\"};\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n`;\n\nexport const ControlsRight = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n`;\n\nexport const ControlsRightArrow = styled.svg``;","import React, { Component } from 'react';\nimport * as S from './element-gallery-1.styled';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementGallery1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    avatar_size: \"width\",\n    visibleSlideIndex: 0,\n    visible: false,\n  }\n\n  componentDidMount() {\n    const { items } = this.props.content;\n    if (items.length > 0) {\n      this.setActivePageMarker(items[0].id);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"gallery-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"url\": content.image,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackElementClick = (itemId) => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"gallery-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  renderImage = (avatar) => {\n    if (avatar !== null) {\n      return (\n        <S.ImageContainer\n          className=\"element-gallery-1-image-container\"\n        >\n          <S.Image\n            className=\"element-gallery-1-image\"\n            src={this.getAssetUrl(avatar)}\n            alt=\"\"\n          />\n        </S.ImageContainer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  handlePageChange = (page) => (event) => {\n    const { content } = this.props;\n    const { items } = content;\n\n    event.preventDefault();\n    const slideElement = document.getElementById(page);\n\n    let visibleSlideId = page.split(\"slide-\")[1];\n    let visibleItem = items.find(item => item.id === visibleSlideId);\n    let visibleSlideIndex = items.indexOf(visibleItem);\n    this.setState({visibleSlideIndex}, () => {\n      slideElement.scrollIntoView();\n      slideElement.focus();\n    });\n  }\n\n  handlePrevClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex > 0) {\n      const prevIndex = visibleSlideIndex - 1;\n      let prevItem = this.props.content.items[prevIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: prevIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  handleNextClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex < this.props.content.items.length - 1) {\n      const nextIndex = visibleSlideIndex + 1;\n      let prevItem = this.props.content.items[nextIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: nextIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  isInViewport = (event, target) => {\n    const element = target || event.target;\n    const rect = element.getBoundingClientRect();\n    const isVisivle = rect.top >= 0 && rect.bottom <= window.innerHeight;\n\n    if (isVisivle) {\n     this.setActivePageMarker(element.id.split(\"slide-\")[1]);\n     this.trackElementClick(element.id.split(\"slide-\")[1]);\n    }\n\n    return isVisivle;\n  }\n\n  setActivePageMarker = (slideId) => {\n    const pageMarker = document.getElementById(this.getSlidePageId(slideId));\n    if (pageMarker) {\n      this.resetActivePageMarkers();\n      pageMarker.classList.add(\"active\");\n    }\n  }\n\n  resetActivePageMarkers = () => {\n    const { items } = this.props.content;\n\n    items.forEach(item => {\n      const pageMarker = document.getElementById(this.getSlidePageId(item.id));\n      if (pageMarker) {\n        pageMarker.classList.remove(\"active\")\n      }\n    });\n  }\n\n  getSlideId = id => `slide-${id}`;\n\n  getSlidePageId = id => `page-${id}`;\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.Root\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Carousel\n          className=\"element-gallery-1-carrousel\"\n        >\n          <S.Slides\n            className=\"element-gallery-1-slides\"\n          >\n            {\n              items.map((item) =>\n                (\n                 <S.Slide\n                   className=\"element-gallery-1-slide\"\n                   key={item.id}\n                   tabIndex=\"1\"\n                   id={this.getSlideId(item.id)}\n                   onFocus={this.isInViewport}\n                 >\n                   <S.Item\n                     style={{borderColor: primary_color}}\n                   >\n                     {this.renderImage(item.image)}\n                   </S.Item>\n                 </S.Slide>\n                )\n              )}\n          </S.Slides>\n        </S.Carousel>\n\n        <S.Controls\n          className=\"element-gallery-1-controls\"\n        >\n          <S.ControlsLeft\n            onClick={this.handlePrevClick}\n            className=\"element-gallery-1-controls-left\"\n          >\n            <S.ControlsLeftArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </S.ControlsLeftArrow>\n          </S.ControlsLeft>\n\n          <S.Pages role=\"list\">\n            {\n              items.map((item, index) =>\n                (\n                  <S.Page\n                    id={this.getSlidePageId(item.id)}\n                    key={item.id}\n                    role=\"listitem\"\n                    onClick={this.handlePageChange(this.getSlideId(item.id))}\n                    primaryColor={primary_color}\n                  >\n                    {index+1}\n                  </S.Page>\n                )\n              )}\n          </S.Pages>\n\n          <S.ControlsRight\n            onClick={this.handleNextClick}\n            className=\"element-gallery-1-controls-right\"\n          >\n            <S.ControlsRightArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </S.ControlsRightArrow>\n          </S.ControlsRight>\n        </S.Controls>\n\n        {footerActionsTemplate}\n      </S.Root>\n    );\n  }\n}\n\nexport default ElementGallery1;\n","import styled from \"styled-components\";\n\nexport const ElementButton1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const ButtonList = styled.ul`\n  flex: 3;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 650px;\n  height: auto;\n`;\n\nexport const ButtonItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0;\n  \n  @media screen and (max-width: 649px) {\n    justify-content: center;\n    padding: 0 10px;\n  }\n`;\n\nexport const ButtonLink = styled.a`\n  flex: 2;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: ${props => props.primaryColor || \"#00643e\"};\n  color: white;\n  transition: all 0.3s ease-out;\n  margin: 0 auto;\n  border: 0;\n  padding: 8px 30px;\n  font-weight: bold;\n  border-radius: 30px;\n  min-width: 200px;\n  max-width: 500px;\n  min-height: 50px;\n  font-size: 1em;\n  pointer-events: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  \n  &:hover {\n    filter: brightness(1.1);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n  \n  &:active {\n    background-color: ${props => props.primaryColor || \"#00643e\"};\n    filter: brightness(1.2);\n  }\n`;\n\nexport const ButtonLabel = styled.label`\n  max-width: 400px;\n`;\n\n","import React, {Component} from 'react';\nimport * as S from \"./element-button-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementButton1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    visible: false,\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: content.type,\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  getFont = (font) => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  getDestinationUrl = (item) => {\n    switch (item.type) {\n      case \"link\":\n        return item.destination;\n      case \"email\":\n        return `mailto:${item.destination}`;\n      default:\n        return item.destination;\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.ElementButton1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.ButtonList>\n          {items.map(item => (\n            <S.ButtonItem\n              className=\"element-button-1__button-item\"\n              key={item.id}\n            >\n              <S.ButtonLabel\n                htmlFor={item.id}\n                dangerouslySetInnerHTML={{__html: item.description}}\n              />\n\n              <S.ButtonLink\n                className=\"element-button-1__button\"\n                id={item.id}\n                tabIndex=\"1\"\n                href={this.getDestinationUrl(item)}\n                target=\"_blank\"\n                primaryColor={primary_color}\n              >\n                {item.label}\n              </S.ButtonLink>\n            </S.ButtonItem>\n          ))}\n        </S.ButtonList>\n\n        {footerActionsTemplate}\n      </S.ElementButton1>\n    );\n  }\n}\n\nexport default ElementButton1;","import styled from 'styled-components';\n\n\nexport const ElementCodeSnippet1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  \n  :root {\n    --primary-color: ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;\n\n\nexport const SnippetList = styled.ul`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const SnippetItem = styled.li`\n  max-width: 800px;\n  min-width: 600px;\n  position: relative;\n`;\n\nexport const Figure = styled.figure`\n  min-height: 300px;\n  border-radius: 8px;\n  background-color: whitesmoke;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n`;\n\nexport const Pre = styled.pre``;\n\nexport const FigCaption = styled.figcaption`\n  margin-top: 10px;\n  width: 100%;\n  border-bottom: 1px solid #e6e6e6;\n  padding-bottom: 5px;\n`;\n\nexport const CopyButton = styled.button`\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n  \n  &:hover {\n    img {\n      filter: brightness(0.8);\n    }\n  }\n`;\n\nexport const CopyButtonIcon = styled.img``;\n","import React, {Component} from 'react';\nimport * as S from './element-code-snippet-1.styled';\nimport copyIcon from './copy.svg';\nimport checkCircleIcon from './check-circle.svg';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementCodeSnippet1 extends Component {\n  codeRef = React.createRef();\n  elementRef = React.createRef();\n  state = {\n    copied: false,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"code-snippet-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"items\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getCaptionAriaProps = (item) => {\n    const {\n      id,\n    } = item;\n\n    return {\n      'aria-labelledby': `caption-${id}`,\n      'aria-describedby': `caption-${id}`,\n    }\n  }\n\n  getLabels = (label) => {\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n    const labels = {\n      \"pt_br\": {\n        \"copy\": 'Copiar',\n      },\n      \"en\": {\n        \"copy\": 'Copy',\n      }\n    }\n\n    const localizedLabels = labels[contentLanguage.toLowerCase()] || {};\n\n    return localizedLabels[label] || label;\n  }\n\n  handleCopyItemCodeText = async (evt) => {\n    evt.preventDefault();\n\n    if (navigator && navigator.clipboard) {\n      try {\n        await navigator.clipboard.writeText(this.codeRef.current.innerText);\n        this.setState({\n          copied: true,\n        });\n      } catch (err) {\n        console.error('Failed to copy text: ', err);\n      }\n    }\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  render() {\n    const {\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n    const {\n      copied,\n    } = this.state;\n\n    return (\n      <S.ElementCodeSnippet1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        primaryColor={primary_color}\n      >\n        <S.SnippetList>\n          {items.map(item => (\n            <S.SnippetItem\n              key={item.id}\n              className=\"element-snippet-1__snippet-item\"\n            >\n              <S.CopyButton\n                tabIndex=\"1\"\n                type=\"button\"\n                onClick={this.handleCopyItemCodeText}\n                title={this.getLabels('copy')}\n              >\n                <S.CopyButtonIcon\n                  src={copied ? checkCircleIcon : copyIcon}\n                  width=\"24\"\n                  height=\"24\"\n                />\n              </S.CopyButton>\n\n              <S.Figure\n                id={`figure-${item.id}`}\n                {...this.getCaptionAriaProps(item)}\n              >\n                <S.Pre\n                  ref={this.codeRef}\n                  dangerouslySetInnerHTML={{__html: item.code}}\n                />\n              </S.Figure>\n              {\n                item.caption.length > 0 && (\n                  <S.FigCaption\n                    id={`caption-${item.id}`}\n                    dangerouslySetInnerHTML={{__html: item.caption}}\n                  />\n                )\n              }\n            </S.SnippetItem>\n          ))}\n        </S.SnippetList>\n      </S.ElementCodeSnippet1>\n    );\n  }\n}\n\nexport default ElementCodeSnippet1;","import React, { Component } from 'react';\nimport Helmet from 'react-helmet';\nimport './element-3d.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class Element3d extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"3d\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var audioStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div ref={this.elementRef} className={this.props.className} style={audioStyle}>\n      <Helmet>\n        <script type=\"module\" src=\"https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js\"></script>\n      </Helmet>\n      {headerActionsTemplate}\n      <model-viewer class=\"element-3d-area\" src={content.file} shadow-intensity=\"1\" ar ar-modes=\"webxr scene-viewer quick-look\" camera-controls touch-action=\"pan-y\" alt=\"A 3D model carousel\">\n        <button slot=\"ar-button\" id=\"ar-button\">\n          Visualizar no ambiente\n        </button>\n      </model-viewer>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  overflow-x: hidden;\n  \n  &:hover {\n    div.interaction-monitor-status-container {\n      opacity: 1;\n      pointer-events: auto;\n    }\n  }\n`;\n\nexport const IconsList = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.44);\n  color: rgba(0, 0, 0, 0.66);\n  z-index: 9999;\n  opacity: 0.8;\n  pointer-events: none;\n  transition: all 0.3s ease-in-out;\n  border-radius: 25%;\n  cursor: pointer;\n`;\n\n\nexport const InteractionStatusContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 3px;\n`;\n\nexport const InteractionCounter = styled.span`\n`;","import React, {createRef} from \"react\";\nimport * as S from \"./interaction-monitor-wrapper.styled\";\nimport useOnScreen from \"../../hooks/use-on-screen\";\n\nexport default function InteractionMonitorObjectWrapper(props) {\n  const {\n    children,\n    content,\n    objectInteractionMonitor,\n  } = props;\n  const ref = createRef();\n  const isOnScreen = useOnScreen(ref);\n  const [isRequiredInteraction, setIsRequiredInteraction] = React.useState(false);\n  const [completed, setCompleted] = React.useState(false);\n  const [interaction, setInteraction] = React.useState(null);\n\n  React.useEffect(() => {\n    elementView();\n  }, [isOnScreen]);\n\n  React.useEffect(() => {\n    if (!isRequiredInteraction && content && \"required_interaction\" in content && content.required_interaction) {\n      setIsRequiredInteraction(true);\n    }\n  }, [content]);\n\n  React.useEffect(() => {\n    if (isRequiredInteraction && objectInteractionMonitor) {\n      objectInteractionMonitor.completedObjects.find(object => object.id === content.id) !== undefined && setCompleted(true);\n      let int = objectInteractionMonitor.interactionActionsCount.find(int => int.element_id === content.id);\n      if (int && interaction && int.interactions > interaction.interactions) {\n        setInteraction(int);\n      } else if (int && interaction === null) {\n        setInteraction(int);\n      }\n    }\n  }, [isRequiredInteraction, objectInteractionMonitor.completedObjects, objectInteractionMonitor.interactionActionsCount]);\n\n  const elementView = () => {\n    if (isOnScreen) {\n      const obj = {\n        \"action\": \"view\",\n        \"element\": content.type,\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n        }\n      };\n      if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n        obj.assets = content.dam_assets;\n      }\n      objectInteractionMonitor.onObjectInteractionEvent(obj);\n    }\n  }\n\n  const renderProgressAlert = () => {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M13,2V4C17.39,4.54 20.5,8.53 19.96,12.92C19.5,16.56 16.64,19.43 13,19.88V21.88C18.5,21.28 22.45,16.34 21.85,10.85C21.33,6.19 17.66,2.5 13,2M11,2C9.04,2.18 7.19,2.95 5.67,4.2L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.24,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.06,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37H7.06M13,13V7H11V13H13M13,17V15H11V17H13Z\" />\n      </svg>\n    )\n  }\n\n  const renderProgressCheck = () => {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M15.5,8.5L10.62,13.38L8.5,11.26L7.44,12.32L10.62,15.5L16.56,9.56L15.5,8.5M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37Z\" />\n      </svg>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <S.Container ref={ref}>\n        {(content && \"show_interaction_progress\" in content && content.show_interaction_progress) && (\n          <S.IconsList className=\"interaction-monitor-status-container\" title=\"progress\">\n            {isRequiredInteraction && (\n              <React.Fragment>\n                {completed ? (\n                  <>\n                    {renderProgressCheck()}\n                  </>\n                ) : (\n                  <>\n                    <S.InteractionStatusContainer>\n                      {(interaction !== null && !interaction.finished && interaction.interactions) ? (\n                        <S.InteractionCounter>\n                          {interaction.interactions}/{interaction.total}\n                        </S.InteractionCounter>\n                      ) : null}\n\n                      {renderProgressAlert()}\n                    </S.InteractionStatusContainer>\n                  </>\n                )}\n              </React.Fragment>\n            )}\n          </S.IconsList>\n        )}\n        {children}\n      </S.Container>\n    </React.Fragment>\n  );\n}","export default function (func, delay) {\n  let prev = 0;\n  return (...args) => {\n    let now = new Date().getTime();\n\n    if(now - prev> delay){\n      prev = now;\n\n      return func(...args);\n    }\n  }\n}","import React from 'react';\nimport API from \"../services\";\n\nexport default function withObjectInteractionMonitor(WrappedComponent) {\n  return function HOC(props) {\n    const [requiredObjects, setRequiredObjects] = React.useState([]);\n    const [events, setEvents] = React.useState([]);\n    const [completedObjects, setCompletedObjects] = React.useState([]);\n    const [completed, setCompleted] = React.useState(false);\n    const [interactionActionsCount, setInteractionActionsCount] = React.useState([]);\n\n    React.useEffect(() => {\n      checkIfHasCompletedAllObjects();\n    }, [completedObjects, requiredObjects, completed]);\n\n    const onObjectInteractionEvent = (event) => {\n      let newEvents = [...events, event];\n      setEvents(newEvents);\n      checkIfHasCompletedObject(event, newEvents);\n    }\n\n    const checkIfHasCompletedObject = (event, events) => {\n      const { metadata, action } = event;\n      const { element_id } = metadata;\n\n      const object = requiredObjects.find(object => object.id === element_id);\n\n      const completedObject = completedObjects.find(object => object.id === element_id);\n\n      if (object && completedObject) {\n        return;\n      }\n\n      let interactions = 0;\n\n      if (object) {\n        switch (object.type) {\n          case \"flashcards-1\":\n          case \"flashcards-2\":\n          case \"steps-1\":\n          case \"accordion\":\n          case \"quote-6\":\n          case \"list-2\":\n          case \"tabs\":\n          case \"gallery-1\":\n            {\n              let viewed = events.filter(event => event.metadata.element_id === element_id && event.action === \"view\");\n              let clicked = events.filter(event => event.metadata.element_id === element_id && event.action === \"click\");\n              let itensClicked = object.items.filter(item => clicked.find(event => event.metadata.item_id === item.id)) || [];\n              let total = object.items.length;\n\n              if (object.type === \"tabs\" || object.type === \"quote-6\" || object.type === \"gallery-1\" || object.type === \"steps-1\") {\n                itensClicked.push(object.items[0])// add first tab as clicked\n                total = total - 1;\n                interactions -= 1;\n              }\n\n              let clickedAllCards = object.items.filter(item => clicked.find(event => event.metadata.item_id === item.id) !== undefined).length === total;\n\n              if (itensClicked.length > 0) {\n                interactions += itensClicked.length;\n              }\n\n              let interaction = {\n                element_id,\n                interactions,\n                total\n              };\n\n              if (viewed && clickedAllCards) {\n                addCompletedObject(object);\n                interaction.finished = true;\n              }\n\n              setInteractionActionsCount([...interactionActionsCount.filter(i => i.element_id !== element_id), interaction]);\n            }\n            break;\n          case \"sorted-activity-1\":\n          case \"audio-1\":\n          case \"video-1\":\n            let ended = events.filter(event => event.metadata.element_id === element_id && event.action === \"click\" && event.verb === \"ended\");\n\n            if (ended.length > 0) {\n              addCompletedObject(object);\n            }\n            break;\n          case \"quiz-1\":\n          case \"quiz-2\":\n          case \"quiz-3\":\n          case \"quiz-4\":\n          case \"quiz-5\":\n          case \"quiz-6\":\n          case \"quiz-only-choice-result\":\n            {\n              let quizResultTypes = [\n                \"quiz-only-choice-result\",\n                \"quiz-multiple-choice-result\",\n                \"quiz-fill-the-blankfeedback\",\n                \"quiz-match-feedback\",\n                \"quiz-essay-result\",\n                \"quiz-mixed-result\"\n              ];\n              let finished = events.filter(event => event.metadata.element_id === element_id && event.action === \"view\" && quizResultTypes.includes(event.element));\n\n              if (finished.length > 0) {\n                addCompletedObject(object);\n              }\n            }\n            break;\n          default:\n            if (action === \"view\") {\n              addCompletedObject(object);\n            }\n            break;\n        }\n      }\n    }\n\n    const sendMessageToPlayer = (action, message) => {\n      try {\n        const { activity_uid } = window.cstmptns;\n        if (window.parent) window.parent.postMessage({\n          type:\"app_player\",\n          action: action,\n          value: message,\n          activity_uid,\n        }, \"*\");\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    const addCompletedObject = async (object) => {\n      setCompletedObjects([...completedObjects.filter(obj => obj.id !== object.id), object]);\n\n      try {\n        const { interaction_uid, activity_uid } = window.cstmptns;\n\n        if (interaction_uid) {\n          const objectEvents = events.filter(event => event.metadata.element_id === object.id);\n          const interactions = interactionActionsCount.find(i => i.element_id === object.id);\n          API.cms.learning.interaction\n            .uid(interaction_uid)\n            .createObject({\n              context_uid: activity_uid,\n              type: object.type,\n              target_uid: object.id,\n              object_data: {\n                events: objectEvents,\n                interactions,\n                completed: true\n              },\n              score: \"100\",\n            }, window.cstmptns);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    const checkIfHasCompletedAllObjects = () => {\n      if (!completed && requiredObjects.length > 0 && requiredObjects.length === completedObjects.length) {\n        setCompleted(true);\n        sendMessageToPlayer(\"interaction.progress\", {\n          required_objects: requiredObjects.length,\n          completed_objects: completedObjects.length,\n          completed: true\n        })\n      } else {\n        sendMessageToPlayer(\"interaction.progress\", {\n          required_objects: requiredObjects.length,\n          completed_objects: completedObjects.length,\n          completed: false\n        })\n      }\n    }\n\n    return (\n      <React.Fragment>\n        <WrappedComponent\n          {...props}\n          _objectInteractionMonitor={{\n            onObjectInteractionEvent,\n            setRequiredObjects,\n            requiredObjects,\n            completed,\n            completedObjects,\n            setCompletedObjects,\n            interactionActionsCount,\n            setCompleted\n          }}\n        />\n      </React.Fragment>\n    );\n  };\n}","import React, {Component} from \"react\";\nimport LazyLoad from 'react-lazyload';\nimport \"./home.css\";\n//region: No remover as imagens abaixo, pois algumas composies usam path relativo para estes arquivos no build\nimport \"./image-1.jpg\";\nimport \"./image-2.jpg\";\nimport \"./image-3.jpg\";\nimport \"./image-4.jpg\";\nimport \"./image-5.jpg\";\nimport \"./image-6.jpg\";\n//endregion\n\nimport {\n  ElementAccordion,\n  ElementAudio,\n  ElementFlashcards1,\n  ElementForum1,\n  ElementHead1,\n  ElementIframe,\n  ElementImage,\n  ElementImagesGallery,\n  ElementImageAndText,\n  ElementImageWithText,\n  ElementQuiz1,\n  ElementQuiz2,\n  ElementQuiz5,\n  ElementQuiz6,\n  ElementTabs,\n  ElementText,\n  ElementTextTwoColumn,\n  ElementList,\n  ElementVideo,\n  ElementDivider1,\n  ElementDividerNumbered,\n  UserLog,\n  ElementHotspots1,\n  ElementStatement1,\n  ElementStatement2,\n  ElementStatement3,\n  ElementStatement4,\n  ElementNote1,\n  ElementQuote1,\n  ElementQuote2,\n  ElementQuote3,\n  ElementQuote4,\n  ElementQuote5,\n  ElementSortedActivity1,\n  ElementTimeline1,\n  ElementSteps1,\n  ElementQuiz3,\n  ElementQuote6,\n  ElementAttachment1,\n  ElementGallery1,\n  ElementQuiz4,\n  ElementButton1,\n  ElementCodeSnippet1,\n  ElementDivider4,\n  ElementFlashcards2,\n  Element3d\n} from \"../../components\";\n\nimport lzw from \"lzwcompress\";\nimport Sdk from \"api.digitalpages.module.sdk.api\";\nimport withObjectInteractionMonitor from \"../../hocs/with-object-interaction-monitor\";\nimport InteractionMonitorObjectWrapper from \"../../fragments/interaction-monitor-wrapper/interaction-monitor-wrapper\";\nimport throttle from \"../../utils/throttle\";\nimport API from \"../../services\";\n\nconst ConditionalLazyLoad = (props) => {\n  const {children, elementId, scrollToId, ...rest} = props;\n\n  if (elementId === scrollToId) {\n    return children;\n  }\n\n  return (\n    <LazyLoad {...rest}>\n      {children}\n    </LazyLoad>\n  )\n}\n\nclass ViewHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.observer = null;\n\n    this.state = {\n      renderCompleted : false,\n      protocol: null,\n      events: [],\n      contentReady: false,\n      composition: null,\n      scormAPI: null,\n      scrollPage: null,\n      progressPage: 0,\n      timer: 0,\n      scrollToEnd: false,\n      prerequisites: null,\n      lessionStatus : null,\n      scoreQuizzes: [],\n      suspendData: { elements: {} },\n      score : undefined,\n      \"summary_items\": null,\n      \"summary_items_current\": null,\n      \"summary_items_render\": false,\n      \"show_summary\": null,\n      \"finish_btn\": null,\n      \"can_track_object\": false,\n      \"need_scroll_to_element_id\": null,\n    };\n\n    Sdk.insights.createXapiTracking({\n      endpoint : \"-\",\n      auth : \"-\"\n    });\n  }\n\n  componentDidMount() {\n    if (window.document) {\n      this.handleRedirectObject();\n\n      var anchorTags = window.document.getElementsByTagName(\"a\");\n\n      for (let index = 0; index < anchorTags.length; index++) {\n        const element = anchorTags[index];\n\n        element.addEventListener(\"click\", () => {\n          var url = element.href;\n          if (url) {\n            if (window.cordova) {\n              window.CordovaExec(function () {}, \"ShelfPlugin\", \"OpenUrl\", [\n                url,\n              ]);\n            } else {\n              window.open(url, \"_blank\");\n            }\n          }\n        });\n        element.href = \"#\";\n      }\n    }\n\n    this.setState({\n      timerStart: Date.now(),\n    });\n\n    this.handleScroll();\n  }\n\n  async componentWillMount() {\n    if(typeof String.prototype.replaceAll === \"undefined\") {\n      String.prototype.replaceAll = function(match, replace) {\n        return this.replace(new RegExp(match, 'g'), () => replace);\n      }\n    }\n\n    this.initListeners();\n\n    //estrutura adicionada localmente (arquivo exportado)\n    if (window.structure) {\n      this.loadStructure(window.structure, null);\n      return;\n    }\n\n    if (window.location.search.indexOf(\"?custom_options=\") == -1) return;\n\n    const context = await (await fetch(\"./api_context.json\")).json();\n    const components = window.location.search.split(\"?\")[1].split(\"&\");\n    let input = null;\n\n    for (const index in components) {\n      const element = components[index];\n      var values = element.split(\"=\");\n      if (values[0] == \"custom_options\") {\n        input = values[1];\n        break;\n      }\n    }\n\n    const data = JSON.parse(atob(input));\n    window.cstmptns = data;\n\n    if (data.content_uid) {\n      var url = `https://${context.domain}/storage/v1.0/content?uid=${data.content_uid}&api_env=${context.api_env}&access_token=${data.access_token}&project_key=${context.project_key}`;\n      var response = await fetch(url);\n      var json = await response.json();\n\n      this.loadStructure(json, context, data);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      progressPage,\n      scrollPage,\n      lessionStatus,\n      timerStart,\n      sessionTimer,\n      scrollToEnd,\n      suspendData,\n      prerequisites,\n      quizUpdated,\n      summary_items,\n      finish_btn,\n      summary_items_current\n    } = this.state;\n\n    if (prevState.renderCompleted != this.state.renderCompleted) this.handleScroll();\n    if (progressPage > 1 && lessionStatus == \"not attempted\") this.setState({lessionStatus : \"incomplete\"});\n    if (prevState.summary_items_current != summary_items_current) this.notifySummaryUpdated();\n\n    if (prevState.suspendData != this.state.suspendData) this.notifySuspendDataUpdated();\n    if (prevState.sessionTimer != this.state.sessionTimer) this.notiftSessionUpdated();\n    if (prevState.progressPage != this.state.progressPage) this.notiftLocationUpdated();\n    if (prevState.lessionStatus != this.state.lessionStatus) \n    {\n      this.notifyStatusUpdated();\n      this.notifyCommit();\n    }\n\n    if (prevState.contentReady != this.state.contentReady) this.notifyProtocol();\n\n\n    if ((summary_items !== null && summary_items.length > 0)) {\n      if (this.nextIndex() !== null) return;\n    } else {\n      if (progressPage < 90) return;\n    }\n\n    if (!scrollToEnd) this.setState({ scrollToEnd : true });\n\n    if (prerequisites && prerequisites.quizzes && prerequisites.quizzes.length > 0)\n    {\n      if (!quizUpdated) return;\n\n      const finished = prerequisites.quizzes.findIndex(\n          (quiz) =>\n            !suspendData ||\n            !suspendData.elements[quiz] ||\n            !suspendData.elements[quiz].finished\n        ) === -1;\n\n      const statusUpdated = { lessionStatus: finished ? \"passed\" : \"incomplete\", quizUpdated: false }\n\n      if (finished)\n      {\n        statusUpdated.score = prerequisites.quizzes.reduce((sum, id) => (sum += suspendData.elements[id].score),0) / prerequisites.quizzes.length;\n      }\n\n      this.setState(statusUpdated);\n\n    } else if (lessionStatus !== \"completed\") {\n      if (this.props._objectInteractionMonitor.requiredObjects.length > 0) {\n        if (this.props._objectInteractionMonitor.completed) {\n          this.finishActivity();\n        }\n      } else if (finish_btn === null || finish_btn === undefined || finish_btn === \"disabled\") {\n        this.setState({ lessionStatus: \"completed\", quizUpdated: false });\n      }\n    }\n  }\n\n  initListeners() {\n    window.addEventListener(\"scroll\", throttle(this.handleScroll, 500));\n    window.addEventListener(\"resize\", throttle(this.handleScroll, 500));\n    window.addEventListener(\"load\", this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", throttle(this.handleScroll, 500));\n    window.removeEventListener(\"resize\", throttle(this.handleScroll, 500));\n    window.removeEventListener(\"load\", this.handleLoad);\n\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n\n  scrollTo = (id) => {\n    const elem = document.getElementById(id);\n    if (elem !== null) {\n      window.scrollTo(elem.offsetLeft, (elem.offsetTop - 70));\n      this.setState({\n        need_scroll_to_element_id: null\n      })\n    } else {\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n      this.observer = new MutationObserver(() => {\n        const elem = document.getElementById(id);\n        if (elem !== null) {\n          this.observer.disconnect();\n          window.scrollTo(elem.offsetLeft, (elem.offsetTop - 70));\n        }\n        this.setState({\n          need_scroll_to_element_id: null\n        })\n      });\n      this.observer.observe(document, {subtree: true, childList: true});\n    }\n  }\n\n  handleRedirectObject = async () => {\n    const scormApi = window.getAPIHandle();\n    let unpacked = \"\";\n\n    if (scormApi != null) scormApi.LMSInitialize(\"\");\n    if (scormApi != null)\n    {\n      let suspendData = scormApi.LMSGetValue(\"cmi.suspend_data\");\n\n      try {\n        suspendData = JSON.parse(suspendData);\n        unpacked = lzw.unpack(suspendData);\n        if (unpacked) {\n          this.redirectToObject(unpacked);\n        }\n      } catch(e) {\n        console.error(e);\n      }\n    }\n  };\n\n  handleLoad = async (event) => {\n    const scormApi = window.getAPIHandle();\n    let unpacked = \"\";\n\n    var data = {\n      contentReady : true,\n      scormAPI : scormApi\n    };\n\n    if (scormApi != null) scormApi.LMSInitialize(\"\");\n    if (scormApi != null && this.state.lessionStatus == null)\n    {\n      var status = scormApi.LMSGetValue(\"cmi.core.lesson_status\");\n      var suspendData = scormApi.LMSGetValue(\"cmi.suspend_data\");\n\n\n      try {\n        suspendData = JSON.parse(suspendData);\n        unpacked = lzw.unpack(suspendData);\n      } catch(e) {\n        console.error(e);\n      }\n\n      data.lessionStatus = status;\n      data.suspendData = unpacked;\n    }\n    this.setState(data);\n  };\n\n  redirectToObject(data) {\n    if (typeof data === \"object\" && data.progress) {\n      this.setState({\n        \"summary_items_current\": data.progress.current_summary_item,\n      })\n\n      if (\"current_object_id\" in data.progress) {\n        this.setState({\n          \"can_track_object\": true,\n          \"need_scroll_to_element_id\": data.progress.current_object_id\n        }, () => {\n          this.scrollTo(data.progress.current_object_id);\n        })\n      }\n    }\n    this.setState({\n      \"can_track_object\": true,\n    })\n  }\n\n  MillisecondsToCMIDuration(n) {\n    //Convert duration from milliseconds to 0000:00:00.00 format\n    var hms = \"\";\n    var dtm = new Date();\n    dtm.setTime(n);\n    var h = \"000\" + Math.floor(n / 3600000);\n    var m = \"0\" + dtm.getMinutes();\n    var s = \"0\" + dtm.getSeconds();\n    var cs = \"0\" + Math.round(dtm.getMilliseconds() / 10);\n    hms = h.substr(h.length - 4) + \":\" + m.substr(m.length - 2) + \":\";\n    hms += s.substr(s.length - 2) + \".\" + cs.substr(cs.length - 2);\n    return hms;\n  }\n\n  handleScroll = (event) => {\n    const { renderCompleted, timerStart, progressPage } = this.state;\n\n    if (!renderCompleted) return;\n\n    let scrollTop = window.scrollY;\n    let limitPage = document.body.offsetHeight - window.innerHeight;\n    let progress = parseInt(String((scrollTop / limitPage) * 100));\n\n    this.setState({\n      scrollPage : scrollTop\n    });\n\n    if (limitPage <= 0) progress = 100;\n\n    if (progressPage && progressPage >= progress) return;\n\n    this.setState({\n      scrollPage : scrollTop,\n      progressPage : progress,\n      sessionTimer: this.MillisecondsToCMIDuration(\n        Math.floor((Date.now() - timerStart) / 1000)\n      )\n    });\n  };\n\n  suspendDataIsValid = (data) => {\n    try {\n      if (!data) return false;\n\n      if (typeof data == \"object\")\n      {\n        if (data.elements == undefined) data.elements = {};\n        return true;\n      }\n\n      JSON.parse(data);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  prepareSuspendData = (element, answers) => {\n    let { suspendData } = this.state;\n    if (!this.suspendDataIsValid(suspendData)) {\n      suspendData = { elements: {} };\n    }\n\n    /**\n     * Check if is packed in lzw\n     */\n    if (Array.isArray(suspendData)) {\n      suspendData = lzw.unpack(suspendData);\n    }\n\n    if (!Object.keys(suspendData).includes(\"elements\")) {\n      suspendData.elements = [];\n    }\n\n    suspendData.elements[element.id] = { answers: answers };\n    return suspendData;\n  };\n\n  suspendDataUpdate = (element, answers) => {\n    var _this = this;\n    const { timerStart } = this.state;\n\n    let suspend_data = this.prepareSuspendData(element, answers);\n\n    this.setState({\n      sessionTimer: _this.MillisecondsToCMIDuration(\n        Math.floor((Date.now() - timerStart) / 1000)\n      ),\n      suspendData: suspend_data,\n      quizUpdated: true,\n    });\n  };\n\n  suspendDataFinish = (element, finished) => {\n    let { suspendData } = this.state;\n\n    if (!this.suspendDataIsValid(suspendData)) {\n      suspendData = { elements: {} };\n    }\n\n    suspendData.elements[element.id] = {\n      ...(suspendData.elements[element.id] || {}),\n      ...finished,\n    };\n\n    this.setState({ suspendData });\n  };\n\n  sendStructurePostMessage(structure) {\n    this.sendPostMessage({\n      type : \"interaction\",\n      rdp_composer_structure: structure,\n    });\n  }\n\n  sendPostMessage(message) \n  {\n    //\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  }\n\n  hasIndex(structure) {\n    return structure.structure.filter(item => item.type === \"virtual-index-1\").length > 0;\n  }\n\n  recoverObjects = async () => {\n    try {\n      let custom_options = window.cstmptns;\n\n      if (custom_options === undefined) return;\n\n      const { interaction_uid, activity_uid } = custom_options;\n\n      return await API.cms.learning.interaction\n        .uid(interaction_uid)\n        .recoverObject({\n          context_uid: activity_uid\n        }, custom_options);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  loadRequiredObjectsState = async (structure) => {\n    let isAllRequired = \"required_interaction\" in structure && structure.required_interaction;\n    let requiredObjects = structure.structure.filter(item => (isAllRequired && item.type !== \"virtual-index-1\") || (\"required_interaction\" in item && item.required_interaction === true));\n    const objectsData = await this.recoverObjects() || [];\n    let completedObjects = [];\n\n    if (objectsData && objectsData.length > 0) {\n      requiredObjects.forEach((item, index) => {\n        let objectData = objectsData.find(object => object.target_uid === item.id && \"completed\" in object.object_data.data && object.object_data.data.completed === true);\n        if (objectData) {\n          completedObjects.push(item);\n        }\n      });\n    }\n\n    this.props._objectInteractionMonitor.setCompleted(completedObjects.length === requiredObjects.length);\n    this.props._objectInteractionMonitor.setCompletedObjects(completedObjects);\n    this.props._objectInteractionMonitor.setRequiredObjects(requiredObjects);\n  }\n\n  async loadStructure(structure, context, userData) {\n    structure = this.adjustStructure(context, structure, userData);\n\n    this.loadRequiredObjectsState(structure);\n\n    this.sendStructurePostMessage(structure);\n\n    //todo: ajustar\n    window.structure = structure;\n\n    var hasIndex = this.hasIndex(structure);\n    if (hasIndex) {\n      var tempItems = structure.structure;\n      var temp = [];\n\n      for (var i = 0; i < tempItems.length; i++) \n      {\n        var item = tempItems[i];\n        if (item.type === \"virtual-index-1\") {\n          item.children = [];\n          temp.push(item)\n        } else if (item) \n        {\n          var lastItem =  temp[temp.length -1];\n          if (lastItem && lastItem.children)\n          {\n            lastItem.children.push(item.id);\n          }\n        }\n      }\n\n      var filtered = tempItems.filter(item => item.type === \"virtual-index-1\");\n\n      this.setState({\n        \"summary_items\": filtered || tempItems,\n        \"summary_items_current\": filtered[0] || tempItems[0],\n        \"show_summary\": structure.interface.show_summary\n      })\n\n    }\n\n    this.setState({\n      context: context,\n      composition: structure,\n      prerequisites: {\n        quizzes:\n          structure.structure\n            .filter((element) => [\"quiz-1\", \"quiz-2\", \"quiz-5\"].includes(element.type))\n            .filter((element) => element.scorm_progress_count === \"with_finish_and_minimum_score\" || element.scorm_progress_count === \"with_finish_without_minimum_score\")\n            .map((element) => element.id) || [],\n      },\n      scoreQuizzes: structure.structure\n        .filter((element) => element.utilization && element.utilization.enabled)\n        .map((element) => element.id),\n      finish_btn: structure.interface.finish_btn\n    });\n  }\n\n  adjustStructure(context, structure, userData) {\n    if (!structure.assets) return structure;\n\n    var originalJson = JSON.stringify(structure);\n    var accessToken = userData ? userData.access_token : \"\";\n    var mapReplaced = [];\n\n    for (const index in structure.assets) {\n      const url = structure.assets[index];\n\n      if (url.indexOf(\"/content\") == -1 || url.indexOf(\"/storage/v\") == -1)\n        continue;\n\n      if (mapReplaced.find((p) => p == url)) continue;\n\n      var urlBase = url.substr(url.length-20);\n      var newUrl = urlBase;\n\n      if (url.indexOf(\"access_token\") == -1)\n      {\n        newUrl += `&access_token=${accessToken}`;\n      }\n\n      if (url.indexOf(\"api_env\") == -1 && context.api_env.toLowerCase() != \"production\")\n      {\n        newUrl += `&api_env=${context.api_env}`;\n      }\n        \n      if (url.indexOf(\"project_key\") == -1)\n      {\n        newUrl += `&project_key=${context.project_key}`;\n      }\n\n      originalJson = originalJson.replaceAll(`${urlBase}\"`, `${newUrl}\"`);\n      mapReplaced.push(url);\n    }\n\n    structure = JSON.parse(originalJson);\n\n    structure.structure.map(item => {\n\n      if (!item.questions) return;\n      var sortQuestions = item.random_question_order !== undefined && item.random_question_order.enabled === true;\n\n      if (sortQuestions)\n        item.questions.sort((a,b) =>{\n          return Math.floor(Math.random() * (1 - -1) ) + -1;\n        });\n\n      item.questions.map(question =>{\n        //corrigi casos que a composio salvou essa informao na estrutura\n        question.answered = false;\n\n        var sortQuestionChoices = item.random_order !== undefined && item.random_order.enabled === true;\n\n        if (!question.choices || !sortQuestionChoices) return;\n\n        question.choices.sort((a,b) =>{\n          return Math.floor(Math.random() * (1 - -1) ) + -1;\n        });\n      })\n    })\n\n    return structure;\n  }\n\n  notifySummaryUpdated(current_object_id)\n  {\n    let { summary_items_current, suspendData, scormAPI } = this.state;\n\n    if (!suspendData) suspendData = {};\n    if (!suspendData.progress) suspendData.progress = {}\n\n    suspendData.progress.current_summary_item = summary_items_current\n    if (current_object_id) {\n      suspendData.progress.current_object_id = current_object_id\n    }\n\n    const data = JSON.stringify(lzw.pack(suspendData));\n\n    this.sendPostMessage({type:\"scorm\", action:\"cmi.suspend_data\", value:data});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.suspend_data\", data);\n  }\n\n  notifyStatusUpdated()\n  {\n    const { scormAPI, lessionStatus, score } = this.state;\n\n    if (score !== undefined) {\n      this.sendPostMessage({type:\"scorm\", action:\"cmi.core.score.max\", value:100});\n      this.sendPostMessage({type:\"scorm\", action:\"cmi.core.score.raw\", value:score});\n    }\n\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.lesson_status\", value:lessionStatus});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.lesson_status\", lessionStatus);\n\n    if (score !== undefined) {\n      scormAPI.LMSSetValue(\"cmi.core.score.raw\", score);\n      scormAPI.LMSSetValue(\"cmi.core.score.max\", 100);\n    }\n  }\n\n  notifySuspendDataUpdated()\n  {\n    const { scormAPI, suspendData } = this.state;   \n    const data = JSON.stringify(lzw.pack(suspendData));\n\n    this.sendPostMessage({type:\"scorm\", action:\"cmi.suspend_data\", value:data});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.suspend_data\", data);\n  }\n\n  notiftSessionUpdated()\n  {\n    const { scormAPI, sessionTimer } = this.state;  \n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.session_time\", value:sessionTimer}); \n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.session_time\", sessionTimer);\n  }\n\n  notiftLocationUpdated()\n  {\n    const { scormAPI, progressPage } = this.state;   \n    const data = String(progressPage);\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.lesson_location\", value:data}); \n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.lesson_location\", data);\n  }\n\n  notifyCommit()\n  {\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.commit\"}); \n\n    const { scormAPI} = this.state;\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSCommit();\n  }\n\n  notifyProtocol()\n  {\n    this.sendPostMessage({type:\"communication\", status:\"established\"});\n  }\n\n  transformFontToSlug(font) {\n    return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  trackEvent(data)\n  {\n    // /apenas para validao\n    // const statements = Sdk.insights.xapi.builder.create(data, {\n    //   id : 'teste',\n    //   title : 'teste',\n    //   description : 'teste'\n    // },{\n    //   id : 'teste',\n    //   title : 'teste'\n    // });\n\n    // if (statements) {\n    //     statements.forEach(statement=> {\n    //\n    //   })\n    // }\n\n    this.props._objectInteractionMonitor.onObjectInteractionEvent(data);\n\n    this.updateCurrentObjectOnSuspendData(data);\n\n    if (!data.type) data.type = \"xapi\";\n    if (window.customListenerTrack && window.customListenerTrack.postMessage)\n    {\n      window.customListenerTrack.postMessage(data);\n    }\n\n    this.sendPostMessage(data);\n\n    if (this.props.match.path === \"/userlog\") {\n      const events = this.state.events;\n      events.unshift(data);\n      this.setState({\n        events: events,\n      });\n    }\n  }\n\n  updateCurrentObjectOnSuspendData  = (data) => {\n    const {need_scroll_to_element_id} = this.state;\n    if (typeof data === \"object\" && data.action === \"view\" && need_scroll_to_element_id === null) {\n\n      if (\"metadata\" in data && \"element_id\" in data.metadata) {\n        const { suspendData } = this.state;\n\n        if (typeof suspendData === \"object\" && \"progress\" in suspendData) {\n          let {progress} = suspendData;\n\n          progress.current_object_id = data.metadata.element_id;\n\n          this.setState({\n            suspendData: {...suspendData, progress},\n            current_object_id: data.metadata.element_id,\n          }, () => {\n            this.notifySummaryUpdated(data.metadata.element_id);\n          });\n        } else {\n          this.setState({\n            suspendData: {\n              ...suspendData,\n              progress: {\n                current_object_id: data.metadata.element_id\n              },\n            },\n            current_object_id: data.metadata.element_id,\n          }, () => {\n            this.notifySummaryUpdated(data.metadata.element_id);\n          });\n        }\n      }\n    }\n  }\n\n  toggleIndexMenu() {\n    this.setState({\n      \"summary_items_render\": !this.state.summary_items_render\n    })\n  }\n\n  changeIndexItemsCurrent(item) {\n    this.setState({\n      \"summary_items_render\": false,\n      \"summary_items_current\": item\n    }, function() {\n      window.scrollTo(0, 0);\n    })\n  }\n\n  prevIndex() {\n    var temp = null;\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n\n    if (items) {\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].id === current.id) {\n          if (i > 0) {\n            temp = items[i - 1];\n          }\n        }\n      }\n    }\n    \n    return temp;\n  }\n\n  nextIndex() {\n    var temp = null;\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n\n    if (items) {\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].id === current.id) {\n          if (items[i + 1] !== undefined) {\n            temp = items[i + 1];\n          }\n        }\n      }\n    }\n\n    return temp;\n  }\n\n  lastIndex() {\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n    if (items) {\n      return (items[items.length - 1].id === current.id) && this.state.finish_btn === \"enabled\";\n    } else {\n      return this.state.finish_btn === \"enabled\" \n    }\n    \n  }\n\n  finishActivity() {\n    this.setState({ lessionStatus: \"completed\", quizUpdated: false });\n  }\n\n  getElementIndexByType(element) {\n    var index = 0;\n    var structure = this.state.composition.structure;\n    var objects = structure.filter(obj => obj.type === element.type);\n    for (var i = 0; i < objects.length; i++) {\n      if (objects[i].id === element.id) {\n        index = i;\n      };\n    }\n    return index;\n  }\n\n  getTemplate() {\n    var _this = this;\n\n    if (this.state.composition == null) return null;\n\n    var ui = this.state.composition.interface;\n    var structure = this.state.composition.structure;\n\n    if (this.state.summary_items) {\n      const childrensIDs = this.state.summary_items_current.children;\n      structure = this.state.composition.structure.filter(object => childrensIDs.includes(object.id))\n      this.nextIndex()\n    }\n\n    return (\n      <div\n        className={`rdp-composer-player-container ${this.state.show_summary === \"enabled\" ? \"has-header\" : \"\"} ${_this.transformFontToSlug(ui.font_family)} ${_this.props.match.path === \"/userlog\" ? \"userlog\" : \"\"}`}\n      >\n        {this.state.show_summary === \"enabled\" &&\n          <div className=\"rdp-composer-player-header\">\n            <span className=\"rdp-composer-player-header-title\">{this.state.composition.metadata.title}</span>\n            <span className=\"rdp-composer-player-header-index-menu-btn\" onClick={() => this.toggleIndexMenu()}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n                <path fill=\"#3f3f3f\" d=\"M112 160h288c8.833 0 16-7.167 16-16s-7.167-16-16-16h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16zM400 192h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 256h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 320h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16z\"/>\n              </svg>\n            </span>\n          </div>\n        }\n        {this.state.summary_items_render &&\n          <ul className=\"rdp-composer-player-index-menu\">\n            {this.state.summary_items.map(function (item, index) {\n              return <li key={index} className={`rdp-composer-player-index-menu-item ${item.id === _this.state.summary_items_current.id ? \"active\" : \"\"}`} onClick={() => _this.changeIndexItemsCurrent(item)}>\n                <span className=\"rdp-composer-player-index-menu-item-bullet\">{index + 1}</span>\n                <span className=\"rdp-composer-player-index-menu-item-title\">{item.title}</span>\n                {item.duration !== null && item.duration !== \"\" &&\n                  <span className=\"rdp-composer-player-index-menu-item-duration\">{item.duration}</span>\n                }\n              </li>\n            })}\n          </ul>\n        }\n\n        <div className=\"rdp-composer-player-objects\">\n          {this.prevIndex() !== null &&\n            <div className=\"rdp-composer-player-prev-btn\" onClick={() => this.changeIndexItemsCurrent(this.prevIndex())}>\n              <span className=\"rdp-composer-player-prev-btn-icon\"></span>\n              <span className=\"rdp-composer-player-prev-btn-label\">{this.prevIndex().title}</span>\n            </div>\n          }\n\n          {structure.map((element, index) => {\n            var type = element.type;\n            if (type === \"head-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100} >\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementHead1\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (\n              type === \"text-1\" ||\n              type === \"text-2\" ||\n              type === \"text-3\" ||\n              type === \"text-4\" ||\n              type === \"text-5\" ||\n              type === \"text-7\"\n            ) {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementText\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (type === \"text-two-column\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTextTwoColumn\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (\n              type === \"list-1\" ||\n              type === \"list-2\" ||\n              type === \"list-3\"\n            ) {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementList\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImage\n                    className=\"element-image-1\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImage\n                    className=\"element-image-2\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-and-text\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImageAndText\n                    className=\"element-image-and-text\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-with-text\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImageWithText\n                    className=\"element-image-with-text\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"audio-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAudio\n                    className=\"element-audio-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"video-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementVideo\n                    className=\"element-video-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"accordion\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAccordion\n                    className=\"element-accordion\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"tabs\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTabs\n                    className=\"element-tabs\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"iframe\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementIframe\n                    className=\"element-iframe\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"flashcards-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementFlashcards1\n                    className=\"element-flashcards-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"flashcards-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementFlashcards2\n                    className=\"element-flashcards-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz1\n                    className=\"element-quiz-1\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz2\n                    className=\"element-quiz-2\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz3\n                    className=\"element-quiz-3\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz4\n                    className=\"element-quiz-4\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-5\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz5\n                    className=\"element-quiz-5\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-6\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz6\n                    className=\"element-quiz-6\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"images-gallery\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImagesGallery\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"forum-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementForum1\n                    className=\"element-forum-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDivider1\n                    className=\"element-divider-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDivider4\n                    className=\"element-divider-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-numbered\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDividerNumbered\n                    className=\"element-divider-numbered\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    objectIndex={_this.getElementIndexByType(element)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"hotspots-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementHotspots1\n                    className=\"element-hotspots-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement1\n                    className=\"element-statement-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement2\n                    className=\"element-statement-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement3\n                    className=\"element-statement-3\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement4\n                    className=\"element-statement-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"gallery-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementGallery1\n                    className=\"element-gallery-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"note-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementNote1\n                    className=\"element-note-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote1\n                    className=\"element-quote-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote2\n                    className=\"element-quote-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote3\n                    className=\"element-quote-3\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote4\n                    className=\"element-quote-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-5\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote5\n                    className=\"element-quote-5\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-6\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote6\n                    className=\"element-quote-6\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"sorted-activity-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementSortedActivity1\n                    className=\"element-sorted-activity-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"timeline-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTimeline1\n                    className=\"element-timeline-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"steps-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementSteps1\n                    className=\"element-steps-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"attachment-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAttachment1\n                    className=\"element-attachment-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"button-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementButton1\n                    className=\"element-button-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"button-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementButton1\n                    className=\"element-button-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"snippet-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementCodeSnippet1\n                    className=\"element-snippet-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"3d\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <Element3d\n                    className=\"element-3d\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            }\n          })}\n\n          {this.nextIndex() !== null &&\n            <div className=\"rdp-composer-player-next-btn\" onClick={() => this.changeIndexItemsCurrent(this.nextIndex())}>\n              <span className=\"rdp-composer-player-next-btn-label\">{this.nextIndex().title}</span>\n              <span className=\"rdp-composer-player-next-btn-icon\"></span>\n            </div>\n          }\n\n          {this.lastIndex() &&\n            <>\n              {this.state.lessionStatus !== \"passed\" && this.state.lessionStatus !== \"completed\" &&\n                <div className=\"rdp-composer-player-next-btn\" onClick={() => this.finishActivity()}>\n                  <span className=\"rdp-composer-player-next-btn-label\">Concluir</span>\n                  <span className=\"rdp-composer-player-next-btn-icon\"></span>\n                </div>\n              }\n              {(this.state.lessionStatus === \"passed\" || this.state.lessionStatus === \"completed\") &&\n                <div className=\"rdp-composer-player-done-btn\" onClick={() => this.finishActivity()}>\n                  <span className=\"rdp-composer-player-done-btn-label\">Concludo</span>\n                  <span className=\"rdp-composer-player-done-btn-icon\"></span>\n                </div>\n              }\n            </>\n          }\n        </div>\n      </div>\n    );\n  }\n\n  renderUserLog() {\n    if (this.props.match.path === \"/userlog\") {\n      return <UserLog events={this.state.events} />;\n    }\n  }\n\n  render() {\n    const _this = this;\n    const template = this.getTemplate();\n    if (template != null && !this.state.renderCompleted) \n    {\n      setTimeout(function(){\n        _this.setState({ renderCompleted : true});\n      }, 1000)\n    }\n\n    return (\n      <div className=\"rdp-composer-player-home\">\n        {template}\n        {this.renderUserLog()}\n      </div>\n    );\n  }\n}\n\n\nexport default withObjectInteractionMonitor(ViewHome);\n","import React, { Component } from 'react';\nimport {Route} from 'react-router-dom';\nimport './reset.css';\nimport './App.css';\n\nimport {\n  ViewHome,\n} from './views';\n\n// Habilita LaTeX no site.\nimport katex from \"katex\";\nimport \"katex/dist/katex.min.css\";\nwindow.katex = katex;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n  }\n  \n  render() {\n    return (\n      <div id=\"root\" className=\"rdp-composer-player\">\n        <Route exact={true} path=\"/\" component={ViewHome}/>\n        <Route exact={true} path=\"/userlog\" component={ViewHome}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/icon-search.b13c6094.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.118d1d00.svg\";"],"sourceRoot":""}