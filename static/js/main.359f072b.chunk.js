(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){},169:function(e,t,n){e.exports=n.p+"static/media/drag.d4eb5d44.svg"},171:function(e,t){e.exports="data:image/gif;base64,R0lGODlh2gCVAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAA2gCVAAAI/wABCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnzx8ZJGAA+qaCBAoKDiBQGmWAAwUTyCa4IECA1iYJKFDggKDsBAMJ2DaA2+RuBbcF/h5owPaA4iUP7EYwcDmAAcOhm0SwGzYA67YDsP/WTjLAcdbLsQdYQFD9ePIUAyBAQHqgg+4GhQdv7hx+RQbzIeBAcgsoUF9CtYXHnn8VORCggM8xFF4ABrzHYHwOBtiQehFeiBGACCTHUIceZkSAdyXuNOFwFqaI0AIMHCDjjBCtmJ2LCs2oI4oN2VghjgrBuCOPQNZEYpETHZkQh0hKxCRD/FHYYpMIERAlcQ0laNuCVL44IZZLimhleEp2eV14PwoknkHqcXldc1OaKVwAJCb4XHhq2hanmQ3NmRyeZ1LI50T8RQgoAIUOCpF6YB7qp6IP8ffeoQAkCKlDWxJE6XV7XloQAUc2B6anF1nZKamopqrqqqy26uqrsMY/KuustNZq66245qrrrrz26uuvwAYr7LDEFmvsscgmq+yyzDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGe1JAACH5BAUFAAAALF0AOgAYABcAAAiZAAEIHEiwoIIABRMqHIhAAYKCBxgslEhQgUWCCBIkUIjgYcWLAhloVMCxo4GBFkkKVKDxgEIGHR2gBHlg5EIADjpSTAlggMYEFBd29MjTgUaPPQ8cOIkRKUGRCwYaUKp0gMABCBDeJBiAakQCWxcO8Ooy7MKpB6Kaval1rduwBAwEmEv3LQC5dOu+jZt3rt2/gAMLHnxT7dqAACH5BAUFAAAALF4AOgAdAA4AAAiZAAEIHEhwYAAEBRMqXAjAAQIHCQMwHDjAQEEEGAk6UKBgosADByQOxIhQYACOJSeCPDBgZEaBCDh6FGhgpcuUKGcKZADSIgCSAAhwVCByIIGFA2z+zHiAI8SBBxIkYEAggIGWA3mGVNhxpwKpCVgGGGvgaNADCyYuQAA2QckFY8em1dmWKEECBuL69Bg1LNKxWGc6CIxUJ8OAACH5BAUFAAAALGQAOgAZABEAAAiPAAEIHAhgwYEFBBMqXMjgAIOEDxcCIDAg4YGLCREgkBggAMKBFw8Q1CgRQMcABEBiFOhAY0SFAzoaUCkSAAONDkoCMNCxIoCQAjVu1EngpECgAEgmVKAgAMEFPRUGQOBzKlMFUn2WdHBVQU6dC7sOJegUrE2mZsEeSJm2rVuFCeLKVfCyrdy7Cd4CwJuAbkAAIfkEBQUAAAAsawA6ABIAGAAACIsABzAYAKCgwYMIAzBACMAAQYYAGEg8yODAAYgRJxYcYPEiRIkLC3Y0gBFkQQMdMWYM2fHhx4kBLIYsyAABAowLDhAw6MAmgpkQCfq8qbLgUAckixr9qbSp06cFFUidSlTl1KsKimJVgCAAVKcHXDY9kCCBx6ZlyyoAihNB2gRVizJQkPasUrIJvAYEACH5BAUFAAAALGsAOgASAB4AAAipAAkYIACgoMGDCA0EMIBwAcKDASJCZMDgYcGIAQ5SzGgRo8EAFB12lAhgAcWKFgF4BHAy5UWJJhlwLGjgwIEBFgfMHGDTJkOXBBj0PIDS5dCbLg0u8JkU4cymUJMimErVwdOHVLMikKrVQdSvBgl+ZaBAAdiyZRFczekArQKvFg8kEBkAAVqLDhIk2HrQrkUCehMUbSo3gdmvCvQe+BogMFgEesVGJWoxIAAh+QQFBQAAACxsADsAEQAfAAAIpAABCBwIYAABgggRLggQIKFDAgwNOExogOGAiQQHRMRIkGGAgxwLMlyQkSFIgicBEKhokeNCjyQxegxgIKVDjQEuhhSoc6dPhweCCmUQE6jQoxiPBiX6s6nPAAgQMPAZNaqDn1URTGSggKCDqlMJHlCg4OrAqVoBJFgrkKyChg7XJhhINm1CuQMRkJ2Il+7eu2wHOviLsG9HhwoSdPXJIEHYnQEBACH5BAUFAAAALGUASAAYABIAAAiTAAEIHEiwIIAACBMaIGCw4cCEEA04dAgR4cKJGDNiDKAR44IDByR2NAiy5ICRBAkwKHmAwcgACE4CGMBSJIAFCQ40RICgoAGQMgEgSJDAAQAFSAXy7DmRAdEEDJEqEMiAp1GHCojqPJpUoAOeLkkSnSpQKsGlDbMmCMuV7ECeDYkyLdt1INuCKwsiUDAX5UO3GgMCACH5BAUFAAAALF8ATAAdAA4AAAigAAEIHEiwoEEAAw4SHOBAocEBAQIkPHggQYIDDgkaiBjAAAGCARRYtJiR4AKOARYIRDAyAQKVDhcc+AiAwMaIAypaVMBA4ACeBgMcONBz4ICNBBhYxDjQgQIFGBFIFTj0wESDNAeGfLpyKgADVUsORMC1K4KBDIYaEAvg6VmzRsOWJKsgwFivAtMyzfi04d23Aw1cdWi3oAMEftmKBVwyIAAh+QQFBQAAACxdAEkAGQARAAAIjQAZKEhAsCCAgwgTKjxYsGGChRATCnT4MKLFixgvEjiQEaMCBQw6QkTw8aPIhA5KKnCAcUCAhSURvDwoc6HLAAsSBjCpEAGCgweCHgxAlABGnz8BBOUI4KaBiw58hlQq9KABogMiMvDJEmhVAASIzhyZ1CvTgwuIRvSpcKnCAUa1KmRwYOpJhQsO5FwYEAAh+QQFBQAAACxeAEIAEQAYAAAIgQADJEhwAIDBgwgPHhiYQAGDhBABIGCYAMGCiAgZKKCIMeFCgh0TDigYsqTJkyhTqlyJkQECBCYNOHj5siRNmAM6unzp4CCBAxchvnx4kMGBAwEABFiKceRRg0uTRjx6wABUphANUD0YderRnFelekSKsCvEAWINGghg9SQBAwQCAgAh+QQFBQAAACxdADwADgAdAAAImQABCBwIgMEBgggHJkiAICHChQkCOBx4YKGCiQMVLDyIkQHEARkbEkSw0EFGBQoQSASwIAFHgQ5QonQA0mEABDIvYgSAksFOAAR+7gzgAIHRowmPKhVJkOhSpkKjrsRo4MCBBRMHWN3q0OBWBkERVrXKAKvAAGEBaD1ggOCCAAFqOiQAd6pDA3DlJhwAty1VuGltBjCLkYDegAA7"},172:function(e,t){e.exports="data:image/gif;base64,R0lGODlh2gCVAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAA2gCVAAAI/wABCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnzx8ZJGAA+qaCBAoKDiBQGmWAAwUTyCa4IECA1iYJKFDggKDsBAMJ2DaA2+RuBbcF/h5owPaA4iUP7EYwcDmAAcOhm0SwGzYA67YDsP/WTjLAcdbLsQdYQFD9ePIUAyBAQHqgg+4GhQdv7hx+RQbzIeBAcgsoUF9CtYXHnn8VORCggM8xFF4ABrzHYHwOBtiQehFeiBGACCTHUIceZkSAdyXuNOFwFqaI0AIMHCDjjBCtmJ2LCs2oI4oN2VghjgrBuCOPQNZEYpETHZkQh0hKxCRD/FHYYpMIERAlcQ0laNuCVL44IZZLimhleEp2eV14PwoknkHqcXldc1OaKVwAJCb4XHhq2hanmQ3NmRyeZ1LI50T8RQgoAIUOCpF6YB7qp6IP8ffeoQAkCKlDWxJE6XV7XloQAUc2B6anF1nZKamopqrqqqy26uqrsMY/KuustNZq66245qrrrrz26uuvwAYr7LDEFmvsscgmq+yyzDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGe1JAACH5BAUFAAAALF0AOgAYABcAAAiZAAEIHEiwoIIABRMqHIhAAYKCBxgslEhQgUWCCBIkUIjgYcWLAhloVMCxo4GBFkkKVKDxgEIGHR2gBHlg5EIADjpSTAlggMYEFBd29MjTgUaPPQ8cOIkRKUGRCwYaUKp0gMABCBDeJBiAakQCWxcO8Ooy7MKpB6Kaval1rduwBAwEmEv3LQC5dOu+jZt3rt2/gAMLHnxT7dqAACH5BAUFAAAALF4AOgAdAA4AAAiZAAEIHEhwYAAEBRMqXAjAAQIHCQMwHDjAQEEEGAk6UKBgosADByQOxIhQYACOJSeCPDBgZEaBCDh6FGhgpcuUKGcKZADSIgCSAAhwVCByIIGFA2z+zHiAI8SBBxIkYEAggIGWA3mGVNhxpwKpCVgGGGvgaNADCyYuQAA2QckFY8em1dmWKEECBuL69Bg1LNKxWGc6CIxUJ8OAACH5BAUFAAAALGQAOgAZABEAAAiPAAEIHAhgwYEFBBMqXMjgAIOEDxcCIDAg4YGLCREgkBggAMKBFw8Q1CgRQMcABEBiFOhAY0SFAzoaUCkSAAONDkoCMNCxIoCQAjVu1EngpECgAEgmVKAgAMEFPRUGQOBzKlMFUn2WdHBVQU6dC7sOJegUrE2mZsEeSJm2rVuFCeLKVfCyrdy7Cd4CwJuAbkAAIfkEBQUAAAAsawA6ABIAGAAACIsABzAYAKCgwYMIAzBACMAAQYYAGEg8yODAAYgRJxYcYPEiRIkLC3Y0gBFkQQMdMWYM2fHhx4kBLIYsyAABAowLDhAw6MAmgpkQCfq8qbLgUAckixr9qbSp06cFFUidSlTl1KsKimJVgCAAVKcHXDY9kCCBx6ZlyyoAihNB2gRVizJQkPasUrIJvAYEACH5BAUFAAAALGsAOgASAB4AAAipAAkYIACgoMGDCA0EMIBwAcKDASJCZMDgYcGIAQ5SzGgRo8EAFB12lAhgAcWKFgF4BHAy5UWJJhlwLGjgwIEBFgfMHGDTJkOXBBj0PIDS5dCbLg0u8JkU4cymUJMimErVwdOHVLMikKrVQdSvBgl+ZaBAAdiyZRFczekArQKvFg8kEBkAAVqLDhIk2HrQrkUCehMUbSo3gdmvCvQe+BogMFgEesVGJWoxIAAh+QQFBQAAACxsADsAEQAfAAAIpAABCBwIYAABgggRLggQIKFDAgwNOExogOGAiQQHRMRIkGGAgxwLMlyQkSFIgicBEKhokeNCjyQxegxgIKVDjQEuhhSoc6dPhweCCmUQE6jQoxiPBiX6s6nPAAgQMPAZNaqDn1URTGSggKCDqlMJHlCg4OrAqVoBJFgrkKyChg7XJhhINm1CuQMRkJ2Il+7eu2wHOviLsG9HhwoSdPXJIEHYnQEBACH5BAUFAAAALGUASAAYABIAAAiTAAEIHEiwIIAACBMaIGCw4cCEEA04dAgR4cKJGDNiDKAR44IDByR2NAiy5ICRBAkwKHmAwcgACE4CGMBSJIAFCQ40RICgoAGQMgEgSJDAAQAFSAXy7DmRAdEEDJEqEMiAp1GHCojqPJpUoAOeLkkSnSpQKsGlDbMmCMuV7ECeDYkyLdt1INuCKwsiUDAX5UO3GgMCACH5BAUFAAAALF8ATAAdAA4AAAigAAEIHEiwoEEAAw4SHOBAocEBAQIkPHggQYIDDgkaiBjAAAGCARRYtJiR4AKOARYIRDAyAQKVDhcc+AiAwMaIAypaVMBA4ACeBgMcONBz4ICNBBhYxDjQgQIFGBFIFTj0wESDNAeGfLpyKgADVUsORMC1K4KBDIYaEAvg6VmzRsOWJKsgwFivAtMyzfi04d23Aw1cdWi3oAMEftmKBVwyIAAh+QQFBQAAACxdAEkAGQARAAAIjQAZKEhAsCCAgwgTKjxYsGGChRATCnT4MKLFixgvEjiQEaMCBQw6QkTw8aPIhA5KKnCAcUCAhSURvDwoc6HLAAsSBjCpEAGCgweCHgxAlABGnz8BBOUI4KaBiw58hlQq9KABogMiMvDJEmhVAASIzhyZ1CvTgwuIRvSpcKnCAUa1KmRwYOpJhQsO5FwYEAAh+QQFBQAAACxeAEIAEQAYAAAIgQADJEhwAIDBgwgPHhiYQAGDhBABIGCYAMGCiAgZKKCIMeFCgh0TDigYsqTJkyhTqlyJkQECBCYNOHj5siRNmAM6unzp4CCBAxchvnx4kMGBAwEABFiKceRRg0uTRjx6wABUphANUD0YderRnFelekSKsCvEAWINGghg9SQBAwQCAgAh+QQFBQAAACxdADwADgAdAAAImQABCBwIgMEBgggHJkiAICHChQkCOBx4YKGCiQMVLDyIkQHEARkbEkSw0EFGBQoQSASwIAFHgQ5QonQA0mEABDIvYgSAksFOAAR+7gzgAIHRowmPKhVJkOhSpkKjrsRo4MCBBRMHWN3q0OBWBkERVrXKAKvAAGEBaD1ggOCCAAFqOiQAd6pDA3DlJhwAty1VuGltBjCLkYDegAA7"},184:function(e,t){e.exports="data:image/gif;base64,R0lGODlh2gCVAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAA2gCVAAAI/wABCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnzx8ZJGAA+qaCBAoKDiBQGmWAAwUTyCa4IECA1iYJKFDggKDsBAMJ2DaA2+RuBbcF/h5owPaA4iUP7EYwcDmAAcOhm0SwGzYA67YDsP/WTjLAcdbLsQdYQFD9ePIUAyBAQHqgg+4GhQdv7hx+RQbzIeBAcgsoUF9CtYXHnn8VORCggM8xFF4ABrzHYHwOBtiQehFeiBGACCTHUIceZkSAdyXuNOFwFqaI0AIMHCDjjBCtmJ2LCs2oI4oN2VghjgrBuCOPQNZEYpETHZkQh0hKxCRD/FHYYpMIERAlcQ0laNuCVL44IZZLimhleEp2eV14PwoknkHqcXldc1OaKVwAJCb4XHhq2hanmQ3NmRyeZ1LI50T8RQgoAIUOCpF6YB7qp6IP8ffeoQAkCKlDWxJE6XV7XloQAUc2B6anF1nZKamopqrqqqy26uqrsMY/KuustNZq66245qrrrrz26uuvwAYr7LDEFmvsscgmq+yyzDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGe1JAACH5BAUFAAAALF0AOgAYABcAAAiZAAEIHEiwoIIABRMqHIhAAYKCBxgslEhQgUWCCBIkUIjgYcWLAhloVMCxo4GBFkkKVKDxgEIGHR2gBHlg5EIADjpSTAlggMYEFBd29MjTgUaPPQ8cOIkRKUGRCwYaUKp0gMABCBDeJBiAakQCWxcO8Ooy7MKpB6Kaval1rduwBAwEmEv3LQC5dOu+jZt3rt2/gAMLHnxT7dqAACH5BAUFAAAALF4AOgAdAA4AAAiZAAEIHEhwYAAEBRMqXAjAAQIHCQMwHDjAQEEEGAk6UKBgosADByQOxIhQYACOJSeCPDBgZEaBCDh6FGhgpcuUKGcKZADSIgCSAAhwVCByIIGFA2z+zHiAI8SBBxIkYEAggIGWA3mGVNhxpwKpCVgGGGvgaNADCyYuQAA2QckFY8em1dmWKEECBuL69Bg1LNKxWGc6CIxUJ8OAACH5BAUFAAAALGQAOgAZABEAAAiPAAEIHAhgwYEFBBMqXMjgAIOEDxcCIDAg4YGLCREgkBggAMKBFw8Q1CgRQMcABEBiFOhAY0SFAzoaUCkSAAONDkoCMNCxIoCQAjVu1EngpECgAEgmVKAgAMEFPRUGQOBzKlMFUn2WdHBVQU6dC7sOJegUrE2mZsEeSJm2rVuFCeLKVfCyrdy7Cd4CwJuAbkAAIfkEBQUAAAAsawA6ABIAGAAACIsABzAYAKCgwYMIAzBACMAAQYYAGEg8yODAAYgRJxYcYPEiRIkLC3Y0gBFkQQMdMWYM2fHhx4kBLIYsyAABAowLDhAw6MAmgpkQCfq8qbLgUAckixr9qbSp06cFFUidSlTl1KsKimJVgCAAVKcHXDY9kCCBx6ZlyyoAihNB2gRVizJQkPasUrIJvAYEACH5BAUFAAAALGsAOgASAB4AAAipAAkYIACgoMGDCA0EMIBwAcKDASJCZMDgYcGIAQ5SzGgRo8EAFB12lAhgAcWKFgF4BHAy5UWJJhlwLGjgwIEBFgfMHGDTJkOXBBj0PIDS5dCbLg0u8JkU4cymUJMimErVwdOHVLMikKrVQdSvBgl+ZaBAAdiyZRFczekArQKvFg8kEBkAAVqLDhIk2HrQrkUCehMUbSo3gdmvCvQe+BogMFgEesVGJWoxIAAh+QQFBQAAACxsADsAEQAfAAAIpAABCBwIYAABgggRLggQIKFDAgwNOExogOGAiQQHRMRIkGGAgxwLMlyQkSFIgicBEKhokeNCjyQxegxgIKVDjQEuhhSoc6dPhweCCmUQE6jQoxiPBiX6s6nPAAgQMPAZNaqDn1URTGSggKCDqlMJHlCg4OrAqVoBJFgrkKyChg7XJhhINm1CuQMRkJ2Il+7eu2wHOviLsG9HhwoSdPXJIEHYnQEBACH5BAUFAAAALGUASAAYABIAAAiTAAEIHEiwIIAACBMaIGCw4cCEEA04dAgR4cKJGDNiDKAR44IDByR2NAiy5ICRBAkwKHmAwcgACE4CGMBSJIAFCQ40RICgoAGQMgEgSJDAAQAFSAXy7DmRAdEEDJEqEMiAp1GHCojqPJpUoAOeLkkSnSpQKsGlDbMmCMuV7ECeDYkyLdt1INuCKwsiUDAX5UO3GgMCACH5BAUFAAAALF8ATAAdAA4AAAigAAEIHEiwoEEAAw4SHOBAocEBAQIkPHggQYIDDgkaiBjAAAGCARRYtJiR4AKOARYIRDAyAQKVDhcc+AiAwMaIAypaVMBA4ACeBgMcONBz4ICNBBhYxDjQgQIFGBFIFTj0wESDNAeGfLpyKgADVUsORMC1K4KBDIYaEAvg6VmzRsOWJKsgwFivAtMyzfi04d23Aw1cdWi3oAMEftmKBVwyIAAh+QQFBQAAACxdAEkAGQARAAAIjQAZKEhAsCCAgwgTKjxYsGGChRATCnT4MKLFixgvEjiQEaMCBQw6QkTw8aPIhA5KKnCAcUCAhSURvDwoc6HLAAsSBjCpEAGCgweCHgxAlABGnz8BBOUI4KaBiw58hlQq9KABogMiMvDJEmhVAASIzhyZ1CvTgwuIRvSpcKnCAUa1KmRwYOpJhQsO5FwYEAAh+QQFBQAAACxeAEIAEQAYAAAIgQADJEhwAIDBgwgPHhiYQAGDhBABIGCYAMGCiAgZKKCIMeFCgh0TDigYsqTJkyhTqlyJkQECBCYNOHj5siRNmAM6unzp4CCBAxchvnx4kMGBAwEABFiKceRRg0uTRjx6wABUphANUD0YderRnFelekSKsCvEAWINGghg9SQBAwQCAgAh+QQFBQAAACxdADwADgAdAAAImQABCBwIgMEBgggHJkiAICHChQkCOBx4YKGCiQMVLDyIkQHEARkbEkSw0EFGBQoQSASwIAFHgQ5QonQA0mEABDIvYgSAksFOAAR+7gzgAIHRowmPKhVJkOhSpkKjrsRo4MCBBRMHWN3q0OBWBkERVrXKAKvAAGEBaD1ggOCCAAFqOiQAd6pDA3DlJhwAty1VuGltBjCLkYDegAA7"},186:function(e,t,n){e.exports=n.p+"static/media/copy.a3c00457.svg"},187:function(e,t,n){e.exports=n.p+"static/media/check-circle.dbe57287.svg"},198:function(e,t,n){e.exports=n(469)},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){e.exports=n.p+"static/media/image-1.e69dfd15.jpg"},215:function(e,t,n){e.exports=n.p+"static/media/image-2.86947c34.jpg"},216:function(e,t,n){e.exports=n.p+"static/media/image-3.cd0d3d4d.jpg"},217:function(e,t,n){e.exports=n.p+"static/media/image-4.11d32b56.jpg"},218:function(e,t,n){e.exports=n.p+"static/media/image-5.c4ddcbaf.jpg"},219:function(e,t,n){e.exports=n.p+"static/media/image-6.54678425.jpg"},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t){},349:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},425:function(e,t){},427:function(e,t){},469:function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,s,l,d,u,m,p,h,f,g,v,b,A,_,x,w,y,k,E,C,j,O,I,q,S,T,M,z,L,B,N,R=n(0),D=n.n(R),Q=n(39),F=n.n(Q),V=n(476),H=(n(203),n(7)),P=n(8),U=n(10),K=n(9),Y=n(477),G=(n(204),n(205),n(15)),J=n(4),Z=n.n(J),W=n(16),X=n(6),$=n(24),ee=n(164),te=n.n(ee),ne=(n(213),n(214),n(215),n(216),n(217),n(218),n(219),new function(){return this.visible=function(e){for(var t=e.offsetTop,n=e.offsetLeft,a=e.offsetWidth,r=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+r>window.pageYOffset&&n+a>window.pageXOffset},this}),ae=new function(){return this.HtmlToText=function(e){return e.replace(/<[^>]*>/g,"")},this},re=(n(220),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"header-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"renderCategory",value:function(){var e=this.props.content;return!1===e.show_category?null:D.a.createElement("div",{className:"rdp-element-head-1-category",dangerouslySetInnerHTML:{__html:e.category}})}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-head-1-avatar",style:{borderColor:e.avatar_border_color}},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:e.avatar,onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return!1===e.show_author_name?null:D.a.createElement("div",{className:"rdp-element-head-1-author-info"},D.a.createElement("div",{className:"rdp-element-head-1-author-name",dangerouslySetInnerHTML:{__html:e.author_name}}),D.a.createElement("span",{className:"rdp-element-head-1-author-divider",style:{color:e.primary_color}}," | "),D.a.createElement("div",{className:"rdp-element-head-1-author-office",dangerouslySetInnerHTML:{__html:e.author_office}}))}},{key:"renderDivider",value:function(){if(!1===this.props.content.show_divider)return null;var e=this.props.content.secondary_color;return D.a.createElement("div",{className:"rdp-element-head-1-divider",style:{backgroundColor:e}})}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props.content;return D.a.createElement("div",{id:e.id,ref:this.elementRef,className:"rdp-element-head-1 ".concat(this.getFont(e.font_family)||""),style:{backgroundImage:"url(".concat(e.background_image,")")}},this.renderCategory(),this.renderAvatar(),this.renderAuthorInfo(),this.renderDivider())}}]),n}(R.Component)),oe=(n(221),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"text",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props.content,t={backgroundColor:e.background_color,paddingTop:e.padding_top+"px",paddingBottom:e.padding_bottom+"px"};return D.a.createElement("div",{id:e.id,ref:this.elementRef,className:"rdp-element-text ".concat(this.getFont(e.font_family)||""),style:t},D.a.createElement("div",{className:"rdp-element-text-content",dangerouslySetInnerHTML:{__html:e.text}}))}}]),n}(R.Component)),ie=(n(32),n(222),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"text-two-column",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e,t){var n=this.props.content;n.items[e]=t,this.props.onChange(n)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props.content,t={backgroundColor:e.background_color,paddingTop:e.padding_top+"px",paddingBottom:e.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-text-two-column ".concat(this.getFont(e.font_family)||""),style:t},D.a.createElement("div",{className:"rdp-element-text-two-column-items"},D.a.createElement("div",{className:"rdp-element-text-two-column-item first"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.items[0]}})),D.a.createElement("div",{className:"rdp-element-text-two-column-item last"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.items[1]}}))))}}]),n}(R.Component)),ce=(n(223),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={content:a.props.content,active_items:[],visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"list",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"trackElementClick",value:function(e){var t=this.props.content,n={action:"click",element:"list-2",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,item_id:e}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(n.assets=t.dam_assets),this.props.onTrackEvent(n)}},{key:"handleChange",value:function(e,t){var n=this.state.content;n.items[t].text=e,this.setState({content:n}),this.props.onChange(n)}},{key:"renderQuill",value:function(e){return D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"onItemCheck",value:function(e){if(!this.isItemActive(e)){var t=this.state.active_items;t.push(e),this.setState({items:t}),this.trackElementClick(e)}}},{key:"isItemActive",value:function(e){return this.state.active_items.filter(function(t){return t===e}).length>0}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o={backgroundColor:r.background_color,paddingTop:r.padding_top+"px",paddingBottom:r.padding_bottom+"px"},i=this.state.content.items;return D.a.createElement("div",{ref:this.elementRef,className:"".concat(this.props.className," ").concat(this.getFont(r.font_family)||""),style:o},n,D.a.createElement("ul",{className:"element-list-items"},i.map(function(t,n){return D.a.createElement("li",{key:n,className:"element-list-item"},"list-1"===r.type&&D.a.createElement("span",{className:"element-list-item-number",style:{backgroundColor:r.primary_color,color:r.secondary_color}},n+1),"list-2"===r.type&&D.a.createElement("span",{className:"element-list-item-checkbox",style:{borderColor:r.primary_color,color:r.secondary_color},onClick:function(){return e.onItemCheck(t.id)}},e.isItemActive(t.id)&&D.a.createElement("span",{className:"element-list-item-checkbox-checked",style:{backgroundColor:r.primary_color}},D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"768",height:"768",viewBox:"0 0 768 768"},D.a.createElement("path",{fill:r.secondary_color,d:"M617.376 169.376l-329.376 329.376-137.376-137.376c-12.512-12.512-32.768-12.512-45.248 0s-12.512 32.768 0 45.248l160 160c12.512 12.512 32.768 12.512 45.248 0l352-352c12.512-12.512 12.512-32.768 0-45.248s-32.768-12.512-45.248 0z"})))),"list-3"===r.type&&D.a.createElement("span",{className:"element-list-item-bullet",style:{backgroundColor:r.primary_color}}),D.a.createElement("div",{className:"element-list-item-text"},e.renderQuill(t,n)))})),a)}}]),n}(R.Component)),se=n(54),le=(n(224),["zoomIn","zoomOut","resetTransform"]),de=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.zoomImgRef=D.a.createRef(),a.state={visible:!1,zoom_enabled:!1,inner_width:window.innerWidth,inner_height:window.innerHeight-60,img_zoom_width:"100%",img_zoom_height:"auto"},a.onResizeWindow=a.onResizeWindow.bind(Object(X.a)(a)),a.refreshZoomOnResize=a.refreshZoomOnResize.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"componentDidMount",value:function(){this.onResizeIframe()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"onResizeIframe",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"onResizeWindow",value:function(){this.refreshZoomOnResize(),this.resizeImage()}},{key:"resizeImage",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight-60})}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"image",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,url:e.image}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"getImgStyle",value:function(){var e={},t=this.props.content;return"image-1"===t.type&&null!==t.width&&(e.width=t.width+"px"),t.zoom&&(e.cursor="zoom-in"),e}},{key:"toggleZoomImage",value:function(){this.setState({zoom_enabled:!this.state.zoom_enabled})}},{key:"getWrapperStyle",value:function(){return{width:"".concat(this.state.inner_width,"px"),height:"".concat(this.state.inner_height,"px")}}},{key:"getImgDynamicStyle",value:function(){return{width:this.state.img_zoom_width,height:this.state.img_zoom_height}}},{key:"onLoad",value:function(e){var t="100%",n="auto";e.target.naturalHeight/(window.innerHeight-60)>e.target.naturalWidth/window.innerWidth&&(t="auto",n="100%"),this.setState({img_zoom_width:t,img_zoom_height:n})}},{key:"renderIconZoomIn",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z"}))}},{key:"renderIconZoomOut",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z"}))}},{key:"renderIconClose",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z"}))}},{key:"refreshZoomOnResize",value:function(){var e=this,t=this.state.zoom_enabled;this.setState({zoom_enabled:!1},function(){t&&e.setState({zoom_enabled:!0})})}},{key:"render",value:function(){var e=this,t=this.props.content,n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{id:t.id,ref:this.elementRef,className:this.props.className,style:n},D.a.createElement("figure",{"aria-labelledby":"caption-".concat(t.id)},t.zoom&&D.a.createElement("img",{onClick:function(){return e.toggleZoomImage()},style:this.getImgStyle(),src:t.image}),!t.zoom&&D.a.createElement("img",{style:this.getImgStyle(),src:t.image}),t.caption&&D.a.createElement("figcaption",{id:"caption-".concat(t.id)},D.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.caption}}))),this.state.zoom_enabled&&D.a.createElement(se.b,{maxScale:t.zoom_max_level||3,centerZoomedOut:!0,centerOnInit:!0},function(n){var a=n.zoomIn,r=n.zoomOut;n.resetTransform,Object($.a)(n,le);return D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"element-image-1-modal"},D.a.createElement("div",{className:"element-image-1-modal-header",style:{backgroundColor:t.zoom_header_background_color||"#FFFFFF"}},D.a.createElement("div",{className:"element-image-1-modal-header-zoom-btns"},D.a.createElement("span",{className:"element-image-1-modal-header-zoom-btn",onClick:function(){return a()}},e.renderIconZoomIn()),D.a.createElement("span",{className:"element-image-1-modal-header-zoom-btn",onClick:function(){return r()}},e.renderIconZoomOut())),D.a.createElement("span",{className:"element-image-1-modal-header-close-btn",onClick:function(){return e.toggleZoomImage()}},e.renderIconClose())),D.a.createElement("div",{className:"element-image-1-modal-body"},D.a.createElement(se.a,{wrapperStyle:e.getWrapperStyle(),contentStyle:e.getWrapperStyle()},D.a.createElement("img",{ref:e.zoomImgRef,style:e.getImgDynamicStyle(),src:t.image,onLoad:function(t){return e.onLoad(t)}})))))}))}}]),n}(R.Component),ue=(n(225),["zoomIn","zoomOut","resetTransform"]),me=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).zoomImgRef=D.a.createRef(),a.elementRef=D.a.createRef(),a.state={zoom_enabled:!1,inner_width:window.innerWidth,inner_height:window.innerHeight-60,img_zoom_width:"100%",img_zoom_height:"auto",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.onResizeWindow=a.onResizeWindow.bind(Object(X.a)(a)),a.refreshZoomOnResize=a.refreshZoomOnResize.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.onResizeIframe()}},{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"image-and-text",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"onResizeIframe",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"onResizeWindow",value:function(){this.refreshZoomOnResize(),this.resizeImage()}},{key:"resizeImage",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight-60})}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"getImageUrl",value:function(e){return e}},{key:"getImgStyle",value:function(){var e=this.props.content,t=e.image_width,n=e.image_position,a=e.zoom,r=e.image_border_radius,o={width:"calc(".concat(t," - 20px)")};return"left"===n?o.marginRight="20px":o.marginLeft="20px",a&&(o.cursor="zoom-in"),r&&(o.borderRadius=r+"px"),o}},{key:"toggleZoomImage",value:function(){this.setState({zoom_enabled:!this.state.zoom_enabled})}},{key:"getWrapperStyle",value:function(){return{width:"".concat(this.state.inner_width,"px"),height:"".concat(this.state.inner_height,"px")}}},{key:"getImgDynamicStyle",value:function(){return{width:this.state.img_zoom_width,height:this.state.img_zoom_height}}},{key:"onLoad",value:function(e){var t="100%",n="auto";e.target.naturalHeight/(window.innerHeight-60)>e.target.naturalWidth/window.innerWidth&&(t="auto",n="100%"),this.setState({img_zoom_width:t,img_zoom_height:n})}},{key:"renderIconZoomIn",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z"}))}},{key:"renderIconZoomOut",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z"}))}},{key:"renderIconClose",value:function(){var e=this.props.content.zoom_icons_color||"#000";return D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640"},D.a.createElement("path",{fill:e,d:"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z"}))}},{key:"refreshZoomOnResize",value:function(){var e=this,t=this.state.zoom_enabled;this.setState({zoom_enabled:!1},function(){t&&e.setState({zoom_enabled:!0})})}},{key:"handleTextChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getTextStyle",value:function(){var e=this.props.content,t=e.image_width,n={};"left"===e.image_position?n.marginLeft="20px":n.marginRight="20px";var a=n.width=100-parseInt(t.split("%")[0]);return n.width="calc(".concat(a,"% - 20px)"),n}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props.content,n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"element-image-and-text ".concat(this.getFont(t.font_family)||""),style:n},"left"===t.image_position&&D.a.createElement("div",{className:"element-image-and-text-container left"},t.zoom&&D.a.createElement("img",{onClick:function(){return e.toggleZoomImage()},style:this.getImgStyle(),src:this.getImageUrl(t.image)}),!t.zoom&&D.a.createElement("img",{style:this.getImgStyle(),src:this.getImageUrl(t.image)}),D.a.createElement("div",{className:"element-image-and-text-container-text",style:this.getTextStyle()},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}}))),"right"===t.image_position&&D.a.createElement("div",{className:"element-image-and-text-container right"},D.a.createElement("div",{className:"element-image-and-text-container-text",style:this.getTextStyle()},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})),t.zoom&&D.a.createElement("img",{onClick:function(){return e.toggleZoomImage()},style:this.getImgStyle(),src:this.getImageUrl(t.image)}),!t.zoom&&D.a.createElement("img",{style:this.getImgStyle(),src:this.getImageUrl(t.image)})),this.state.zoom_enabled&&D.a.createElement(se.b,{maxScale:t.zoom_max_level||3,centerZoomedOut:!0,centerOnInit:!0},function(n){var a=n.zoomIn,r=n.zoomOut;n.resetTransform,Object($.a)(n,ue);return D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"element-image-and-text-modal"},D.a.createElement("div",{className:"element-image-and-text-modal-header",style:{backgroundColor:t.zoom_header_background_color||"#FFFFFF"}},D.a.createElement("div",{className:"element-image-and-text-modal-header-zoom-btns"},D.a.createElement("span",{className:"element-image-and-text-modal-header-zoom-btn",onClick:function(){return a()}},e.renderIconZoomIn()),D.a.createElement("span",{className:"element-image-and-text-modal-header-zoom-btn",onClick:function(){return r()}},e.renderIconZoomOut())),D.a.createElement("span",{className:"element-image-and-text-modal-header-close-btn",onClick:function(){return e.toggleZoomImage()}},e.renderIconClose())),D.a.createElement("div",{className:"element-image-and-text-modal-body"},D.a.createElement(se.a,{wrapperStyle:e.getWrapperStyle(),contentStyle:e.getWrapperStyle()},D.a.createElement("img",{ref:e.zoomImgRef,style:e.getImgDynamicStyle(),src:e.getImageUrl(t.image),onLoad:function(t){return e.onLoad(t)}})))))}))}}]),n}(R.Component),pe=(n(226),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"image-with-text",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"getImageUrl",value:function(e){return e}},{key:"handleTextChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"element-image-with-text ".concat(this.getFont(a.font_family)||""),style:r},t,D.a.createElement("div",{className:"element-image-with-text-container",style:{backgroundImage:"url(".concat(this.getImageUrl(a.image),")")}},D.a.createElement("div",{className:"element-image-with-text-container-opacity",style:{opacity:a.opacity,backgroundColor:a.opacity_color}}),D.a.createElement("div",{className:"element-image-with-text-container-center"},D.a.createElement("div",{className:"element-image-with-text-container-line"},D.a.createElement("div",{className:"element-image-with-text-container-divider",style:{backgroundColor:a.divider_color}})),D.a.createElement("div",{className:"element-image-with-text-container-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:a.text}})))),n)}}]),n}(R.Component)),he=(n(227),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.onAudioPlay=a.onAudioPlay.bind(Object(X.a)(a)),a.onAudioPause=a.onAudioPause.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"audio",timestamp:Math.floor(Date.now()/1e3),metadata:{url:e.audio,composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"trackEvent",value:function(e,t,n){var a=this.props.content,r={action:"click",element:"audio",timestamp:Math.floor(Date.now()/1e3),verb:e,metadata:{url:a.audio,composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,time:{current:t,duration:n,progress:t/n*100}}};this.props.onTrackEvent(r)}},{key:"onAudioPlay",value:function(e){this.trackEvent("played",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onAudioPause",value:function(e){this.trackEvent("paused",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onAudioEnded",value:function(e){this.trackEvent("ended",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onAudioSeeking",value:function(e){this.trackEvent("skipped",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"render",value:function(){var e=this,t=this.props.content,n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{id:t.id,ref:this.elementRef,className:this.props.className,style:n},D.a.createElement("audio",{controls:!0,src:t.audio,onPlay:function(t){return e.onAudioPlay(t)},onPause:function(t){return e.onAudioPause(t)},onEnded:function(t){return e.onAudioEnded(t)},onSeeking:function(t){return e.onAudioSeeking(t)}}))}}]),n}(R.Component)),fe=!1,ge=n(28),ve=n(44),be=n.n(ve),Ae=n(165),_e=n.n(Ae),xe=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).videoNode=D.a.createRef(),a}return Object(P.a)(n,[{key:"destroyPlayer",value:function(){this.player&&this.player.dispose()}},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.skin;this.initialization=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"amp-default";return fe||window.amp||(fe=new Promise(function(t,n){var a=document.createElement("script"),r=document.createElement("link");r.rel="stylesheet",a.id="amp-azure",a.src="//amp.azure.net/libs/amp/2.3.10/azuremediaplayer.min.js",r.href="//amp.azure.net/libs/amp/2.3.10/skins/".concat(e,"/azuremediaplayer.min.css"),document.body.appendChild(a),document.head.insertBefore(r,document.head.firstChild),a.onload=function(){return t({skin:e})}})),fe||Promise.resolve({skin:e})}(t).then(function(){e.createPlayer(),e.setVideo()})}},{key:"setVideo",value:function(){var e=this.props,t=e.src,n=e.tracks;this.player.src(t,n)}},{key:"createPlayer",value:function(){var e=this.props,t=e.options,n=e.onInstanceCreated;this.player=window.amp(this.videoNode.current,Object.assign({},{controls:!0,logo:{enabled:!1}},t)),n&&n(this.player)}},{key:"getRatioStyles",value:function(e){return e?{paddingBottom:e[1]/e[0]*100+"%"}:{}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.skin,a=void 0===n?"amp-default":n,r=e.adaptRatio,o=void 0!==r&&r,i=e.cornerPlayBtn;return D.a.createElement("div",{style:this.getRatioStyles(o),className:be()(Object(ge.a)({},_e.a["azure-mp-container"],o),t)},D.a.createElement("video",{crossOrigin:"anonymous",ref:this.videoNode,className:be()("azuremediaplayer","".concat(a,"-skin"),{"amp-big-play-centered":!i})}))}}]),n}(R.Component),we=(n(228),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1,azure_video_url:null,azure_url:null,azure_mime_type:null,azure_subtitles:null,render_azure_player:window.location.search.indexOf("?custom_options=")>-1,custom_options:window.cstmptns},a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"componentDidMount",value:function(){this.getCaptions()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"video",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,url:e.video}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"trackEvent",value:function(e,t,n){var a=this.props.content,r={action:"click",element:"video",verb:e,timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,url:a.video,time:{current:t,duration:n,progress:t/n*100}}};this.props.onTrackEvent(r)}},{key:"onVideoPlay",value:function(e){this.trackEvent("played",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onVideoPause",value:function(e){this.trackEvent("paused",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onVideoEnded",value:function(e){this.trackEvent("ended",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"onVideoSeeking",value:function(e){this.trackEvent("skipped",e.currentTarget.currentTime,e.currentTarget.duration)}},{key:"getVideoUrl",value:function(e){if(-1==e.indexOf("http"))return"./".concat(e);var t=this.state.custom_options;if(!t)return e;var n=t.api_env,a=t.project_key,r=t.access_token,o=t.domain;return"https://".concat(o,"/storage/v1.0/content/default/target?uid=").concat(e.split("uid=")[1].split("&")[0],"&access_token=").concat(r,"&project_key=").concat(a,"&api_env=").concat(n)}},{key:"getCaptions",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c,s,l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.render_azure_player){e.next=19;break}return n=this.props.content.video,a={video_url:n,url:null,mime_type:null,subtitles:null},t=n.search("/content/default/target")>-1?n.replace("/content/default/target","/content/path/manifest.json"):n.replace("/content","/content/path/manifest.json"),e.next=6,fetch(t).then(function(e){return e.json()});case 6:if(r=e.sent,o=[],r.subtitles&&(i=r.subtitles.map(function(e){return e.asset=r.assets.find(function(t){return t.uid==e.asset_uid}),e}),o=i.filter(function(e){return"text/vtt"==e.asset.mime_type}).map(function(e){return{src:n.replace("/content","/content/path/".concat(e.asset.uri)).replace("/default/target",""),srclang:e.language_code,kind:"subtitles",label:e.language}})),c=!0,!r.azure_media_options||!r.azure_media_options.SmoothStreaming){e.next=16;break}return s=r.azure_media_options.SmoothStreaming[0],e.next=14,fetch(s,{method:"head"});case 14:(l=e.sent).ok&&(a.mime_type=l.headers.get("Content-Type"),a.video_url=s,c=!1);case 16:c&&(n=-1!=n.indexOf("default/target")?n.replace("/content/default/target","/content/path/".concat(r.default_target)):n.replace("/content","/content/path/".concat(r.default_target)),a.mime_type=r.type,a.video_url=n),a.subtitles=o,this.setState({azure_subtitles:a.subtitles,azure_video_url:a.video_url,azure_url:a.url||a.video_url,azure_mime_type:a.mime_type});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.content,n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{id:t.id,ref:this.elementRef,className:this.props.className,style:n},!this.state.render_azure_player&&D.a.createElement("video",{controls:!0,src:this.getVideoUrl(t.video),onPlay:function(t){return e.onVideoPlay(t)},onPause:function(t){return e.onVideoPause(t)},onEnded:function(t){return e.onVideoEnded(t)},onSeeking:function(t){return e.onVideoSeeking(t)}}),this.state.render_azure_player&&this.state.azure_video_url&&D.a.createElement("div",{className:"element-video-1-azure"},D.a.createElement(xe,{className:"azuremediaplayer amp-default-skin amp-big-play-centered",src:[{src:this.state.azure_video_url,type:this.state.azure_mime_type}],tracks:this.state.azure_subtitles,options:{autoplay:!1,controls:!0,width:"760px",logo:{enabled:!1},adaptRatio:!1,playbackSpeed:{enabled:!0,initialSpeed:1,speedLevels:[{name:"x2.0",value:2},{name:"x1.75",value:1.75},{name:"x1.5",value:1.5},{name:"x1.25",value:1.25},{name:"normal",value:1},{name:"x0.75",value:.75},{name:"x0.5",value:.5}]}}})))}}]),n}(R.Component)),ye=(n(229),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={content:[],visible:!1},a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=e.items,n=ne.visible(this.elementRef.current);if(this.state.visible!==n){if(!0===n){var a={action:"view",element:e.type,timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,options:this.getResumeItems(t)}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(a.assets=e.dam_assets),this.props.onTrackEvent(a)}this.setState({visible:n})}}},{key:"trackEvent",value:function(e){var t=this.state.content,n=t.items,a=n[e],r={action:"click",element:"accordion",verb:a.expanded?"opened":"closed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,active_accordion_title:a.title,item_id:a.id,options:this.getResumeItems(n)}};this.props.onTrackEvent(r)}},{key:"getResumeItems",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push({id:e[n].id,title:e[n].title,text:ae.HtmlToText(e[n].text),image:e[n].image,video:e[n].video});return t}},{key:"componentWillMount",value:function(){this.manipulateItems()}},{key:"manipulateItems",value:function(){for(var e=this.props.content,t=e.items,n=0;n<t.length;n++)t[n].expanded=!1;e.items=t,this.setState({content:e})}},{key:"onToggleItem",value:function(e){var t=this.state.content,n=t.items;if("close-all"===t.behavior)for(var a=0;a<n.length;a++)a!==e&&(n[a].expanded=!1);n[e].expanded=!n[e].expanded,this.setState({content:t},function(){this.trackEvent(e)})}},{key:"renderQuill",value:function(e,t){return D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})}},{key:"getAssetUrl",value:function(e){return e}},{key:"renderImage",value:function(e){if(null!==e.image)return D.a.createElement("img",{className:"element-accordion-item-image",src:this.getAssetUrl(e.image)})}},{key:"renderVideo",value:function(e){if(null!==e.video)return D.a.createElement("video",{className:"element-accordion-item-video",controls:!0,src:this.getAssetUrl(e.video)})}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o=this.state.content.items;return D.a.createElement("div",{id:a.id,ref:this.elementRef,className:"".concat(this.props.className," ").concat(this.getFont(a.font_family)||""),style:r},n,D.a.createElement("ul",{className:"element-accordion-items"},o.map(function(t,n){return D.a.createElement("li",{key:n,className:"element-accordion-item ".concat(!0===t.expanded?"expanded":"not-expanded")},D.a.createElement("span",{className:"element-accordion-item-title",onClick:function(){return e.onToggleItem(n)}},t.title),D.a.createElement("div",{className:"element-accordion-item-text"},e.renderQuill(t,n)),e.renderImage(t),e.renderVideo(t))})))}}]),n}(R.Component)),ke=n(31),Ee=n.n(ke),Ce=(n(315),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={content:[],visible:!1,active_tab_content:null,modules:{toolbar:[["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"}],[{size:["9px","10px","11px","12px","13px","14px","15px","18px","20px","22px","26px","30px","34px","36px","38px","40px","45px","50px","55px","60px"]}],[{list:"ordered"},{list:"bullet"}],["link",{color:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","custom-color"]}]]},formats:["header","size","bold","italic","underline","strike","list","bullet","indent","link","color","align"]},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=e.items,n=ne.visible(this.elementRef.current);if(this.state.visible!==n){if(!0===n){var a={action:"view",element:"tabs",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,options:this.getResumeItems(t)}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(a.assets=e.dam_assets),this.props.onTrackEvent(a)}this.setState({visible:n})}}},{key:"getResumeItems",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push({id:e[n].id,title:e[n].title,text:ae.HtmlToText(e[n].text),image:e[n].image,video:e[n].video});return t}},{key:"componentWillMount",value:function(){this.manipulateItems();var e=Ee.a.Quill.import("formats/font");e.whitelist=["large","medium","small","regular","bold","pullquote"],Ee.a.Quill.register(e,!0);var t=Ee.a.Quill.import("attributors/style/size");t.whitelist=["9px","10px","11px","12px","13px","14px","15px","18px","20px","22px","26px","30px","34px","36px","38px","40px","45px","50px","55px","60px"],Ee.a.Quill.register(t,!0)}},{key:"manipulateItems",value:function(){var e=this.props.content;this.setState({content:e,active_tab_content:e.items[0]})}},{key:"handleChange",value:function(e){for(var t=this.state.content,n=t.items,a=this.state.active_tab_content,r=0;r<n.length;r++)n[r].id===a.id&&(n[r].text=e,this.setState({active_tab_content:n[r]}));this.setState({content:t}),this.props.onChange(t)}},{key:"getImageUrl",value:function(e){return e}},{key:"trackEvent",value:function(e){var t=this.props.content,n=t.items,a=this.state.active_tab_content,r={action:"click",element:"tabs",verb:"opened",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,active_tab_title:a.title,item_id:e.id,options:this.getResumeItems(n)}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(r.assets=t.dam_assets),this.props.onTrackEvent(r)}},{key:"onTabClick",value:function(e){this.setState({active_tab_content:e},function(){this.trackEvent(e)})}},{key:"renderQuill",value:function(){var e=this,t=this.state.modules,n=this.state.formats,a=this.state.active_tab_content;return this.props.editable?D.a.createElement(D.a.Fragment,null,D.a.createElement(Ee.a,{theme:"bubble",value:a.text,modules:t,formats:n,onChange:function(t){return e.handleChange(t)}})):D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:a.text}})}},{key:"getAssetUrl",value:function(e){return e}},{key:"renderImage",value:function(){var e=this.state.active_tab_content;if(null!==e.image)return D.a.createElement("img",{className:"element-tabs-item-image",src:this.getAssetUrl(e.image)})}},{key:"renderVideo",value:function(){var e=this.state.active_tab_content;if(null!==e.video)return D.a.createElement("video",{className:"element-tabs-item-video",controls:!0,src:this.getAssetUrl(e.video)})}},{key:"renderActiveTabContent",value:function(){return D.a.createElement("div",{className:"element-tabs-content"},this.renderQuill(),this.renderImage(),this.renderVideo())}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o=this.state.content.items;return D.a.createElement("div",{id:a.id,className:"".concat(this.props.className," ").concat(this.getFont(a.font_family)||""),style:r},n,D.a.createElement("div",{ref:this.elementRef,className:"element-tabs-container"},D.a.createElement("ul",{className:"element-tabs-items"},o.map(function(t,n){return D.a.createElement("li",{key:n,style:e.state.active_tab_content.id===t.id?{borderColor:a.active_color}:{},className:"element-tabs-item ".concat(e.state.active_tab_content.id===t.id?"active":"")},D.a.createElement("span",{className:"element-tabs-item-title",style:e.state.active_tab_content.id===t.id?{color:a.active_color}:{},onClick:function(){return e.onTabClick(t)}},t.title))})),e.renderActiveTabContent()))}}]),n}(R.Component)),je=(n(316),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.state={visible:!1,width:a.props.content.width,height:a.props.content.height},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.resizeWebview(),this.onResizeIframe()}},{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"webview",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,url:e.url}};this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"onResizeIframe",value:function(){var e=this;window.addEventListener("resize",function(){e.resizeWebview()})}},{key:"resizeWebview",value:function(){if(window.innerWidth<801){var e=this.state.width,t=window.innerWidth/e*1;this.setState({width:window.innerWidth,height:this.state.height*t})}}},{key:"render",value:function(){var e=this.props.content,t={backgroundColor:e.background_color,paddingTop:e.padding_top+"px",paddingBottom:e.padding_bottom+"px"},n={width:this.state.width+"px",height:this.state.height+"px"};return D.a.createElement("div",{id:e.id,ref:this.elementRef,className:this.props.className,style:t},D.a.createElement("iframe",{style:n,src:e.url,allow:"fullscreen"}))}}]),n}(R.Component)),Oe=(n(317),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={content:[],visible:!1,isFlipped:!1},a.onCardClick=a.onCardClick.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentWillMount",value:function(){this.manipulateItems()}},{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"flashcards-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,options:e.items}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"trackEvent",value:function(e,t,n){var a=this.state.content,r="element-flashcards-1-item-inner"===e.target.className?"front":"verse",o={action:"click",element:"flashcards",verb:"flipped",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,item_id:n.id,position:t+1,side:r,options:a.items}};this.props.onTrackEvent(o)}},{key:"manipulateItems",value:function(){for(var e=this.props.content,t=e.items,n=0;n<t.length;n++)t[n].opened=!1;e.items=t,this.setState({content:e})}},{key:"getAssetUrl",value:function(e){return e}},{key:"renderImage",value:function(e){if(null!==e.image)return D.a.createElement("img",{className:"element-flashcards-1-item-image",src:this.getAssetUrl(e.image)})}},{key:"renderVideo",value:function(e){if(null!==e.video)return D.a.createElement("video",{className:"element-flashcards-1-item-video",controls:!0,src:this.getAssetUrl(e.video)})}},{key:"onCardClick",value:function(e,t,n){e.target.classList.toggle("flipped"),this.trackEvent(e,t,n)}},{key:"handleCenteredImageChange",value:function(e){e.target.width>e.target.height?e.target.style.width="85%":e.target.style.height="85%"}},{key:"handleFullscreenImageChange",value:function(e){e.target.style.objectFit="cover",e.target.width>e.target.height?(e.target.style.height="110%",e.target.style.width="100%"):e.target.style.width="110%"}},{key:"renderCardData",value:function(e,t,n){var a=this,r=e[t];return null!==r.text?D.a.createElement("span",{className:"element-flashcards-1-item-data-text",dangerouslySetInnerHTML:{__html:r.text}}):null!==r.centered_image?D.a.createElement("img",{onLoad:function(e){return a.handleCenteredImageChange(e)},className:"element-flashcards-1-item-data-centered-image",src:this.getAssetUrl(r.centered_image)}):null!==r.fullscreen_image?D.a.createElement("img",{onLoad:function(e){return a.handleFullscreenImageChange(e)},className:"element-flashcards-1-item-data-fullscreen-image",src:this.getAssetUrl(r.fullscreen_image)}):void 0}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o=a.card_height||240,i=a.card_width||240,c={maxHeight:o+"px",maxWidth:i+"px",aspectRatio:"".concat(i/o),width:"100%"},s=this.state.content.items;return D.a.createElement("div",{id:a.id,ref:this.elementRef,className:"".concat(this.props.className," ").concat(this.getFont(a.font_family)||""),style:r},n,D.a.createElement("ul",{className:"element-flashcards-1-items"},s.map(function(t,n){return D.a.createElement("li",{key:n,className:"element-flashcards-1-item",style:c},D.a.createElement("div",{className:"element-flashcards-1-item-inner",onClick:function(a){return e.onCardClick(a,n,t)}},D.a.createElement("div",{className:"element-flashcards-1-item-front",style:{borderTopColor:e.state.content.border_color}},e.renderCardData(t,"front_card",n)),D.a.createElement("div",{className:"element-flashcards-1-item-back"},e.renderCardData(t,"back_card",n))))})))}}]),n}(R.Component)),Ie=n(17),qe=n(1),Se=n(2),Te=Se.b.div(a||(a=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),Me=Se.b.ul(r||(r=Object(qe.a)(["\n  width: 100%;\n  max-width: 800px;\n  padding: 10px;\n  display: block;\n  margin: auto;\n  text-align: center;\n  overflow: hidden;\n  height: calc(","px + 30px);\n  position: relative;\n"])),function(e){return e.maxHeight||"400"}),ze=Se.b.li(o||(o=Object(qe.a)(["\n  display: inline-block;\n  transition: all 0.2s linear;\n  perspective: 1000px;\n  top: 0;\n  cursor: pointer;\n  pointer-events: all;\n  height: ","px;\n  width: ","px;\n  aspect-ratio: ",";\n  opacity: 0;\n  position: absolute;\n\n  ","\n\n  ","\n  \n  ","\n"])),function(e){return e.maxHeight||"400"},function(e){return e.maxWidth||"400"},function(e){return e.aspectRatio||"1"},function(e){return"left"===e.position&&Object(Se.a)(i||(i=Object(qe.a)(["\n    left: 0;\n  "])))},function(e){return"right"===e.position&&Object(Se.a)(c||(c=Object(qe.a)(["\n    left: 100%;\n  "])))},function(e){return"center"===e.position&&Object(Se.a)(s||(s=Object(qe.a)(["\n    opacity: 1;\n    left: calc(50% - ","px / 2);\n  "])),function(e){return e.maxWidth||"400"})}),Le=Se.b.div(l||(l=Object(qe.a)(["\n  pointer-events: none;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.8s;\n  transform-style: preserve-3d;\n\n  ","\n"])),function(e){return e.isFlipped&&Object(Se.a)(d||(d=Object(qe.a)(["\n    transform: rotateY(180deg);\n  "])))}),Be=Se.b.div(u||(u=Object(qe.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #FFFFFF;\n  color: black;\n  pointer-events: none;\n  border: 1px solid #ededed;\n  border-top: 3px solid #00643e;\n"]))),Ne=Se.b.div(m||(m=Object(qe.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #fafafa;\n  color: black;\n  transform: rotateY(180deg);\n  pointer-events: none;\n  border: 1px solid #ededed;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0,0,0,.05);\n"]))),Re=Se.b.p(p||(p=Object(qe.a)(["\n  padding: 10px;\n"]))),De=Se.b.img(h||(h=Object(qe.a)([""]))),Qe=Se.b.div(f||(f=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: ","px;\n"])),function(e){return e.maxWidth||"400"}),Fe=Se.b.button(g||(g=Object(qe.a)(["\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ",";\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    filter: brightness(1.3);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n"])),function(e){return e.fontColor||"white"},function(e){return e.backgroundColor||"#00643e"},function(e){return e.backgroundColor||"#00643e"}),Ve=Se.b.div(v||(v=Object(qe.a)(["\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  max-width: 200px;\n"]))),He=Se.b.div(b||(b=Object(qe.a)(["\n  width: calc(100% - 10px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n"]))),Pe=Se.b.div(A||(A=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 11px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n"]))),Ue=Se.b.div(_||(_=Object(qe.a)(["\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n"]))),Ke=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={content:[],flippedItemsIds:[],visibleCardIndex:0},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"flashcards-2",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,options:t.items}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.trackCardToggleEvent=function(t,n){var a=e.state,r=a.flippedItemsIds,o=a.visibleCardIndex,i=e.props.content,c=r.includes(n)?"verse":"front",s={action:"click",element:"flashcards-2",verb:"flipped",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:i.id,element_title:i.content_title,position:o+1,side:c,options:i.items,item_id:n}};e.props.onTrackEvent(s)},e.trackViewCardEvent=function(){var t=e.state,n=t.flippedItemsIds,a=t.visibleCardIndex,r=e.props.content,o=r.items[a],i=n.includes(o.id)?"verse":"front",c={action:"click",element:"flashcards-2",verb:"view",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,position:a+1,card_id:o.id,side:i,options:r.items}};e.props.onTrackEvent(c)},e.getAssetUrl=function(e){return e},e.handleCenteredImageChange=function(e){e.target.width>e.target.height?e.target.style.width="85%":e.target.style.height="85%"},e.handleFullscreenImageChange=function(e){e.target.style.objectFit="cover",e.target.width>e.target.height?(e.target.style.height="110%",e.target.style.width="100%"):e.target.style.width="110%"},e.handleToggleFlipCard=function(t,n){var a=e.state.flippedItemsIds,r=n||t.target.id;a.includes(r)?e.setState({flippedItemsIds:a.filter(function(e){return e!==r})},function(){e.trackCardToggleEvent(t,r)}):e.setState({flippedItemsIds:[].concat(Object(Ie.a)(a),[r])},function(){e.trackCardToggleEvent(t,r)})},e.handlePrevCard=function(t){var n=e.state.visibleCardIndex;n>0&&e.setState({visibleCardIndex:n-1},function(){e.trackViewCardEvent()})},e.handleNextCard=function(){var t=e.props.content.items,n=void 0===t?[]:t,a=e.state.visibleCardIndex;a<n.length-1&&e.setState({visibleCardIndex:a+1},function(){e.trackViewCardEvent()})},e.renderProgress=function(){var t=e.props.content,n=e.state.visibleCardIndex,a=t.items,r=t.border_color,o=n+1,i=a.length,c=100/i*o+"%";return D.a.createElement(Ve,null,D.a.createElement(He,null,D.a.createElement(Ue,{style:{width:c,backgroundColor:r}})),D.a.createElement(Pe,{style:{color:r}},o,"/",i))},e.handleKeyDown=function(t){if("ArrowLeft"===t.key)e.handlePrevCard();else if("ArrowRight"===t.key)e.handleNextCard();else if(" "===t.key||"Space"===t.code||32===t.keyCode){t.preventDefault();var n=e.props.content.items[e.state.visibleCardIndex].id;e.handleToggleFlipCard(t,n)}},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"renderCardData",value:function(e){return null!==e.text?D.a.createElement(Re,{dangerouslySetInnerHTML:{__html:e.text}}):null!==e.centered_image?D.a.createElement(De,{onLoad:this.handleCenteredImageChange,src:this.getAssetUrl(e.centered_image)}):null!==e.fullscreen_image?D.a.createElement(De,{onLoad:this.handleFullscreenImageChange,src:this.getAssetUrl(e.fullscreen_image)}):void 0}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.padding_top,s=r.padding_bottom,l=r.font_family,d=r.card_height,u=void 0===d?240:d,m=r.card_width,p=void 0===m?240:m,h=r.items,f=void 0===h?[]:h,g=r.border_color,v=this.state,b=v.flippedItemsIds,A=v.visibleCardIndex;return D.a.createElement(Te,{ref:this.elementRef,tabIndex:"1",className:"".concat(o," ").concat(this.getFont(l)||""),backgroundColor:i,paddingTop:c,paddingBottom:s,onKeyDown:this.handleKeyDown},n,D.a.createElement(Me,{maxHeight:u},f.map(function(t,n){return D.a.createElement(ze,{key:t.id,id:t.id,tabIndex:"1",role:"button",type:"button",onClick:e.handleToggleFlipCard,maxWidth:p,maxHeight:u,aspectRatio:p/u,position:n===A?"center":n<A?"left":"right"},D.a.createElement(Le,{isFlipped:b.includes(t.id)},D.a.createElement(Be,{style:{borderTopColor:g}},e.renderCardData(t.front_card)),D.a.createElement(Ne,null,e.renderCardData(t.back_card))))})),D.a.createElement(Qe,{maxWidth:p},D.a.createElement(Fe,{tabIndex:"1",type:"button",onClick:this.handlePrevCard,backgroundColor:g,disabled:0===A},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))),this.renderProgress(),D.a.createElement(Fe,{tabIndex:"1",type:"button",onClick:this.handleNextCard,backgroundColor:g,disabled:A===f.length-1},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))),a)}}]),n}(R.Component),Ye=(n(319),function(e){return Object.keys(e).map(function(t){var n=e[t];return"".concat(t,"=").concat(n)}).join("&")}),Ge="administratorglobal",Je="reviewadmin",Ze="reviewcontributor",We=function(e,t){return e.length&&t.length&&e===t},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.includes(Je)||e.includes(Ze)||e.includes(Ge)},$e=["type"],et={auth:{user:{me:function(e){var t=e.access_token,n=e.api_env,a=e.domain,r=e.project_key;return fetch("".concat("https","://").concat(a,"/auth/").concat("v1.0","/user/me"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Project-Key":r,"Api-Env":n}}).then(function(e){return e.json()})},uid:function(e,t){var n=t.access_token,a=t.api_env,r=t.domain,o=t.project_key;return fetch("".concat("https","://").concat(r,"/auth/").concat("v1.0","/user/uid/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Project-Key":o,"Api-Env":a}}).then(function(e){return e.json()})}}},cms:{learning:{register:{uid:function(e){return{getInteractions:function(t){var n=t.domain,a=t.api_env,r=t.project_key,o=t.access_token,i="".concat("https","://").concat(n,"/").concat("cms","/").concat("v1.0");return fetch("".concat(i,"/learning/register/uid/").concat(e,"/interactions"),{method:"GET",headers:{"Api-Env":a,"Project-Key":r,Authorization:"Bearer "+o}}).catch(function(e){return console.error(e),e})},interaction:{recoverObjects:function(t,n){var a=t.type,r=Object($.a)(t,$e),o=n.domain,i=n.api_env,c=n.project_key,s=n.access_token,l="".concat("https","://").concat(o,"/").concat("cms","/").concat("v1.0"),d=r?"?".concat(Ye(r)):"";return fetch("".concat(l,"/learning/register/uid/").concat(e,"/interaction/objects").concat(d),{method:"GET",headers:{"Api-Env":i,"Project-Key":c,Authorization:"Bearer "+s}}).then(function(e){return e.json()}).then(function(e){if(e&&e.length>0){var t=e.map(function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.auth.user.uid(t.user_uid,{domain:o,api_env:i,project_key:c,access_token:s});case 3:if(!(n=e.sent)||!n.hasOwnProperty("error")){e.next=7;break}return console.error(n.error),e.abrupt("return",null);case 7:if(r=n.roles.map(function(e){return e.type.toLowerCase()}),Xe(r)){e.next=16;break}return t.email=n.login||"",t.name=n.detail.name,t.interaction_objects=t.interaction_objects.map(function(e){return e.object_data=JSON.parse(e.object_data),e}),a&&(t.interaction_objects=t.interaction_objects.filter(function(e){return e.type===a})),e.abrupt("return",t);case 16:return e.abrupt("return",null);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 23:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t){return e.apply(this,arguments)}}());return Promise.all(t).then(function(e){return e.filter(function(e){return null!==e})})}return[]})}}}}},interaction:{uid:function(e){return{object:{reviewed:function(t,n){var a=t.context_uid,r=t.type,o=t.target_uid,i=t.object_data,c=t.score,s=n.domain,l=n.api_env,d=n.project_key,u=n.access_token,m="".concat("https","://").concat(s,"/").concat("cms","/").concat("v1.0");return fetch("".concat(m,"/learning/interaction/uid/").concat(e,"/object/reviewed"),{method:"POST",headers:{"Api-Env":l,"Project-Key":d,Authorization:"Bearer "+u,"Content-Type":"application/json"},body:JSON.stringify({context_uid:a,type:r,target_uid:o,object_data:JSON.stringify({version:"1.0",data:i}),score:c})}).then(function(e){return 200!==e.status&&console.warn("N\xe3o foi poss\xedvel salvar a resposta, verifique se o servi\xe7o est\xe1 habilitado."),e.json()}).catch(function(e){return console.error(e),e})}},score:{object:{uid:function(t){return{updateScore:function(){var n=Object(W.a)(Z.a.mark(function n(a,r){var o,i,c,s,l;return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.domain,i=r.api_env,c=r.project_key,s=r.access_token,l="".concat("https","://").concat(o,"/").concat("cms","/").concat("v1.0"),n.abrupt("return",fetch("".concat(l,"/learning/interaction/uid/").concat(e,"/score/object/uid/").concat(t,"?score=").concat(a),{method:"PUT",headers:{"Api-Env":i,"Project-Key":c,Authorization:"Bearer "+s}}).then(function(e){if(200===e.status)return e.json();throw e}).catch(function(e){return console.error(e),e}).catch(function(e){return console.error(e),e}));case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}}}},createObject:function(t,n){var a=t.context_uid,r=t.type,o=t.target_uid,i=t.object_data,c=t.score,s=n.domain,l=n.api_env,d=n.project_key,u=n.access_token;return fetch("".concat("https","://").concat(s,"/").concat("cms","/").concat("v1.0","/learning/interaction/uid/").concat(e,"/object"),{method:"POST",headers:{"Api-Env":l,"Project-Key":d,Authorization:"Bearer "+u,"Content-Type":"application/json"},body:JSON.stringify({context_uid:a,type:r,target_uid:o,object_data:JSON.stringify({version:"1.0",data:i}),score:c})}).then(function(e){return 200!==e.status&&console.warn("N\xe3o foi poss\xedvel salvar a resposta, verifique se o servi\xe7o est\xe1 habilitado."),e}).catch(function(e){return console.error(e),e})},recoverObject:function(t,n){var a=n.domain,r=n.api_env,o=n.project_key,i=n.access_token,c="".concat("https","://").concat(a,"/").concat("cms","/").concat("v1.0"),s=t?"?".concat(Ye(t)):"";return fetch("".concat(c,"/learning/interaction/uid/").concat(e,"/objects").concat(s),{method:"GET",headers:{"Api-Env":r,"Project-Key":o,Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then(function(){var e=Object(W.a)(Z.a.mark(function e(t){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!((n=e.sent)&&n.length>0)){e.next=5;break}return e.abrupt("return",n.map(function(e){return e.object_data=JSON.parse(e.object_data),e}));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.error(e),e})}}}}},socialmedia:{connector:{uid:function(e){return{createThread:function(t,n){var a=t.title,r=t.description,o=t.content,i=t.context_type,c=t.context_uid,s=n.domain,l=n.api_env,d=n.project_key,u=n.access_token;return fetch("".concat("https","://").concat(s,"/cms/v1.1/socialmedia/connector/uid/").concat(e,"/thread"),{method:"POST",headers:{Authorization:"Bearer ".concat(u),"Project-Key":d,"Api-Env":l,"Content-Type":"application/json"},body:JSON.stringify({title:a,description:r,content:o,context_type:i,context_uid:c})}).then(function(e){return e.json()})}}}},thread:{uid:function(e){return{update:function(t,n){var a=t.title,r=t.description,o=t.content,i=t.context_type,c=t.context_uid,s=n.domain,l=n.api_env,d=n.project_key,u=n.access_token;return fetch("".concat("https","://").concat(s,"/cms/v1.1/socialmedia/thread/uid/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(u),"Project-Key":d,"Api-Env":l},body:JSON.stringify({title:a,description:r,content:o,context_type:i,context_uid:c})}).then(function(e){if(500===e.status)throw new Error(e.statusText);return e.json()})},delete:function(t){var n=t.domain,a=t.api_env,r=t.project_key,o=t.access_token;return fetch("".concat("https","://").concat(n,"/cms/v1.1/socialmedia/thread/uid/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(o),"Project-Key":r,"Api-Env":a}}).then(function(t){if(500===t.status)throw new Error(t.statusText);return 204===t.status?e:null})},post:{uid:function(e){return{delete:function(t){var n=t.domain,a=t.api_env,r=t.project_key,o=t.access_token;return fetch("".concat("https","://").concat(n,"/cms/v1.1/socialmedia/post/uid/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(o),"Project-Key":r,"Api-Env":a}}).then(function(t){if(500===t.status)throw new Error(t.statusText);return 204===t.status?e:null})},update:function(t,n){var a=t.title,r=t.description,o=t.content,i=t.context_type,c=t.context_uid,s=n.domain,l=n.api_env,d=n.project_key,u=n.access_token;return fetch("".concat("https","://").concat(s,"/cms/v1.1/socialmedia/post/uid/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(u),"Project-Key":d,"Api-Env":l},body:JSON.stringify({title:a,description:r,content:o,context_type:i,context_uid:c})}).then(function(e){if(500===e.status)throw new Error(e.statusText);return e.json()})}}}},createPost:function(t,n){var a=n.domain,r=n.api_env,o=n.project_key,i=n.access_token;return fetch("https://".concat(a,"/cms/v1.1/socialmedia/thread/uid/").concat(e,"/post"),{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Project-Key":o,"Api-Env":r},body:JSON.stringify(t)}).then(function(e){return e.json()})},recoverPosts:function(t,n){var a=n.domain,r=n.api_env,o=n.project_key,i=n.access_token,c=t?"?".concat(Ye(t)):"";return fetch("https://".concat(a,"/cms/v1.1/socialmedia/thread/uid/").concat(e,"/posts").concat(c),{method:"GET",headers:{Authorization:"Bearer ".concat(i),"Project-Key":o,"Api-Env":r}}).then(function(e){return e.json()})}}}},threads:{available:function(e,t){var n=t.domain,a=t.api_env,r=t.project_key,o=t.access_token,i=e?"?".concat(Ye(e)):"";return fetch("".concat("https","://").concat(n,"/cms/v1.1/socialmedia/threads/available").concat(i),{method:"GET",headers:{Authorization:"Bearer ".concat(o),"Project-Key":r,"Api-Env":a}}).then(function(e){return e.json()})}}}}},tt=Se.b.div(x||(x=Object(qe.a)(["\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n"]))),nt=Se.b.button(w||(w=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"}),at=(Se.b.div(y||(y=Object(qe.a)(["\n  margin: 40px auto;\n"]))),Se.b.div(k||(k=Object(qe.a)(["\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n"]))),n(27)),rt=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).defineAnswered=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.state,r=n.activeChoices,o=n.content,i=Object(G.a)({},o),c=o.questions.map(function(n){return n.id===e&&(n.answered=!0),!0===t&&(n.answered=!1),n});i.questions=c,a.setState({content:i},function(){try{a.props.handleComplete(i,r)}catch(t){console.error(t)}a.trackAnswerConfirmClick(e,c)})},a.renderCustomMsg=function(e){var t=e.feedback_default.text,n=e.feedback_default.image,r=e.feedback_default.video,o=e.feedback_default.media_max_width;return D.a.createElement("div",null,n&&a.renderImage({image:n,media_max_width:o})||r&&a.renderVideo({video:r,media_max_width:o}),t&&D.a.createElement("p",null,t))},a.renderCorrectMsg=function(e){var t=a.state.content,n=a.getLabels().right,r=null,o=null,i=null;return"correct_incorrect"===t.feedback.type?(n=e.feedback_correct&&e.feedback_correct.text?e.feedback_correct.text:n,r=e.feedback_correct&&e.feedback_correct.image?e.feedback_correct.image:r,o=e.feedback_correct&&e.feedback_correct.video?e.feedback_correct.video:o,i=e.feedback_correct&&e.feedback_correct.media_max_width?e.feedback_correct.media_max_width:i):(n=e.feedback_default&&e.feedback_default.text?e.feedback_default.text:n,r=e.feedback_default&&e.feedback_default?e.feedback_default.image:r,o=e.feedback_default&&e.feedback_default.video?e.feedback_default.video:o,i=e.feedback_default&&e.feedback_default.media_max_width?e.feedback_default.media_max_width:i),D.a.createElement("div",null,!r&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:t.correct_color?t.correct_color:t.primary_color,d:"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z"}),D.a.createElement("path",{fill:t.correct_color?t.correct_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z"})),r&&a.renderImage({image:r,media_max_width:i})||o&&a.renderVideo({video:o,media_max_width:i}),D.a.createElement("p",null,n))},a.renderIncorrectMsg=function(e){var t=a.state.content,n=a.getLabels().incorrect,r=null,o=null,i=null;return"correct_incorrect"===t.feedback.type?(n=e.feedback_incorrect&&e.feedback_incorrect.text?e.feedback_incorrect.text:n,r=e.feedback_incorrect&&e.feedback_incorrect.image?e.feedback_incorrect.image:r,o=e.feedback_incorrect&&e.feedback_incorrect.video?e.feedback_incorrect.video:o,i=e.feedback_incorrect&&e.feedback_incorrect.media_max_width?e.feedback_incorrect.media_max_width:i):(n=e.feedback_default&&e.feedback_default.text?e.feedback_default.text:n,r=e.feedback_default&&e.feedback_default?e.feedback_default.image:r,o=e.feedback_default&&e.feedback_default.video?e.feedback_default.video:o,i=e.feedback_default&&e.feedback_default.media_max_width?e.feedback_default.media_max_width:i),D.a.createElement("div",null,!r&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:t.incorrect_color?t.incorrect_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z"}),D.a.createElement("path",{fill:t.incorrect_color?t.incorrect_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z"})),r&&a.renderImage({image:r,media_max_width:i})||o&&a.renderVideo({video:o,media_max_width:i}),D.a.createElement("p",null,n))},a.verifyAnswer=function(e){var t=a.state.activeChoices,n=a.state.content.feedback,r=!1;e.choices.map(function(n){n.correct&&t[e.id]===n.id&&(r=!0)});var o=e.no_correct_answer;if("disabled"!==n.type&&!e.no_feedback)return D.a.createElement("div",{className:"element-quiz-1-feedback-msg"},r&&!o?a.renderCorrectMsg(e):o?a.renderCustomMsg(e):a.renderIncorrectMsg(e))},a.userCanRemakeQuiz=function(){var e=a.state,t=e.content,n=e.attempsMade,r=t.max_attempts,o=void 0===r?null:r;if("enable"===t.remake&&"null"===String(o))return!0;if(!1===isNaN(parseInt(o))&&"number"===typeof parseInt(o)){var i=parseInt(o)+1;return"enable"===t.remake&&n<i}return!1},a.elementRef=D.a.createRef(),a.loadContentFromDefaultData=a.loadContentFromDefaultData.bind(Object(X.a)(a)),a.loadContentFromServer=a.loadContentFromServer.bind(Object(X.a)(a)),a.recoverObjects=a.recoverObjects.bind(Object(X.a)(a)),a.updateQuestionsBasedOnObjects=a.updateQuestionsBasedOnObjects.bind(Object(X.a)(a)),a.verifyIfHasAnweredAllQuestions=a.verifyIfHasAnweredAllQuestions.bind(Object(X.a)(a)),a.showResume=a.showResume.bind(Object(X.a)(a)),a.getSignedUserFromJwt=a.getSignedUserFromJwt.bind(Object(X.a)(a)),a.state={content:e.content,contentBkp:e.content,visible:!1,activeChoices:{},current_question:0,attempsMade:0,answered_qtd:0,protocol:null,custom_options:window.cstmptns,user:{roles:[]}},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.defaultData;n&&n.elements&&n.elements[t.id]&&this.getSignedUserFromJwt().then(this.loadContentFromDefaultData),this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){e.defaultData!==this.props.defaultData&&this.loadContentFromDefaultData(),this.trackElementView()}},{key:"getSignedUserFromJwt",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n=this;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.custom_options){e.next=2;break}return e.abrupt("return");case 2:return t=this.state.custom_options.access_token,e.abrupt("return",new Promise(function(e,a){var r=Object(at.a)(t);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),n.setState({user:r},function(){e(r)})}else a("Error jwt decode")}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadContentFromServer",value:function(){this.recoverObjects().then(this.updateQuestionsBasedOnObjects).then(this.verifyIfHasAnweredAllQuestions)}},{key:"loadContentFromDefaultData",value:function(e){try{var t=this.props.content;if(e&&e.elements){var n,a=t;n=e.elements[t.id].answers?e.elements[t.id].answers:[],a.questions=a.questions.map(function(n){return n.answered=!1,e.elements[t.id].answers[n.id]&&(n.answered=!0),n}),this.setState({content:a,activeChoices:n})}}catch(r){console.log(r)}}},{key:"recoverObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.content,void 0!=(n=this.state.custom_options)){e.next=4;break}return e.abrupt("return");case 4:return a=n.interaction_uid,e.next=7,new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(r,o){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(a).recoverObject({context_uid:t.id},n);case 3:(i=e.sent)&&i.length>0&&r(i);case 5:o();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateQuestionsBasedOnObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c=this,s=arguments;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=s.length>0&&void 0!==s[0]?s[0]:[]).length>0&&(n=this.state.content,a=Object(G.a)({},n),r=0,o=0,i=0,a.questions=a.questions.map(function(e,n){var a=null,s=t.filter(function(t){return t.target_uid===e.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});r=s.length;var l=s.find(function(e){return e.created_at>=a});if(l){o=n,i++,e.answered=!0;var d=l.object_data;d&&d.data&&c.updateActiveChoisesBasedOnAnswer(e,d.data)}return e}),this.setState({content:a,attempsMade:r,current_question:o,answered_qtd:i})),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateActiveChoisesBasedOnAnswer",value:function(e,t){var n=Object(G.a)({},this.state.activeChoices);e.choices.map(function(a){return t.id===a.id&&(n[e.id]=a.id),a}),this.setState({activeChoices:n})}},{key:"verifyIfHasAnweredAllQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.state;return t.answered_qtd===t.content.questions.length&&this.showResume(),e}},{key:"showResume",value:function(){var e=this.state,t=e.content,n=e.activeChoices,a=t.questions,r=0,o=a.length;a.map(function(){var e=Object(W.a)(Z.a.mark(function e(t){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.answered&&t.choices.map(function(e){n[t.id]===e.id&&e.correct&&r++});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var i={rdp_html_content:{questions:a,hits:r,total:o,percentage_average:100/o*r,min_percentage:t.utilization.percentage}};this.setState({grades:i,show_result:!0,answered:!0})}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quiz-only-choice",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n),this.trackQuestionView()}this.setState({visible:t})}}},{key:"trackQuestionView",value:function(){var e=this.props.content,t=e.questions[this.state.current_question],n={action:"view",element:"quiz-only-choice-question",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,question:{id:t.id,position:this.state.current_question+1,title:ae.HtmlToText(t.question)}}};this.props.onTrackEvent(n)}},{key:"trackAnswerClick",value:function(e){var t=this.props.content,n=t.questions[this.state.current_question],a={action:"click",verb:"focused",element:"quiz-only-choice-question-answer",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:{id:e.id,title:ae.HtmlToText(e.text)}}}};this.props.onTrackEvent(a)}},{key:"trackAnswerConfirmClick",value:function(e,t){for(var n=this.props.content,a=this.state.activeChoices,r=null,o=-1,i=0;i<t.length;i++)t[i].id===e&&(r=t[i],o=i+1);if(null!==r){var c,s=!1;r.choices.map(function(e){a[r.id]===e.id&&(c=e,e.correct&&(s=!0))});var l={action:"click",element:"quiz-only-choice-question-confirm-answer",verb:"answered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,total_questions:t.length,current_question:o,question:{id:r.id,position:this.state.current_question+1,title:ae.HtmlToText(r.question),answer:{id:c.id,title:ae.HtmlToText(c.text),correct:s},answers:r.choices.map(function(e){var t=Object(G.a)({},e);return t.text=ae.HtmlToText(t.text),t})}}};this.props.onTrackEvent(l),this.trackQuestionResult(s,c,r)}}},{key:"trackQuestionResult",value:function(e,t,n){var a=this.props.content,r={action:"result",verb:"viewed",element:"quiz-only-choice-question-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:{id:t.id,title:ae.HtmlToText(t.text),hit:e}}}};this.props.onTrackEvent(r)}},{key:"trackQuestionFeedback",value:function(e,t,n){if(!1===n.no_feedback){var a=this.props.content,r={action:"view",element:"quiz-only-choice-question-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:{id:t.id,title:ae.HtmlToText(t.text),hit:e}}}};this.props.onTrackEvent(r)}}},{key:"trackNavigation",value:function(e){var t=this.props.content,n="next"===e?"quiz-only-choice-question-navigation-next":"quiz-only-choice-question-navigation-previous",a="next"===e?this.state.current_question-1:this.state.current_question+1,r=this.props.content.questions[a],o=this.props.content.questions[this.state.current_question],i={action:"click",element:n,timestamp:Math.floor(Date.now()/1e3),verb:"next"===e?"advanced":"retreated",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:o.id,position:this.state.current_question+1,title:ae.HtmlToText(o.question)},source_question:{id:r.id,position:("next"===e?this.state.current_question-1:this.state.current_question+1)+1,title:ae.HtmlToText(r.question)}}};this.props.onTrackEvent(i)}},{key:"trackQuizFinishView",value:function(e){var t=this.props.content,n={action:"view",element:"quiz-only-choice-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};this.props.onTrackEvent(n)}},{key:"trackQuizResult",value:function(e,t){var n=!1,a=[];e.forEach(function(e){var t=Object(G.a)({},e);t.question=ae.HtmlToText(e.question),a.push(t)});for(var r=0;r<a.length;r++)if(!a[r].no_correct_answer){n=!0;break}var o=this.props.content,i={action:"view",verb:"viewed",element:"quiz-only-choice-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:o.id,element_title:o.content_title,questions:a}};!0===n&&(i.metadata.result={hits:t.rdp_html_content.hits,total:t.rdp_html_content.total,percentage_average:100/t.rdp_html_content.total*t.rdp_html_content.hits,min_percentage:t.rdp_html_content.min_percentage}),this.props.onTrackEvent(i);var c=Object(G.a)(Object(G.a)({},i),{},{action:"result",verb:"answered"});this.props.onTrackEvent(c)}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"trackRemakeQuiz",value:function(){var e=this.props.content,t={action:"click",element:"quiz-only-choice-remake",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};this.props.onTrackEvent(t)}},{key:"renderImage",value:function(e){var t=e.media_max_width?{maxWidth:e.media_max_width.toString()+"px"}:{};if(null!==e.image)return D.a.createElement("img",{className:"element-quiz1-image",src:e.image,alt:"Quiz",style:t})}},{key:"renderVideo",value:function(e){var t=e.media_max_width?{maxWidth:e.media_max_width.toString()+"px"}:{};if(null!==e.video)return D.a.createElement("video",{className:"element-quiz1-video",controls:!0,src:e.video,style:t})}},{key:"handleChangeQuestion",value:function(e,t){var n=this,a=this.state.content;a.questions=a.questions.map(function(n){return n.id===e.id&&(n.question=t),n}),this.setState({content:a},function(){n.props.onChange(a)})}},{key:"getLabels",value:function(){var e=this.state.content.questions,t=void 0===e?[]:e,n=this.props.contentLanguage;return void 0===n&&(n="pt_br"),"en"===n?{confirm:"Confirm",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:t.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz."}:"pt_br"===n?{confirm:"Confirmar",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:t.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio."}:void 0}},{key:"renderQuestionQuill",value:function(e){return D.a.createElement("div",{className:"element-quiz-1-question"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.question}}))}},{key:"renderChoiceRadio",value:function(e,t){return this.state.activeChoices[e.id]===t.id?D.a.createElement("div",{className:"element-quiz-1-choice-radio"},D.a.createElement("span",{className:"element-quiz-1-correct-choice",style:{backgroundColor:this.state.content.primary_color}})):D.a.createElement("div",{className:"element-quiz-1-choice-radio"})}},{key:"onChoiceClick",value:function(e,t){var n=this.state.activeChoices,a=void 0===n?{}:n;a[e.id]=t.id,this.setState({activeChoices:a},function(){this.trackAnswerClick(t)})}},{key:"handleChangeChoice",value:function(e,t,n){var a=this,r=this.state.content;r.questions=r.questions.map(function(a){return a.id===e.id&&(a.choices=a.choices.map(function(e){return e.id===t.id&&(e.text=n),e})),a}),this.setState({content:r},function(){a.props.onChange(r)})}},{key:"renderChoiceQuill",value:function(e,t,n){var a=this,r=this.state,o=r.content,i=r.activeChoices,c=null,s=o.primary_color;if(i[e.id]===t.id&&(c="choice-selected",e.answered)){var l=!1;e.choices.map(function(t){t.correct&&i[e.id]===t.id&&(l=!0)}),e.no_correct_answer||(s=l?o.correct_color:o.incorrect_color),c="choice-answered"}return D.a.createElement("div",{key:t.id,style:c&&{borderColor:s||o.primary_color},className:"element-quiz-1-choice ".concat(c),onClick:function(){return!e.answered&&a.onChoiceClick(e,t)}},this.renderChoiceRadio(e,t),D.a.createElement("div",{className:"element-quiz-1-choice-text",dangerouslySetInnerHTML:{__html:t.text}}),t.image&&this.renderImage(t)||t.video&&this.renderVideo(t))}},{key:"renderChoices",value:function(e){var t=this,n=e.choices;return D.a.createElement("ul",{className:"element-quiz-1-choices"},n.map(function(n,a){return t.renderChoiceQuill(e,n,a)}))}},{key:"renderPreviousQuestionBtn",value:function(){var e=this,t=this.state.content.primary_color;if(0!==this.state.current_question)return D.a.createElement("button",{style:{color:t},onClick:function(){return e.onNavigateQuestions("prev")},className:"rdp-react-quiz-navigation-previous-btn"},this.getLabels().previous)}},{key:"onNavigateQuestions",value:function(e){var t=this.state.current_question,n="next"===e?t+1:t-1;this.setState({current_question:n},function(){this.trackNavigation(e),this.trackQuestionView()})}},{key:"renderNextQuestionBtn",value:function(){var e=this,t=this.state,n=t.current_question,a=t.content,r=a.questions,o=a.primary_color;if(r.length!==n+1)return D.a.createElement("button",{style:{color:o},onClick:function(){return e.onNavigateQuestions("next")},className:"rdp-react-quiz-navigation-next-btn"},this.getLabels().next)}},{key:"renderFinishBtn",value:function(){var e=this,t=this.state,n=t.current_question,a=t.content,r=t.activeChoices,o=(t.user,a.questions),i=a.primary_color,c=n+1,s=o.length,l=0;o.map(function(e){r[e.id]&&e.answered&&l++});var d=s!==l;if(c===s)return D.a.createElement(tt,{color:d?"#A1A1A1":i},D.a.createElement(nt,{tabIndex:1,type:"button",background:d?"#A1A1A1":i,disabled:d,onClick:function(){return e.onFinishClick()}},this.getLabels().finish))}},{key:"renderProgress",value:function(){var e=this.state,t=e.current_question,n=e.content,a=n.questions,r=n.primary_color,o=t+1,i=a.length,c=100/i*o+"%";return D.a.createElement("div",{className:"rdp-react-quiz-navigation-progress"},D.a.createElement("div",{className:"rdp-react-quiz-navigation-progress-bar-placeholder"},D.a.createElement("div",{style:{width:c,backgroundColor:r},className:"rdp-react-quiz-navigation-progress-bar"})),D.a.createElement("span",{style:{color:r},className:"rdp-react-quiz-navigation-progress-count"},o,"/",i))}},{key:"renderNavigation",value:function(){return D.a.createElement("div",{className:"rdp-react-quiz-navigation"},this.renderPreviousQuestionBtn(),this.renderProgress(),this.renderNextQuestionBtn(),this.renderFinishBtn())}},{key:"renderFeedback",value:function(e){var t=this,n=this.state,a=n.content,r=n.activeChoices,o=a.primary_color;return D.a.createElement("div",{className:"element-quiz-1-feedback-container"},e.answered?this.verifyAnswer(e):D.a.createElement("button",{onClick:function(){return r[e.id]&&t.defineAnswered(e.id)},style:{backgroundColor:r[e.id]?o:"#F1F1F1"},className:"element-quiz-1-btn-confirm"},this.getLabels().confirm))}},{key:"renderQuestionare",value:function(e){var t=this.state,n=t.current_question,a=t.content,r=a.questions,o=a.primary_color;return D.a.createElement("div",null,D.a.createElement("div",{className:"element-quiz-1-header"},D.a.createElement("span",{style:{color:o}},this.getLabels().question," ",n+1),D.a.createElement("span",{style:{color:o}},n+1,"/",r.length)),this.renderQuestionQuill(e),this.renderImage(e),this.renderVideo(e),this.renderChoices(e),this.renderFeedback(e),this.renderNavigation())}},{key:"renderContent",value:function(){var e=this.state,t=e.current_question,n=e.content,a=e.show_result,r=n.questions;n.primary_color;if(r){var o=r[t];return D.a.createElement("div",{className:"element-quiz-1-container"},o&&!a?this.renderQuestionare(o):this.renderResult())}}},{key:"onFinishClick",value:function(){var e=this,t=this.state,n=t.content,a=t.activeChoices,r=t.custom_options,o=t.attempsMade,i=n.questions,c=JSON.parse(JSON.stringify(i)),s=0,l=c.length;c.map(function(){var e=Object(W.a)(Z.a.mark(function e(t){var o,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={},t.answered&&t.choices.map(function(e){a[t.id]===e.id&&(o=e,e.user_selected=!0,e.correct&&s++)}),e.prev=2,i=r.interaction_uid,e.next=6,et.cms.learning.interaction.uid(i).createObject({context_uid:n.id,type:n.type,target_uid:t.id,object_data:{id:o.id,correct:o.correct,text:o.text},score:o.correct?"100":"0"},r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}());var d=[];c.forEach(function(e){e.question=ae.HtmlToText(e.question),e.choices.forEach(function(e){return e.text=ae.HtmlToText(e.text)}),d.push(e)});var u={rdp_html_content:{questions:d,hits:s,total:l,percentage_average:100/l*s,min_percentage:n.utilization.percentage}};this.setState({grades:u,show_result:!0,answered:!0,attempsMade:o+1},function(){try{e.props.handleComplete(n,a)}catch(o){console.log(o)}e.trackQuizResult(c,u);var t=100/l*s,r=!0;n.utilization&&n.utilization.enabled&&"with_finish_and_minimum_score"===n.scorm_progress_count&&n.utilization.percentage>t&&("with_finish_and_minimum_score"===n.scorm_progress_count||"with_finish_without_minimum_score"===n.scorm_progress_count)&&(r=!1);try{e.props.handleFinish(n,{score:t,finished:r})}catch(o){console.error(o)}})}},{key:"onRemakeQuestionnaire",value:function(){this.defineAnswered(0,!0),this.setState(function(e){return{answered:!1,grades:null,show_result:!1,current_question:0,activeChoices:[],attempsMade:e.attempsMade+1}}),this.sortQuestions(!0),this.trackRemakeQuiz()}},{key:"getResultLabel",value:function(e,t,n){var a=this.props.contentLanguage;return"en"===a?"You got ".concat(e," of ").concat(t," questions right, equivalent to ").concat(n," of the quiz."):"pt_br"===a?"Voc\xea acertou ".concat(e," de ").concat(t," quest\xf5es, o equivalente a ").concat(n," do question\xe1rio."):void 0}},{key:"renderFinalMessage",value:function(e){return"disabled"===this.state.content.feedback.type?D.a.createElement("span",{className:"rdp-react-quiz-result-message"},this.getLabels().finish_quiz_message):D.a.createElement("span",{className:"rdp-react-quiz-result-message"},this.getResultLabel(e.hits,e.total,"".concat(parseFloat(e.percentage_average).toFixed(0),"%")))}},{key:"renderResult",value:function(){var e=this,t=this.state,n=t.content;if(!0===t.show_result){var a=this.state.grades.rdp_html_content;return D.a.createElement("div",{className:"rdp-react-quiz-result"},D.a.createElement("span",{className:"rdp-react-quiz-result-icon"}),this.renderFinalMessage(a),this.userCanRemakeQuiz()&&D.a.createElement("div",{className:"rdp-react-quiz-remake-btn",onClick:function(){return e.onRemakeQuestionnaire()}},D.a.createElement("span",{className:"rdp-react-quiz-remake-btn-icon"},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("g",null,D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z"}),D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z"})))),D.a.createElement("span",{className:"rdp-react-quiz-remake-btn-text"},this.getLabels().retry)))}}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.content,a={backgroundColor:n.background_color,paddingTop:n.padding_top+"px",paddingBottom:n.padding_bottom+"px"};return D.a.createElement("div",{id:n.id,ref:this.elementRef,className:"".concat(this.props.className," ").concat(this.getFont(n.font_family)||""),style:a},t,this.renderContent())}}]),n}(R.Component),ot=(n(320),Se.b.div(E||(E=Object(qe.a)(["\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n"])))),it=Se.b.button(C||(C=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"}),ct=(Se.b.div(j||(j=Object(qe.a)(["\n  margin: 40px auto;\n"]))),Se.b.div(O||(O=Object(qe.a)(["\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n"]))),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).renderQuestionQuill=function(e){return D.a.createElement("div",{className:"element-quiz-2-question"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.question}}))},a.defineAnswered=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.state.content,r=a.state.content.questions.map(function(n){return n.id===e&&(n.answered=!0),!0===t&&(n.answered=!1),n});n.questions=r,a.setState({content:n},function(){try{a.props.handleComplete(n,a.state.activeChoices)}catch(t){console.error(t)}a.trackAnswerConfirmClick(e,r)})},a.renderCustomMsg=function(e){var t=e.feedback_default.text,n=e.feedback_default.image,r=e.feedback_default.video,o=e.feedback_default.media_max_width;return D.a.createElement("div",null,n&&a.renderImage({image:n,media_max_width:o})||r&&a.renderVideo({video:r,media_max_width:o}),t&&D.a.createElement("p",null,t))},a.renderCorrectMsg=function(e){var t=a.state.content,n=a.getLabels().right,r=null,o=null,i=null;return"correct_incorrect"===t.feedback.type?(n=e.feedback_correct&&e.feedback_correct.text?e.feedback_correct.text:n,r=e.feedback_correct&&e.feedback_correct.image?e.feedback_correct.image:r,o=e.feedback_correct&&e.feedback_correct.video?e.feedback_correct.video:o,i=e.feedback_correct&&e.feedback_correct.media_max_width?e.feedback_correct.media_max_width:i):(n=e.feedback_default&&e.feedback_default.text?e.feedback_default.text:n,r=e.feedback_default&&e.feedback_default?e.feedback_default.image:r,o=e.feedback_default&&e.feedback_default.video?e.feedback_default.video:o,i=e.feedback_default&&e.feedback_default.media_max_width?e.feedback_default.media_max_width:i),D.a.createElement("div",null,!r&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:t.correct_color?t.correct_color:t.primary_color,d:"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z"}),D.a.createElement("path",{fill:t.correct_color?t.correct_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z"})),r&&a.renderImage({image:r,media_max_width:i})||o&&a.renderVideo({video:o,media_max_width:i}),D.a.createElement("p",null,n))},a.renderIncorrectMsg=function(e){var t=a.state.content,n=a.getLabels().incorrect,r=null,o=null,i=null;return"correct_incorrect"===t.feedback.type?(n=e.feedback_incorrect&&e.feedback_incorrect.text?e.feedback_incorrect.text:n,r=e.feedback_incorrect&&e.feedback_incorrect.image?e.feedback_incorrect.image:r,o=e.feedback_incorrect&&e.feedback_incorrect.video?e.feedback_incorrect.video:o,i=e.feedback_incorrect&&e.feedback_incorrect.media_max_width?e.feedback_incorrect.media_max_width:i):(n=e.feedback_default&&e.feedback_default.text?e.feedback_default.text:n,r=e.feedback_default&&e.feedback_default?e.feedback_default.image:r,o=e.feedback_default&&e.feedback_default.video?e.feedback_default.video:o,i=e.feedback_default&&e.feedback_default.media_max_width?e.feedback_default.media_max_width:i),D.a.createElement("div",null,!r&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:t.incorrect_color?t.incorrect_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z"}),D.a.createElement("path",{fill:t.incorrect_color?t.incorrect_color:t.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z"})),r&&a.renderImage({image:r,media_max_width:i})||o&&a.renderVideo({video:o,media_max_width:i}),D.a.createElement("p",null,n))},a.verifyAnswer=function(e){var t=a.state.activeChoices,n=a.state.content.feedback,r=!0,o=0;e.choices.map(function(n){n.correct&&o++,!n.correct&&t[e.id]&&t[e.id].includes(n.id)&&(r=!1)}),t[e.id]&&o===t[e.id].length||(r=!1);var i=e.no_correct_answer;if("disabled"!==n.type&&!e.no_feedback)return D.a.createElement("div",{className:"element-quiz-2-feedback-msg"},r&&!i?a.renderCorrectMsg(e):i?a.renderCustomMsg(e):a.renderIncorrectMsg(e))},a.userCanRemakeQuiz=function(){var e=a.state,t=e.content,n=e.attempsMade,r=t.max_attempts,o=void 0===r?null:r;if("enable"===t.remake&&"null"===String(o))return!0;if(!1===isNaN(parseInt(o))&&"number"===typeof parseInt(o)){var i=parseInt(o)+1;return"enable"===t.remake&&n<i}return!1},a.elementRef=D.a.createRef(),a.loadContentFromDefaultData=a.loadContentFromDefaultData.bind(Object(X.a)(a)),a.loadContentFromServer=a.loadContentFromServer.bind(Object(X.a)(a)),a.recoverObjects=a.recoverObjects.bind(Object(X.a)(a)),a.updateQuestionsBasedOnObjects=a.updateQuestionsBasedOnObjects.bind(Object(X.a)(a)),a.verifyIfHasAnweredAllQuestions=a.verifyIfHasAnweredAllQuestions.bind(Object(X.a)(a)),a.showResume=a.showResume.bind(Object(X.a)(a)),a.state={content:e.content,contentBkp:e.content,visible:!1,activeChoices:{},current_question:0,attempsMade:0,answered_qtd:0,protocol:null,custom_options:window.cstmptns,user:{roles:[]}},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.defaultData;n&&n.elements&&n.elements[t.id]&&this.getSignedUserFromJwt().then(this.loadContentFromDefaultData),this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){e.defaultData!==this.props.defaultData&&(this.loadContentFromDefaultData(),this.trackElementView())}},{key:"getSignedUserFromJwt",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n=this;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.custom_options){e.next=2;break}return e.abrupt("return");case 2:return t=this.state.custom_options.access_token,e.next=5,new Promise(function(e,a){var r=Object(at.a)(t);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),n.setState({user:r},function(){e(r)})}else a("Error jwt decode")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadContentFromServer",value:function(){this.recoverObjects().then(this.updateQuestionsBasedOnObjects).then(this.verifyIfHasAnweredAllQuestions)}},{key:"loadContentFromDefaultData",value:function(e){try{var t,n=this.props.content,a=n;e&&e.elements&&(t=e.elements[n.id].answers?e.elements[n.id].answers:[],a.questions=a.questions.map(function(t){return t.answered=!1,e.elements[n.id].answers[t.id]&&(t.answered=!0),t}),this.setState({content:a,activeChoices:t}))}catch(r){console.error(r)}}},{key:"recoverObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.content,void 0!=(n=this.state.custom_options)){e.next=4;break}return e.abrupt("return");case 4:return a=n.interaction_uid,e.abrupt("return",new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(r,o){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(a).recoverObject({context_uid:t.id},n);case 3:(i=e.sent)&&i.length>0&&r(i);case 5:o();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateQuestionsBasedOnObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c=this,s=arguments;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=s.length>0&&void 0!==s[0]?s[0]:[]).length>0&&(n=this.state.content,a=Object(G.a)({},n),r=0,o=0,i=0,a.questions=a.questions.map(function(e,n){var a=null,s=t.filter(function(t){return t.target_uid===e.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});r=s.length;var l=s.find(function(e){return e.created_at>=a});if(l){o=n,i++,e.answered=!0;var d=l.object_data;d&&d.data&&c.updateActiveChoisesBasedOnAnswer(e,d.data)}return e}),this.setState({content:a,attempsMade:r,current_question:o,answered_qtd:i})),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateActiveChoisesBasedOnAnswer",value:function(e,t){var n=Object(G.a)({},this.state.activeChoices);n[e.id]=[];var a=t.map(function(e){return e.id});e.choices.map(function(t){return a.includes(t.id)&&n[e.id].push(t.id),t}),this.setState({activeChoices:n})}},{key:"verifyIfHasAnweredAllQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.state;return t.answered_qtd===t.content.questions.length&&this.showResume(),e}},{key:"showResume",value:function(){var e=this.state,t=e.content,n=e.activeChoices,a=t.questions,r=0,o=a.length;a.map(function(){var e=Object(W.a)(Z.a.mark(function e(t){var a,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0,o=0,t.answered&&(t.choices.map(function(e){e.correct&&(a++,n[t.id].includes(e.id)&&o++)}),a===o&&o===n[t.id].length&&r++);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var i={rdp_html_content:{questions:a,hits:r,total:o,percentage_average:100/o*r,min_percentage:t.utilization.percentage}};this.setState({grades:i,show_result:!0,answered:!0})}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quiz-multiple-choice",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n),this.trackQuestionView()}this.setState({visible:t})}}},{key:"trackQuestionView",value:function(){var e=this.props.content,t=e.questions[this.state.current_question],n={action:"view",element:"quiz-multiple-choice-question",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,question:{id:t.id,position:this.state.current_question+1,title:ae.HtmlToText(t.question)}}};this.props.onTrackEvent(n)}},{key:"trackAnswerClick",value:function(e){var t=this.props.content,n=t.questions[this.state.current_question],a={action:"click",verb:"focused",element:"quiz-multiple-choice-question-answer",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:{id:e.id,title:ae.HtmlToText(e.text)}}}};this.props.onTrackEvent(a)}},{key:"trackAnswerConfirmClick",value:function(e,t){for(var n=this.props.content,a=this.state.activeChoices,r=null,o=0;o<t.length;o++)t[o].id===e&&(r=t[o]);if(null!==r){var i=[],c=!1;r.choices.map(function(e){a[r.id].includes(e.id)&&(i.push(e),e.correct&&(c=!0))});var s={action:"click",element:"quiz-multiple-choice-question-confirm-answer",verb:"answered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:r.id,position:this.state.current_question+1,title:ae.HtmlToText(r.question),answer:i.map(function(e){return{id:e.id,title:ae.HtmlToText(e.text),correct:c}}),answers:r.choices}}};this.props.onTrackEvent(s),this.trackQuestionResult(c,i,r)}}},{key:"trackQuestionResult",value:function(e,t,n){var a=this.props.content,r={action:"result",verb:"viewed",element:"quiz-multiple-choice-question-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:t.map(function(t){return{id:t.id,title:ae.HtmlToText(t.text),correct:e}})}}};this.props.onTrackEvent(r)}},{key:"trackQuestionFeedback",value:function(e,t,n){if(!1===n.no_feedback){var a=this.props.content,r={action:"view",element:"quiz-multiple-choice-question-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,question:{id:n.id,position:this.state.current_question+1,title:ae.HtmlToText(n.question),answer:t.map(function(t){return{id:t.id,title:ae.HtmlToText(t.text),correct:e}})}}};this.props.onTrackEvent(r)}}},{key:"trackNavigation",value:function(e){var t=this.props.content,n="next"===e?"quiz-multiple-choice-question-navigation-next":"quiz-multiple-choice-question-navigation-previous",a="next"===e?this.state.current_question-1:this.state.current_question+1,r=this.props.content.questions[a],o=this.props.content.questions[this.state.current_question],i={action:"click",element:n,timestamp:Math.floor(Date.now()/1e3),verb:"next"===e?"advanced":"retreated",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:o.id,position:this.state.current_question+1,title:ae.HtmlToText(o.question)},source_question:{id:r.id,position:("next"===e?this.state.current_question-1:this.state.current_question+1)+1,title:ae.HtmlToText(r.question)}}};this.props.onTrackEvent(i)}},{key:"trackQuizFinishView",value:function(e){var t=this.props.content,n={action:"view",element:"quiz-multiple-choice-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};this.props.onTrackEvent(n)}},{key:"trackQuizResult",value:function(e,t){for(var n=!1,a=0;a<e.length;a++)if(!e[a].no_correct_answer){n=!0;break}var r=this.props.content,o={action:"view",verb:"viewed",element:"quiz-multiple-choice-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,questions:e}};!0===n&&(o.metadata.result={hits:t.rdp_html_content.hits,total:t.rdp_html_content.total,percentage_average:100/t.rdp_html_content.total*t.rdp_html_content.hits,min_percentage:t.rdp_html_content.min_percentage}),this.props.onTrackEvent(o)}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"trackRemakeQuiz",value:function(){var e=this.props.content,t={action:"click",element:"quiz-multiple-choice-remake",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};this.props.onTrackEvent(t)}},{key:"manipulateItems",value:function(){var e=this.props,t=e.content,n=e.defaultData,a=t,r={};n&&n.elements&&n.elements[t.id]&&(r=n.elements[t.id].answers?n.elements[t.id].answers:[],a.questions=a.questions.map(function(e){return e.answered=!1,n.elements[t.id].answers[e.id]&&(e.answered=!0),e})),this.setState({content:a,current_question:0,activeChoices:r||{},custom_options:window.cstmptns})}},{key:"renderImage",value:function(e){var t=e.media_max_width?{maxWidth:e.media_max_width.toString()+"px"}:{};if(null!==e.image)return D.a.createElement("img",{className:"element-quiz-2-image",src:e.image,alt:"Composer",style:t})}},{key:"renderVideo",value:function(e){var t=e.media_max_width?{maxWidth:e.media_max_width.toString()+"px"}:{};if(null!==e.video)return D.a.createElement("video",{className:"element-quiz-2-video",controls:!0,src:e.video,style:t})}},{key:"handleChangeQuestion",value:function(e,t){var n=this,a=this.state.content;a.questions=a.questions.map(function(n){return n.id===e.id&&(n.question=t),n}),this.setState({content:a},function(){n.props.onChange(a)})}},{key:"getLabels",value:function(){var e=this.state.content.questions,t=void 0===e?[]:e,n=this.props.contentLanguage;return void 0===n&&(n="pt_br"),"en"===n?{confirm:"Confirm",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:t.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz."}:"pt_br"===n?{confirm:"Confirmar",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:t.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio."}:void 0}},{key:"renderChoiceRadio",value:function(e,t){var n=this.state.activeChoices;return n[e.id]&&n[e.id].includes(t.id)?D.a.createElement("div",{className:"element-quiz-2-choice-radio"},D.a.createElement("svg",{className:"element-quiz-2-correct-choice",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"12px",height:"9px",viewBox:"0 0 12 9",enableBackground:"new 0 0 12 9",space:"preserve"},D.a.createElement("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:this.state.content.primary_color,points:"10.15,0.062 4.505,5.782 1.595,2.9 0.032,4.431   4.635,8.98 11.973,1.909 "}))):D.a.createElement("div",{className:"element-quiz-2-choice-radio"})}},{key:"onChoiceClick",value:function(e,t){var n=this.state.activeChoices;n[e.id]?n[e.id].includes(t.id)?n[e.id]=n[e.id].filter(function(e){if(e!==t.id)return e}):n[e.id].push(t.id):(n[e.id]=[],n[e.id].push(t.id)),this.setState({activeChoices:n},function(){this.trackAnswerClick(t)})}},{key:"handleChangeChoice",value:function(e,t,n){var a=this,r=this.state.content;r.questions=r.questions.map(function(a){return a.id===e.id&&(a.choices=a.choices.map(function(e){return e.id===t.id&&(e.text=n),e})),a}),this.setState({content:r},function(){a.props.onChange(r)})}},{key:"renderChoiceQuill",value:function(e,t,n){var a=this,r=this.state,o=r.content,i=r.activeChoices,c=null,s=o.primary_color;if(i[e.id]&&i[e.id].includes(t.id)&&(c="choice-selected",e.answered)){var l=!0,d=0;e.choices.map(function(t){t.correct&&d++,!t.correct&&i[e.id].includes(t.id)&&(l=!1)}),i[e.id]&&d===i[e.id].length||(l=!1),e.no_correct_answer||(s=l?o.correct_color:o.incorrect_color),c="choice-answered"}return D.a.createElement("div",{key:t.id,style:c&&{borderColor:s||o.primary_color},className:"element-quiz-2-choice ".concat(c),onClick:function(){return!e.answered&&a.onChoiceClick(e,t)}},this.renderChoiceRadio(e,t),D.a.createElement("div",{className:"element-quiz-2-choice-text",dangerouslySetInnerHTML:{__html:t.text}}),t.image&&this.renderImage(t)||t.video&&this.renderVideo(t))}},{key:"renderChoices",value:function(e){var t=this,n=e.choices;return D.a.createElement("ul",{className:"element-quiz-2-choices"},n.map(function(n,a){return t.renderChoiceQuill(e,n,a)}))}},{key:"renderPreviousQuestionBtn",value:function(){var e=this,t=this.state.content.primary_color,n=this.state.current_question;if(0!==n)return D.a.createElement("button",{style:{color:t},onClick:function(){return e.setState({current_question:n-1},function(){this.trackNavigation("prev"),this.trackQuestionView()})},className:"rdp-react-quiz-navigation-previous-btn"},this.getLabels().previous)}},{key:"renderNextQuestionBtn",value:function(){var e=this,t=this.state,n=t.current_question,a=t.content,r=a.questions,o=a.primary_color;if(r.length!==n+1)return D.a.createElement("button",{style:{color:o},onClick:function(){return e.setState({current_question:n+1},function(){this.trackNavigation("next"),this.trackQuestionView()})},className:"rdp-react-quiz-navigation-next-btn"},this.getLabels().next)}},{key:"renderFinishBtn",value:function(){var e=this,t=this.state,n=t.current_question,a=t.content,r=t.activeChoices,o=(t.user,a.questions),i=a.primary_color,c=n+1,s=o.length,l=0;o.map(function(e){r[e.id]&&e.answered&&l++});var d=s!==l;if(c===s)return D.a.createElement(ot,{color:d?"#A1A1A1":i},D.a.createElement(it,{tabIndex:1,type:"button",background:d?"#A1A1A1":i,disabled:d,onClick:function(){return e.onFinishClick()}},this.getLabels().finish))}},{key:"renderProgress",value:function(){var e=this.state,t=e.current_question,n=e.content,a=n.questions,r=n.primary_color,o=t+1,i=a.length,c=100/i*o+"%";return D.a.createElement("div",{className:"rdp-react-quiz-navigation-progress"},D.a.createElement("div",{className:"rdp-react-quiz-navigation-progress-bar-placeholder"},D.a.createElement("div",{style:{width:c,backgroundColor:r},className:"rdp-react-quiz-navigation-progress-bar"})),D.a.createElement("span",{style:{color:r},className:"rdp-react-quiz-navigation-progress-count"},o,"/",i))}},{key:"renderNavigation",value:function(){return D.a.createElement("div",{className:"rdp-react-quiz-navigation"},this.renderPreviousQuestionBtn(),this.renderProgress(),this.renderNextQuestionBtn(),this.renderFinishBtn())}},{key:"renderFeedback",value:function(e){var t=this,n=this.state,a=n.content,r=n.activeChoices,o=a.primary_color;return D.a.createElement("div",{className:"element-quiz-2-feedback-container"},e.answered?this.verifyAnswer(e):D.a.createElement("button",{onClick:function(){return r[e.id]&&t.defineAnswered(e.id)},style:{backgroundColor:r[e.id]?o:"#F1F1F1"},className:"element-quiz-1-btn-confirm"},this.getLabels().confirm))}},{key:"renderQuestionare",value:function(e){var t=this.state,n=t.current_question,a=t.content,r=a.questions,o=a.primary_color;return D.a.createElement("div",null,D.a.createElement("div",{className:"element-quiz-2-header"},D.a.createElement("span",{style:{color:o}},this.getLabels().question," ",n+1),D.a.createElement("span",{style:{color:o}},n+1,"/",r.length)),this.renderQuestionQuill(e),this.renderImage(e),this.renderVideo(e),this.renderChoices(e),this.renderFeedback(e),this.renderNavigation())}},{key:"renderContent",value:function(){var e=this.state,t=e.current_question,n=e.content,a=e.show_result,r=n.questions;if(r){var o=r[t];return D.a.createElement("div",{className:"element-quiz-2-container"},o&&!a?this.renderQuestionare(o):this.renderResult())}}},{key:"onFinishClick",value:function(){var e=this.state,t=e.content,n=e.activeChoices,a=e.custom_options,r=e.attempsMade,o=t.questions,i=0,c=o.length;o.map(function(){var e=Object(W.a)(Z.a.mark(function e(r){var o,c,s,l,d,u;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0,c=0,s="0",r.answered&&(r.choices.map(function(e){e.correct&&(o++,n[r.id].includes(e.id)&&c++)}),o===c&&c===n[r.id].length&&(i++,s="100")),l=n[r.id]||[],d=r.choices.filter(function(e){return l.includes(e.id)}),!a){e.next=10;break}return u=a.interaction_uid,e.next=10,et.cms.learning.interaction.uid(u).createObject({context_uid:t.id,type:t.type,target_uid:r.id,object_data:d,score:s},a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var s={rdp_html_content:{questions:o,hits:i,total:c,percentage_average:100/c*i,min_percentage:t.utilization.percentage}};this.setState({grades:s,show_result:!0}),this.props.handleComplete(t,n);var l=100/c*i,d=!0;t.utilization&&t.utilization.enabled&&"with_finish_and_minimum_score"===t.scorm_progress_count&&t.utilization.percentage>l&&("with_finish_and_minimum_score"===t.scorm_progress_count||"with_finish_without_minimum_score"===t.scorm_progress_count)&&(d=!1);try{this.props.handleFinish(t,{score:l,finished:d})}catch(u){console.error(u)}this.trackQuizResult(o,s),this.setState({attempsMade:r+1})}},{key:"onRemakeQuestionnaire",value:function(){this.defineAnswered(0,!0),this.setState(function(e){return{answered:!1,grades:null,show_result:!1,current_question:0,activeChoices:[],attempsMade:e.attempsMade+1}}),this.sortQuestions(!0),this.trackRemakeQuiz()}},{key:"getResultLabel",value:function(e,t,n){var a=this.props.contentLanguage;return"en"===a?"You got ".concat(e," of ").concat(t," questions right, equivalent to ").concat(n," of the quiz."):"pt_br"===a?"Voc\xea acertou ".concat(e," de ").concat(t," quest\xf5es, o equivalente a ").concat(n," do question\xe1rio."):void 0}},{key:"renderFinalMessage",value:function(e){return"disabled"===this.state.content.feedback.type?D.a.createElement("span",{className:"rdp-react-quiz-result-message"},this.getLabels().finish_quiz_message):D.a.createElement("span",{className:"rdp-react-quiz-result-message"},this.getResultLabel(e.hits,e.total,"".concat(parseFloat(e.percentage_average).toFixed(0),"%")))}},{key:"renderResult",value:function(){var e=this,t=this.state,n=t.content,a=t.show_result;t.attempsMade,n.max_attempts;if(!0===a){var r=this.state.grades.rdp_html_content;return D.a.createElement("div",{className:"rdp-react-quiz-result"},D.a.createElement("span",{className:"rdp-react-quiz-result-icon"}),this.renderFinalMessage(r),this.userCanRemakeQuiz()&&D.a.createElement("div",{className:"rdp-react-quiz-remake-btn",onClick:function(){return e.onRemakeQuestionnaire()}},D.a.createElement("span",{className:"rdp-react-quiz-remake-btn-icon"},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("g",null,D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z"}),D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z"})))),D.a.createElement("span",{className:"rdp-react-quiz-remake-btn-text"},this.getLabels().retry)))}}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.content,a={backgroundColor:n.background_color,paddingTop:n.padding_top+"px",paddingBottom:n.padding_bottom+"px"};return D.a.createElement("div",{id:n.id,ref:this.elementRef,className:"".concat(this.props.className," ").concat(this.getFont(n.font_family)||""),style:a},t,this.renderContent())}}]),n}(R.Component)),st=Se.b.div(I||(I=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #f9f9f9;\n  width: 100%;\n  height: 50px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n"]))),lt=Se.b.button(q||(q=Object(qe.a)(["\n  background: transparent;\n  color: ",';\n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: 11px;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 2px;\n  cursor: pointer;\n  font-family: Lato-Bold, serif;\n\n  &:disabled,\n  &[disabled="true"],\n  &[disabled="disabled"] {\n    color: #A1A1A1;\n    cursor: default;\n  }\n'])),function(e){return e.primaryColor||"#2d7b45"}),dt=Se.b.div(S||(S=Object(qe.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: ",";\n"])),function(e){return e.justify||"middle"}),ut=Object(Se.b)(lt)(T||(T=Object(qe.a)(["\n  background: ",";\n  color: ",';\n  border-radius: 30px;\n  cursor: pointer;\n  margin-right: 20px;\n\n  &:disabled,\n  &[disabled="true"],\n  &[disabled="disabled"] {\n    cursor: not-allowed;\n    opacity: 0.5;\n    color: white;\n  }\n  \n  &:focus {\n    outline: 2px solid '," !important;\n    outline-offset: 2px !important;\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.primaryColor||"#2d7b45"}),mt=Se.b.div(M||(M=Object(qe.a)(["\n  flex: 2;\n  max-width: 300px;\n"]))),pt=Se.b.div(z||(z=Object(qe.a)(["\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n"]))),ht=Se.b.div(L||(L=Object(qe.a)(["\n  width: calc(100% - 40px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n"]))),ft=Se.b.div(B||(B=Object(qe.a)(["\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n"]))),gt=Se.b.span(N||(N=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 11px;\n  margin-left: 5px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n"])));var vt=function(e){var t=e.primaryColor,n=e.currentProgress,a=void 0===n?1:n,r=e.totalProgress,o=void 0===r?2:r,i=100/o*a+"%";return D.a.createElement(mt,null,D.a.createElement(pt,null,D.a.createElement(ht,null,D.a.createElement(ft,{style:{width:i,backgroundColor:t}})),D.a.createElement(gt,{style:{color:t}},a,"/",o)))};var bt,At=function(e){var t=e.onClickPrevius,n=e.onClickNext,a=e.onClickFinish,r=e.labels,o=e.primaryColor,i=e.currentProgress,c=void 0===i?1:i,s=e.totalProgress,l=void 0===s?2:s,d=e.showFinishButton,u=void 0!==d&&d,m=e.disableFinishButton,p=void 0===m||m;return D.a.createElement(st,null,D.a.createElement(dt,{justify:"left"},function(){if(1!==c)return D.a.createElement(lt,{tabIndex:1,onClick:t,primaryColor:o},r.previous)}()),D.a.createElement(vt,{primaryColor:o,currentProgress:c,totalProgress:l}),D.a.createElement(dt,{justify:"right"},u?D.a.createElement(ut,{tabIndex:1,primaryColor:o,onClick:a,disabled:p},r.finish):D.a.createElement(lt,{onClick:n,primaryColor:o},r.next)))};function _t(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).join(" ").trim()}var xt=Se.b.div(bt||(bt=Object(qe.a)(["\n  transition: all 0.3s ease-out;\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  position: relative;\n  background: #ffffff;\n  overflow: hidden;\n  border: 1px solid #ddd;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0, 0, 0, 0.05);\n  padding: 35px 35px 58px 35px;\n"]))),wt=["children"];var yt,kt=function(e){var t=e.children,n=Object($.a)(e,wt);return D.a.createElement(xt,n,t)},Et=Se.b.div(yt||(yt=Object(qe.a)(["\n  margin-top: 0;\n  padding-top: 10px;\n"]))),Ct=["type","children"];var jt,Ot,It,qt,St=function(e){var t=e.type,n=void 0===t?"radiogroup":t,a=e.children,r=Object($.a)(e,Ct);return D.a.createElement(Et,Object.assign({role:n},r),a)},Tt=Se.b.div(jt||(jt=Object(qe.a)(["\n  margin-bottom: 10px;\n"]))),Mt=Se.b.span(Ot||(Ot=Object(qe.a)(["\n  font-weight: bold;\n  text-transform: uppercase;\n  color: ","\n"])),function(e){return e.primaryColor||"#00643e"}),zt=Object(Se.b)(Mt)(It||(It=Object(qe.a)([""]))),Lt=Object(Se.b)(Mt)(qt||(qt=Object(qe.a)(["\n  float: right;\n  letter-spacing: 2px;\n"])));var Bt,Nt=function(e){var t=e.primaryColor,n=e.labels,a=e.current,r=e.total;return D.a.createElement(Tt,null,D.a.createElement(zt,{primaryColor:t},n.question," ",a+1),D.a.createElement(Lt,{primaryColor:t},a+1,"/",r))},Rt=n(14),Dt=Se.b.div(Bt||(Bt=Object(qe.a)(["\n  transition: all 0.3s ease-out;\n  border: 1px solid ",";\n  border-radius: "," !important;\n  margin: 10px 0;\n  cursor: pointer;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  display: flex;\n\n  &:hover {\n    background: #f8f8f8;\n    border-radius: 10px;\n  }\n  \n  &:disabled,\n  &[disabled],\n  &[disabled=disabled],\n  &[disabled=true] {\n    cursor: not-allowed;\n  }\n"])),function(e){return e.borderColor||"transparent"},function(e){return e.borderRadius||0}),Qt=["children","className","selected","primaryColor","selectedColor","borderRadius","disabled"];var Ft,Vt,Ht=function(e){var t=e.children,n=e.className,a=e.selected,r=e.primaryColor,o=e.selectedColor,i=(e.borderRadius,e.disabled),c=Object($.a)(e,Qt);return D.a.createElement(Dt,Object.assign({},c,{borderColor:a?o||r:null,className:_t(["element-choice",n]),borderRadius:a&&i?"0px":"10px",disabled:i}),t)},Pt=Se.b.span(Ft||(Ft=Object(qe.a)(["\n  --primary-color: ",";\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n"])),function(e){return e.primaryColor||"#00643e"}),Ut=Se.b.input(Vt||(Vt=Object(qe.a)(['\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  border-radius: 50%;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n  \n  \n  &::before {\n    content: "";\n    width: 0.65em;\n    height: 0.65em;\n    border-radius: 50%;\n    transform: scale(0);\n    transition: 120ms transform ease-in-out;\n    background-color: var(--primary-color);\n  }\n  \n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    transform: scale(1);\n  }\n']))),Kt=["value","primaryColor","checked","onChange"];var Yt,Gt,Jt,Zt,Wt,Xt,$t,en=function(e){var t=e.value,n=void 0===t?"":t,a=e.primaryColor,r=e.checked,o=e.onChange,i=Object($.a)(e,Kt);return D.a.createElement(Pt,{primaryColor:a},D.a.createElement(Ut,Object.assign({type:"radio",checked:r,value:n,onChange:o,readOnly:!o},i)))},tn=Se.b.div(Yt||(Yt=Object(qe.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n"]))),nn=Se.b.div(Gt||(Gt=Object(qe.a)(["\n  display: inline-flex;\n"]))),an=Se.b.div(Jt||(Jt=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n  width: 100%;\n"]))),rn=Object(Se.b)(an)(Zt||(Zt=Object(qe.a)([""]))),on=Se.b.div(Wt||(Wt=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n"]))),cn=Se.b.div(Xt||(Xt=Object(qe.a)(["\n  width: 100%;\n"]))),sn=Se.b.img($t||($t=Object(qe.a)(["\n  width: -webkit-fill-available;\n  margin: 20px;\n"])));var ln,dn=function(e){var t=e.data,n=void 0===t?null:t,a=e.mediaMaxWidth,r=a?{maxWidth:a.toString()+"px"}:{};return null!==n?D.a.createElement(sn,{src:n,style:r}):null},un=Se.b.img(ln||(ln=Object(qe.a)(["\n  width: calc(100% - 60px);\n  margin: 20px;\n"])));var mn,pn,hn=function(e){var t=e.data,n=void 0===t?null:t,a=e.mediaMaxWidth,r=a?{maxWidth:a.toString()+"px"}:{};return null!==n?D.a.createElement(un,{controls:!0,src:n,style:r}):null},fn=Se.b.span(mn||(mn=Object(qe.a)(["\n  --primary-color: ",";\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n"])),function(e){return e.primaryColor||"#00643e"}),gn=Se.b.input(pn||(pn=Object(qe.a)(['\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n\n  &:before {\n    position: absolute;\n    top: 11px;\n    left: 7px;\n    content: "";\n    width: 3px;\n    height: 0;\n    transform: rotate(140deg);\n    transition: all 0.2s ease-out;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n\n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    top: 7px;\n    left: 4px;\n    height: 7px;\n    opacity: 1;\n  }\n  \n  &:after {\n    content: "";\n    position: absolute;\n    top: 11px;\n    left: 6px;\n    width: 3px;\n    height: 0;\n    transform: rotate(50deg);\n    transition: all 0.2s ease-in;\n    transition-delay: 50ms;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n  \n  &:checked:after,\n  &[checked=true]:after,\n  &[checked=checked]:after {\n    top: 3px;\n    left: 10px;\n    height: 10px;\n    opacity: 1;\n  }\n\n  @keyframes grow-after {\n    0% {\n      height: 0;\n    }\n    100% {\n      height: 10px;\n    }\n  }\n']))),vn=["primaryColor","checked"];var bn=function(e){var t=e.primaryColor,n=e.checked,a=void 0!==n&&n,r=Object($.a)(e,vn),o=D.a.useState(a),i=Object(Rt.a)(o,2),c=i[0],s=i[1];return D.a.useEffect(function(){a!==c&&s(a)},[a]),D.a.createElement(fn,{primaryColor:t},D.a.createElement(gn,Object.assign({type:"checkbox",checked:c,readOnly:!0},r)))};var An=function(e,t,n){switch(n.type){case"quiz-1":return e[n.id]===t.id;case"quiz-2":return e[n.id]&&e[n.id].includes(t.id);case"quiz-3":return String(e[n.id]).toLowerCase()===String(t.text).toLowerCase();case"quiz-4":return String(e[n.id])&&void 0!==e[n.id].find(function(e){return e.sourceId===t.id&&e.destinationId===t.id});default:return null}};var _n,xn,wn=function(e){var t=e.question,n=e.type,a=e.choice,r=e.content,o=e.disabled,i=void 0!==o&&o,c=e.activeChoices,s=void 0===c?[]:c,l=e.onChoiceClick,d=void 0===l?function(){}:l,u=D.a.useState(r.primary_color||"#00bcd4"),m=Object(Rt.a)(u,2),p=m[0],h=m[1],f=An(s,a,t);return Object(R.useEffect)(function(){if(f&&i){var e=!1;t.choices.forEach(function(t){t.correct&&f&&(e=!0)}),h(e?r.correct_color:r.incorrect_color)}},[s,a]),Object(R.useEffect)(function(){h(r.primary_color||"#00bcd4")},[r]),D.a.createElement(D.a.Fragment,null,D.a.createElement(Ht,{role:"button",selected:f,primaryColor:r.primary_color,selectedColor:p,disabled:i,onClick:function(){if(!i&&"function"===typeof d)try{d(t,a)}catch(e){console.error(e)}}},D.a.createElement(on,null,D.a.createElement(nn,null,function(){switch(n){case"quiz-1":return function(e,t){return D.a.createElement(en,{value:t.text,checked:f,primaryColor:r.primary_color})}(0,a);case"quiz-2":return D.a.createElement(bn,{checked:f,primaryColor:r.primary_color});default:return null}}(),D.a.createElement(tn,{dangerouslySetInnerHTML:{__html:a.text}})),D.a.createElement(an,null,D.a.createElement(rn,null,D.a.createElement(cn,null,a.image&&D.a.createElement(dn,{data:a.image,mediaMaxWidth:a.media_max_width})||a.video&&D.a.createElement(hn,{data:a.video,mediaMaxWidth:a.media_max_width})))))))},yn=Se.b.div(_n||(_n=Object(qe.a)(["\n  border-bottom: 1px solid #f2f2f2;\n"]))),kn=Se.b.div(xn||(xn=Object(qe.a)(["\n  border-bottom: 1px solid #f2f2f2;\n  user-select: none;\n  padding: 10px;\n"])));var En,Cn,jn,On,In=function(e){var t=e.question,n=e.editable,a=void 0!==n&&n;return D.a.createElement(yn,null,a?D.a.createElement("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:t.question}}):D.a.createElement(kn,{dangerouslySetInnerHTML:{__html:t.question}}))},qn=Se.b.div(En||(En=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n"]))),Sn=Se.b.button(Cn||(Cn=Object(qe.a)(["\n  transition: all 0.3s ease-out;\n  display: block;\n  margin: 0 auto;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n"]))),Tn=Se.b.button(jn||(jn=Object(qe.a)(["\n  margin: 20px 10px;\n  transition: all 0.3s ease-out;\n  display: block;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n"]))),Mn=Se.b.div(On||(On=Object(qe.a)(["\n  transition: all 0.3s ease-out;\n  text-align: center;\n  line-height: 1.42;\n\n  p {\n    margin: 10px auto;\n    font-weight: 500;\n    color: #333;\n  }\n"])));var zn=function(e,t){var n=e.choices,a=void 0===n?[]:n,r=0,o=0;return!a.length||(a.forEach(function(n){if("correct"in n&&!0===n.correct){var a=An(t,n,e);r++,a&&o++}else"correct"in n||An(t,n,e)&&(r++,o++)}),r>0&&r===o&&("string"===typeof t[e.id]||o===t[e.id].length))};var Ln,Bn,Nn=function(e){var t=e.question,n=e.activeChoices,a=e.content,r=e.labels,o=e.answered,i=void 0!==o&&o,c=e.onClickConfirm,s=void 0===c?function(e){}:c,l=e.onClickEdit,d=void 0===l?function(e){}:l,u=a.primary_color,m=a.feedback;return D.a.createElement(qn,null,i?D.a.createElement(D.a.Fragment,null,function(e){if("quiz-5"===e.type)return D.a.createElement(D.a.Fragment,null,D.a.createElement(Mn,null,r.answer_saved),D.a.createElement(Tn,{onClick:function(){return n[e.id]&&d(e.id)},style:{backgroundColor:n[e.id]?u:"#F1F1F1"}},r.edit||"Editar"));var t=zn(e,n),o=e.no_correct_answer;return"disabled"===m.type||e.no_feedback?null:D.a.createElement(Mn,null,t&&!o?function(e){var t=r.right,n=null,o=null,i=null;return"correct_incorrect"===a.feedback.type?(t=e.feedback_correct.text?e.feedback_correct.text:t,n=e.feedback_correct.image,o=e.feedback_correct.video,i=e.feedback_correct.media_max_width):(t=e.feedback_default.text?e.feedback_default.text:t,n=e.feedback_default.image,o=e.feedback_default.video,i=e.feedback_default.media_max_width),D.a.createElement("div",null,!n&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:a.correct_color?a.correct_color:a.primary_color,d:"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z"}),D.a.createElement("path",{fill:a.correct_color?a.correct_color:a.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z"})),n&&D.a.createElement(dn,{data:n,mediaMaxWidth:i})||o&&D.a.createElement(hn,{data:o,mediaMaxWidth:i}),D.a.createElement("p",null,t))}(e):o?function(e){var t=e.feedback_default.text,n=e.feedback_default.image,a=e.feedback_default.video,r=e.feedback_default.media_max_width;return D.a.createElement("div",null,n&&D.a.createElement(dn,{data:n,mediaMaxWidth:r})||a&&D.a.createElement(hn,{data:a,mediaMaxWidth:r}),t&&D.a.createElement("p",null,t))}(e):function(e){var t=r.incorrect,n=null,o=null,i=null;return"correct_incorrect"===a.feedback.type?(t=e.feedback_incorrect.text?e.feedback_incorrect.text:t,n=e.feedback_incorrect.image,o=e.feedback_incorrect.video,i=e.feedback_incorrect.media_max_width):(t=e.feedback_default.text?e.feedback_default.text:t,n=e.feedback_default.image,o=e.feedback_default.video,i=e.feedback_default.media_max_width),D.a.createElement("div",null,!n&&!o&&D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"56px",height:"56px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("path",{fill:a.incorrect_color?a.incorrect_color:a.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z"}),D.a.createElement("path",{fill:a.incorrect_color?a.incorrect_color:a.primary_color,fillRule:"evenodd",clipRule:"evenodd",d:"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z"})),n&&D.a.createElement(dn,{data:n,mediaMaxWidth:i})||o&&D.a.createElement(hn,{data:o,mediaMaxWidth:i}),D.a.createElement("p",null,t))}(e))}(t)):D.a.createElement(Sn,{onClick:function(){return n[t.id]&&s(t.id)},style:{backgroundColor:n[t.id]?u:"#F1F1F1"}},r.confirm))},Rn=Se.b.div(Ln||(Ln=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n"]))),Dn=Se.b.textarea(Bn||(Bn=Object(qe.a)(["\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"});var Qn,Fn,Vn=function(e){var t=e.disabled,n=e.primaryColor,a=e.onChange,r=void 0===a?function(e){}:a,o=e.defaultValue,i=void 0===o?"":o,c=D.a.useState(i),s=Object(Rt.a)(c,2),l=s[0],d=s[1];return D.a.createElement(Rn,null,D.a.createElement(Dn,{tabIndex:1,value:l,onChange:function(e){d(e.target.value),r(e.target.value)},disabled:t,primaryColor:n,rows:10}))},Hn=Se.b.div(Qn||(Qn=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n"]))),Pn=Se.b.input(Fn||(Fn=Object(qe.a)(["\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"});var Un,Kn,Yn,Gn,Jn,Zn,Wn,Xn,$n,ea,ta,na,aa,ra,oa,ia,ca=function(e){var t=e.disabled,n=e.primaryColor,a=e.onChange,r=void 0===a?function(e){}:a,o=e.value,i=void 0===o?"":o;return D.a.createElement(Hn,null,D.a.createElement(Pn,{tabIndex:1,value:i,onChange:function(e){r(e.target.value)},disabled:t,primaryColor:n}))},sa=Se.b.div(Un||(Un=Object(qe.a)(["\n  width: 100%;\n  display: grid;\n  position: relative;\n  transition: all 1s ease-in-out;\n"]))),la=Se.b.p(Kn||(Kn=Object(qe.a)(["\n  padding: 3px 30px;\n  max-height: ","px;\n  overflow: hidden;\n  text-align: justify !important;\n\n  @media screen and (max-width: 480px) {\n    max-height: ","px;\n    padding-right: 10px;\n    z-index: 3;\n  }\n"])),function(e){return 15*e.lines},function(e){return 25*e.lines}),da=Se.b.ol(Yn||(Yn=Object(qe.a)(["\n  width: 85%;\n  margin-left: 20%;\n"]))),ua=Se.b.div(Gn||(Gn=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),ma=Se.b.ol(Jn||(Jn=Object(qe.a)(["\n  width: 100%;\n  position: relative;\n  height: ","px;\n\n  @media screen and (max-width: 480px) {\n    height: ","px;\n  }\n"])),function(e){return 15*e.lines},function(e){return 25*e.lines}),pa=Se.b.ol(Zn||(Zn=Object(qe.a)(["\n  width: 80%;\n  margin-right: 20%;\n  display: grid;\n  grid-template-columns: 10% 75%;\n  grid-gap: 35%;\n\n  ","\n"])),function(e){return e.connected&&Object(Se.a)(Wn||(Wn=Object(qe.a)(["\n    grid-template-columns: 10% 85%;\n    grid-gap: 25%;\n\n    @media screen and (max-width: 480px) {\n      grid-template-columns: 0 100%;\n      grid-gap: 25%;\n    }\n\n    @media screen and (min-width: 430px) and (max-width: 479px) {\n      grid-gap: 15%;\n    }\n  "])))}),ha=Se.b.li(Xn||(Xn=Object(qe.a)(["\n  min-width: 200px;\n  height: ","px;\n  flex: 2;\n  background-color: whitesmoke;\n  position: relative;\n  border: 1px solid #ccc;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  word-break: break-word;\n  font-size: 15px;\n  line-height: 15px;\n\n  @media screen and (max-width: 480px) {\n    height: ","px;\n    transform: scale(0.7);\n  }\n"])),function(e){return 15*e.lines},function(e){return 25*e.lines}),fa=Object(Se.b)(ha)($n||($n=Object(qe.a)(['\n  z-index: 2;\n  width: 45%;\n  border-right: none;\n  cursor: grab;\n  border-left-color: whitesmoke;\n  \n  &:active {\n    cursor: grabbing;\n  }\n  \n  &:after {\n    content: "";\n    height: ',"px;\n    width: 100%;\n    position: absolute;\n    border-left: 5px solid ",";\n  }\n\n  @media screen and (max-width: 480px) {\n    &:after {\n      height: ","px;\n    }\n  }\n  \n  &:hover {\n    background-color: #eaeaea;\n    border-left-color: #eaeaea;\n\n    img {\n      opacity: 1;\n    }\n  }\n  \n  ","\n"])),function(e){return 15*e.lines},function(e){return e.primaryColor||"#ccc"},function(e){return 25*e.lines},function(e){return e.hidden&&Object(Se.a)(ea||(ea=Object(qe.a)(["\n    opacity: 0;\n    pointer-events: none;\n  "])))}),ga=Object(Se.b)(ha)(ta||(ta=Object(qe.a)(["\n  z-index: 1;\n  border-left: none;\n  width: 100%;\n  \n  padding-left: ","px;\n\n  @media screen and (max-width: 480px) {\n    padding-left: 30px;\n  }\n  \n  min-width: 100px;\n"])),function(e){return 15*e.lines/4}),va=Se.b.div(na||(na=Object(qe.a)(["\n  width: 0;\n  border-top: ","px solid transparent;\n  border-bottom: ","px solid transparent;\n  border-left: ","px solid transparent;\n  position: absolute;\n  top: 0;\n  margin-top: auto;\n  transition: none;\n\n  @media screen and (max-width: 480px) {\n    border-top: ","px solid transparent;\n    border-bottom: ","px solid transparent;\n    border-left: ","px solid transparent;\n  }\n"])),function(e){return 15*e.lines/2},function(e){return 15*e.lines/2},function(e){return 15*e.lines/4},function(e){return 25*e.lines/2},function(e){return 25*e.lines/2},function(e){return 25*e.lines/5}),ba=Object(Se.b)(va)(aa||(aa=Object(qe.a)(["\n  right: -","px;\n  border-left-color: inherit;\n  z-index: 2;\n\n  @media screen and (max-width: 480px) {\n    right: -","px;\n  }\n"])),function(e){return 15*e.lines/4},function(e){return 25*e.lines/5}),Aa=Object(Se.b)(va)(ra||(ra=Object(qe.a)(["\n  left: 0;\n  border-left-color: white;\n  z-index: 1;\n\n  @media screen and (max-width: 480px) {\n    ","\n  }\n"])),function(e){return e.connected&&Object(Se.a)(oa||(oa=Object(qe.a)(["\n      display: none;\n    "])))}),_a=Se.b.img(ia||(ia=Object(qe.a)(["\n  width: 30px;\n  height: ","px;\n  opacity: 0.5;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  @media screen and (max-width: 480px) {\n    height: ","px;\n  }\n"])),function(e){return 15*e.lines},function(e){return 25*e.lines}),xa=n(169),wa=n.n(xa),ya=n(65);var ka=function(e){var t=e.primaryColor,n=e.data,a=void 0===n?[]:n,r=e.disabled,o=e.onChange,i=void 0===o?function(e){}:o,c=Object(Ie.a)(a).sort(function(){return Math.random()-.5}),s=a,l=D.a.useState(c||[]),d=Object(Rt.a)(l,2),u=d[0],m=d[1],p=D.a.useState([]),h=Object(Rt.a)(p,2),f=h[0],g=h[1],v=D.a.useMemo(function(){var e=1;return c.forEach(function(t){var n=t.title.length/40,a=t.matchTitle.length/40;e=Math.max(e,n,a)}),e>3?e:3});D.a.useEffect(function(){"function"===typeof i&&(f.length===c.length?i(f):i(null))},[f]);var b=function(e){var t=u[e.source.index],n=s.find(function(t){return t.matchTitle===e.destination.droppableId}),a=Object(Ie.a)(f);a=a.filter(function(e){return e.destinationId!==n.id&&e.sourceId!==t.id});var r={sourceId:t.id,destinationId:n.id,title:t.title,matchTitle:e.destination.droppableId,correct:t.id===n.id};a.push(r),g(a)},A=function(e){var t=u.find(function(t){return t.title===e.draggableId}),n=s.find(function(t){return t.matchTitle===e.destination.droppableId}),a=s.indexOf(n);return{source:u.indexOf(t),destination:a}},_=function(e){return"choices"===e.source.droppableId},x=function(e){return"choices"===e.source.droppableId&&"choices"!==e.destination.droppableId},w=function(e,t){var n=u.splice(e,1),a=Object(Rt.a)(n,1)[0];return u.splice(t,0,a),u},y=function(e,t){var n=Object(Ie.a)(u),a=n[t];return n[t]=n[e],n[e]=a,n};return D.a.createElement(sa,null,D.a.createElement(ya.a,{onDragEnd:function(e){if(e.destination)if(x(e)){b(e);var t=A(e);_(e)&&m(y(t.source,t.destination))}else _(e)&&m(w(e.source.index,e.destination.index))}},D.a.createElement(ua,null,D.a.createElement(ya.c,{droppableId:"choices"},function(e){return D.a.createElement("ol",Object.assign({ref:e.innerRef},e.droppableProps),u.map(function(e,n){return D.a.createElement(ya.b,{key:e.title,isDragDisabled:r,draggableId:e.title,index:n},function(n){return D.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),D.a.createElement(fa,{className:"quiz-match-line__choice",lines:v,primaryColor:t},D.a.createElement(_a,{lines:v,src:wa.a}),D.a.createElement(la,{lines:v},e.title),D.a.createElement(ba,{lines:v,connected:f.find(function(t){return t.title===e.title})})))})}))})),D.a.createElement(da,null,s.map(function(e,t){return D.a.createElement("li",{key:e.matchTitle},D.a.createElement(ya.c,{droppableId:e.matchTitle},function(t){return D.a.createElement("span",Object.assign({ref:t.innerRef},t.droppableProps),D.a.createElement(pa,{className:f.find(function(t){return t.matchTitle===e.matchTitle})?"quiz-match-line__match-line-connected":"quiz-match-line__match-line",key:e.matchTitle,connected:f.find(function(t){return t.matchTitle===e.matchTitle})},D.a.createElement(ma,{lines:v}),D.a.createElement(ga,{className:"quiz-match-line__match",lines:v},D.a.createElement(la,{lines:v},e.matchTitle),D.a.createElement(Aa,{lines:v,connected:f.find(function(t){return t.matchTitle===e.matchTitle})}))))}))}))))};var Ea,Ca,ja,Oa,Ia,qa=function(e){var t=e.questionNumber,n=e.questionTotal,a=e.labels,r=e.activeChoices,o=e.editable,i=e.content,c=e.data,s=e.answered,l=void 0!==s&&s,d=e.onlyShowQuestion,u=void 0!==d&&d,m=e.onAnswering,p=void 0===m?function(e,t){}:m,h=e.onConfirmAnswer,f=void 0===h?function(e){}:h,g=e.onResetAnswer,v=void 0===g?function(e){}:g,b=e.onChange,A=void 0===b?function(e){}:b,_=function(e,t){if(p)try{p(e.id,t)}catch(n){console.error(n)}};if(c){var x=i.primary_color,w=c.image||null,y=c.video||null,k=c.media_max_width||null;return D.a.createElement(D.a.Fragment,null,c&&D.a.createElement(D.a.Fragment,null,D.a.createElement(Nt,{primaryColor:x,current:t,total:n,labels:a}),D.a.createElement(In,{editable:o,question:c,onEditQuestionText:function(e,t){i.questions=i.questions.map(function(n){return n.id===e.id&&(n.question=t),n});try{A(i)}catch(n){console.error(n)}}}),!u&&D.a.createElement(D.a.Fragment,null,w&&D.a.createElement(dn,{data:w,mediaMaxWidth:k})||y&&D.a.createElement(hn,{data:y,mediaMaxWidth:k}),function(e){var t=c.choices||[];switch(e){case"quiz-1":case"quiz-2":return D.a.createElement(St,{type:"radiogroup"},t.map(function(e,t){return D.a.createElement(wn,{key:t,disabled:l,type:c.type,content:i,question:c,choice:e,editable:o,activeChoices:r,onChoiceClick:function(){return _(c,e)},onEditChoiceText:function(t){return function(e,t,n){i.questions=i.questions.map(function(a){return a.id===e.id&&(a.choices=a.choices.map(function(e){return e.id===t.id&&(e.text=n),e})),a});try{A(i)}catch(a){console.error(a)}}(c,e,t)}})}));case"quiz-3":return D.a.createElement(ca,{value:r[c.id]||"",primaryColor:i.primary_color,onChange:function(e){return _(c,e)},disabled:l});case"quiz-4":return D.a.createElement(ka,{primaryColor:i.primary_color,data:t,disabled:l,onChange:function(e){return _(c,e)}});case"quiz-5":var n=i.primary_color;return D.a.createElement(Vn,{defaultValue:r[c.id]||"",primaryColor:n,onChange:function(e){return _(c,e)},disabled:l});default:return null}}(c.type),D.a.createElement(Nn,{question:c,answered:l,content:i,labels:a,activeChoices:r,onClickConfirm:function(e){if(f)try{f(e)}catch(t){console.error(t)}},onClickEdit:function(e){if(v)try{v(e)}catch(t){console.error(t)}}}))))}return null},Sa=Se.b.div(Ea||(Ea=Object(qe.a)(["\n  height: 450px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ta=Se.b.button(Ca||(Ca=Object(qe.a)(["\n  background: none;\n  transition: all 0.3s ease-out;\n  cursor: pointer;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  \n  &:hover {\n    border: 1px dashed #f1f1f1;\n    background: #f1f1f1;\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n"])),function(e){return e.primaryColor||"transparent"}),Ma=Se.b.span(ja||(ja=Object(qe.a)(["\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n"]))),za=Se.b.span(Oa||(Oa=Object(qe.a)(["\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n"]))),La=Se.b.span(Ia||(Ia=Object(qe.a)(["\n  color: #6b6b6b;\n  font-size: 20px;\n  font-weight: 1000;\n  font-family: Lato-Bold,sans-serif;\n  display: block;\n  text-align: center;\n  line-height: 30px;\n"])));var Ba,Na,Ra,Da,Qa,Fa,Va,Ha,Pa,Ua,Ka,Ya,Ga,Ja,Za,Wa,Xa,$a,er,tr,nr,ar,rr,or,ir,cr,sr,lr,dr,ur,mr,pr,hr,fr,gr,vr,br,Ar,_r,xr,wr,yr,kr,Er,Cr,jr,Or,Ir,qr,Sr,Tr,Mr,zr,Lr,Br,Nr,Rr,Dr,Qr,Fr,Vr,Hr,Pr,Ur,Kr,Yr,Gr=function(e){var t=e.grades,n=e.content,a=e.labels,r=e.onClickRemake,o=void 0===r?function(){}:r,i=e.canRemake,c=void 0===i||i,s=e.contentLanguage;return D.a.createElement(Sa,null,D.a.createElement("div",null,function(e){var t,r;return"disabled"===n.feedback.type?D.a.createElement(La,null,a.finish_quiz_message):D.a.createElement(D.a.Fragment,null,D.a.createElement(La,null,(t=e.hits,r=e.total,"".concat(parseFloat(e.percentage_average).toFixed(0),"%"),"en"===s?"You got ".concat(t," of ").concat(r," alternative questions correct."):"pt_br"===s?"Voc\xea acertou ".concat(t," de ").concat(r," quest\xf5es alternativas."):void 0)),e.pending_review_total>0&&D.a.createElement(La,null,function(e){return"en"===s?"This quiz has ".concat(e," dissertation question").concat(e>1?"s":""," awaiting review."):"pt_br"===s?"Este question\xe1rio possui ".concat(e," quest").concat(e>1?"\xf5es":"\xe3o"," dissertativa aguardando revis\xe3o."):void 0}(e.pending_review_total)))}(t.rdp_html_content),"enable"===n.remake&&c&&D.a.createElement(Ta,{tabIndex:1,onClick:o,type:"button",primaryColor:n.primary_color},D.a.createElement(Ma,null,D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("g",null,D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z"}),D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z"})))),D.a.createElement(za,null,a.retry))))},Jr=Se.b.div(Ba||(Ba=Object(qe.a)(["\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n"]))),Zr=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={content:e.props.content,contentBkp:e.props.content,activeChoices:[],answeredQuestionsIds:[],currentQuestionIndex:0,showResult:!1,visible:!1,protocol:null,custom_options:window.cstmptns||{},attempsMade:0,user:{roles:[]},interaction_objects:[]},e.getSignedUserFromJwt=Object(W.a)(Z.a.mark(function t(){var n;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.custom_options){t.next=2;break}return t.abrupt("return");case 2:return n=e.state.custom_options.access_token,t.abrupt("return",new Promise(function(t,a){var r=Object(at.a)(n);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),e.setState({user:r},function(){t(r)})}else a("Error jwt decode")}));case 4:case"end":return t.stop()}},t)})),e.loadContentFromServer=function(){e.recoverObjects().then(e.updateQuestionsBasedOnObjects)},e.loadContentFromDefaultData=function(t){try{var n=e.props.content;if(t&&t.elements){var a,r=n;a=t.elements[n.id].answers?t.elements[n.id].answers:[],e.setState({content:r,activeChoices:a})}}catch(o){console.error(o)}},e.recoverObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.content,a=e.state.custom_options,r=a.activity_uid,void 0!==a){t.next=5;break}return t.abrupt("return");case 5:return o=a.interaction_uid,t.next=8,new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(t,i){var c;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(o).recoverObject({context_uid:r},a);case 3:(c=e.sent)&&c.length>0&&t(c);case 5:i();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t)})),e.updateQuestionsBasedOnObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o,i,c,s,l=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=l.length>0&&void 0!==l[0]?l[0]:[]).length>0&&(a=e.state.content,r=a.questions,o=void 0===r?[]:r,i=0,c=[],a.questions.forEach(function(t){var a=null,r=n.filter(function(e){return e.target_uid===t.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});i=r.length;var o=r.find(function(e){return e.created_at>=a});if(o){c.push(t.id);var s=o.object_data;s&&s.data&&e.updateActiveChoicesBasedOnAnswer(t,s.data)}}),s=c.length-1,e.setState({attempsMade:i,currentQuestionIndex:s>=0?s:0,answered_qtd:c.length,answeredQuestionsIds:c},function(){c.length===o.length&&e.showResult()})),t.abrupt("return",n);case 3:case"end":return t.stop()}},t)})),e.updateActiveChoicesBasedOnAnswer=function(t,n){var a=Object(G.a)({},e.state.activeChoices);a[t.id]=n.choices,e.setState({activeChoices:a})},e.getUsersInteractions=function(){var t=e.state.custom_options,n=t.register_uid,a=t.activity_uid;return et.cms.learning.register.uid(n).interaction.recoverObjects({context_uid:a,activity_uid:a,last_occurrence:!0},t)},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"quiz-match",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a),e.trackQuestionView()}e.setState({visible:n})}},e.trackQuestionView=function(){var t=e.props.content,n=t.questions[e.state.currentQuestionIndex],a={action:"view",element:"quiz-match",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:n.id,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(n.question)}}};e.props.onTrackEvent(a)},e.trackQuizFinishView=function(t){var n=e.props.content,a={action:"view",element:"quiz-match-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,resume:t}};e.props.onTrackEvent(a)},e.getLabels=function(){var t=e.state.content.questions,n=void 0===t?[]:t,a=e.props.contentLanguage,r=void 0===a?"pt_br":a,o={en:{confirm:"Confirm",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:n.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz.",edit:"Edit",answer_saved:"Answer saved!"},pt_br:{confirm:"Confirmar",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:n.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio.",edit:"Editar resposta",answer_saved:"Resposta salva!"}};return o[r]||o.en},e.isFinishButtonVisible=function(){var t=e.state;return t.currentQuestionIndex+1===t.content.questions.length},e.isFinishButtonDisabled=function(){var t=e.state,n=t.content,a=t.answeredQuestionsIds,r=n.questions,o=r.filter(function(e){return a.includes(e.id)});return r.length!==o.length},e.updateContentAndNotifyChange=function(t){e.setState({content:t},function(){e.props.onChange(e.state.content)})},e.setAnswer=function(t,n){var a=e.state.activeChoices;e.setState({activeChoices:Object(G.a)(Object(G.a)({},a),{},Object(ge.a)({},t,n))})},e.setAnswerConfirmation=function(t){var n=e.state.answeredQuestionsIds;e.setState({answeredQuestionsIds:[].concat(Object(Ie.a)(n),[t])})},e.deleteAnswerConfirmation=function(t){var n=e.state.answeredQuestionsIds;e.setState({answeredQuestionsIds:n.filter(function(e){return e!==t})})},e.getContentOnlyWithQuestion=function(t){var n=e.state.content,a=Object(G.a)({},n);return a.questions=[t],a},e.goToPreviusQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t-1})},e.goToNextQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t+1})},e.renderContentFor=function(t){var n=e.props,a=n.editable,r=n.contentLanguage,o=n.headerActionsTemplate,i=n.footerActionsTemplate,c=e.state,s=c.content,l=c.showResult,d=c.activeChoices,u=c.answeredQuestionsIds,m=c.grades,p=s.questions,h=s.primary_color;if(l)return D.a.createElement(Gr,{grades:m,labels:e.getLabels(),onClickRemake:e.resetState,content:s,contentLanguage:r});if(p){var f=p[t];return f.type="quiz-4",D.a.createElement(D.a.Fragment,null,D.a.createElement(qa,{data:f,answered:u.includes(f.id),labels:e.getLabels(),editable:a,content:e.getContentOnlyWithQuestion(f),questionNumber:t,questionTotal:p.length,contentLanguage:r,headerActionsTemplate:o,footerActionsTemplate:i,activeChoices:d,onAnswering:e.setAnswer,onConfirmAnswer:e.setAnswerConfirmation,onResetAnswer:e.deleteAnswerConfirmation,onUpdateContent:e.updateContentAndNotifyChange}),D.a.createElement(At,{showFinishButton:e.isFinishButtonVisible(),disableFinishButton:e.isFinishButtonDisabled(),currentProgress:t+1,totalProgress:p.length,primaryColor:h,labels:e.getLabels(),activeChoices:d,onClickPrevius:e.goToPreviusQuestion,onClickNext:e.goToNextQuestion,onClickFinish:e.onFinishClick}))}return null},e.createInteractionObject=function(){var t=Object(W.a)(Z.a.mark(function t(n){var a,r,o,i,c,s,l;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,r=a.content,o=a.custom_options,i=a.activeChoices,c={choices:i[n.id]||[],id:null},!o){t.next=5;break}return s=o.interaction_uid,l=o.activity_uid,t.abrupt("return",et.cms.learning.interaction.uid(s).createObject({context_uid:l,type:r.type,target_uid:n.id,object_data:c},o));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onFinishClick=Object(W.a)(Z.a.mark(function t(){var n,a,r;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.content,a=n.questions,r=a.map(function(){var t=Object(W.a)(Z.a.mark(function t(n){return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createInteractionObject(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.all(r);case 5:e.showResult();case 6:case"end":return t.stop()}},t)})),e.showResult=function(){var t=e.state,n=t.content,a=t.activeChoices,r=t.answeredQuestionsIds,o=t.attempsMade,i=n.questions,c=0,s=i.length;i.forEach(function(e){r.includes(e.id)&&zn(e,a)&&c++});var l={rdp_html_content:{questions:i,hits:c,total:s,percentage_average:100/s*c}};e.setState({grades:l,showResult:!0,attempsMade:o+1},function(){e.trackQuizFinishView(l)})},e.resetState=function(){e.setState({answered:!1,grades:null,showResult:!1,currentQuestionIndex:0,activeChoices:[],answeredQuestionsIds:[]}),e.sortQuestions(!0)},e.getFont=function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.defaultData;n&&n.elements&&n.elements[t.id]&&this.getSignedUserFromJwt().then(this.loadContentFromDefaultData),this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){this.trackElementView()}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r=e.className,o=this.state.currentQuestionIndex;return D.a.createElement(Jr,{ref:this.elementRef,className:_t([r,this.getFont(a.font_family)||""]),style:{backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"}},t,D.a.createElement(kt,null,this.renderContentFor(o)),n)}}]),n}(R.Component),Wr=n(80),Xr=(n(322),Se.b.div(Na||(Na=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n"])))),$r=Se.b.textarea(Ra||(Ra=Object(qe.a)(["\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  user-select: text !important;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"}),eo=Se.b.div(Da||(Da=Object(qe.a)(["\n  padding: 20px 10px 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),to=Se.b.div(Qa||(Qa=Object(qe.a)(["\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n"]))),no=Se.b.button(Fa||(Fa=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"}),ao=Se.b.button(Va||(Va=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ",";\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n    background: ",";\n    color: ",";\n  }\n  \n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.background||"#2d7b45"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"}),ro=Se.b.button(Ha||(Ha=Object(qe.a)(["\n  transition: all 0.3s ease-out;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  color: ",";\n  \n  &:hover {\n    border: 1px dashed ",";\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n"])),function(e){return e.color||"#2d7b45"},function(e){return e.color||"#2d7b45"},function(e){return e.color||"#2d7b45"}),oo=Se.b.div(Pa||(Pa=Object(qe.a)(["\n  margin: 40px auto;\n"]))),io=Se.b.span(Ua||(Ua=Object(qe.a)(["\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n"]))),co=Se.b.span(Ka||(Ka=Object(qe.a)(["\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n"]))),so=Se.b.div(Ya||(Ya=Object(qe.a)(["\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n"]))),lo=Se.b.div(Ga||(Ga=Object(qe.a)(["\n  position: absolute;\n  left: 0;\n  top: 10px;\n\n  button {\n    margin: 0 0 0 10px;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n"]))),uo={ESC:27},mo=Se.b.div(Ja||(Ja=Object(qe.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n"]))),po=Se.b.div(Za||(Za=Object(qe.a)(["\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n"]))),ho=Se.b.form(Wa||(Wa=Object(qe.a)([""]))),fo=Se.b.div(Xa||(Xa=Object(qe.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),go=(Se.b.div($a||($a=Object(qe.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n"]))),Se.b.button(er||(er=Object(qe.a)(["\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n"])),function(e){return e.background||"#000"},function(e){return e.color||"#FFF"},function(e){return e.background||"#000"}),Se.b.button(tr||(tr=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n"])),function(e){return e.primaryColor||"black"},function(e){return e.primaryColor||"black"})),vo=Se.b.div(nr||(nr=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n"]))),bo=Se.b.div(ar||(ar=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n"]))),Ao=Se.b.div(rr||(rr=Object(qe.a)(["\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n"]))),_o=Se.b.div(or||(or=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n"])),function(e){return e.background||"#000"}),xo=Se.b.div(ir||(ir=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n"])),function(e){return e.background||"#000"}),wo=Se.b.div(cr||(cr=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n"]))),yo=Se.b.div(sr||(sr=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n"]))),ko=Object(Se.b)(yo)(lr||(lr=Object(qe.a)(["\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n"]))),Eo=Se.b.div(dr||(dr=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),Co=Se.b.div(ur||(ur=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n"]))),jo=Se.b.div(mr||(mr=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Oo=Se.b.div(pr||(pr=Object(qe.a)(["\n  overflow: hidden;\n  position: relative;\n"]))),Io=Se.b.div(hr||(hr=Object(qe.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ","\n"])),function(e){return e.isVisible&&Object(Se.a)(fr||(fr=Object(qe.a)(["\n    pointer-events: all;\n    opacity: 1;\n  "])))}),qo=Se.b.ul(gr||(gr=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n"]))),So=Se.b.li(vr||(vr=Object(qe.a)(["\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n"]))),To=Se.b.button(br||(br=Object(qe.a)(["\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ",' !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected="true"] {\n    outline: 2px solid '," !important;\n    outline-offset: -2px;\n    color: ",";\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Mo=Se.b.label(Ar||(Ar=Object(qe.a)(["\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ",";\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n"])),function(e){return e.checkColor||"#002bff"}),zo=Se.b.input(_r||(_r=Object(qe.a)(["\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n"]))),Lo=Se.b.span(xr||(xr=Object(qe.a)(['\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n']))),Bo=Se.b.p(wr||(wr=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n"]))),No=Se.b.label(yr||(yr=Object(qe.a)([""]))),Ro=Se.b.textarea(kr||(kr=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Do=Se.b.label(Er||(Er=Object(qe.a)(["\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n"]))),Qo=Se.b.input(Cr||(Cr=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -1px;\n    border: 1px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#a9a8a8"},function(e){return e.primaryColor||"#e9e9e9"}),Fo=Se.b.img(jr||(jr=Object(qe.a)(["\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n"]))),Vo=Se.b.button(Or||(Or=Object(qe.a)(["\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n"])),function(e){return e.primaryColor||"black"}),Ho=Se.b.p(Ir||(Ir=Object(qe.a)(["\n  font-weight: bold;\n  color: ",";\n"])),function(e){return e.primaryColor||"black"}),Po=Se.b.div(qr||(qr=Object(qe.a)(["\n  position: relative;\n  margin-top: 20px;\n"]))),Uo=Se.b.div(Sr||(Sr=Object(qe.a)(["\n  top: 0;\n  right: 0;\n  position: absolute;\n"]))),Ko=Se.b.ul(Tr||(Tr=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n"]))),Yo=Se.b.li(Mr||(Mr=Object(qe.a)(["\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n"]))),Go=n(52),Jo=n.n(Go),Zo=n(53),Wo=n.n(Zo),Xo=Se.b.div(zr||(zr=Object(qe.a)(["\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),$o=Se.b.div(Lr||(Lr=Object(qe.a)(["\n\tposition: relative;\n"]))),ei=Se.b.button(Br||(Br=Object(qe.a)(["\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ",";\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),ti=Se.b.span(Nr||(Nr=Object(qe.a)(["\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ",";\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t","\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return"true"===e.rotate&&Object(Se.a)(Rr||(Rr=Object(qe.a)(["\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t"])))}),ni=Se.b.ul(Dr||(Dr=Object(qe.a)(["\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ",";\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  z-index: ",";\n  \n  ","\n\n  ","\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n"])),function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.zIndex||"var(--note-dropdown-list-z-index)"},function(e){return"bottom"===e.pos&&Object(Se.a)(Qr||(Qr=Object(qe.a)(["\n    top: auto;\n  "])))},function(e){return"top"===e.pos&&Object(Se.a)(Fr||(Fr=Object(qe.a)(["\n    bottom: 14px;\n  "])))}),ai=Se.b.li(Vr||(Vr=Object(qe.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ","};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid "," !important;\n }\n"])),function(e){return e.hoverColor||"var(--note-dropdown-background-hover-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),ri=Se.b.div(Hr||(Hr=Object(qe.a)(["\n  padding: 0 10px;\n"]))),oi=Se.b.span(Pr||(Pr=Object(qe.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  padding: 4px;\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"}),ii=Se.b.div(Ur||(Ur=Object(qe.a)(["\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n"]))),ci=n(171),si=n.n(ci),li=Se.b.div(Kr||(Kr=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),di=Se.b.img(Yr||(Yr=Object(qe.a)(["\n  width: auto;\n  height: ",";\n"])),function(e){return e.height});function ui(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,o=e.gifHeight,i=void 0===o?"auto":o;return D.a.createElement(li,{style:{width:n,height:r}},D.a.createElement(di,{src:si.a,alt:"loading...",height:i}))}var mi=function(e){var t=e.notes,n=void 0===t?[0,1,2,3,4,5,6,7,8,9,10]:t,a=e.label,r=void 0===a?"Atribuir nota":a,o=e.selected,i=void 0===o?0:o,c=e.listTitle,s=void 0===c?"Notas":c,l=e.onSelect,d=void 0===l?function(e){return e}:l,u=e.onHoverNote,m=void 0===u?function(e){return e}:u,p=e.open,h=void 0!==p&&p,f=e.primaryColor,g=void 0===f?"#00643e":f,v=e.backgroundColor,b=void 0===v?"#fff":v,A=e.backgroundHoverColor,_=void 0===A?"rgba(213, 213, 213, 0.49)":A,x=e.listZIndex,w=void 0===x?1:x,y=e.position,k=void 0===y?"bottom":y,E=e.show,C=void 0===E||E,j=e.isLoadingNote,O=Object(R.useRef)(),I=Object(R.useState)(k),q=Object(Rt.a)(I,2),S=q[0],T=q[1],M=Object(R.useState)(h),z=Object(Rt.a)(M,2),L=z[0],B=z[1],N=Object(R.useState)(null),Q=Object(Rt.a)(N,2),F=Q[0],V=Q[1];Object(R.useEffect)(function(){if(L&&O&&O.current){var e=O.current.getBoundingClientRect(),t=e.y,n=e.height,a=S;"top"===a&&(n+=n),(a=t+n>=window.innerHeight?"top":"Bottom")!==S&&T(a)}},[L,O]);var H=function(e,t){V(t),m&&m(t)};return D.a.createElement(Xo,null,C&&D.a.createElement($o,null,D.a.createElement(ei,{type:"button","aria-haspopup":"listbox","aria-expanded":L?"true":"false",onClick:function(e){e.preventDefault(),B(function(e){return!e})},color:g},D.a.createElement("span",null,r,null!==F?": ".concat(F):""),D.a.createElement(ti,{color:g,rotate:L?"true":"false"},D.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.a.createElement("path",{d:"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z"})))),D.a.createElement(ni,{ref:O,title:s,tabIndex:"-1",role:"listbox",hidden:!L,color:g,backgroundColor:b,zIndex:w,pos:S},D.a.createElement(ii,null,n.map(function(e,t){return D.a.createElement(ai,{hoverColor:_,color:g,key:t,role:"option","aria-selected":e===i?"true":"false",onClick:function(){return function(e){B(!1),V(null),d&&d(e)}(e)},onMouseEnter:function(t){return H(0,e)},onMouseLeave:function(e){return H(0,null)}},e)})))),null!==i&&D.a.createElement(ri,null,D.a.createElement(oi,{color:g,backgroundColor:b},j?D.a.createElement(ui,{width:"5px",gifHeight:"70px"}):D.a.createElement(D.a.Fragment,null,i))))};var pi,hi,fi,gi,vi,bi,Ai,_i,xi,wi,yi,ki,Ei,Ci,ji,Oi,Ii,qi,Si,Ti,Mi,zi,Li,Bi,Ni,Ri,Di,Qi,Fi,Vi,Hi,Pi,Ui,Ki,Yi,Gi,Ji,Zi,Wi,Xi,$i,ec,tc,nc,ac,rc,oc,ic,cc,sc,lc,dc,uc,mc,pc,hc=function(e){var t=e.content,n=e.open,a=void 0!==n&&n,r=e.data,o=void 0===r?[]:r,i=e.users,c=void 0===i?[]:i,s=e.noteRange,l=void 0===s?[]:s,d=e.customOptions,u=e.onConfirm,m=void 0===u?function(e){return e}:u,p=e.onCancel,h=void 0===p?function(){}:p,f=e.value,g=void 0===f?"":f,v=(e.btnConfirmTextColor,e.primaryColor),b=void 0===v?"#000":v,A=e.labels,_=void 0===A?{}:A,x=e.closeIcon,w=e.expandRightIcon,y=e.expandLeftIcon,k=e.updateLocalStudentInteraction,E=void 0===k?function(e,t){}:k,C=Object(R.useRef)(),j=Object(R.useRef)(),O=Object(R.useState)(g),I=Object(Rt.a)(O,2),q=I[0],S=I[1],T=Object(R.useState)(""),M=Object(Rt.a)(T,2),z=M[0],L=M[1],B=Object(R.useState)({}),N=Object(Rt.a)(B,2),Q=N[0],F=N[1],V=Object(R.useState)(!1),H=Object(Rt.a)(V,2),P=H[0],U=H[1],K=Object(R.useState)(o),Y=Object(Rt.a)(K,2),G=Y[0],J=Y[1],Z=Object(R.useState)([]),W=Object(Rt.a)(Z,2),X=W[0],$=W[1],ee=Object(R.useState)(""),te=Object(Rt.a)(ee,2),ne=te[0],ae=te[1],re=Object(R.useState)(""),oe=Object(Rt.a)(re,2),ie=oe[0],ce=oe[1],se=function(e){return"asc"===e?"overline":"desc"===e?"underline":"none"},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.user_uid,a=void 0===n?t:n,r=e.name,o=void 0===r?"Usu\xe1rio ".concat(t+1):r,i=e.email,c=void 0===i?"":i,s=e.interaction_objects,l=void 0===s?[]:s,d=e.interaction_uid,u=void 0===d?"":d,m=0,p=!1,h=G.map(function(e){var t={};if(l){var n=!1;if(t=l.find(function(t){return t.target_uid===e.id})){var a=t,r=a.uid,o=void 0===r?null:r,i=a.reviewer_uid,c=void 0===i?null:i,s=a.object_data,d=a.score,u=void 0===d?null:d,h=a.target_uid,f=void 0===h?null:h,g=a.context_uid,v=void 0===g?null:g,b=s.data;return s&&(p=!0),(null!==u&&""!==u&&"null"!==u||null!==c)&&(n=!0,m++),{uid:o,context_uid:v,reviewed:n,answered:p,score:u,answer:void 0===b?"":b,target_uid:f}}}return{reviewed:!1,answered:p,score:0,answer:"",target_uid:null}});return{uid:a,name:o,email:c,interaction_uid:u,count_reviewed:m,total_messages:G.length,reviewed:m===G.length,answered:p,interaction_objects:h}},de=function(e){if(Array.isArray(e)){var t=Object(Ie.a)(G);t.forEach(function(t){var n=e.find(function(e){return e.target_uid===t.id});t.score=n?n.score:0}),J(t)}else{var n=Object(Ie.a)(G);n.forEach(function(t){t.id===e.target_uid?t.score=e.score:t.score=0}),J(n)}return e},ue=Object(R.useMemo)(function(){var e=c.map(le).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.answered&&!n.answered)return-1;if(!t.answered&&n.answered)return 1}else if("desc"===e){if(!t.answered&&n.answered)return-1;if(t.answered&&!n.answered)return 1}return 0}}(ne)).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.reviewed&&!n.reviewed)return-1;if(!t.reviewed&&n.reviewed)return 1}else if("desc"===e){if(!t.reviewed&&n.reviewed)return-1;if(t.reviewed&&!n.reviewed)return 1}return 0}}(ie));if("interaction_objects"in Q){var t=c.find(function(e){return e.user_uid===Q.uid});void 0!==t&&de(t.interaction_objects)}return e},[c,ne,ie]);Object(R.useEffect)(function(){j&&j.current&&(j.current.scrollTop=0),C&&C.current&&C.current.focus(),F({})},[a]);var me,pe=function(){h(),S("")},he=function(e,t){if(t&&t.interaction_objects){var n=t.interaction_objects.find(function(t){return t.target_uid===e.id});if(n)return n.answer||""}return""};return D.a.createElement(mo,{role:"dialog","aria-modal":"true","aria-labelledby":_.review||"Revisar","aria-describedby":_.review||"Revisar",onKeyUp:function(e){(e.which||e.keyCode)===uo.ESC&&(e.stopPropagation(),h())},hidden:!a},D.a.createElement(ho,{onSubmit:function(e){e.preventDefault(),m(q),S("")}},D.a.createElement(fo,{onClick:pe}),D.a.createElement(po,null,D.a.createElement(vo,null,D.a.createElement(Vo,{tabIndex:"1",type:"button",onClick:function(){U(!P)},primaryColor:b},P?y||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z"})):w||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z"}))),D.a.createElement(go,{ref:C,className:P?"visible":"",tabIndex:"1",type:"button",onClick:pe,primaryColor:b,title:_.close||"Fechar"},x||D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 768 768"},D.a.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))),D.a.createElement(bo,{className:P?"visible":""},D.a.createElement(yo,{className:P?"visible":""},D.a.createElement(Ao,null,D.a.createElement(Do,{"aria-label":_.search||"Buscar"},D.a.createElement(Qo,{type:"text",name:"search",placeholder:_.search||"Buscar",primaryColor:b,value:z,onChange:function(e){var t=e.target.value;L(t)}}),z.length?D.a.createElement(Fo,{role:"button",src:Wo.a,onClick:function(){L("")}}):D.a.createElement(Fo,{role:"button",src:Jo.a}))),D.a.createElement(_o,{type:"button",background:b,onClick:function(){ae("asc"===ne?"desc":"desc"===ne?"":"asc")}},D.a.createElement("p",{style:{color:b,textDecoration:se(ne)}},_.answered||"Respondido")),D.a.createElement(xo,{type:"button",background:b,onClick:function(){ce("asc"===ie?"desc":"desc"===ie?"":"asc")}},D.a.createElement("p",{style:{color:b,textDecoration:se(ie)}},_.reviewed||"Corrigido"))),D.a.createElement(wo,null,D.a.createElement(Ho,{primaryColor:b},(me=Q,{name:me.name,email:me.email}).name))),D.a.createElement(bo,{className:P?"visible":""},D.a.createElement(qo,null,ue.filter(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z){var t=e.name,n=e.email,a=z.toLowerCase();return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)}return!0}).map(function(e,t){return D.a.createElement(So,{key:t},D.a.createElement(To,{tabIndex:"1",type:"button",onClick:function(){return function(e){F(e),de(e.interaction_objects),U(!1),j&&j.current&&(j.current.scrollTop=0)}(e)},"aria-selected":e.uid===Q.uid,primaryColor:b},D.a.createElement(ko,{className:P?"visible":""},D.a.createElement(Eo,null,D.a.createElement("p",null,e.name),D.a.createElement("p",null,e.email)),D.a.createElement(Co,null,e.interaction_objects.find(function(e){return!0===e.answered})&&D.a.createElement(Mo,{"aria-label":_.answered_by_student||"Respondido pelo aluno",checkColor:b},D.a.createElement(zo,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Lo,{className:"checkmark"}))),D.a.createElement(jo,null,e.count_reviewed>0&&e.count_reviewed===G.length?D.a.createElement(Mo,{"aria-label":_.reviewed||"Corrigido",checkColor:b},D.a.createElement(zo,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Lo,{className:"checkmark"})):D.a.createElement("p",null,e.count_reviewed,"/",G.length)))))})),D.a.createElement(Oo,null,D.a.createElement(Io,{isVisible:0===Object.keys(Q).length},D.a.createElement("p",{style:{color:b}},_.select_to_start_review||"Selecione um aluno para efetuar a revis\xe3o.")),D.a.createElement(Ko,{ref:j},G.map(function(e,n){return D.a.createElement(Yo,{key:n},D.a.createElement(Ho,{primaryColor:b},_.question||"Quest\xe3o"," ",n+1),D.a.createElement(Bo,{dangerouslySetInnerHTML:{__html:e.question||""}}),D.a.createElement(Po,null,D.a.createElement(Uo,null,D.a.createElement(mi,{notes:l,selected:null!==e.score&&""!==e.score&&"null"!==e.score?parseInt(e.score):null,label:_.score,primaryColor:b,onSelect:function(n){return function(e,n){var a=Q.interaction_objects,r=void 0===a?[]:a,o=Q.interaction_uid,i=r.find(function(t){return t.target_uid===e.id});i?($([].concat(Object(Ie.a)(X),[e.id])),et.cms.learning.interaction.uid(o).score.object.uid(i.uid).updateScore(n,d).then(de).then(function(e){return E(e,Q)}).then(function(){$(X.filter(function(t){return t!==e.id}))})):($([].concat(Object(Ie.a)(X),[e.id])),et.cms.learning.interaction.uid(o).object.reviewed({context_uid:t.id,type:t.type,target_uid:e.id,object_data:"",score:n},d).then(de).then(function(e){return E(e,Q)}).then(function(){$(X.filter(function(t){return t!==e.id}))}))}(e,n)},isLoadingNote:X.includes(e.id)})),D.a.createElement(No,{"aria-label":_.answer||"Resposta"},D.a.createElement(Ho,{primaryColor:b},"Resposta"),D.a.createElement(Ro,{tabIndex:"-1",primaryColor:b,name:"answer",rows:"10",readOnly:!0,value:he(e,Q)}))))}))))))))},fc=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).defineAnswered=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.state.content,r=null;n.questions=a.state.content.questions.map(function(n){return n.id===e&&(n.answered=t,r=n),n}),a.setState({content:n},function(){try{a.props.handleComplete(n,a.state.activeAnswers)}catch(e){console.error(e)}a.trackAnswerConfirmClick(r)})},a.verifyAnswer=function(e){if("disabled"!==a.state.content.feedback.type&&!e.no_feedback)return D.a.createElement("div",{className:"element-quiz-5-feedback-msg"},a.getLabels().answer_saved)},a.userCanRemakeQuiz=function(){var e=a.state,t=e.content,n=e.attempsMade,r=t.max_attempts,o=void 0===r?null:r;if("enable"===t.remake&&"null"===String(o))return!0;if(!1===isNaN(parseInt(o))&&"number"===typeof parseInt(o)){var i=parseInt(o)+1;return"enable"===t.remake&&n<i}return!1},a.getNoteRange=function(){var e=a.state.content,t=e.grade_type,n=void 0===t?"numeral":t,r=e.grade_numeral,o=void 0===r?{min:0,max:10,steps:1}:r,i=o.min,c=void 0===i?0:i,s=o.max,l=void 0===s?10:s,d=o.steps,u=void 0===d?1:d;switch(n){case"numeral":default:for(var m=[],p=c;p<=l;p+=u)m.push(p);return m}},a.elementRef=D.a.createRef(),a.loadContentFromServer=a.loadContentFromServer.bind(Object(X.a)(a)),a.recoverObjects=a.recoverObjects.bind(Object(X.a)(a)),a.updateQuestionsBasedOnObjects=a.updateQuestionsBasedOnObjects.bind(Object(X.a)(a)),a.verifyIfHasAnweredAllQuestions=a.verifyIfHasAnweredAllQuestions.bind(Object(X.a)(a)),a.showResume=a.showResume.bind(Object(X.a)(a)),a.getSignedUserFromJwt=a.getSignedUserFromJwt.bind(Object(X.a)(a)),a.renderStats=a.renderStats.bind(Object(X.a)(a)),a.renderConfirmAnswerButton=a.renderConfirmAnswerButton.bind(Object(X.a)(a)),a.renderEditAnswerButton=a.renderEditAnswerButton.bind(Object(X.a)(a)),a.renderDissertationArea=a.renderDissertationArea.bind(Object(X.a)(a)),a.renderConfirmAnswerButton=a.renderConfirmAnswerButton.bind(Object(X.a)(a)),a.handleCloseReviewModal=a.handleCloseReviewModal.bind(Object(X.a)(a)),a.getNoteRange=a.getNoteRange.bind(Object(X.a)(a)),a.createInteractionObject=a.createInteractionObject.bind(Object(X.a)(a)),a.state={content:e.content,contentBkp:e.content,activeAnswers:{},currentQuestionPos:0,current_question:null,answeredQuestionsQtd:0,attempsMade:0,answered_qtd:0,questionAnswer:"",visible:!1,custom_options:window.cstmptns||{},is_review_modal_open:!1,is_loading_review_modal:!1,user:{roles:[]}},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){this.trackElementView()}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"loadContentFromServer",value:function(){this.recoverObjects().then(this.updateQuestionsBasedOnObjects).then(this.verifyIfHasAnweredAllQuestions)}},{key:"recoverObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.content,n=this.state.custom_options,a=n.interaction_uid,e.abrupt("return",new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(r,o){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(a).recoverObject({context_uid:t.id},n);case 3:(i=e.sent)&&i.length>0&&r(i);case 5:o();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateQuestionsBasedOnObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c=this,s=arguments;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=s.length>0&&void 0!==s[0]?s[0]:[]).length>0&&(n=this.state.content,a=Object(G.a)({},n),r=0,o=0,i=0,a.questions=a.questions.map(function(e,n){var a=null,s=t.filter(function(t){return t.target_uid===e.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});r=s.length;var l=s.find(function(e){return e.created_at>=a});if(l){o=n,i++,e.answered=!0;var d=l.object_data;d&&d.data&&c.updateActiveChoisesBasedOnAnswer(e,d.data)}return e}),this.setState({content:a,attempsMade:r,current_question:o,answered_qtd:i})),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateActiveChoisesBasedOnAnswer",value:function(e,t){var n=Object(G.a)({},this.state.activeAnswers);n[e.id]=t,this.setState({activeAnswers:n})}},{key:"verifyIfHasAnweredAllQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.state;return t.answered_qtd===t.content.questions.length&&this.showResume(),e}},{key:"showResume",value:function(){var e=this.state.content.questions,t={rdp_html_content:{questions:e,total:e.length}};this.setState({grades:t,show_result:!0,answered:!0})}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(t){var n={action:"view",element:"quiz-essay",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n),this.trackQuestionView()}this.setState({visible:t})}}},{key:"trackQuestionView",value:function(){var e=this.props.content,t=e.questions[this.state.currentQuestionPos],n={action:"view",element:"quiz-essay-question",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,question:{id:t.id,position:this.state.currentQuestionPos+1,title:ae.HtmlToText(t.question)}}};this.props.onTrackEvent(n)}},{key:"trackAnswerConfirmClick",value:function(e){var t=this.state.activeAnswers;try{var n=this.props.content;if(null!==e){var a={action:"click",element:"quiz-essay-question-confirm-answer",verb:"answered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:e.id,position:this.state.currentQuestionPos+1,title:ae.HtmlToText(e.question),answer:t[e.id]}}};this.props.onTrackEvent(a)}}catch(r){console.error(r)}}},{key:"trackNavigation",value:function(e){var t=this.props.content,n="next"===e?"quiz-essay-question-navigation-next":"quiz-essay-question-navigation-previous",a="next"===e?this.state.currentQuestionPos-1:this.state.currentQuestionPos+1,r=this.props.content.questions[a],o=this.props.content.questions[this.state.currentQuestionPos],i={action:"click",element:n,timestamp:Math.floor(Date.now()/1e3),verb:"next"===e?"advanced":"retreated",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:o.id,position:this.state.currentQuestionPos+1,title:ae.HtmlToText(o.question)},source_question:{id:r.id,position:("next"===e?this.state.currentQuestionPos-1:this.state.currentQuestionPos+1)+1,title:ae.HtmlToText(r.question)}}};this.props.onTrackEvent(i)}},{key:"trackQuizResult",value:function(e,t){for(var n=!1,a=0;a<e.length;a++)if(!e[a].no_correct_answer){n=!0;break}var r=this.props.content,o={action:"view",verb:"viewed",element:"quiz-essay-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,questions:e}};!0===n&&(o.metadata.result={hits:t.rdp_html_content.hits,total:t.rdp_html_content.total,percentage_average:100/t.rdp_html_content.total*t.rdp_html_content.hits,min_percentage:t.rdp_html_content.min_percentage}),this.props.onTrackEvent(o)}},{key:"trackRemakeQuiz",value:function(){var e=this.props.content,t={action:"click",element:"quiz-essay-remake",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};this.props.onTrackEvent(t)}},{key:"getSignedUserFromJwt",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n=this;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.custom_options.access_token,e.abrupt("return",new Promise(function(e,a){var r=Object(at.a)(t);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),n.setState({user:r},function(){e(r)})}else a("Error jwt decode")}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getLabels",value:function(){var e=this.state.content.questions,t=void 0===e?[]:e,n=this.props.contentLanguage;return void 0===n&&(n="pt_br"),"en"===n?{confirm:"Confirm",edit:"Edit answer",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:t.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz.",answer_saved:"Answer saved!",stats:"Statistics",review:"Review answers",answer:"Answer",reviewed:"Reviewed",answered_by_student:"Answered by student",answered:"Answered",search:"Search",finish_review:"Finish review",close:"Close",score:"Score",select_to_start_review:"Select a student to review."}:"pt_br"===n?{confirm:"Confirmar",edit:"Editar resposta",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:t.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio.",answer_saved:"Resposta salva!",stats:"Estat\xedsticas",review:"Revisar respostas",answer:"Resposta",reviewed:"Revisado",answered_by_student:"Respondido pelo aluno",answered:"Respondido",search:"Pesquisar",finish_review:"Finalizar revis\xe3o",close:"Fechar",score:"Nota",select_to_start_review:"Selecione um aluno para efetuar a revis\xe3o."}:void 0}},{key:"renderQuestionQuill",value:function(e){return D.a.createElement("div",{className:"element-quiz-5-question"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.question}}))}},{key:"handleChangeAnswer",value:function(e,t){var n=this.state.content,a=this.state.content;a[e.id]=t,this.setState({content:n,questionAnswer:t,activeAnswers:a})}},{key:"renderDissertationArea",value:function(e){var t=this,n=this.state,a=n.content.primary_color,r=n.activeAnswers;return D.a.createElement(Xr,null,D.a.createElement($r,{tabIndex:1,value:r[e.id]||"",onChange:function(n){return t.handleChangeAnswer(e,n.target.value)},disabled:e.answered,primaryColor:a,rows:10}))}},{key:"renderPreviousQuestionBtn",value:function(){var e=this,t=this.state,n=t.content.primary_color;if(t.currentQuestionPos>0)return D.a.createElement(lo,null,D.a.createElement(ro,{tabIndex:1,type:"button",color:n,onClick:function(){return e.onNavigateQuestions("prev")}},this.getLabels().previous))}},{key:"onNavigateQuestions",value:function(e){var t=this.state.currentQuestionPos,n="next"===e?t+1:t-1;this.setState({currentQuestionPos:n},function(){this.trackNavigation(e),this.trackQuestionView()})}},{key:"renderNextQuestionBtn",value:function(){var e=this,t=this.state,n=t.currentQuestionPos,a=t.content,r=a.questions,o=a.primary_color;if(n+1<r.length)return D.a.createElement(so,null,D.a.createElement(ro,{tabIndex:1,type:"button",color:o,onClick:function(){return e.onNavigateQuestions("next")}},this.getLabels().next))}},{key:"renderFinishBtn",value:function(){var e=this,t=this.state,n=t.currentQuestionPos,a=t.content,r=t.user,o=a.questions,i=a.primary_color,c=n+1,s=o.length,l=0;o.map(function(e){e.answered&&l++});var d=s!==l||Xe(r.roles);if(c===s)return D.a.createElement(to,{color:d?"#A1A1A1":i},D.a.createElement(no,{tabIndex:1,type:"button",background:d?"#A1A1A1":i,disabled:d,onClick:function(){return e.onFinishClick()}},this.getLabels().finish))}},{key:"renderProgress",value:function(){var e=this.state,t=e.currentQuestionPos,n=e.content,a=n.questions,r=n.primary_color,o=t+1,i=a.length,c=100/i*o+"%";return D.a.createElement("div",{className:"rdp-react-quiz-5-navigation-progress"},D.a.createElement("div",{className:"rdp-react-quiz-5-navigation-progress-bar-placeholder"},D.a.createElement("div",{style:{width:c,backgroundColor:r},className:"rdp-react-quiz-5-navigation-progress-bar"})),D.a.createElement("span",{style:{color:r},className:"rdp-react-quiz-5-navigation-progress-count"},o,"/",i))}},{key:"resetAllQuestions",value:function(){var e=this,t=this.state.content;t.questions=this.state.content.questions.map(function(e){return e.answered=!1,e.answer="",e}),this.setState({content:t},function(){return e.defineAnswered(0)})}},{key:"renderFeedback",value:function(e){return D.a.createElement("div",{className:"element-quiz-5-feedback-container"},this.verifyAnswer(e),this.renderEditAnswerButton(e))}},{key:"renderConfirmAnswerButton",value:function(e){var t=this,n=this.state,a=n.content,r=n.activeAnswers,o=a.primary_color,i=(r[e.id]||"").length>0;return D.a.createElement(eo,null,D.a.createElement(no,{tabIndex:1,type:"button",onClick:function(){return t.defineAnswered(e.id)},background:i?o:"#F1F1F1",disabled:!i},this.getLabels().confirm))}},{key:"renderEditAnswerButton",value:function(e){var t=this,n=this.state.content.primary_color;return D.a.createElement(eo,null,D.a.createElement(no,{tabIndex:1,type:"button",onClick:function(){return t.defineAnswered(e.id,!1)},background:n},this.getLabels().edit))}},{key:"renderStats",value:function(e){var t=this,n=this.state,a=n.content.primary_color,r=n.is_loading_review_modal;return D.a.createElement("div",null,D.a.createElement("div",{className:"rdp-react-quiz-5-stats-container"},D.a.createElement("div",{className:"rdp-react-quiz-5-stats-container-content"},D.a.createElement(ao,{tabIndex:1,type:"button",onClick:function(){t.setState({is_loading_review_modal:!0},function(){return t.startReviewForQuestion(e)})},background:a,disabled:r},this.getLabels().review,"..."))))}},{key:"startReviewForQuestion",value:function(e){var t=this;this.getUsersInteractions().then(function(n){t.setState({is_review_modal_open:!0,is_loading_review_modal:!1,current_question:e,interaction_objects:n})})}},{key:"handleCloseReviewModal",value:function(){this.setState({is_review_modal_open:!1})}},{key:"renderQuestionare",value:function(e){var t=this.state,n=t.currentQuestionPos,a=t.content,r=a.questions,o=a.primary_color,i=t.user.roles,c=void 0===i?[]:i;return D.a.createElement("div",null,D.a.createElement("div",{className:"element-quiz-5-header"},D.a.createElement("span",{style:{color:o}},this.getLabels().question," ",n+1),D.a.createElement("span",{style:{color:o}},n+1,"/",r.length)),this.renderQuestionQuill(e),Xe(c)?this.renderStats(e):D.a.createElement(D.a.Fragment,null,this.renderDissertationArea(e),e.answered?this.renderFeedback(e):this.renderConfirmAnswerButton(e)),D.a.createElement("div",{className:"rdp-react-quiz-5-navigation"},this.renderPreviousQuestionBtn(),this.renderProgress(),this.renderNextQuestionBtn(),!Xe(c)&&this.renderFinishBtn()))}},{key:"renderContent",value:function(){var e=this.state,t=e.currentQuestionPos,n=e.content.questions,a=e.show_result;if(n&&n.length){var r=n[t];return D.a.createElement("div",{className:"element-quiz-5-container"},r&&!a?this.renderQuestionare(r):this.renderResult())}}},{key:"createInteractionObject",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,a=n.content,r=n.custom_options,o=n.activeAnswers,i=r.interaction_uid,e.abrupt("return",et.cms.learning.interaction.uid(i).createObject({context_uid:a.id,type:a.type,target_uid:t.id,object_data:o[t.id]},r));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onFinishClick",value:function(){var e,t=this,n=this.state,a=n.content,r=n.activeAnswers,o=n.attempsMade,i=a.questions,c=Object(Wr.a)(i);try{for(c.s();!(e=c.n()).done;){var s=e.value;this.createInteractionObject(s)}}catch(u){c.e(u)}finally{c.f()}var l=i.length,d={rdp_html_content:{questions:i,total:l}};this.setState({grades:d,show_result:!0,answered:!0,attempsMade:o+1},function(){t.trackQuizResult(i,d);try{t.props.handleComplete(a,r),t.props.handleFinish(a,{score:"0",finished:!0})}catch(e){console.error(e)}})}},{key:"onRemakeQuestionnaire",value:function(){this.resetAllQuestions(),this.setState(function(e){return{answered:!1,grades:null,show_result:!1,currentQuestionPos:0,activeAnswers:[],questionAnswer:"",attempsMade:e.attempsMade+1}}),this.sortQuestions(!0),this.trackRemakeQuiz()}},{key:"getResultLabel",value:function(){var e=this.props.contentLanguage;return"en"===e?"Your responses have been sent for review.":"pt_br"===e?"Suas respostas foram enviadas para an\xe1lise.":void 0}},{key:"renderFinalMessage",value:function(){return"disabled"===this.state.content.feedback.type?D.a.createElement("span",{className:"rdp-react-quiz-5-result-message"},this.getLabels().finish_quiz_message):D.a.createElement("span",{className:"rdp-react-quiz-5-result-message"},this.getResultLabel())}},{key:"renderResult",value:function(){var e=this,t=this.state,n=t.content,a=t.show_result;t.attempsMade,n.max_attempts;if(a)return D.a.createElement("div",{className:"rdp-react-quiz-5-result"},D.a.createElement("span",{className:"rdp-react-quiz-5-result-icon"}),this.renderFinalMessage(),this.userCanRemakeQuiz()&&D.a.createElement(oo,null,D.a.createElement(ro,{tabIndex:1,type:"button",onClick:function(){return e.onRemakeQuestionnaire()},color:n.primary_color},D.a.createElement(io,null,D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",space:"preserve"},D.a.createElement("g",null,D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z"}),D.a.createElement("path",{fill:n.primary_color?n.primary_color:"#111111",d:"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z"})))),D.a.createElement(co,null,this.getLabels().retry))))}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"getUsersInteractions",value:function(){var e=this.state,t=e.content,n=e.custom_options,a=n.register_uid,r=n.activity_uid;return et.cms.learning.register.uid(a).interaction.recoverObjects({context_uid:t.id,activity_uid:r,last_occurrence:!0},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.content,r=a.primary_color,o=a.background_color,i=a.padding_bottom,c=a.padding_top,s=a.font_family,l=a.confirm_button_text_color,d=a.questions,u=(a.id,t.className),m=this.state,p=m.user.roles,h=void 0===p?[]:p,f=m.is_review_modal_open,g=m.interaction_objects,v=m.custom_options;return D.a.createElement("div",{id:this.props.content.id,ref:this.elementRef,className:"".concat(u," ").concat(this.getFont(s)||""),style:{backgroundColor:o,paddingTop:c+"px",paddingBottom:i+"px"}},n,this.renderContent(),Xe(h)&&D.a.createElement(hc,{open:f,content:this.props.content,data:d,customOptions:v,users:g,btnConfirmTextColor:l,primaryColor:r,noteRange:this.getNoteRange(),onCancel:this.handleCloseReviewModal,onConfirm:this.handleCloseReviewModal,labels:this.getLabels(),updateLocalStudentInteraction:function(t,n){var a=Object(Ie.a)(g);a=a.map(function(e){return e.user_uid===n.uid&&(0===e.interaction_objects.length?e.interaction_objects=[t]:e.interaction_objects=e.interaction_objects.map(function(e){return e.uid===t.uid?Object(G.a)(Object(G.a)({},e),{},{score:t.score,reviewed_at:t.reviewed_at,reviewer_user_uid:t.reviewer_user_uid,updated_at:t.updated_at}):e})),e}),e.setState({interaction_objects:a})}}))}}]),n}(R.Component),gc=Se.b.div(pi||(pi=Object(qe.a)(["\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n"]))),vc=Se.b.button(hi||(hi=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ",";\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n    background: ",";\n    color: ",";\n  }\n  \n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.background||"#2d7b45"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"}),bc=Se.b.div(fi||(fi=Object(qe.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n"]))),Ac=Se.b.div(gi||(gi=Object(qe.a)(["\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n"]))),_c=Se.b.form(vi||(vi=Object(qe.a)([""]))),xc=Se.b.div(bi||(bi=Object(qe.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),wc=(Se.b.div(Ai||(Ai=Object(qe.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n"]))),Se.b.button(_i||(_i=Object(qe.a)(["\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n"])),function(e){return e.background||"#000"},function(e){return e.color||"#FFF"},function(e){return e.background||"#000"}),Se.b.button(xi||(xi=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n"])),function(e){return e.primaryColor||"black"},function(e){return e.primaryColor||"black"})),yc=Se.b.div(wi||(wi=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n"]))),kc=Se.b.div(yi||(yi=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n"]))),Ec=Se.b.div(ki||(ki=Object(qe.a)(["\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n"]))),Cc=Se.b.div(Ei||(Ei=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n"])),function(e){return e.background||"#000"}),jc=Se.b.div(Ci||(Ci=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n"])),function(e){return e.background||"#000"}),Oc=Se.b.div(ji||(ji=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n"]))),Ic=Se.b.div(Oi||(Oi=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n"]))),qc=Object(Se.b)(Ic)(Ii||(Ii=Object(qe.a)(["\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n"]))),Sc=Se.b.div(qi||(qi=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),Tc=Se.b.div(Si||(Si=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n"]))),Mc=Se.b.div(Ti||(Ti=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),zc=Se.b.div(Mi||(Mi=Object(qe.a)(["\n  overflow: hidden;\n  position: relative;\n"]))),Lc=Se.b.div(zi||(zi=Object(qe.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ","\n"])),function(e){return e.isVisible&&Object(Se.a)(Li||(Li=Object(qe.a)(["\n    pointer-events: all;\n    opacity: 1;\n  "])))}),Bc=Se.b.ul(Bi||(Bi=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n"]))),Nc=Se.b.li(Ni||(Ni=Object(qe.a)(["\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n"]))),Rc=Se.b.button(Ri||(Ri=Object(qe.a)(["\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ",' !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected="true"] {\n    outline: 2px solid '," !important;\n    outline-offset: -2px;\n    color: ",";\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Dc=Se.b.label(Di||(Di=Object(qe.a)(["\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ",";\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n"])),function(e){return e.checkColor||"#002bff"}),Qc=Se.b.input(Qi||(Qi=Object(qe.a)(["\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n"]))),Fc=Se.b.span(Fi||(Fi=Object(qe.a)(['\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n']))),Vc=Se.b.p(Vi||(Vi=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n"]))),Hc=Se.b.label(Hi||(Hi=Object(qe.a)([""]))),Pc=Se.b.textarea(Pi||(Pi=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Uc=Se.b.label(Ui||(Ui=Object(qe.a)(["\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n"]))),Kc=Se.b.input(Ki||(Ki=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -1px;\n    border: 1px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#a9a8a8"},function(e){return e.primaryColor||"#e9e9e9"}),Yc=Se.b.img(Yi||(Yi=Object(qe.a)(["\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n"]))),Gc=Se.b.button(Gi||(Gi=Object(qe.a)(["\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n"])),function(e){return e.primaryColor||"black"}),Jc=Se.b.p(Ji||(Ji=Object(qe.a)(["\n  font-weight: bold;\n  color: ",";\n"])),function(e){return e.primaryColor||"black"}),Zc=Se.b.div(Zi||(Zi=Object(qe.a)(["\n  position: relative;\n  margin-top: 20px;\n"]))),Wc=Se.b.div(Wi||(Wi=Object(qe.a)(["\n  top: 0;\n  right: 0;\n  position: absolute;\n"]))),Xc=Se.b.ul(Xi||(Xi=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n"]))),$c=Se.b.li($i||($i=Object(qe.a)(["\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n"]))),es=Se.b.div(ec||(ec=Object(qe.a)(["\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ts=Se.b.div(tc||(tc=Object(qe.a)(["\n\tposition: relative;\n"]))),ns=Se.b.button(nc||(nc=Object(qe.a)(["\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ",";\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),as=Se.b.span(ac||(ac=Object(qe.a)(["\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ",";\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t","\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return"true"===e.rotate&&Object(Se.a)(rc||(rc=Object(qe.a)(["\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t"])))}),rs=Se.b.ul(oc||(oc=Object(qe.a)(["\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ",";\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  z-index: ",";\n  \n  ","\n\n  ","\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n"])),function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.zIndex||"var(--note-dropdown-list-z-index)"},function(e){return"bottom"===e.pos&&Object(Se.a)(ic||(ic=Object(qe.a)(["\n    top: auto;\n  "])))},function(e){return"top"===e.pos&&Object(Se.a)(cc||(cc=Object(qe.a)(["\n    bottom: 14px;\n  "])))}),os=Se.b.li(sc||(sc=Object(qe.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ","};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid "," !important;\n }\n"])),function(e){return e.hoverColor||"var(--note-dropdown-background-hover-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),is=Se.b.div(lc||(lc=Object(qe.a)(["\n  padding: 0 10px;\n"]))),cs=Se.b.span(dc||(dc=Object(qe.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  padding: 4px;\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"}),ss=Se.b.div(uc||(uc=Object(qe.a)(["\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n"]))),ls=n(172),ds=n.n(ls),us=Se.b.div(mc||(mc=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ms=Se.b.img(pc||(pc=Object(qe.a)(["\n  width: auto;\n  height: ",";\n"])),function(e){return e.height});function ps(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,o=e.gifHeight,i=void 0===o?"auto":o;return D.a.createElement(us,{style:{width:n,height:r}},D.a.createElement(ms,{src:ds.a,alt:"loading...",height:i}))}var hs=function(e){var t=e.notes,n=void 0===t?[0,1,2,3,4,5,6,7,8,9,10]:t,a=e.label,r=void 0===a?"Atribuir nota":a,o=e.selected,i=void 0===o?0:o,c=e.listTitle,s=void 0===c?"Notas":c,l=e.onSelect,d=void 0===l?function(e){return e}:l,u=e.onHoverNote,m=void 0===u?function(e){return e}:u,p=e.open,h=void 0!==p&&p,f=e.primaryColor,g=void 0===f?"#00643e":f,v=e.backgroundColor,b=void 0===v?"#fff":v,A=e.backgroundHoverColor,_=void 0===A?"rgba(213, 213, 213, 0.49)":A,x=e.listZIndex,w=void 0===x?1:x,y=e.position,k=void 0===y?"bottom":y,E=e.show,C=void 0===E||E,j=e.isLoadingNote,O=Object(R.useRef)(),I=Object(R.useState)(k),q=Object(Rt.a)(I,2),S=q[0],T=q[1],M=Object(R.useState)(h),z=Object(Rt.a)(M,2),L=z[0],B=z[1],N=Object(R.useState)(null),Q=Object(Rt.a)(N,2),F=Q[0],V=Q[1];Object(R.useEffect)(function(){if(L&&O&&O.current){var e=O.current.getBoundingClientRect(),t=e.y,n=e.height,a=S;"top"===a&&(n+=n),(a=t+n>=window.innerHeight?"top":"Bottom")!==S&&T(a)}},[L,O]);var H=function(e,t){V(t),m&&m(t)};return D.a.createElement(es,null,C&&D.a.createElement(ts,null,D.a.createElement(ns,{type:"button","aria-haspopup":"listbox","aria-expanded":L?"true":"false",onClick:function(e){e.preventDefault(),B(function(e){return!e})},color:g},D.a.createElement("span",null,r,null!==F?": ".concat(F):""),D.a.createElement(as,{color:g,rotate:L?"true":"false"},D.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.a.createElement("path",{d:"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z"})))),D.a.createElement(rs,{ref:O,title:s,tabIndex:"-1",role:"listbox",hidden:!L,color:g,backgroundColor:b,zIndex:w,pos:S},D.a.createElement(ss,null,n.map(function(e,t){return D.a.createElement(os,{hoverColor:_,color:g,key:t,role:"option","aria-selected":e===i?"true":"false",onClick:function(){return function(e){B(!1),V(null),d&&d(e)}(e)},onMouseEnter:function(t){return H(0,e)},onMouseLeave:function(e){return H(0,null)}},e)})))),null!==i&&D.a.createElement(is,null,D.a.createElement(cs,{color:g,backgroundColor:b},j?D.a.createElement(ps,{width:"5px",gifHeight:"70px"}):D.a.createElement(D.a.Fragment,null,i))))};var fs,gs,vs,bs,As,_s,xs,ws,ys,ks,Es,Cs,js,Os,Is,qs,Ss,Ts,Ms,zs,Ls,Bs,Ns=function(e){var t=e.content,n=e.allQuestions,a=void 0===n?[]:n,r=e.open,o=void 0!==r&&r,i=e.data,c=void 0===i?[]:i,s=e.users,l=void 0===s?[]:s,d=e.noteRange,u=void 0===d?[]:d,m=e.customOptions,p=e.onConfirm,h=void 0===p?function(e){return e}:p,f=e.onCancel,g=void 0===f?function(){}:f,v=e.value,b=void 0===v?"":v,A=(e.btnConfirmTextColor,e.primaryColor),_=void 0===A?"#000":A,x=e.labels,w=void 0===x?{}:x,y=e.closeIcon,k=e.expandRightIcon,E=e.expandLeftIcon,C=e.updateLocalStudentInteraction,j=void 0===C?function(e,t){}:C,O=Object(R.useRef)(),I=Object(R.useRef)(),q=Object(R.useState)(b),S=Object(Rt.a)(q,2),T=S[0],M=S[1],z=Object(R.useState)(""),L=Object(Rt.a)(z,2),B=L[0],N=L[1],Q=Object(R.useState)({}),F=Object(Rt.a)(Q,2),V=F[0],H=F[1],P=Object(R.useState)(!1),U=Object(Rt.a)(P,2),K=U[0],Y=U[1],G=Object(R.useState)(c),J=Object(Rt.a)(G,2),Z=J[0],W=J[1],X=Object(R.useState)([]),$=Object(Rt.a)(X,2),ee=$[0],te=$[1],ne=Object(R.useState)(""),ae=Object(Rt.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(R.useState)(""),ce=Object(Rt.a)(ie,2),se=ce[0],le=ce[1],de=function(e){return"asc"===e?"overline":"desc"===e?"underline":"none"},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.user_uid,a=void 0===n?t:n,r=e.name,o=void 0===r?"Usu\xe1rio ".concat(t+1):r,i=e.email,c=void 0===i?"":i,s=e.interaction_objects,l=void 0===s?[]:s,d=e.interaction_uid,u=void 0===d?"":d,m=0,p=!1,h=Z.map(function(e){var t={};if(l){var n=!1;if(t=l.find(function(t){return t.target_uid===e.id})){var a=t,r=a.uid,o=void 0===r?null:r,i=a.reviewer_uid,c=void 0===i?null:i,s=a.object_data,d=a.score,u=void 0===d?null:d,h=a.target_uid,f=void 0===h?null:h,g=a.context_uid,v=void 0===g?null:g,b=s.data;return s&&(p=!0),(null!==u&&""!==u&&"null"!==u||null!==c)&&(n=!0,m++),{uid:o,context_uid:v,reviewed:n,answered:p,score:u,answer:void 0===b?"":b,target_uid:f}}}return{reviewed:!1,answered:p,score:0,answer:"",target_uid:null}});return{uid:a,name:o,email:c,interaction_uid:u,count_reviewed:m,total_messages:Z.length,reviewed:m===Z.length,answered:p,interaction_objects:h}},me=function(e){if(Array.isArray(e)){var t=Object(Ie.a)(Z);t.forEach(function(t){var n=e.find(function(e){return e.target_uid===t.id});t.score=n?n.score:0}),W(t)}else{var n=Object(Ie.a)(Z);n.forEach(function(t){t.id===e.target_uid?t.score=e.score:t.score=0}),W(n)}return e},pe=Object(R.useMemo)(function(){var e=l.map(ue).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.answered&&!n.answered)return-1;if(!t.answered&&n.answered)return 1}else if("desc"===e){if(!t.answered&&n.answered)return-1;if(t.answered&&!n.answered)return 1}return 0}}(re)).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.reviewed&&!n.reviewed)return-1;if(!t.reviewed&&n.reviewed)return 1}else if("desc"===e){if(!t.reviewed&&n.reviewed)return-1;if(t.reviewed&&!n.reviewed)return 1}return 0}}(se));if("interaction_objects"in V){var t=l.find(function(e){return e.user_uid===V.uid});void 0!==t&&me(t.interaction_objects)}return e},[l,re,se]);Object(R.useEffect)(function(){I&&I.current&&(I.current.scrollTop=0),O&&O.current&&O.current.focus(),H({})},[o]);var he,fe=function(){g(),M("")},ge=function(e,t){if(t&&t.interaction_objects){var n=t.interaction_objects.find(function(t){return t.target_uid===e.id});if(n)return n.answer||""}return""};return D.a.createElement(bc,{role:"dialog","aria-modal":"true","aria-labelledby":w.review||"Revisar","aria-describedby":w.review||"Revisar",onKeyUp:function(e){(e.which||e.keyCode)===uo.ESC&&(e.stopPropagation(),g())},hidden:!o},D.a.createElement(_c,{onSubmit:function(e){e.preventDefault(),h(T),M("")}},D.a.createElement(xc,{onClick:fe}),D.a.createElement(Ac,null,D.a.createElement(yc,null,D.a.createElement(Gc,{tabIndex:"1",type:"button",onClick:function(){Y(!K)},primaryColor:_},K?E||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z"})):k||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z"}))),D.a.createElement(wc,{ref:O,className:K?"visible":"",tabIndex:"1",type:"button",onClick:fe,primaryColor:_,title:w.close||"Fechar"},y||D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 768 768"},D.a.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))),D.a.createElement(kc,{className:K?"visible":""},D.a.createElement(Ic,{className:K?"visible":""},D.a.createElement(Ec,null,D.a.createElement(Uc,{"aria-label":w.search||"Buscar"},D.a.createElement(Kc,{type:"text",name:"search",placeholder:w.search||"Buscar",primaryColor:_,value:B,onChange:function(e){var t=e.target.value;N(t)}}),B.length?D.a.createElement(Yc,{role:"button",src:Wo.a,onClick:function(){N("")}}):D.a.createElement(Yc,{role:"button",src:Jo.a}))),D.a.createElement(Cc,{type:"button",background:_,onClick:function(){oe("asc"===re?"desc":"desc"===re?"":"asc")}},D.a.createElement("p",{style:{color:_,textDecoration:de(re)}},w.answered||"Respondido")),D.a.createElement(jc,{type:"button",background:_,onClick:function(){le("asc"===se?"desc":"desc"===se?"":"asc")}},D.a.createElement("p",{style:{color:_,textDecoration:de(se)}},w.reviewed||"Corrigido"))),D.a.createElement(Oc,null,D.a.createElement(Jc,{primaryColor:_},(he=V,{name:he.name,email:he.email}).name))),D.a.createElement(kc,{className:K?"visible":""},D.a.createElement(Bc,null,pe.filter(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(B){var t=e.name,n=e.email,a=B.toLowerCase();return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)}return!0}).map(function(e,t){return D.a.createElement(Nc,{key:t},D.a.createElement(Rc,{tabIndex:"1",type:"button",onClick:function(){return function(e){H(e),me(e.interaction_objects),Y(!1),I&&I.current&&(I.current.scrollTop=0)}(e)},"aria-selected":e.uid===V.uid,primaryColor:_},D.a.createElement(qc,{className:K?"visible":""},D.a.createElement(Sc,null,D.a.createElement("p",null,e.name),D.a.createElement("p",null,e.email)),D.a.createElement(Tc,null,e.interaction_objects.find(function(e){return!0===e.answered})&&D.a.createElement(Dc,{"aria-label":w.answered_by_student||"Respondido pelo aluno",checkColor:_},D.a.createElement(Qc,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Fc,{className:"checkmark"}))),D.a.createElement(Mc,null,e.count_reviewed>0&&e.count_reviewed===Z.length?D.a.createElement(Dc,{"aria-label":w.reviewed||"Corrigido",checkColor:_},D.a.createElement(Qc,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Fc,{className:"checkmark"})):D.a.createElement("p",null,e.count_reviewed,"/",Z.length)))))})),D.a.createElement(zc,null,D.a.createElement(Lc,{isVisible:0===Object.keys(V).length},D.a.createElement("p",{style:{color:_}},w.select_to_start_review||"Selecione um aluno para efetuar a revis\xe3o.")),D.a.createElement(Xc,{ref:I},Z.map(function(e,n){return D.a.createElement($c,{key:n},D.a.createElement(Jc,{primaryColor:_},w.question||"Quest\xe3o"," ",function(e){return a&&a.length>0?a.findIndex(function(t){return t.id===e.id}):0}(e)+1),D.a.createElement(Vc,{dangerouslySetInnerHTML:{__html:e.question||""}}),D.a.createElement(Zc,null,D.a.createElement(Wc,null,D.a.createElement(hs,{notes:u,selected:null!==e.score&&""!==e.score&&"null"!==e.score?parseInt(e.score):null,label:w.score,primaryColor:_,onSelect:function(n){return function(e,n){var a=V.interaction_objects,r=void 0===a?[]:a,o=V.interaction_uid,i=r.find(function(t){return t.target_uid===e.id});i?(te([].concat(Object(Ie.a)(ee),[e.id])),et.cms.learning.interaction.uid(o).score.object.uid(i.uid).updateScore(n,m).then(me).then(function(e){return j(e,V)}).then(function(){te(ee.filter(function(t){return t!==e.id}))})):(te([].concat(Object(Ie.a)(ee),[e.id])),et.cms.learning.interaction.uid(o).object.reviewed({context_uid:t.id,type:t.type,target_uid:e.id,object_data:"",score:n},m).then(me).then(function(e){return j(e,V)}).then(function(){te(ee.filter(function(t){return t!==e.id}))}))}(e,n)},isLoadingNote:ee.includes(e.id)})),D.a.createElement(Hc,{"aria-label":w.answer||"Resposta"},D.a.createElement(Jc,{primaryColor:_},"Resposta"),D.a.createElement(Pc,{tabIndex:"-1",primaryColor:_,name:"answer",rows:"10",readOnly:!0,value:ge(e,V)}))))}))))))))},Rs=function(e,t){var n=e.max_attempts,a=void 0===n?null:n,r=e.remake,o=void 0===r?"disable":r;if("enable"===o&&"null"===String(a))return!0;if(!1===isNaN(parseInt(a))&&"number"===typeof parseInt(a)){var i=parseInt(a)+1;return"enable"===o&&t<i}return!1},Ds=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={content:e.props.content,contentBkp:e.props.content,activeChoices:[],answeredQuestionsIds:[],currentQuestionIndex:0,showResult:!1,protocol:null,custom_options:window.cstmptns||{},attempsMade:0,user:{roles:[]},is_review_modal_open:!1,is_loading_review_modal:!1,interaction_objects:[]},e.getSignedUserFromJwt=Object(W.a)(Z.a.mark(function t(){var n;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.custom_options){t.next=2;break}return t.abrupt("return");case 2:return n=e.state.custom_options.access_token,t.abrupt("return",new Promise(function(t,a){var r=Object(at.a)(n);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),e.setState({user:r},function(){t(r)})}else a("Error jwt decode")}));case 4:case"end":return t.stop()}},t)})),e.loadContentFromServer=function(){e.recoverObjects().then(e.updateQuestionsBasedOnObjects)},e.loadContentFromDefaultData=function(t){try{var n=e.props.content;if(t&&t.elements){var a,r=n;a=t.elements[n.id].answers?t.elements[n.id].answers:[],e.setState({content:r,activeChoices:a})}}catch(o){console.error(o)}},e.recoverObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.content,a=e.state.custom_options,r=a.activity_uid,void 0!==a){t.next=5;break}return t.abrupt("return");case 5:return o=a.interaction_uid,t.next=8,new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(t,i){var c;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(o).recoverObject({context_uid:r},a);case 3:(c=e.sent)&&c.length>0&&t(c);case 5:i();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t)})),e.updateQuestionsBasedOnObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o,i,c,s,l=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=l.length>0&&void 0!==l[0]?l[0]:[]).length>0&&(a=e.state.content,r=a.questions,o=void 0===r?[]:r,i=0,c=[],a.questions.forEach(function(t){var a=null,r=n.filter(function(e){return e.target_uid===t.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});i=r.length;var o=r.find(function(e){return e.created_at>=a});if(o){c.push(t.id);var s=o.object_data;s&&s.data&&e.updateActiveChoicesBasedOnAnswer(t,s.data)}}),s=c.length-1,e.setState({attempsMade:i,currentQuestionIndex:s>=0?s:0,answered_qtd:c.length,answeredQuestionsIds:c},function(){c.length===o.length&&e.showResult()})),t.abrupt("return",n);case 3:case"end":return t.stop()}},t)})),e.updateActiveChoicesBasedOnAnswer=function(t,n){var a=Object(G.a)({},e.state.activeChoices);switch(t.type){case"quiz-1":t.choices.forEach(function(e){n.id===e.id&&(a[t.id]=e.id)});break;case"quiz-2":a[t.id]=[],t.choices.forEach(function(e){void 0!==n.find(function(t){return t.id===e.id})&&a[t.id].push(e.id)});break;case"quiz-5":a[t.id]=n;break;default:console.error("Question type not found")}e.setState({activeChoices:a})},e.getUsersInteractions=function(){var t=e.state,n=(t.content,t.custom_options),a=n.register_uid,r=n.activity_uid;return et.cms.learning.register.uid(a).interaction.recoverObjects({context_uid:r,activity_uid:r,last_occurrence:!0},n)},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"quiz-mixed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a),e.trackQuestionView()}e.setState({visible:n})}},e.trackQuestionView=function(){var t=e.props.content,n=t.questions[e.state.currentQuestionIndex],a={action:"view",element:"quiz-mixed",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:n.id,type:n.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(n.question)}}};e.props.onTrackEvent(a)},e.trackAnswerClick=function(t){var n=e.props.content,a=n.questions[e.state.currentQuestionIndex],r={action:"click",verb:"focused",element:"quiz-mixed-question-answer",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:a.id,type:a.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(a.question),answer:t}}};"quiz-1"!==a.type&&"quiz-2"!==a.type||(r.metadata.question.answer={id:t.id,title:ae.HtmlToText(t.text)}),e.props.onTrackEvent(r)},e.trackAnswerConfirmClick=function(t,n){var a=e.props.content,r=e.state,o=r.activeChoices,i=r.currentQuestionIndex,c=n[i]||null,s=i||-1;if(null!==c){var l,d,u=null;switch(c.type){case"quiz-1":l=c.choices.find(function(e){return o[c.id]===e.id}),u=zn(c,o),d={id:l.id,title:ae.HtmlToText(l.text),correct:u};break;case"quiz-2":l=c.choices.filter(function(e){return o[c.id].includes(e.id)}),u=zn(c,o),d=l.map(function(e){return{id:e.id,title:ae.HtmlToText(e.text),correct:u}});break;case"quiz-5":d=o[c.id];break;default:console.error("Question type not supported: ",c.type)}var m={action:"click",element:"quiz-mixed-question-confirm-answer",verb:"answered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,total_questions:n.length,current_question:s,question:{id:c.id,type:c.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(c.question),answer:d,answers:c.choices?c.choices.map(function(e){var t=Object(G.a)({},e);return t.text=ae.HtmlToText(t.text),t}):null}}};e.props.onTrackEvent(m),e.trackQuestionFeedback(u,d,c)}},e.trackQuestionResult=function(t,n,a){var r=e.props.content,o={action:"result",verb:"viewed",element:"quiz-mixed-question-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,question:{id:a.id,type:a.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(a.question),answer:{id:n.id,title:ae.HtmlToText(n.text),hit:t}}}};e.props.onTrackEvent(o)},e.trackQuestionFeedback=function(t,n,a){if(!1===a.no_feedback){var r=e.props.content,o={action:"view",element:"quiz-mixed-question-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,question:{id:a.id,type:a.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(a.question),answer:n}}};e.props.onTrackEvent(o)}},e.trackNavigation=function(t){var n=e.props.content,a="next"===t?"quiz-mixed-question-navigation-next":"quiz-mixed-question-navigation-previous",r="next"===t?e.state.currentQuestionIndex-1:e.state.currentQuestionIndex+1,o=e.props.content.questions[r],i=e.props.content.questions[e.state.currentQuestionIndex],c={action:"click",element:a,timestamp:Math.floor(Date.now()/1e3),verb:"next"===t?"advanced":"retreated",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:i.id,type:i.type,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(i.question)},source_question:{id:o.id,position:("next"===t?e.state.currentQuestionIndex-1:e.state.currentQuestionIndex+1)+1,title:ae.HtmlToText(o.question)}}};e.props.onTrackEvent(c)},e.trackQuizFinishView=function(t){var n=e.props.content,a={action:"view",element:"quiz-mixed-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,resume:t}};e.props.onTrackEvent(a)},e.trackRemakeQuiz=function(){var t=e.props.content,n={action:"click",element:"quiz-mixed-remake",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};e.props.onTrackEvent(n)},e.getLabels=function(){var t=e.state.content.questions,n=void 0===t?[]:t,a=e.props.contentLanguage,r=void 0===a?"pt_br":a,o={en:{confirm:"Confirm",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:n.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz.",edit:"Edit",answer_saved:"Answer saved!",reviewed:"Reviewed",review:"Review answers"},pt_br:{confirm:"Confirmar",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:n.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio.",edit:"Editar resposta",answer_saved:"Resposta salva!",review:"Revisar respostas",reviewed:"Revisado"}};return o[r]||o.en},e.isFinishButtonVisible=function(){var t=e.state;return t.currentQuestionIndex+1===t.content.questions.length},e.isFinishButtonDisabled=function(){var t=e.state,n=t.content,a=t.answeredQuestionsIds,r=n.questions,o=r.filter(function(e){return a.includes(e.id)});return r.length!==o.length},e.updateContentAndNotifyChange=function(t){e.setState({content:t},function(){e.props.onChange(e.state.content)})},e.setAnswer=function(t,n){var a=e.state,r=a.content,o=a.activeChoices,i=r.questions.find(function(e){return e.id===t});switch(i.type){case"quiz-1":e.setState({activeChoices:Object(G.a)(Object(G.a)({},o),{},Object(ge.a)({},t,n.id))});break;case"quiz-2":o[i.id]?o[i.id].includes(n.id)?o[i.id]=o[i.id].filter(function(e){return e!==n.id}):o[i.id].push(n.id):(o[i.id]=[],o[i.id].push(n.id)),e.setState({activeChoices:o});break;case"quiz-3":case"quiz-4":case"quiz-5":e.setState({activeChoices:Object(G.a)(Object(G.a)({},o),{},Object(ge.a)({},t,n))});break;default:return}e.trackAnswerClick(n)},e.setAnswerConfirmation=function(t){var n=e.state,a=n.answeredQuestionsIds,r=n.content.questions;e.setState({answeredQuestionsIds:[].concat(Object(Ie.a)(a),[t])},function(){e.trackAnswerConfirmClick(t,r)})},e.deleteAnswerConfirmation=function(t){var n=e.state.answeredQuestionsIds;e.setState({answeredQuestionsIds:n.filter(function(e){return e!==t})})},e.getContentOnlyWithQuestion=function(t){var n=e.state.content,a=Object(G.a)({},n);return a.questions=[t],a},e.goToPreviusQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t-1},function(){e.trackQuestionView(),e.trackNavigation("prev")})},e.goToNextQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t+1},function(){e.trackQuestionView(),e.trackNavigation("next")})},e.createInteractionObject=function(){var t=Object(W.a)(Z.a.mark(function t(n){var a,r,o,i,c,s,l;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,r=a.content,o=a.custom_options,i=a.activeChoices,c=null,t.t0=n.type,t.next="quiz-1"===t.t0?5:"quiz-2"===t.t0?7:"quiz-5"===t.t0?9:11;break;case 5:return c=n.choices.find(function(e){return e.id===i[n.id]}),t.abrupt("break",12);case 7:return c=n.choices.filter(function(e){return i[n.id].includes(e.id)}),t.abrupt("break",12);case 9:return c=i[n.id],t.abrupt("break",12);case 11:console.error("Invalid question type");case 12:if(!o){t.next=15;break}return s=o.interaction_uid,l=o.activity_uid,t.abrupt("return",et.cms.learning.interaction.uid(s).createObject({context_uid:l,type:r.type,target_uid:n.id,object_data:c},o));case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.showResult=Object(W.a)(Z.a.mark(function t(){var n,a,r,o,i,c,s,l,d,u,m;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.content,r=n.activeChoices,o=n.answeredQuestionsIds,i=n.attempsMade,c=a.questions,s=0,l=["quiz-5"],d=c.filter(function(e){return l.includes(e.type)}),u=c.length-d.length,c.filter(function(e){return!1===l.includes(e.type)}).forEach(function(){var e=Object(W.a)(Z.a.mark(function e(t){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.includes(t.id)&&zn(t,r)&&s++;case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),m={rdp_html_content:{questions:c,hits:s,total:u,pending_review_total:d.length,percentage_average:100/u*s}},e.setState({grades:m,showResult:!0,attempsMade:i+1},function(){e.trackQuizResult(c,m)});case 9:case"end":return t.stop()}},t)})),e.onFinishClick=Object(W.a)(Z.a.mark(function t(){var n,a,r;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.content,a=n.questions,r=a.map(function(){var t=Object(W.a)(Z.a.mark(function t(n){return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createInteractionObject(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.all(r);case 5:e.showResult();case 6:case"end":return t.stop()}},t)})),e.handleCloseReviewModal=function(){e.setState({is_review_modal_open:!1})},e.startReviewForQuestion=function(t){e.getUsersInteractions().then(function(n){e.setState({is_review_modal_open:!0,is_loading_review_modal:!1,current_question:t,interaction_objects:n})}).catch(function(e){console.error("Error getting interaction objects",e)})},e.getNoteRange=function(){var t=e.state.content,n=t.grade_type,a=void 0===n?"numeral":n,r=t.grade_numeral,o=void 0===r?{min:0,max:10,steps:1}:r,i=o.min,c=void 0===i?0:i,s=o.max,l=void 0===s?10:s,d=o.steps,u=void 0===d?1:d;switch(a){case"numeral":default:for(var m=[],p=c;p<=l;p+=u)m.push(p);return m}},e.resetState=function(){e.setState({answered:!1,grades:null,showResult:!1,currentQuestionIndex:0,activeChoices:[],answeredQuestionsIds:[]}),e.sortQuestions(!0)},e.handleRemakeQuiz=function(){e.resetState(),e.trackRemakeQuiz()},e.getFont=function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()},e.getQuestionsByType=function(t){return e.state.content.questions.filter(function(e){return e.type===t})},e.renderContentFor=function(t){var n=e.props,a=n.contentLanguage,r=n.headerActionsTemplate,o=n.footerActionsTemplate,i=e.state,c=i.content,s=i.showResult,l=i.activeChoices,d=i.answeredQuestionsIds,u=i.grades,m=i.user.roles,p=void 0===m?[]:m,h=i.custom_options,f=i.is_review_modal_open,g=i.interaction_objects,v=i.attempsMade,b=c.questions,A=c.primary_color,_=c.confirm_button_text_color;if(s)return D.a.createElement(Gr,{grades:u,labels:e.getLabels(),canRemake:Rs(c,v),onClickRemake:e.handleRemakeQuiz,content:c,contentLanguage:a});if(b){var x=b[t];return D.a.createElement(D.a.Fragment,null,D.a.createElement(qa,{data:x,answered:d.includes(x.id),labels:e.getLabels(),content:e.getContentOnlyWithQuestion(x),questionNumber:t,questionTotal:b.length,contentLanguage:a,headerActionsTemplate:r,footerActionsTemplate:o,activeChoices:l,onAnswering:e.setAnswer,onConfirmAnswer:e.setAnswerConfirmation,onResetAnswer:e.deleteAnswerConfirmation,onUpdateContent:e.updateContentAndNotifyChange,onlyShowQuestion:Xe(p)}),Xe(p)&&e.renderReview(x),D.a.createElement(At,{showFinishButton:e.isFinishButtonVisible(),disableFinishButton:e.isFinishButtonDisabled(),currentProgress:t+1,totalProgress:b.length,primaryColor:A,labels:e.getLabels(),activeChoices:l,onClickPrevius:e.goToPreviusQuestion,onClickNext:e.goToNextQuestion,onClickFinish:e.onFinishClick}),Xe(p)&&D.a.createElement(Ns,{open:f,allQuestions:b,content:c,data:e.getQuestionsByType("quiz-5"),customOptions:h,users:g,btnConfirmTextColor:_,primaryColor:A,noteRange:e.getNoteRange(),onCancel:e.handleCloseReviewModal,onConfirm:e.handleCloseReviewModal,labels:e.getLabels(),updateLocalStudentInteraction:function(t,n){var a=Object(Ie.a)(g);a=a.map(function(e){return e.user_uid===n.uid&&(0===e.interaction_objects.length?e.interaction_objects=[t]:e.interaction_objects=e.interaction_objects.map(function(e){return e.uid===t.uid?Object(G.a)(Object(G.a)({},e),{},{score:t.score,reviewed_at:t.reviewed_at,reviewer_user_uid:t.reviewer_user_uid,updated_at:t.updated_at}):e})),e}),e.setState({interaction_objects:a})}}))}return null},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.defaultData;n&&n.elements&&n.elements[t.id]&&this.getSignedUserFromJwt().then(this.loadContentFromDefaultData),this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){e.defaultData!==this.props.defaultData&&(this.loadContentFromDefaultData(),this.trackElementView())}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"trackQuizResult",value:function(e,t){for(var n=!1,a=0;a<e.length;a++)if(!e[a].no_correct_answer){n=!0;break}var r=this.props.content,o={action:"view",verb:"viewed",element:"quiz-mixed-result",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,questions:e}};!0===n&&(o.metadata.result={hits:t.rdp_html_content.hits,total:t.rdp_html_content.total,percentage_average:100/t.rdp_html_content.total*t.rdp_html_content.hits,min_percentage:t.rdp_html_content.min_percentage}),this.props.onTrackEvent(o)}},{key:"renderReview",value:function(e){var t=this,n=this.state,a=n.content.primary_color,r=n.is_loading_review_modal;return D.a.createElement("div",null,D.a.createElement("div",{className:"rdp-react-quiz-5-stats-container"},D.a.createElement("div",{className:"rdp-react-quiz-5-stats-container-content"},D.a.createElement(vc,{tabIndex:1,type:"button",onClick:function(){t.setState({is_loading_review_modal:!0},function(){return t.startReviewForQuestion(e)})},background:a,disabled:r},this.getLabels().review,"..."))))}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r=e.className,o=this.state.currentQuestionIndex;return D.a.createElement(gc,{ref:this.elementRef,className:_t([r,this.getFont(a.font_family)||""]),style:{backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"}},t,D.a.createElement(kt,null,this.renderContentFor(o)),n)}}]),n}(R.Component),Qs=n(173),Fs=n.n(Qs),Vs=(n(323),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).state={visible:!1},a}return Object(P.a)(n,[{key:"renderTimestamp",value:function(e){return D.a.createElement("div",{className:"rdp-composer-player-user-log-date"},D.a.createElement(Fs.a,{unix:!0},e))}},{key:"renderViewElement",value:function(e){switch(e.element){case"video":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o ",D.a.createElement("b",null,"player de v\xeddeo")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"accordion":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o ",D.a.createElement("b",null,"accordion")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"audio":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o ",D.a.createElement("b",null,"player de \xe1udio")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"header-1":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o ",D.a.createElement("b",null,"cabe\xe7alho")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"webview":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a ",D.a.createElement("b",null,"webview")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"tabs":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o elemento de ",D.a.createElement("b",null,"tabs")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"flashcards":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o elemento de ",D.a.createElement("b",null,"flashcards")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"text":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou o ",D.a.createElement("b",null,"texto")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");case"image":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a ",D.a.createElement("b",null,"imagem")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"quiz-only-choice":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a ",D.a.createElement("b",null,"atividade de quiz de \xfanica escolha")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"quiz-only-choice-question":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a quest\xe3o de t\xedtulo ",D.a.createElement("b",null,e.metadata.question.title)," da ",D.a.createElement("b",null,"atividade de quiz de \xfanica escolha")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"quiz-multiple-choice":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a ",D.a.createElement("b",null,"atividade de quiz de m\xfaltiplas escolhas")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"quiz-essay":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a ",D.a.createElement("b",null,"atividade de quiz dissertativo")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");case"quiz-essay-question":return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio visualizou a quest\xe3o de t\xedtulo ",D.a.createElement("b",null,e.metadata.question.title)," da ",D.a.createElement("b",null,"atividade de quiz dissertativo")," identificada como ",D.a.createElement("b",null,e.metadata.element_title),".");default:return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),e.action)}}},{key:"renderClickElement",value:function(e){var t=e.element,n=e.verb;switch(t){case"accordion":var a="opened"===n?"abriu":"fechou";return D.a.createElement(D.a.Fragment,null,this.renderTimestamp(e.timestamp),"O usu\xe1rio ",a," o item ",D.a.createElement("b",null,e.metadata.title)," do elemento ",D.a.createElement("b",null,"accordion")," identificado como ",D.a.createElement("b",null,e.metadata.element_title),".");default:return D.a.createElement(D.a.Fragment,null,e.action)}}},{key:"render",value:function(){var e=this,t=this.props.events;return D.a.createElement("ul",{className:"rdp-composer-player-user-log"},t.map(function(t,n){switch(t.action){case"view":return D.a.createElement("li",{key:n},e.renderViewElement(t));case"click":return D.a.createElement("li",{key:n},e.renderClickElement(t));default:return D.a.createElement("li",{key:n},t.action)}}))}}]),n}(R.Component)),Hs=n(194),Ps=(D.a.Component,n(179)),Us=n.n(Ps),Ks=Se.b.div(fs||(fs=Object(qe.a)(["\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ys=Se.b.div(gs||(gs=Object(qe.a)(["\n  max-width: 750px;\n  display: flex;\n  justify-content: center;\n  \n  @media(max-width: 800px) {\n    flex-direction: column;\n  }\n"]))),Gs=Se.b.div(vs||(vs=Object(qe.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 10px;\n\n  @media(max-width: 800px) {\n    margin: 10px 0;\n  }\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n\n  & > img {\n    cursor: pointer;\n    transition: 0.3s;\n    margin-bottom: 8px;\n    object-fit: cover;\n\n    ","\n\n    @media(max-width: 800px) {\n      width: 70vw;\n      height: 70vw;\n    }\n  }\n"])),function(e){var t=750/e.numberOfImages;return"width: ".concat(t,"px; height: ").concat(t,"px;")}),Js=Se.b.div(bs||(bs=Object(qe.a)(["\n  position: fixed;\n  z-index: 1000;\n  padding-top: 50px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.9);\n  overflow-x: hidden;\n\n  .slick-list {\n    width: 100%;\n  }\n\n  .slick-track, .slick-slider {\n    display: flex;\n    justify-content: center;\n  }\n\n  .slick-slide {\n    margin: 0;\n    position: relative;\n    text-align: center;\n    flex-flow: column;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media(max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),Zs=Se.b.img(As||(As=Object(qe.a)(["\n  margin: auto;\n  display: block;\n  width: 70%;\n  max-width: 700px;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n  \n  @media only screen and (max-width: 700px) {\n    width: 100%;\n  }\n"]))),Ws=Se.b.p(_s||(_s=Object(qe.a)(["\n  margin: auto;\n  display: block;\n  width: 80%;\n  max-width: 700px;\n  text-align: center;\n  color: #ccc;\n  padding: 10px 0;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n"]))),Xs=Se.b.button(xs||(xs=Object(qe.a)(["\n  background: #f1f1f1;\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 50%;\n  z-index: 1000;\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n\n  &:first-of-type {\n    left: 28px;\n  }\n\n  &:last-of-type {\n    right: 28px;\n  }\n\n  &:hover,\n  &:focus {\n    background: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  i {\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 5px;\n    margin-top: 3px;\n  }\n\n  @media (max-width: 700px) {\n    &:first-of-type {\n      left: 8px;\n    }\n\n    &:last-of-type {\n      right: 8px;\n    }\n  }\n"]))),$s=Se.b.i(ws||(ws=Object(qe.a)(["\n  transform: rotate(135deg);\n  -webkit-transform: rotate(135deg);\n  margin-left: 5px;\n"]))),el=Se.b.i(ys||(ys=Object(qe.a)(["\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  margin-right: 5px;\n"]))),tl=Se.b.ul(ks||(ks=Object(qe.a)(["\n  width: 100vw;\n  text-align: center;\n  margin-top: 10px;\n"]))),nl=Se.b.li(Es||(Es=Object(qe.a)(["\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin: 0 8px;\n  background: #f1f1f1;\n  border-radius: 50%;\n  opacity: ",";\n  cursor: pointer;\n"])),function(e){return e.isSelected?1:.25}),al=Se.b.span(Cs||(Cs=Object(qe.a)(["\n  position: absolute;\n  top: 15px;\n  right: 35px;\n  color: #f1f1f1;\n  font-size: 40px;\n  font-weight: bold;\n  transition: 0.3s;\n\n  &:focus, &:hover {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n"]))),rl=function(e){var t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r=e.onTrackEvent,o=Object(R.useRef)(null),i=Object(R.useRef)(null),c=Object(R.useState)(!1),s=Object(Rt.a)(c,2),l=s[0],d=s[1];D.a.useEffect(function(){u()},[]);var u=function(){var e=ne.visible(o.current);if(l!==e){if(!0===e){var t={action:"view",element:"images-gallery-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title}};void 0!==a.dam_assets&&a.dam_assets.length>0&&(t.assets=a.dam_assets),r(t)}d(e)}},m=Object(R.useState)(a.images.map(function(){return!1})),p=Object(Rt.a)(m,2),h=p[0],f=p[1],g=Object(R.useState)(0),v=Object(Rt.a)(g,2),b=v[0],A=v[1],_={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px",color:a.text_color},x={dots:!1,infinite:!1,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:b};return D.a.createElement(Ks,{ref:o,style:_},t,D.a.createElement(Ys,null,a.images.map(function(e,t){return D.a.createElement(Gs,{numberOfImages:a.images.length,key:t},D.a.createElement("img",{src:e.src,alt:e.caption,onClick:function(){return function(e){h[e]=!0,f(Object(Ie.a)(h)),A(e)}(t)}}),D.a.createElement("span",null,e.caption))})),h.includes(!0)&&D.a.createElement(Js,null,D.a.createElement("div",null,D.a.createElement(Xs,{onClick:function(){var e=0===b?a.images.length-1:b-1;i.current.slickGoTo(e)}},D.a.createElement($s,null)),D.a.createElement(Us.a,Object.assign({ref:i,beforeChange:function(e,t){return A(t)}},x),a.images.map(function(e,t){return D.a.createElement("div",{key:t},D.a.createElement(Zs,{src:e.src,alt:""}),e.caption&&D.a.createElement(Ws,null,e.caption))})),D.a.createElement(tl,null,a.images.map(function(e,t){return D.a.createElement(nl,{onClick:function(){return function(e){A(e),i.current.slickGoTo(e)}(t)},isSelected:t===b,key:t})})),D.a.createElement(Xs,{onClick:function(){var e=b===a.images.length-1?0:b+1;i.current.slickGoTo(e)}},D.a.createElement(el,null)),D.a.createElement(al,{onClick:function(){f(h.map(function(){return!1}))}},"\xd7"))),n)},ol=(n(349),Se.b.div(js||(js=Object(qe.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n"])))),il=Se.b.div(Os||(Os=Object(qe.a)(["\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 300px;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n"]))),cl=(Se.b.textarea(Is||(Is=Object(qe.a)(["\n  margin: 15px;\n  display: block;\n  width: calc(100% - 30px);\n  resize: none;\n  height: 210px;\n  border: 0;\n  outline: none;\n"]))),Se.b.form(qs||(qs=Object(qe.a)([""])))),sl=Se.b.div(Ss||(Ss=Object(qe.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),ll=Se.b.div(Ts||(Ts=Object(qe.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n"]))),dl=Se.b.button(Ms||(Ms=Object(qe.a)(["\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n"])),function(e){return e.background||"#000"},function(e){return e.color||"#FFF"},function(e){return e.background||"#000"}),ul=(n(350),n(193)),ml=Se.b.div(zs||(zs=Object(qe.a)(["\n  .quill {\n    margin: 0;\n    border-radius: 8px;\n\n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size span.ql-picker-label.ql-active::before, \n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size.ql-expanded span.ql-picker-options span.ql-picker-item::before {\n      content: attr(data-value) !important;\n    }\n    \n    .ql-toolbar.ql-snow {\n      border: none;\n      ","\n\n      + .ql-container.ql-snow {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n\n    .ql-container.ql-snow {\n      background-color: transparent;\n      border: none;\n\n      .ql-editor {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n  }\n\n  .ql-format-custom-color {\n    width: 25px;\n    height: 22px;\n    cursor: pointer;\n    display: inline-block;\n    background-color: ",";\n  }\n\n  .ql-custom-color-picker {\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .ql-custom-color-picker-overlay {\n    position: relative;\n    top: 40px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n\n  .ql-custom-color-picker .github-picker {\n    border: 0 !important;\n    min-height: 40px !important;\n    box-shadow: none !important;\n    background: #ffffff !important;\n    justify-content: center !important;\n    align-items: center !important;\n    padding: 5px !important;\n  }\n"])),function(e){return e.colorPickerOpened&&"opacity: 0;"},function(e){return e.quillColor||"#000"}),pl=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).addCustomColorPicker=a.addCustomColorPicker.bind(Object(X.a)(a)),a.toggleColor=a.toggleColor.bind(Object(X.a)(a)),a.onQuillColorChange=a.onQuillColorChange.bind(Object(X.a)(a)),a.quillRef=D.a.createRef(),a.state={current_selection:null,current_quill_color:"#000",render_quill_color_picker:!1,colors:["#000000","#555555","#ABB8C3","#e60000","#F47373","#ff9900","#FCB900","#FCCB00","#008a00","#4CAF50","#CDDC39","#0066cc","#03A9F4","#8ED1FC","#9933ff","#F78DA7","#ffffff"],modules:{toolbar:[["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"}],[{script:"sub"},{script:"super"},"formula"],[{size:[!1,"9px","10px","11px","12px","13px","14px","15px","18px","20px","22px","26px","30px","34px","36px","38px","40px","45px","50px","55px","60px"]}],[{list:"ordered"},{list:"bullet"}],["link"]]},formats:["header","size","bold","italic","underline","strike","script","formula","list","bullet","indent","link","color","align"]},a}return Object(P.a)(n,[{key:"componentWillMount",value:function(){var e=ke.Quill.import("formats/font");e.whitelist=["large","medium","small","regular","bold","pullquote"],ke.Quill.register(e,!0);var t=ke.Quill.import("attributors/style/size");t.whitelist=["9px","10px","11px","12px","13px","14px","15px","18px","20px","22px","26px","30px","34px","36px","38px","40px","45px","50px","55px","60px"],ke.Quill.register(t,!0)}},{key:"componentDidMount",value:function(){this.addCustomColorPicker()}},{key:"addCustomColorPicker",value:function(){var e=this.quillRef.current;if(null!==e){var t=e.querySelector(".ql-toolbar");t&&t.insertAdjacentHTML("beforeend",'<span class="ql-formats"><span class="ql-format-custom-color"></span></span>');var n=e.querySelector(".ql-format-custom-color");n&&n.addEventListener("click",this.toggleColor)}}},{key:"toggleColor",value:function(){var e=this.state.render_quill_color_picker,t=null,n=window.getSelection();n&&n.rangeCount>0&&(console.log("range",n.getRangeAt(0)),t=n.getRangeAt(0)),this.setState({current_selection:t,render_quill_color_picker:!e})}},{key:"onQuillColorChange",value:function(e){var t=this.state.current_selection,n=window.getSelection();n&&t&&(n.removeAllRanges(),n.addRange(t)),this.setState({current_quill_color:e.hex,render_quill_color_picker:!1}),this.changeSelectedTextColor(e.hex)}},{key:"changeSelectedTextColor",value:function(e){var t=this.quillRef,n=this.props.onChange;if(window.getSelection){var a=getSelection();if(a.getRangeAt&&a.rangeCount){var r=getSelection().getRangeAt(0),o='<span style="color: '+e+';">'+r+"</span>";r.deleteContents();var i=document.createElement("div");i.innerHTML=o;for(var c,s=document.createDocumentFragment();c=i.firstChild;)s.appendChild(c);r.insertNode(s)}}if(null!==t.current&&n){var l=t.current.querySelector(".ql-editor");l&&n(l.innerHTML)}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,a=e.placeholder,r=this.state,o=r.render_quill_color_picker,i=r.modules,c=r.formats,s=r.colors,l=r.current_quill_color;return D.a.createElement(ml,{ref:this.quillRef,quillColor:l,colorPickerOpened:o},o&&D.a.createElement("div",{className:"ql-custom-color-picker"},D.a.createElement("div",{className:"ql-custom-color-picker-overlay",onClick:this.toggleColor}),D.a.createElement(ul.a,{colors:s,color:l,onChange:this.onQuillColorChange,triangle:"hide",width:"100%"})),D.a.createElement(Ee.a,{value:t,onChange:n,placeholder:a,modules:i,formats:c,theme:"snow"}))}}]),n}(R.PureComponent),hl=n(184),fl=n.n(hl),gl=Se.b.div(Ls||(Ls=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),vl=Se.b.img(Bs||(Bs=Object(qe.a)(["\n  width: auto;\n  height: ",";\n"])),function(e){return e.height});function bl(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,o=e.gifHeight,i=void 0===o?"auto":o;return D.a.createElement(gl,{style:{width:n,height:r}},D.a.createElement(vl,{src:fl.a,alt:"loading...",height:i}))}var Al=function(e){var t=e.open,n=void 0!==t&&t,a=e.onConfirm,r=void 0===a?function(e){return e}:a,o=e.onCancel,i=void 0===o?function(){}:o,c=e.value,s=void 0===c?"":c,l=e.title,d=void 0===l?"Criar t\xf3pico":l,u=e.btnConfirmLabel,m=void 0===u?"Criar t\xf3pico":u,p=e.btnCancelLabel,h=void 0===p?"Cancelar":p,f=e.btnConfirmTextColor,g=void 0===f?"#fff":f,v=e.btnConfirmColor,b=void 0===v?"#000":v,A=e.btnCancelTextColor,_=void 0===A?"#fff":A,x=e.btnCancelColor,w=void 0===x?"#000":x,y=e.isLoading,k=void 0!==y&&y,E=Object(R.useState)(s),C=Object(Rt.a)(E,2),j=C[0],O=C[1];Object(R.useEffect)(function(){O(s)},[s]);var I=function(){i(),O("")};return D.a.createElement(ol,{role:"dialog","aria-modal":"true","aria-labelledby":d,onKeyUp:function(e){(e.which||e.keyCode)===uo.ESC&&(e.stopPropagation(),i())},hidden:!n},D.a.createElement(cl,{onSubmit:function(e){e.preventDefault(),r(j),O("")}},D.a.createElement(sl,{onClick:I}),D.a.createElement(il,null,D.a.createElement(pl,{value:j,onChange:O,placeholder:"Escreva aqui..."}),D.a.createElement(ll,null,D.a.createElement(dl,{type:"submit",background:b,color:g,disabled:k},m),D.a.createElement(dl,{type:"button",onClick:I,style:{marginLeft:"15px"},background:w,color:_,disabled:k},h)))))};var _l,xl,wl,yl=function(){return D.a.createElement("div",{className:"element-forum-1-preloader"},D.a.createElement("div",{className:"element-forum-1-preloader-message"},D.a.createElement("div",{className:"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-actions"},D.a.createElement("div",{className:"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background"}))),D.a.createElement("div",{className:"element-forum-1-preloader-message-children"},D.a.createElement("div",{className:"element-forum-1-preloader-message-child"},D.a.createElement("div",{className:"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-actions"},D.a.createElement("div",{className:"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background"}))),D.a.createElement("div",{className:"element-forum-1-preloader-message-child"},D.a.createElement("div",{className:"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-actions"},D.a.createElement("div",{className:"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background"})))))},kl=Se.b.div(_l||(_l=Object(qe.a)(["\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  text-align: center;\n  padding-bottom: 40px;\n"]))),El=Se.b.span(xl||(xl=Object(qe.a)(['\n  width: 200px;\n  height: 132px;\n  display: block;\n  margin: auto;\n  background-image: url("./icon-no-message.png");\n  background-size: 240px;\n  background-position: center;\n  background-repeat: no-repeat;\n']))),Cl=Se.b.p(wl||(wl=Object(qe.a)(["\n  display: block;\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  margin: 15px 0;\n  color: #acb6c1;\n"])));var jl,Ol,Il,ql,Sl,Tl,Ml,zl,Ll,Bl,Nl,Rl=function(){return D.a.createElement(kl,null,D.a.createElement(El,null),D.a.createElement(Cl,null,"Funcionalidade habilitada apenas no m\xf3dulo de Learning."))},Dl=Se.b.div(jl||(jl=Object(qe.a)(["\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ql=Se.b.div(Ol||(Ol=Object(qe.a)(["\n\tposition: relative;\n"]))),Fl=Se.b.button(Il||(Il=Object(qe.a)(["\n  background-color: transparent;\n  border: none;\n  color: ",";\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),Vl=Se.b.span(ql||(ql=Object(qe.a)(["\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ",";\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t","\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return"true"===e.rotate&&Object(Se.a)(Sl||(Sl=Object(qe.a)(["\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t"])))}),Hl=Se.b.ul(Tl||(Tl=Object(qe.a)(["\n  width: 100%;\n  max-height: 140px;\n  overflow-y: auto;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ",";\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  z-index: ",";\n  \n  ","\n\n  ","\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n"])),function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.zIndex||"var(--note-dropdown-list-z-index)"},function(e){return"bottom"===e.pos&&Object(Se.a)(Ml||(Ml=Object(qe.a)(["\n    top: auto;\n  "])))},function(e){return"top"===e.pos&&Object(Se.a)(zl||(zl=Object(qe.a)(["\n    bottom: 14px;\n  "])))}),Pl=Se.b.li(Ll||(Ll=Object(qe.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ","};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid "," !important;\n }\n"])),function(e){return e.hoverColor||"var(--note-dropdown-background-hover-color)"},function(e){return e.color||"var(--note-dropdown-primary-color)"}),Ul=Se.b.div(Bl||(Bl=Object(qe.a)(["\n  padding: 0 10px;\n"]))),Kl=Se.b.span(Nl||(Nl=Object(qe.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  padding: 4px;\n"])),function(e){return e.color||"var(--note-dropdown-primary-color)"},function(e){return e.backgroundColor||"var(--note-dropdown-background-color)"});var Yl,Gl,Jl,Zl,Wl,Xl,$l,ed,td,nd,ad=function(e){var t=e.notes,n=void 0===t?[0,1,2,3,4,5,6,7,8,9,10]:t,a=e.label,r=void 0===a?"Atribuir nota":a,o=e.selected,i=void 0===o?0:o,c=e.listTitle,s=void 0===c?"Notas":c,l=e.onSelect,d=void 0===l?function(e){return e}:l,u=e.onHoverNote,m=void 0===u?function(e){return e}:u,p=e.open,h=void 0!==p&&p,f=e.primaryColor,g=void 0===f?"#00643e":f,v=e.backgroundColor,b=void 0===v?"#fff":v,A=e.backgroundHoverColor,_=void 0===A?"rgba(213, 213, 213, 0.49)":A,x=e.listZIndex,w=void 0===x?1:x,y=e.position,k=void 0===y?"bottom":y,E=e.show,C=void 0===E||E,j=e.isLoadingNote,O=Object(R.useRef)(),I=Object(R.useState)(k),q=Object(Rt.a)(I,2),S=q[0],T=q[1],M=Object(R.useState)(h),z=Object(Rt.a)(M,2),L=z[0],B=z[1],N=Object(R.useState)(null),Q=Object(Rt.a)(N,2),F=Q[0],V=Q[1];Object(R.useEffect)(function(){if(L&&O&&O.current){var e=O.current.getBoundingClientRect(),t=e.y,n=e.height,a=S;"top"===a&&(n+=n),(a=t+n>=window.innerHeight?"top":"Bottom")!==S&&T(a)}},[L,O]);var H=function(e,t){V(t),m&&m(t)};return D.a.createElement(Dl,null,C&&D.a.createElement(Ql,null,D.a.createElement(Fl,{type:"button","aria-haspopup":"listbox","aria-expanded":L?"true":"false",onClick:function(e){e.preventDefault(),B(function(e){return!e})},color:g},D.a.createElement("span",null,r,null!==F?": ".concat(F):""),D.a.createElement(Vl,{color:g,rotate:L?"true":"false"},D.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.a.createElement("path",{d:"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z"})))),D.a.createElement(Hl,{ref:O,title:s,tabIndex:"-1",role:"listbox",hidden:!L,color:g,backgroundColor:b,zIndex:w,pos:S},n.map(function(e,t){return D.a.createElement(Pl,{hoverColor:_,color:g,key:t,role:"option","aria-selected":e===i?"true":"false",onClick:function(){return function(e){B(!1),V(null),d&&d(e)}(e)},onMouseEnter:function(t){return H(0,e)},onMouseLeave:function(e){return H(0,null)}},e)}))),null!==i&&D.a.createElement(Ul,null,D.a.createElement(Kl,{color:g,backgroundColor:b},j?D.a.createElement(bl,{width:"5px",gifHeight:"70px"}):D.a.createElement(D.a.Fragment,null,i))))},rd=Se.b.div(Yl||(Yl=Object(qe.a)(["\n  background-color: ",";\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  margin-left: ",";\n  ","\n  ","\n"])),function(e){return e.backgroundColor||"#e1f1eb"},function(e){return e.column?40*e.column+"px":"0"},function(e){return 1===e.elevation&&Object(Se.a)(Gl||(Gl=Object(qe.a)(["\n      box-shadow: 1px 1px 3px #A8A8A8;\n  "])))},function(e){return-1===e.elevation&&Object(Se.a)(Jl||(Jl=Object(qe.a)(["\n      box-shadow: 1px 1px 3px ",";\n  "])),e.backgroundColor||"#e1f1eb")}),od=Se.b.div(Zl||(Zl=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 15px;\n"]))),id=Se.b.span(Wl||(Wl=Object(qe.a)(["\n  font-size: 12px;\n  color: ",";\n  display: block;\n"])),function(e){return e.color||"#A8A8A8"}),cd=Se.b.p(Xl||(Xl=Object(qe.a)(["\n  font-size: 14px;\n  line-height: 18px;\n  color: ",";\n  display: block;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n"])),function(e){return e.color||"#727272"}),sd=Se.b.ul($l||($l=Object(qe.a)(["\n  display: block;\n  text-align: right;\n  margin-top: 10px;\n"]))),ld=Se.b.li(ed||(ed=Object(qe.a)(["\n  display: inline-block;\n"]))),dd=Se.b.button(td||(td=Object(qe.a)(["\n  text-transform: uppercase;\n  color: ",";\n  font-size: 10px;\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 10px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  border-radius: 10px;\n  \n  &:focus {\n    outline: 2px solid #00643e !important;\n    outline-offset: 2px;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n"])),function(e){return e.color||"#00643e"});Se.b.button(nd||(nd=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-family: Lato-Bold, serif;\n  background: transparent;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: brightness(1.2);\n  }\n"])),function(e){return e.background||"#000"},function(e){return e.background||"#fff"},function(e){return e.background||"#2d7b45"});function ud(e){var t=Object(R.useState)(!1),n=Object(Rt.a)(t,2),a=n[0],r=n[1],o=new IntersectionObserver(function(e){var t=Object(Rt.a)(e,1)[0];return r(t.isIntersecting)});return Object(R.useEffect)(function(){return e.current&&o.observe(e.current),function(){return o.disconnect()}},[e]),a}var md=function(e){var t=e.onScreen,n=void 0===t?function(){}:t,a=e.column,r=void 0===a?1:a,o=Object(R.useRef)(),i=ud(o);return Object(R.useEffect)(function(){i&&n()},[i,n]),D.a.createElement("div",{ref:o,className:"element-forum-1-preloader"},D.a.createElement("div",{className:"element-forum-1-preloader-message-children",style:{paddingLeft:40*r+"px"}},D.a.createElement("div",{className:"element-forum-1-preloader-message-child"},D.a.createElement("div",{className:"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background"}),D.a.createElement("div",{className:"element-forum-1-preloader-message-actions"},D.a.createElement("div",{className:"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background"})))))};var pd,hd,fd,gd,vd,bd,Ad,_d,xd=function(e){var t=e.id,n=e.user,a=e.rawContent,r=e.primaryColor,o=void 0===r?"#00643e":r,i=e.authorUID,c=e.column,s=void 0===c?0:c,l=e.topicBackgroundColor,d=e.topicAuthorColor,u=e.topicTextColor,m=e.children,p=e.value,h=e.createdAtDateTime,f=e.createdAt,g=e.byLabel,v=void 0===g?"Por":g,b=e.customOptions,A=e.content,_=e.interactionObjects,x=e.language,w=void 0===x?"pt-br":x,y=e.onClickDelete,k=e.onClickReply,E=e.onClickEdit,C=e.onClickSaveNote,j=void 0===C?function(){}:C,O=e.disableOperations,I=void 0!==O&&O,q=e.withReviewDropdown,S=void 0!==q&&q,T=e.elevation,M=void 0===T?0:T,z=Object(R.useState)(!1),L=Object(Rt.a)(z,2),B=L[0],N=L[1],Q=Object(R.useState)(!1),F=Object(Rt.a)(Q,2),V=F[0],H=F[1],P=Object(R.useState)(null),U=Object(Rt.a)(P,2),K=U[0],Y=U[1],G=Object(R.useState)([]),J=Object(Rt.a)(G,2),X=J[0],$=J[1],ee=Object(R.useState)(null),te=Object(Rt.a)(ee,2),ne=te[0],ae=te[1],re=Object(R.useState)(p),oe=Object(Rt.a)(re,2),ie=oe[0],ce=oe[1],se=Object(R.useState)(!1),le=Object(Rt.a)(se,2),de=le[0],ue=le[1];Object(R.useEffect)(function(){$(function(){var e=A.grade_type,t=A.grade_numeral;switch(e){case"numeral":default:for(var n=t.min,a=void 0===n?0:n,r=t.max,o=void 0===r?10:r,i=t.steps,c=void 0===i?1:i,s=[],l=a;l<=o;l+=c)s.push(l);return s}})},[A]),Object(R.useEffect)(function(){if(Array.isArray(_)){var e=_[0];if(e&&Array.isArray(e.interaction_objects)){var t=e.interaction_objects[0];t&&null!==t.score&&ae(parseInt(t.score))}}},[_]),Object(R.useMemo)(Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||null!==K||!B){e.next=12;break}return t=b.access_token,n=b.api_env,a=b.domain,r=b.project_key,e.prev=2,e.next=5,et.auth.user.uid(i,{access_token:t,api_env:n,domain:a,project_key:r});case 5:o=e.sent,Y(o.detail.name),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Y("");case 12:case"end":return e.stop()}},e,null,[[2,9]])})),[b,i,K,B]);var me=function(e){if(Array.isArray(_)){var t=_[0];if(t&&Array.isArray(t.interaction_objects)){var n=t.interaction_objects[0];if(n){var r=ne;ae(e),ue(!0),et.cms.learning.interaction.uid(t.interaction_uid).score.object.uid(n.uid).updateScore(e,b).then(function(t){ue(!1),j(e,t)}).catch(function(){ae(r),ue(!1)})}else ue(!0),et.cms.learning.interaction.uid(t.interaction_uid).object.reviewed({context_uid:b.activity_uid,type:A.type,target_uid:a.uid,object_data:a,score:e},b).then(function(t){ae(e),ue(!1),j(e,t)})}}};return null===K?D.a.createElement(md,{column:s,onScreen:function(){return N(!0)}}):D.a.createElement(rd,{backgroundColor:l,column:s,elevation:M},D.a.createElement(od,null,D.a.createElement(id,{color:d},"".concat(v,": ").concat(K||""," - "),D.a.createElement("time",{dateTime:h},f)),S&&Xe(n.roles)&&n.uid!==i&&D.a.createElement(ad,{notes:X,primaryColor:o,onSelect:me,selected:ne,isLoadingNote:de}),!S&&null!==ne&&D.a.createElement(ad,{notes:X,primaryColor:o,selected:ne,show:!1})),p&&!V&&D.a.createElement(cd,{color:u,dangerouslySetInnerHTML:{__html:p}}),V&&D.a.createElement("div",null,D.a.createElement(pl,{value:ie,onChange:ce,placeholder:"Escreva aqui..."})),m,D.a.createElement(sd,null,D.a.createElement(ld,null,V?D.a.createElement(D.a.Fragment,null,D.a.createElement(dd,{type:"button",color:o,onClick:function(){H(!1),E(ie)}},{en:"Save","pt-br":"Salvar"}[w]||"Salvar"),D.a.createElement(dd,{type:"button",color:o,onClick:function(){return H(!1)}},{en:"Cancel","pt-br":"Cancelar"}[w]||"Cancelar")):!I&&D.a.createElement(D.a.Fragment,null,k&&D.a.createElement(dd,{type:"button",color:o,onClick:function(){return k(t)}},{en:"Reply","pt-br":"Comentar"}[w]||"Comentar"),K&&We(n.uid||"",i)&&E&&null===ne&&D.a.createElement(dd,{type:"button",color:o,onClick:function(){H(!0)}},{en:"Edit","pt-br":"Editar"}[w]||"Editar"),K&&We(n.uid||"",i)&&y&&null===ne&&D.a.createElement(dd,{type:"button",color:o,onClick:function(){return y(t)}},{en:"Remove","pt-br":"Excluir"}[w]||"Excluir")))))},wd=Se.b.div(pd||(pd=Object(qe.a)(["\n  position: fixed;\n  overflow-y: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  @media screen and (min-width: 640px) {\n    background: rgba(0, 0, 0, 0.3);\n  }\n"]))),yd=Se.b.div(hd||(hd=Object(qe.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n"]))),kd=Se.b.div(fd||(fd=Object(qe.a)(["\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 200px;\n  top: 40%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n"]))),Ed=Se.b.h2(gd||(gd=Object(qe.a)(["\n  margin: 20px;\n  font-size: 1.3rem;\n  text-align: center;\n"]))),Cd=Se.b.div(vd||(vd=Object(qe.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),jd=Se.b.p(bd||(bd=Object(qe.a)(["\n  font-size: 1.3rem;\n"]))),Od=Se.b.div(Ad||(Ad=Object(qe.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n"]))),Id=Se.b.button(_d||(_d=Object(qe.a)(["\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n"])),function(e){return e.background||"#000"},function(e){return e.color||"#FFF"},function(e){return e.background||"#000"});var qd,Sd,Td,Md,zd,Ld,Bd,Nd,Rd,Dd,Qd,Fd,Vd,Hd,Pd,Ud,Kd,Yd,Gd,Jd,Zd,Wd,Xd,$d,eu,tu,nu,au,ru,ou,iu,cu,su,lu,du,uu,mu,pu,hu,fu,gu,vu,bu,Au,_u=function(e){var t=e.id,n=void 0===t?"alert-dialog":t,a=e.open,r=void 0!==a&&a,o=e.onConfirm,i=void 0===o?function(){}:o,c=e.onCancel,s=void 0===c?function(){}:c,l=e.label,d=void 0===l?"Confirma\xe7\xe3o":l,u=e.description,m=void 0===u?"Deseja realizar esta a\xe7\xe3o?":u,p=e.btnConfirmLabel,h=void 0===p?"Sim":p,f=e.btnCancelLabel,g=void 0===f?"N\xe3o":f,v=e.controlsID,b=void 0===v?"":v,A=e.btnConfirmTextColor,_=void 0===A?"#fff":A,x=e.btnConfirmColor,w=void 0===x?"#000":x,y=e.btnCancelTextColor,k=void 0===y?"#fff":y,E=e.btnCancelColor,C=void 0===E?"#000":E,j=D.a.useState(!1),O=Object(Rt.a)(j,2),I=O[0];return O[1],Object(R.useEffect)(function(){return document.querySelector("body").style.overflow=r?"hidden":"auto",function(){return document.querySelector("body").style.overflow="auto"}},[r]),D.a.createElement(wd,{hidden:!r},D.a.createElement(yd,{id:n,role:"alertdialog","aria-modal":"true","aria-labelledby":n+"-label","aria-describedby":n+"-desc",onKeyUp:function(e){(e.which||e.keyCode)===uo.ESC&&(e.stopPropagation(),s())},hidden:!r},D.a.createElement(kd,null,D.a.createElement(Ed,{id:n+"-label"},d),D.a.createElement(Cd,{id:n+"-desc"},D.a.createElement(jd,null,m)),D.a.createElement(Od,null,D.a.createElement(Id,{id:n+"-confirm","aria-controls":b,type:"button",onClick:function(){i()},color:_,background:w,disabled:I},h),D.a.createElement(Id,{type:"button",onClick:function(){s()},style:{marginLeft:"15px"},color:k,background:C,disabled:I},g)))))},xu=n(81),wu=n.n(xu),yu=Se.b.button(qd||(qd=Object(qe.a)(["\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ",";\n  font-family: Lato-Bold, serif;\n  background: ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n    \n    ",";\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px !important;\n    background: ",";\n    color: ",";\n  }\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.isLoading&&Object(Se.a)(Sd||(Sd=Object(qe.a)(["\n      cursor: progress;\n    "])))},function(e){return e.background||"#2d7b45"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"},function(e){return e.background||"#2d7b45"},function(e){return e.color||"#fff"}),ku=Se.b.div(Td||(Td=Object(qe.a)(["\n  border-bottom: 1px solid #e9e9e9;\n  transform: scale(0.9);\n\n  &:last-child {\n    margin-bottom: 20px;\n  }\n"]))),Eu=Se.b.div(Md||(Md=Object(qe.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 1;\n  transition: all 0.3s ease-in-out;\n"]))),Cu=Se.b.div(zd||(zd=Object(qe.a)(["\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n"]))),ju=Se.b.form(Ld||(Ld=Object(qe.a)([""]))),Ou=Se.b.div(Bd||(Bd=Object(qe.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),Iu=(Se.b.div(Nd||(Nd=Object(qe.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n"]))),Se.b.button(Rd||(Rd=Object(qe.a)(["\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n"])),function(e){return e.background||"#000"},function(e){return e.color||"#FFF"},function(e){return e.background||"#000"}),Se.b.button(Dd||(Dd=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n"])),function(e){return e.primaryColor||"black"},function(e){return e.primaryColor||"black"})),qu=Se.b.div(Qd||(Qd=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n"]))),Su=Se.b.div(Fd||(Fd=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n"]))),Tu=Se.b.div(Vd||(Vd=Object(qe.a)(["\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n"]))),Mu=Se.b.button(Hd||(Hd=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n"])),function(e){return e.background||"#000"}),zu=Se.b.button(Pd||(Pd=Object(qe.a)(["\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n"])),function(e){return e.background||"#000"}),Lu=Se.b.div(Ud||(Ud=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n"]))),Bu=Se.b.div(Kd||(Kd=Object(qe.a)(["\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n"]))),Nu=Object(Se.b)(Bu)(Yd||(Yd=Object(qe.a)(["\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n"]))),Ru=Se.b.div(Gd||(Gd=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),Du=Se.b.div(Jd||(Jd=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n"]))),Qu=Se.b.div(Zd||(Zd=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Fu=Se.b.div(Wd||(Wd=Object(qe.a)(["\n  overflow: hidden;\n  position: relative;\n"]))),Vu=Se.b.div(Xd||(Xd=Object(qe.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ","\n"])),function(e){return e.isVisible&&Object(Se.a)($d||($d=Object(qe.a)(["\n    pointer-events: all;\n    opacity: 1;\n  "])))}),Hu=Se.b.div(eu||(eu=Object(qe.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n  \n  padding: 15px;\n  \n  ","\n"])),function(e){return e.isVisible&&Object(Se.a)(tu||(tu=Object(qe.a)(["\n    pointer-events: all;\n    opacity: 1;\n  "])))}),Pu=Se.b.ul(nu||(nu=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n"]))),Uu=Se.b.li(au||(au=Object(qe.a)(["\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n"]))),Ku=Se.b.button(ru||(ru=Object(qe.a)(["\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ",' !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected="true"] {\n    outline: 2px solid '," !important;\n    outline-offset: -2px;\n    color: ",";\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"},function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Yu=Se.b.label(ou||(ou=Object(qe.a)(["\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ",";\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n"])),function(e){return e.checkColor||"#002bff"}),Gu=Se.b.input(iu||(iu=Object(qe.a)(["\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n"]))),Ju=Se.b.span(cu||(cu=Object(qe.a)(['\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n']))),Zu=(Se.b.p(su||(su=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n"]))),Se.b.label(lu||(lu=Object(qe.a)([""]))),Se.b.textarea(du||(du=Object(qe.a)(["\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -2px;\n  }\n"])),function(e){return e.primaryColor||"rgb(223, 221, 223)"}),Se.b.label(uu||(uu=Object(qe.a)(["\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n"])))),Wu=Se.b.input(mu||(mu=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: -1px;\n    border: 1px solid ",";\n  }\n"])),function(e){return e.primaryColor||"#a9a8a8"},function(e){return e.primaryColor||"#e9e9e9"}),Xu=Se.b.img(pu||(pu=Object(qe.a)(["\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n"]))),$u=Se.b.button(hu||(hu=Object(qe.a)(["\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ",";\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n"])),function(e){return e.primaryColor||"black"}),em=Se.b.p(fu||(fu=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 20px;\n  color: ",";\n"])),function(e){return e.primaryColor||"black"}),tm=(Se.b.div(gu||(gu=Object(qe.a)(["\n  position: relative;\n  margin-top: 20px;\n"]))),Se.b.div(vu||(vu=Object(qe.a)(["\n  top: 0;\n  right: 0;\n  position: absolute;\n"]))),Se.b.ul(bu||(bu=Object(qe.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n"]))));Se.b.li(Au||(Au=Object(qe.a)(["\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n"])));var nm,am,rm,om,im,cm,sm,lm,dm,um,mm,pm,hm,fm,gm,vm,bm,Am,_m,xm,wm,ym,km,Em,Cm,jm,Om,Im=function(e){var t=e.open,n=void 0!==t&&t,a=e.data,r=void 0===a?[]:a,o=e.users,i=void 0===o?[]:o,c=e.onConfirm,s=void 0===c?function(e){return e}:c,l=e.onCancel,d=void 0===l?function(){}:l,u=e.value,m=void 0===u?"":u,p=e.primaryColor,h=void 0===p?"#000":p,f=e.labels,g=void 0===f?{}:f,v=e.closeIcon,b=e.expandRightIcon,A=e.expandLeftIcon,_=e.iterateRightList,x=void 0===_?function(e,t,n){return e}:_,w=Object(R.useRef)(),y=Object(R.useRef)(),k=Object(R.useState)(m),E=Object(Rt.a)(k,2),C=E[0],j=E[1],O=Object(R.useState)(""),I=Object(Rt.a)(O,2),q=I[0],S=I[1],T=Object(R.useState)({}),M=Object(Rt.a)(T,2),z=M[0],L=M[1],B=Object(R.useState)(!1),N=Object(Rt.a)(B,2),Q=N[0],F=N[1],V=Object(R.useState)(r),H=Object(Rt.a)(V,2),P=H[0],U=H[1],K=Object(R.useState)(""),Y=Object(Rt.a)(K,2),G=Y[0],J=Y[1],Z=Object(R.useState)(""),W=Object(Rt.a)(Z,2),X=W[0],$=W[1],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.user_uid,a=void 0===n?t:n,r=e.name,o=void 0===r?"Usu\xe1rio ".concat(t+1):r,i=e.email,c=void 0===i?"":i,s=e.interaction_objects,l=void 0===s?[]:s,d=e.interaction_uid,u=void 0===d?"":d,m=0,p=0,h=!1,f=P.map(function(e){var t={},n=!1,a=e.children,r=void 0===a?[]:a;if(r.length>0&&r.forEach(function(e){if(t=l.find(function(t){return t.target_uid===e.uid})){var a=t,r=a.reviewer_uid,o=void 0===r?null:r,i=a.score,c=void 0===i?null:i;p++,h=!0,(null!==c&&""!==c&&"null"!==c||null!==o)&&(n=!0,m++)}}),l&&(t=l.find(function(t){return t.target_uid===e.uid}))){var o=t,i=o.uid,c=void 0===i?null:i,s=o.reviewer_uid,d=void 0===s?null:s,u=o.object_data,f=o.score,g=void 0===f?null:f,v=o.target_uid,b=void 0===v?null:v,A=o.context_uid,_=void 0===A?null:A;p++,h=!0;var x=u.data;return(null!==g&&""!==g&&"null"!==g||null!==d)&&(n=!0,m++),{uid:c,context_uid:_,reviewed:n,answered:h,score:g,answer:void 0===x?"":x,target_uid:b}}return{reviewed:!1,answered:h,score:null,answer:"",target_uid:null}});return{uid:a,name:o,email:c,interaction_uid:u,count_reviewed:m,total_messages:p,answered:h,interaction_objects:f}},te=Object(R.useMemo)(function(){return i.map(ee).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.answered&&!n.answered)return-1;if(!t.answered&&n.answered)return 1}else if("desc"===e){if(!t.answered&&n.answered)return-1;if(t.answered&&!n.answered)return 1}return 0}}(G)).sort(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc";return function(t,n){if("asc"===e){if(t.total_messages!==t.count_reviewed&&n.total_messages===n.count_reviewed)return-1;if(t.total_messages===t.count_reviewed&&n.total_messages!==n.count_reviewed)return 1}else if("desc"===e){if(t.total_messages===t.count_reviewed&&n.total_messages!==n.count_reviewed)return-1;if(t.total_messages!==t.count_reviewed&&n.total_messages===n.count_reviewed)return 1}return 0}}(X))},[i,G,X]);Object(R.useEffect)(function(){U(r)},[r]),Object(R.useEffect)(function(){y&&y.current&&(y.current.scrollTop=0),w&&w.current&&w.current.focus(),L({})},[n]);var ne,ae=function(){d(),j("")},re=function(e){if(Array.isArray(e)){var t=Object(Ie.a)(P);t.forEach(function(t){var n=e.find(function(e){return e.target_uid===t.id});n&&(t.score=n.score)}),U(t)}else{var n=Object(Ie.a)(P);n.forEach(function(t){t.id===e.target_uid&&(t.score=e.score)}),U(n)}return e},oe=function(e){return"asc"===e?"overline":"desc"===e?"underline":"none"};return D.a.createElement(Eu,{role:"dialog","aria-modal":"true","aria-labelledby":g.review||"Revisar","aria-describedby":g.review||"Revisar",onKeyUp:function(e){(e.which||e.keyCode)===uo.ESC&&(e.stopPropagation(),d())},hidden:!n},D.a.createElement(ju,{onSubmit:function(e){e.preventDefault(),s(C),j("")}},D.a.createElement(Ou,{onClick:ae}),D.a.createElement(Cu,null,D.a.createElement(qu,null,D.a.createElement($u,{tabIndex:"1",type:"button",onClick:function(){F(!Q)},primaryColor:h},Q?A||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z"})):b||D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20",viewBox:"0 0 24 24"},D.a.createElement("path",{d:"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z"}))),D.a.createElement(Iu,{ref:w,className:Q?"visible":"",tabIndex:"1",type:"button",onClick:ae,primaryColor:h,title:g.close||"Fechar"},v||D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 768 768"},D.a.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))),D.a.createElement(Su,{className:Q?"visible":""},D.a.createElement(Bu,{className:Q?"visible":""},D.a.createElement(Tu,null,D.a.createElement(Zu,{"aria-label":g.search||"Buscar"},D.a.createElement(Wu,{type:"text",name:"search",placeholder:g.search||"Buscar",primaryColor:h,value:q,onChange:function(e){var t=e.target.value;S(t)}}),q.length?D.a.createElement(Xu,{role:"button",src:Wo.a,onClick:function(){S("")}}):D.a.createElement(Xu,{role:"button",src:Jo.a}))),D.a.createElement(Mu,{type:"button",background:h,onClick:function(){J("asc"===G?"desc":"desc"===G?"":"asc")}},D.a.createElement("p",{style:{color:h,textDecoration:oe(G)}},g.answered||"Respondido")),D.a.createElement(zu,{type:"button",background:h,onClick:function(){$("asc"===X?"desc":"desc"===X?"":"asc")}},D.a.createElement("p",{style:{color:h,textDecoration:oe(X)}},g.reviewed||"Corrigido"))),D.a.createElement(Lu,null,D.a.createElement(em,{primaryColor:h},(ne=z,{name:ne.name,email:ne.email}).name))),D.a.createElement(Su,{className:Q?"visible":""},D.a.createElement(Pu,null,te.filter(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(q){var t=e.name,n=e.email,a=q.toLowerCase();return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)}return!0}).map(function(e,t){return D.a.createElement(Uu,{key:t},D.a.createElement(Ku,{tabIndex:"1",type:"button",onClick:function(){return function(e){L(e),re(e.interaction_objects),F(!1),y&&y.current&&(y.current.scrollTop=0)}(e)},"aria-selected":e.uid===z.uid,primaryColor:h},D.a.createElement(Nu,{className:Q?"visible":""},D.a.createElement(Ru,null,D.a.createElement("p",{style:{fontSize:"16px"}},e.name),D.a.createElement("p",{style:{fontSize:"16px"}},e.email)),D.a.createElement(Du,null,e.interaction_objects.find(function(e){return!0===e.answered})&&D.a.createElement(Yu,{"aria-label":g.answered_by_student||"Respondido pelo aluno",checkColor:h},D.a.createElement(Gu,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Ju,{className:"checkmark"}))),D.a.createElement(Qu,null,e.count_reviewed>0&&e.count_reviewed===e.total_messages?D.a.createElement(Yu,{"aria-label":g.reviewed||"Corrigido",checkColor:h},D.a.createElement(Gu,{type:"checkbox",readOnly:!0,checked:!0}),D.a.createElement(Ju,{className:"checkmark"})):D.a.createElement("p",null,e.count_reviewed,"/",e.total_messages||0)))))})),D.a.createElement(Fu,null,D.a.createElement(Vu,{isVisible:0===Object.keys(z).length},D.a.createElement("p",{style:{color:h}},g.select_to_start_review||"Selecione um aluno para efetuar a revis\xe3o.")),D.a.createElement(Hu,{isVisible:0===z.total_messages},D.a.createElement("p",{style:{color:h}},g.no_messages_to_review||"Este aluno n\xe3o possui mensagens para revis\xe3o.")),D.a.createElement(tm,{ref:y},P.map(function(e,t){return D.a.createElement("span",{key:t},x(e,t,z))}))))))))},qm=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).getNoteRange=function(){var e=a.state.content,t=e.grade_type,n=void 0===t?"numeral":t,r=e.grade_numeral,o=void 0===r?{min:0,max:10,steps:1}:r,i=o.min,c=void 0===i?0:i,s=o.max,l=void 0===s?10:s,d=o.steps,u=void 0===d?1:d;switch(n){case"numeral":default:for(var m=[],p=c;p<=l;p+=u)m.push(p);return m}},a.elementRef=D.a.createRef();var r=a.props.contentLanguage,o=void 0===r?"pt-br":r;return a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.mountThreadsAndPosts=a.mountThreadsAndPosts.bind(Object(X.a)(a)),a.getThreads=a.getThreads.bind(Object(X.a)(a)),a.renderContext=a.renderContext.bind(Object(X.a)(a)),a.renderForumMessage=a.renderForumMessage.bind(Object(X.a)(a)),a.toggleVisibilityOfNewTopicModal=a.toggleVisibilityOfNewTopicModal.bind(Object(X.a)(a)),a.toggleVisibilityOfReplyModal=a.toggleVisibilityOfReplyModal.bind(Object(X.a)(a)),a.sendThread=a.sendThread.bind(Object(X.a)(a)),a.sendPost=a.sendPost.bind(Object(X.a)(a)),a.onApiSendPost=a.onApiSendPost.bind(Object(X.a)(a)),a.onApiSendThread=a.onApiSendThread.bind(Object(X.a)(a)),a.onApiDeleteThread=a.onApiDeleteThread.bind(Object(X.a)(a)),a.onApiGetAuthorInfo=a.onApiGetAuthorInfo.bind(Object(X.a)(a)),a.appendPostIntoThread=a.appendPostIntoThread.bind(Object(X.a)(a)),a.getSignedUserFromJwt=a.getSignedUserFromJwt.bind(Object(X.a)(a)),a.closeAlertDialog=a.closeAlertDialog.bind(Object(X.a)(a)),a.onApiDeletePost=a.onApiDeletePost.bind(Object(X.a)(a)),a.handleDeletePost=a.handleDeletePost.bind(Object(X.a)(a)),a.handleConfirmAlertDialog=a.handleConfirmAlertDialog.bind(Object(X.a)(a)),a.handleDeleteThread=a.handleDeleteThread.bind(Object(X.a)(a)),a.resetAlertDialog=a.resetAlertDialog.bind(Object(X.a)(a)),a.isUserAllowedToCreateTopic=a.isUserAllowedToCreateTopic.bind(Object(X.a)(a)),a.createInteractionObject=a.createInteractionObject.bind(Object(X.a)(a)),a.onApiEditPost=a.onApiEditPost.bind(Object(X.a)(a)),a.renderModal=a.renderModal.bind(Object(X.a)(a)),a.getInteractionObjects=a.getInteractionObjects.bind(Object(X.a)(a)),a.filterInteractionObjectOf=a.filterInteractionObjectOf.bind(Object(X.a)(a)),a.handleCloseReviewModal=a.handleCloseReviewModal.bind(Object(X.a)(a)),a.reviewModalIterateRightList=a.reviewModalIterateRightList.bind(Object(X.a)(a)),a.state={content:e.content,interaction_objects:[],language:o,is_showing_new_topic_modal:!1,is_loading_new_topic_modal_confirmation:!1,is_showing_reply_thread_modal:!1,is_loading_new_reply_thread_modal_confirmation:!1,is_showing_alert_dialog:!1,context:"composer_player",forum_messages:[],all_forum_messages:[],custom_options:null,current_thread:null,syncTimer:null,user:{roles:[]},is_review_modal_open:!1,is_loading_review_modal:!1,authors:[],alert_dialog_action:null,alert_dialog_action_data:null,current_page:1,total_pages:1,thread_page_size:5,posts_page_size:5,visible:!1},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.cstmptns&&this.setState({context:"learning_player",custom_options:window.cstmptns},function(){e.getSignedUserFromJwt().then(e.getInteractionObjects).then(e.getThreads).then(e.mountThreadsAndPosts)})}},{key:"componentWillUnmount",value:function(){var e=this.state.syncTimer;e&&clearTimeout(e)}},{key:"componentDidUpdate",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"forum-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,options:e.items}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"getInteractionObjects",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i,c,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.custom_options,a=n.register_uid,r=n.activity_uid,o=n.interaction_uid,e.prev=2,!Xe(t.roles)){e.next=10;break}return e.next=6,et.cms.learning.register.uid(a).interaction.recoverObjects({activity_uid:r,last_occurrence:!0,type:"forum-1"},n);case 6:i=e.sent,this.setState({interaction_objects:i}),e.next=15;break;case 10:return e.next=12,et.cms.learning.interaction.uid(o).recoverObject({context_uid:r},n);case 12:c=e.sent,s={interaction_objects:c,interaction_uid:o,user_register_uid:null,user_uid:t.uid},this.setState({interaction_objects:[s]});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[2,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getSignedUserFromJwt",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n=this;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.custom_options.access_token,e.abrupt("return",new Promise(function(e,a){var r=Object(at.a)(t);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),n.setState({user:r},function(){e(r)})}else a("Error jwt decode")}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getThreads",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c=this;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.current_page,a=t.custom_options,r=t.thread_page_size,o=void 0===r?5:r,i=a.activity_uid,e.abrupt("return",et.cms.socialmedia.threads.available({context_uid:i,page_size:o,page:n},a).then(function(e){return c.setState({total_pages:e.total_pages}),e.result}));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mountThreadsAndPosts",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i,c=this,s=arguments;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(s.length>1&&void 0!==s[1])||s[1],a=s.length>2&&void 0!==s[2]&&s[2],0===t.length&&(a?this.setState(function(e){return{all_forum_messages:[]}}):this.setState(function(e){return{forum_messages:[]}})),r=Object(Wr.a)(t),e.prev=4,i=Z.a.mark(function e(){var t,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.prev=1,n&&(t.loading=!0,a?c.setState(function(e){var n=e.all_forum_messages,a=void 0===n?[]:n;return{all_forum_messages:[].concat(Object(Ie.a)(a),[t])}}):c.setState(function(e){var n=e.forum_messages,a=void 0===n?[]:n;return{forum_messages:[].concat(Object(Ie.a)(a),[t])}})),e.next=5,c.onApiGetThreadPosts(t.uid);case 5:r=e.sent,t.children=r.result,t.current_page=r.current_page,t.total_pages=r.total_pages,t.loading=!1,a?c.setState(function(e){var n=e.all_forum_messages,a=void 0===n?[]:n;return{all_forum_messages:Object(Ie.a)(a.map(function(e){return e.uid===t.uid?t:e}))}}):c.setState(function(e){var n=e.forum_messages,a=void 0===n?[]:n;return{forum_messages:Object(Ie.a)(a.map(function(e){return e.uid===t.uid?t:e}))}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,13]])}),r.s();case 7:if((o=r.n()).done){e.next=11;break}return e.delegateYield(i(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e,this,[[4,13,16,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onApiGetAuthorInfo",value:function(e){var t=this,n=this.state,a=n.custom_options,r=n.authors;return new Promise(function(n,o){var i=r.find(function(t){return t.uid===e});i?n(i):et.auth.user.uid(e,a).then(function(e){t.setState(function(t){var n=t.authors;return{authors:[].concat(Object(Ie.a)(n),[e])}}),n(e)}).catch(o)})}},{key:"onApiSendThread",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i,c,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,a=n.custom_options,r=n.content,o=n.user,i=a.activity_uid,c=a.social_media_connector_uid,e.prev=2,e.next=5,et.cms.socialmedia.connector.uid(c).createThread({title:r.context_title||"title",description:"description",content:t,context_type:"Activity",context_uid:i},a);case 5:return s=e.sent,e.next=8,this.createInteractionObject(s);case 8:return e.next=10,this.getInteractionObjects(o);case 10:return e.next=12,this.getThreads().then(this.mountThreadsAndPosts);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.t0;case 18:case"end":return e.stop()}},e,this,[[2,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onApiEditPost",value:function(e,t,n){var a=this,r=this.state,o=r.custom_options,i=r.content,c=r.user.roles,s=void 0===c?[]:c,l=o.activity_uid;return et.cms.socialmedia.thread.uid(e).post.uid(t).update({title:i.context_title||"title",content:n,context_type:"Activity",context_uid:l},o).then(function(){var n=Object(W.a)(Z.a.mark(function n(r){var o,i,c,l;return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Xe(s)){n.next=3;break}return n.next=3,a.createInteractionObject(r);case 3:o=a.state.forum_messages,i=r.content,c=o.find(function(t){return t.uid===e}),l=c.children.find(function(e){return e.uid===t}),l=Object(G.a)(Object(G.a)({},l),{},{content:i}),c.children=[].concat(Object(Ie.a)(c.children.filter(function(e){return e.uid!==t})),[l]),a.setState({forum_messages:[].concat(Object(Ie.a)(o.filter(function(t){return t.uid!==e})),[c])});case 10:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"onApiDeleteThread",value:function(e){var t=this,n=this.state,a=n.custom_options,r=n.forum_messages;return et.cms.socialmedia.thread.uid(e).delete(a).then(function(n){null!==n&&t.setState({forum_messages:r.filter(function(t){return t.uid!==e})})})}},{key:"handleConfirmAlertDialog",value:function(){var e=this.state,t=e.alert_dialog_action,n=e.alert_dialog_action_data;switch(t){case"delete_post":this.onApiDeletePost(n).then(this.resetAlertDialog).catch(this.resetAlertDialog);break;case"delete_thread":this.onApiDeleteThread(n).then(this.resetAlertDialog).catch(this.resetAlertDialog);break;default:this.setState({alert_dialog_action:null,alert_dialog_action_data:null,is_showing_alert_dialog:!1})}}},{key:"handleDeletePost",value:function(e,t){this.setState({is_showing_alert_dialog:!0,alert_dialog_action:"delete_post",alert_dialog_action_data:{uid:e,threadUid:t}})}},{key:"handleDeleteThread",value:function(e){this.setState({is_showing_alert_dialog:!0,alert_dialog_action:"delete_thread",alert_dialog_action_data:e})}},{key:"resetAlertDialog",value:function(e){return this.setState({alert_dialog_action:null,alert_dialog_action_data:null,is_showing_alert_dialog:!1}),e}},{key:"onApiDeletePost",value:function(e){var t=this,n=e.uid,a=e.threadUid,r=this.state.custom_options;return et.cms.socialmedia.thread.uid(a).post.uid(n).delete(r).then(function(e){if(null!==e){var r=t.state.forum_messages.map(function(e){return e.uid===a&&(e.children=Object(Ie.a)(e.children.filter(function(e){return e.uid!==n}))),e});t.setState({forum_messages:r})}})}},{key:"onApiGetThreadPosts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state,a=n.custom_options,r=n.posts_page_size,o=void 0===r?5:r;return et.cms.socialmedia.thread.uid(e).recoverPosts({page:t,page_size:o},a)}},{key:"onApiSendPost",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,a=n.custom_options,r=n.current_thread,o=n.content,e.prev=1,e.next=4,et.cms.socialmedia.thread.uid(r).createPost({title:o.title||"",content:t},a);case 4:return i=e.sent,e.next=7,this.createInteractionObject(i);case 7:return e.next=9,this.appendPostIntoThread(i);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"createInteractionObject",value:function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.custom_options,a=this.props.content,r=n.interaction_uid,o=n.activity_uid,e.abrupt("return",et.cms.learning.interaction.uid(r).createObject({context_uid:o,type:a.type,target_uid:t.uid,object_data:t},n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"appendPostIntoThread",value:function(e){var t=this.state.current_thread;console.log("appendPostIntoThread",e),this.setState(function(n){var a=n.forum_messages.find(function(e){return e.uid===t});return a.children=[].concat(Object(Ie.a)(a.children),[e]),{forum_messages:n.forum_messages.map(function(e){return e.uid!==a.uid?e:a})}})}},{key:"handleChange",value:function(e){var t=this.props.onChange;(void 0===t?function(){return console.warn("No onChange defined")}:t)(e)}},{key:"getFormatDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.language;if(e.length){var n=e.split(".")[0]+"Z";return"en"===t?wu()(n).local().format("MM/DD/YYYY - HH:mm:ss"):wu()(n).local().format("DD/MM/YYYY - HH:mm:ss")}return""}},{key:"getByLabel",value:function(){return{en:"By","pt-br":"Por"}[this.state.language]||"Por"}},{key:"sendThread",value:function(e){var t=this,n=this.state.forum_messages,a=Object(Ie.a)(n);this.setState({is_loading_new_topic_modal_confirmation:!0,forum_messages:[]}),this.onApiSendThread(e).then(function(){t.setState({is_showing_new_topic_modal:!1,is_loading_new_topic_modal_confirmation:!1})}).catch(function(){t.setState({is_loading_new_topic_modal_confirmation:!1,forum_messages:a})})}},{key:"sendPost",value:function(e){var t=this;this.setState({is_loading_new_reply_thread_modal_confirmation:!0}),this.onApiSendPost(e).then(function(){t.setState({is_showing_reply_thread_modal:!1,is_loading_new_reply_thread_modal_confirmation:!1})}).catch(function(){t.setState({is_loading_new_reply_thread_modal_confirmation:!1})})}},{key:"editPost",value:function(e,t,n){this.setState({is_showing_edit_post_modal:!1}),this.onApiEditPost(e,t,n)}},{key:"toggleVisibilityOfNewTopicModal",value:function(){var e=this.state.is_showing_new_topic_modal;this.setState({is_showing_new_topic_modal:!e})}},{key:"closeAlertDialog",value:function(){this.setState({is_showing_alert_dialog:!1})}},{key:"toggleVisibilityOfReplyModal",value:function(e){var t=this.state.is_showing_reply_thread_modal;this.setState({is_showing_reply_thread_modal:!t,current_thread:e||null})}},{key:"isUserAllowedToCreateTopic",value:function(){var e=this.props.content.enable_new_topics,t=void 0===e?[]:e,n=this.state.user.roles,a=!1;return(void 0===n?[]:n).map(function(e){return t.includes(e)&&(a=!0),e}),a}},{key:"filterInteractionObjectOf",value:function(e,t){var n=this.state.interaction_objects;return Object(Ie.a)(n).filter(function(e){return e.user_uid===t}).map(function(t){var n=Object(G.a)({},t);return n.interaction_objects=n.interaction_objects.filter(function(t){return t.object_data.data.uid===e}),n})}},{key:"highlightedUserColor",value:function(e,t,n){return null!==t&&t.uid!==e?"#e5e5e5":n}},{key:"updateLocalInteraction",value:function(e,t){var n=this.state.interaction_objects,a=void 0===n?[]:n,r=Object(Ie.a)(a);r=r.map(function(n){if(n.user_uid===t){var a=Object(G.a)({},n);return a.interaction_objects=a.interaction_objects.map(function(t){if(t.uid===e.uid){var n=Object(G.a)({},e);return n.object_data=JSON.parse(e.object_data),n}return t}),a}return n}),this.setState({interaction_objects:r})}},{key:"renderForumMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.content,o=r.primary_topic_background_color,i=r.primary_topic_author_color,c=r.primary_topic_text_color,s=r.topic_button_color,l=r.secondary_topic_background_color,d=r.secondary_topic_author_color,u=r.secondary_topic_text_color,m=r.confirm_button_background_color,p=e.content,h=e.uid,f=e.created_at,g=e.children,v=void 0===g?null:g,b=e.author_uid,A=e.loading,_=e.current_page,x=void 0===_?1:_,w=e.total_pages,y=void 0===w?1:w,k=this.state.user;if(A)return D.a.createElement(yl,{id:"thread-".concat(h),key:"thread-".concat(h)});function E(e,t){return e===t?1:-1}return D.a.createElement("li",{key:h},D.a.createElement(xd,{elevation:n?E(b,a.uid):0,withReviewDropdown:n&&b===a.uid,disableOperations:n,id:"thread-".concat(h),user:k,authorUID:b,customOptions:this.state.custom_options,content:this.props.content,rawContent:e,interactionObjects:this.filterInteractionObjectOf(h,b),primaryColor:s,topicBackgroundColor:n?this.highlightedUserColor(b,a,o):o,topicAuthorColor:i,topicTextColor:c,byLabel:this.getByLabel(),createdAtDateTime:f,value:p,createdAt:this.getFormatDate(f),onClickReply:function(){return t.toggleVisibilityOfReplyModal(h)},onClickDelete:null!==v&&v.length>0?null:function(){return t.handleDeleteThread(h)},onClickSaveNote:function(e,n){return t.updateLocalInteraction(n,b)}}),v&&v.map(function(e,r){return D.a.createElement(xd,{elevation:n?E(e.author_uid,a.uid):0,withReviewDropdown:n&&e.author_uid===a.uid,disableOperations:n,id:"post-".concat(e.uid),key:"post-".concat(e.uid),user:k,uid:e.uid,column:1,threadUid:h,authorUID:e.author_uid,customOptions:t.state.custom_options,content:t.props.content,rawContent:e,interactionObjects:t.filterInteractionObjectOf(e.uid,e.author_uid),value:e.content,primaryColor:s,topicBackgroundColor:n?t.highlightedUserColor(e.author_uid,a,o):l,topicAuthorColor:d,topicTextColor:u,byLabel:t.getByLabel(),createdAtDateTime:e.created_at,createdAt:t.getFormatDate(e.created_at),onClickEdit:function(n){return t.editPost(h,e.uid,n)},onClickDelete:function(){return t.handleDeletePost(e.uid,h)},onClickSaveNote:function(n,a){return t.updateLocalInteraction(a,e.author_uid)}})}),n&&x<y&&D.a.createElement(md,{column:1,onScreen:Object(W.a)(Z.a.mark(function n(){var a,r;return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.onApiGetThreadPosts(h,x+1);case 2:a=n.sent,(r=e).children=[].concat(Object(Ie.a)(r.children),Object(Ie.a)(a.result)),r.current_page=x+1,r.total_pages=a.total_pages,t.setState(function(e){var t=e.forum_messages,n=void 0===t?[]:t;return{forum_messages:Object(Ie.a)(n.map(function(e){return e.uid===h?r:e}))}});case 8:case"end":return n.stop()}},n)}))}),v.length>=5&&x<y&&!n&&D.a.createElement("div",{className:"load-more-container"},D.a.createElement(yu,{background:m,onClick:function(){var n=Object(W.a)(Z.a.mark(function n(a){var r,o;return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.persist(),a.target.innerText="carregando...",a.target.disabled=!0,n.next=5,t.onApiGetThreadPosts(h,x+1);case 5:r=n.sent,a.target.innerText="carregar mais...",a.target.removeAttribute("disabled"),(o=e).children=[].concat(Object(Ie.a)(o.children),Object(Ie.a)(r.result)),o.current_page=x+1,o.total_pages=r.total_pages,t.setState(function(e){var t=e.forum_messages,n=void 0===t?[]:t;return{forum_messages:Object(Ie.a)(n.map(function(e){return e.uid===h?o:e}))}});case 13:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},"carregar ",v.length>0?"mais":"respostas","...")))}},{key:"getLabels",value:function(){var e=this.state.content.questions,t=void 0===e?[]:e,n=this.props.contentLanguage;return void 0===n&&(n="pt_br"),"en"===n?{confirm:"Confirm",edit:"Edit answer",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:t.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz.",answer_saved:"Answer saved!",stats:"Statistics",review:"Review answers",answer:"Answer",reviewed:"Reviewed",answered_by_student:"Answered by student",answered:"Answered",search:"Search",finish_review:"Finish review",close:"Close",score:"Score",select_to_start_review:"Select a student to review.",no_messages_to_review:"This student has no messages for review."}:"pt_br"===n?{confirm:"Confirmar",edit:"Editar resposta",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:t.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio.",answer_saved:"Resposta salva!",stats:"Estat\xedsticas",review:"Revisar respostas",answer:"Resposta",reviewed:"Revisado",answered_by_student:"Respondido pelo aluno",answered:"Respondido",search:"Pesquisar",finish_review:"Finalizar revis\xe3o",close:"Fechar",score:"Nota",select_to_start_review:"Selecione um aluno para efetuar a revis\xe3o.",no_messages_to_review:"O aluno n\xe3o possui mensagens para revis\xe3o."}:void 0}},{key:"startReview",value:function(){var e=this;this.getUsersInteractions().then(function(t){e.getThreads().then(function(t){return e.mountThreadsAndPosts(t,!0,!0)}).then(function(n){e.setState({is_review_modal_open:!0,is_loading_review_modal:!1,interaction_objects:t})})})}},{key:"getUsersInteractions",value:function(){var e=this.state,t=(e.content,e.custom_options),n=t.register_uid,a=t.activity_uid;return et.cms.learning.register.uid(n).interaction.recoverObjects({context_uid:a,activity_uid:a,last_occurrence:!0},t)}},{key:"renderLearningPlayerContext",value:function(){var e=this,t=this.props.content.topic_button_color,n=this.state,a=n.forum_messages,r=void 0===a?null:a,o=n.current_page,i=n.total_pages,c=n.is_loading_more,s=n.is_loading_review_modal,l=n.user;return null===r?D.a.createElement(yl,null):D.a.createElement(D.a.Fragment,null,0===r.length&&D.a.createElement("div",{className:"element-forum-1-no-message"},D.a.createElement("span",{className:"element-forum-1-no-message-icon"}),D.a.createElement("span",{className:"element-forum-1-no-message-message"},"N\xe3o h\xe1 nenhum t\xf3pico nesse f\xf3rum."),this.isUserAllowedToCreateTopic()&&D.a.createElement("button",{type:"button",className:"element-forum-1-no-message-new-topic-btn",onClick:this.toggleVisibilityOfNewTopicModal,style:{backgroundColor:t}},"Responder")),r.length>0&&D.a.createElement("div",{className:"element-forum-content"},D.a.createElement("div",{className:"element-forum-1-content-header"},Xe(l.roles)&&D.a.createElement(yu,{tabIndex:1,type:"button",onClick:function(){e.setState({is_loading_review_modal:!0,thread_page_size:5e4,posts_page_size:5e4,all_forum_messages:[],current_page:1},function(){return e.startReview()})},background:t,disabled:s,isLoading:s},this.getLabels().review,"..."),this.isUserAllowedToCreateTopic()&&D.a.createElement("button",{type:"button",className:"element-forum-1-content-header-new-topic-btn",onClick:this.toggleVisibilityOfNewTopicModal,style:{backgroundColor:t}},"Responder")),D.a.createElement("ul",{className:"element-forum-content-messages"},r.map(function(t){return e.renderForumMessage(t,!1)})),o<i&&!c&&D.a.createElement(md,{column:0,onScreen:function(){e.setState({current_page:o+1,is_loading_more:!0},function(){e.getThreads().then(e.mountThreadsAndPosts).then(function(t){e.setState({is_loading_more:!1})})})}})))}},{key:"renderContext",value:function(){switch(this.state.context){case"composer_player":return D.a.createElement(Rl,null);case"learning_player":return this.renderLearningPlayerContext()}}},{key:"renderModal",value:function(){var e=this.props.content,t=e.cancel_button_background_color,n=e.cancel_button_text_color,a=e.confirm_button_background_color,r=e.confirm_button_text_color,o=this.state,i=o.is_showing_new_topic_modal,c=o.is_loading_new_topic_modal_confirmation,s=o.is_showing_reply_thread_modal,l=o.is_loading_new_reply_thread_modal_confirmation,d={open:!0,btnConfirmTextColor:r,btnConfirmColor:a,btnCancelTextColor:n,btnCancelColor:t};switch(!0){case i:d=Object(G.a)(Object(G.a)({},d),{title:"Responder",btnConfirmLabel:"Responder",onConfirm:this.sendThread,onCancel:this.toggleVisibilityOfNewTopicModal,isLoading:c});break;case s:d=Object(G.a)(Object(G.a)({},d),{title:"Adicionar coment\xe1rio",btnConfirmLabel:"Comentar",onConfirm:this.sendPost,onCancel:this.toggleVisibilityOfReplyModal,isLoading:l});break;default:d=Object(G.a)(Object(G.a)({},d),{open:!1})}return D.a.createElement(Al,d)}},{key:"handleCloseReviewModal",value:function(){this.setState({is_review_modal_open:!1})}},{key:"reviewModalIterateRightList",value:function(e,t,n){var a=Object(G.a)({},e),r=!1,o=a.children,i=void 0===o?null:o,c=a.author_uid;if(null!==n){if(i&&i.length>0){var s=i.filter(function(e){return e.author_uid===n.uid});r=s.length>0,a.children=s}!1===r&&c===n.uid&&(r=!0)}return r?D.a.createElement(ku,{role:"listitem"},this.renderForumMessage(a,!0,n)):null}},{key:"render",value:function(){var e=this.props,t=e.content,n=t.topic_button_color,a=t.background_color,r=t.padding_top,o=t.padding_bottom,i=t.cancel_button_background_color,c=t.cancel_button_text_color,s=t.confirm_button_background_color,l=t.confirm_button_text_color,d=e.className,u=this.state,m=u.is_showing_alert_dialog,p=u.user.roles,h=void 0===p?[]:p,f=u.is_review_modal_open,g=u.interaction_objects,v=u.custom_options,b=u.all_forum_messages,A=void 0===b?[]:b,_={backgroundColor:a,paddingTop:r+"px",paddingBottom:o+"px"};return D.a.createElement("div",{ref:this.elementRef,id:this.props.content.id,className:d,style:_},this.renderContext(),this.renderModal(),D.a.createElement(_u,{open:m,onCancel:this.closeAlertDialog,onConfirm:this.handleConfirmAlertDialog,btnConfirmTextColor:l,btnConfirmColor:s,btnCancelTextColor:c,btnCancelColor:i}),Xe(h)&&f&&D.a.createElement(Im,{open:f,data:A,iterateRightList:this.reviewModalIterateRightList,customOptions:v,users:g,btnConfirmTextColor:l,primaryColor:n,noteRange:this.getNoteRange(),onCancel:this.handleCloseReviewModal,onConfirm:this.handleCloseReviewModal,labels:this.getLabels()}))}}]),n}(R.Component),Sm=(n(387),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"divider-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o={backgroundColor:a.divider_color,height:a.height};return D.a.createElement("div",{ref:this.elementRef,className:"element-divider-1",style:r},t,D.a.createElement("div",{className:"element-divider-1-content"},D.a.createElement("div",{className:"element-divider-1-line",style:o})),n)}}]),n}(R.Component)),Tm=(n(388),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"divider-4",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o={backgroundColor:a.divider_color,height:a.height};return D.a.createElement("div",{ref:this.elementRef,className:"element-divider-4",style:r},t,D.a.createElement("div",{className:"element-divider-4-content"},D.a.createElement("div",{className:"element-divider-4-line",style:o})),n)}}]),n}(R.Component)),Mm=(n(389),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"divider-numbered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"},o={backgroundColor:a.divider_primary_color},i={backgroundColor:a.divider_primary_color,color:a.divider_secondary_color};return D.a.createElement("div",{ref:this.elementRef,className:"element-divider-numbered",style:r},t,D.a.createElement("div",{className:"element-divider-numbered-content"},D.a.createElement("div",{className:"element-divider-numbered-line",style:o}),D.a.createElement("span",{className:"element-divider-numbered-circle",style:i},this.props.objectIndex+1)),n)}}]),n}(R.Component)),zm=Se.b.div(nm||(nm=Object(qe.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  overflow: hidden;\n  position: relative;\n  background-color: ",";\n"])),function(e){return e.paddingTop||"30"},function(e){return e.paddingBottom||"30"},function(e){return e.backgroundColor||"transparent"}),Lm=Se.b.div(am||(am=Object(qe.a)(["\n  position: relative;\n  width: 100%;\n"]))),Bm=Se.b.figure(rm||(rm=Object(qe.a)(["\n  height: auto;\n  max-width: 760px;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n"]))),Nm=Se.b.img(om||(om=Object(qe.a)(["\n  width: ",";\n  height: auto;\n  max-width: 760px;\n  display: block;\n  cursor: ",";\n  margin-left: auto;\n  margin-right: auto;\n"])),function(e){return e.width?"".concat(e.width,"px"):"100%"},function(e){return e.showCursor?"crosshair":"default"}),Rm=Se.b.button(im||(im=Object(qe.a)(["\n  border-radius: 100%;\n  position: absolute;\n  top: calc("," - 21px);\n  left: calc("," - 21px);\n  background: white;\n  border: 2px solid transparent;\n  box-shadow: 1px 1px 1px 1px rgba(204, 204, 204, 0.47);\n  margin: 4px;\n  cursor: pointer;\n  outline: 8px solid rgba(255, 255, 255, 0.56) !important;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 38px;\n  height: 38px;\n  animation: pulse 3s ease-in-out infinite;\n  color: ",";\n  transition: opacity 0.3s ease-in-out, transform 0.5s ease-in-out;\n\n  @media only screen and (max-width: 700px) {\n    transform: scale(0.7);\n  }\n\n  @media only screen and (max-width: 600px) {\n    transform: scale(0.6);\n  }\n\n  @media only screen and (max-width: 400px) {\n    transform: scale(0.4);\n  }\n\n  @media only screen and (max-width: 300px) {\n    transform: scale(0.3);\n  }\n\n  &:hover {\n    border: 2px solid ",";\n  }\n\n  @keyframes pulse {\n    0% {\n      outline-offset: 4px;\n    }\n    50% {\n      outline-offset: 16px;\n    }\n    100% {\n      outline-offset: 4px;\n    }\n  }\n\n  &:before {\n    transition: opacity 0.3s ease-in-out;\n    opacity: 0;\n    content: '';\n  }\n\n  &:focus, &.expanded {\n    background: ",";\n    color: white;\n    animation: none;\n    outline: none !important;\n    border-color: white;\n\n    &:hover {\n      border: 2px solid #bbb;\n    }\n\n    .hotspot-remove-btn, .hotspot-cancel-btn {\n      opacity: 1;\n      top: -30px;\n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ","\n      ","\n    }\n\n    .hotspot-move-btn, .hotspot-confirm-btn {\n      opacity: 1;\n      top: 30px;\n      \n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ","\n      ","\n    }\n  }\n\n  ","\n\n  ","\n"])),function(e){return"".concat(e.posY,"%")},function(e){return"".concat(e.posX,"%")},function(e){return e.color||"#2d7b45"},function(e){return e.color||"#2d7b45"},function(e){return e.color||"#2d7b45"},function(e){return!e.flipped&&Object(Se.a)(cm||(cm=Object(qe.a)(["\n        left: -30px;\n      "])))},function(e){return e.flipped&&Object(Se.a)(sm||(sm=Object(qe.a)(["\n        right: -30px;\n        left: auto;\n      "])))},function(e){return!e.flipped&&Object(Se.a)(lm||(lm=Object(qe.a)(["\n        left: -30px;\n      "])))},function(e){return e.flipped&&Object(Se.a)(dm||(dm=Object(qe.a)(["\n        right: -30px;\n        left: auto;\n      "])))},function(e){return e.isMoving&&Object(Se.a)(um||(um=Object(qe.a)(["\n    &:focus, &.expanded {\n      opacity: 0.8;\n    }\n  "])))},function(e){return!e.isMoving&&Object(Se.a)(mm||(mm=Object(qe.a)(['\n    &:focus, &.expanded {\n      &::before {\n        content: "";\n        position: absolute;\n        top: 7px;\n        left: ',";\n        width: 0;\n        height: 0;\n        border-top: 10px solid transparent;\n        border-bottom: 10px solid transparent;\n        border-right: 10px solid white;\n        z-index: 2;\n        opacity: 1;\n        ","\n      }\n\n      @media only screen and (max-width: 700px) {\n        &::before {\n          left: ",";\n        }\n      }\n\n      @media only screen and (max-width: 600px) {\n        &::before {\n          left: ",";\n        }\n      }\n      \n      .hotspot-tooltip {\n        opacity: 1;\n        height: auto;\n      }\n    }\n  "])),function(e){return e.flipped?"-20px":"40px"},function(e){return e.flipped&&Object(Se.a)(pm||(pm=Object(qe.a)(["\n          transform: rotate(180deg);\n        "])))},function(e){return e.flipped?"-36px":"55px"},function(e){return e.flipped?"-45px":"63px"})}),Dm=Se.b.div(hm||(hm=Object(qe.a)(["\n  pointer-events: inherit;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  transition: opacity 0.3s ease-in-out;\n  width: auto;\n  height: 0;\n  background: white;\n  top: calc("," - 40px);\n  ","\n  left: calc("," + 35px);\n  ","\n  bottom: 0;\n  min-height: 100px;\n  max-width: 300px;\n  max-height: 400px;\n  overflow: hidden;\n  border-radius: 8px;\n  box-shadow: 14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  ","\n  color: black;\n  z-index: 1;\n  padding: 20px;\n  cursor: initial;\n  \n  ","\n"])),function(e){return"".concat(e.posY,"%")},function(e){return e.flippedY&&Object(Se.a)(fm||(fm=Object(qe.a)(["\n    top: calc("," - 140px);\n  "])),function(e){return"".concat(e.posY,"%")})},function(e){return"".concat(e.posX,"%")},function(e){return e.flippedX&&Object(Se.a)(gm||(gm=Object(qe.a)(["\n    left: calc("," - 335px);\n  "])),function(e){return"".concat(e.posX,"%")})},function(e){return e.flippedX&&Object(Se.a)(vm||(vm=Object(qe.a)(["\n    box-shadow: -14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  "])))},function(e){return"true"===e.expanded&&Object(Se.a)(bm||(bm=Object(qe.a)(["\n    opacity: 1;\n    height: auto;\n    overflow: auto;\n    display: initial;\n\n    @media only screen and (max-width: 468px) {\n      top: 0;\n      left: 0;\n      position: fixed;\n      z-index: 9999;\n      right: 0;\n      width: 100%;\n      bottom: 0;\n      height: 100%;\n      max-height: 100%;\n      border-radius: 0;\n      max-width: 100%;\n    }\n  "])))}),Qm=Se.b.div(Am||(Am=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 30px;\n  \n  p {\n    font-weight: bold;\n  }\n"]))),Fm=Se.b.span(_m||(_m=Object(qe.a)(["\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: none;\n  padding: 2px;\n  margin: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: none;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ",";\n  }\n"])),function(e){return e.color||"#2d7b45"}),Vm=Se.b.span(xm||(xm=Object(qe.a)(["\n  display: none;\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: 0;\n  padding: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ",";\n  }\n"])),function(e){return e.color||"#2d7b45"}),Hm=Se.b.img(wm||(wm=Object(qe.a)(["\n  width: 100%;\n  height: auto;\n  margin: 10px 0;\n"]))),Pm=Se.b.audio(ym||(ym=Object(qe.a)(["\n  width: 100%;\n  margin: 10px 0;\n"]))),Um=Se.b.div(km||(km=Object(qe.a)(["\n  margin-top: 10px;\n  text-align: justify;\n"]))),Km=Se.b.div(Em||(Em=Object(qe.a)(["\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n"]))),Ym=Se.b.div(Cm||(Cm=Object(qe.a)(["\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n"]))),Gm=Se.b.div(jm||(jm=Object(qe.a)(["\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n"]))),Jm=Se.b.div(Om||(Om=Object(qe.a)(["\n  position: absolute;\n  cursor: grab;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n  \n  &:active {\n    cursor: grabbing;\n  }\n"]))),Zm={"01":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}))},"02":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}))},"03":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M 11,4L 13,4L 13,15L 11,15L 11,4 Z M 13,18L 13,20L 11,20L 11,18L 13,18 Z"}))},"04":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M10,19H13V22H10V19M12,2C17.35,2.22 19.68,7.62 16.5,11.67C15.67,12.67 14.33,13.33 13.67,14.17C13,15 13,16 13,17H10C10,15.33 10,13.92 10.67,12.92C11.33,11.92 12.67,11.33 13.5,10.67C15.92,8.43 15.32,5.26 12,5A3,3 0 0,0 9,8H6A6,6 0 0,1 12,2Z"}))},"05":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},"06":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))},"07":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"}))},"08":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"}))},"09":function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))},10:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},11:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}))},12:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}))},13:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",style:{transform:"rotate(45deg)"}},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))},14:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",style:{transform:"rotate(45deg)"}},D.a.createElement("path",{fill:"currentColor",d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}))},15:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",style:{transform:"rotate(45deg)"}},D.a.createElement("path",{fill:"currentColor",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}))},16:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",style:{transform:"rotate(45deg)"}},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},17:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M10,7V9H12V17H14V7H10Z"}))},18:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M9,7V9H13V11H11A2,2 0 0,0 9,13V17H11L15,17V15H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9Z"}))},19:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H9V9H13V11H11V13H13V15H9V17H13A2,2 0 0,0 15,15"}))},20:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M9,7V13H13V17H15V7H13V11H11V7H9Z"}))},21:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M9,7V13H13V15H9V17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H9Z"}))},22:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H11M11,13H13V15H11V13Z"}))},23:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M11,17L15,9V7H9V9H13L9,17"}))},24:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M11,13H13V15H11M11,9H13V11H11M11,17H13A2,2 0 0,0 15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H11A2,2 0 0,0 9,9V10.5A1.5,1.5 0 0,0 10.5,12A1.5,1.5 0 0,0 9,13.5V15C9,16.11 9.9,17 11,17"}))},25:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M13,17A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11A2,2 0 0,0 9,9V11A2,2 0 0,0 11,13H13V15H9V17H13M13,11H11V9H13V11Z"}))},26:function(e){return D.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11M11,9H13V15H11V9Z"}))}};var Wm,Xm,$m,ep,tp,np,ap,rp,op,ip,cp,sp,lp,dp,up,mp,pp,hp,fp,gp,vp,bp,Ap,_p,xp,wp,yp,kp,Ep,Cp,jp,Op,Ip,qp,Sp,Tp,Mp,zp,Lp,Bp,Np,Rp,Dp,Qp,Fp,Vp,Hp,Pp,Up,Kp,Yp,Gp,Jp,Zp,Wp,Xp,$p,eh,th,nh,ah,rh,oh,ih,ch,sh,lh,dh,uh,mh,ph,hh,fh,gh,vh,bh,Ah,_h,xh,wh,yh,kh,Eh,Ch,jh,Oh,Ih,qh,Sh,Th,Mh,zh,Lh,Bh,Nh,Rh,Dh,Qh,Fh,Vh,Hh,Ph,Uh,Kh=function(e){var t=e.id,n=e.icon,a=void 0===n?"01":n,r=e.title,o=void 0===r?"":r,i=e.description,c=void 0===i?"":i,s=e.image,l=e.audio,d=e.className,u=e.posX,m=e.posY,p=e.editable,h=e.onClickRemove,f=e.onGrab,g=e.onMove,v=e.onRelease,b=e.onNext,A=e.onPrev,_=e.onFocus,x=e.onBlur,w=e.color,y=D.a.useRef(null),k=D.a.useRef(null),E=D.a.useState("false"),C=Object(Rt.a)(E,2),j=C[0],O=C[1],I=D.a.useState(!1),q=Object(Rt.a)(I,2),S=q[0],T=q[1],M=D.a.useState(!1),z=Object(Rt.a)(M,2),L=z[0],B=z[1];D.a.useEffect(function(){var e=function(e){y&&!y.current.contains(e.target)&&(O("false"),L&&B(!1),"function"===typeof x&&x(e))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[]);var N=function e(){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",R),T(!1),"function"===typeof v&&v(t)},R=function(e){(e=e||window.event).preventDefault();var n=e.clientX+(u>60?-30:30),a=e.clientY-30;"function"===typeof g&&n&&a&&g(e,{id:t,x:n,y:a})},Q=function(e){L&&B(!1)},F=function(e){L&&"function"===typeof h&&h(t)},V=function(e){e.stopPropagation(),O("false"),"function"===typeof b&&b(e,t)},H=function(e){e.stopPropagation(),O("false"),"function"===typeof A&&A(e,t)};return D.a.createElement("div",{role:"button",ref:y,onClick:function(e){return e.stopPropagation()},onFocus:function(e){O("true"),"function"===typeof _&&_(e)},onKeyDown:function(e){"Enter"===e.key&&F(),"Escape"===e.key&&Q(),"ArrowRight"===e.key&&"function"===typeof b&&V(e),"ArrowLeft"===e.key&&"function"===typeof A&&H(e)},style:{pointerEvents:"auto"}},D.a.createElement(Rm,{id:t,"aria-expanded":j,className:["true"===j?"expanded":"",u>60?"flipped":""].concat(d).join(" "),posX:u,posY:m,flipped:u>60,isMoving:S,color:w},Zm[a](),p&&D.a.createElement(D.a.Fragment,null,D.a.createElement(Km,{className:"hotspot-remove-btn",role:"button",type:"button",onClick:function(e){return B(!0)},tooltip:"Remove"},D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 768 768"},D.a.createElement("title",null,"remove"),D.a.createElement("g",{id:"icomoon-ignore"}),D.a.createElement("path",{fill:"currentColor",d:"M607.5 127.5v64.5h-447v-64.5h111l33-31.5h159l33 31.5h111zM192 607.5v-384h384v384c0 34.5-30 64.5-64.5 64.5h-255c-34.5 0-64.5-30-64.5-64.5z"}))),D.a.createElement(Jm,{className:"hotspot-move-btn",role:"button",type:"button",onMouseDown:function(e){(e=e||window.event).preventDefault(),S||(document.addEventListener("mouseup",N),document.addEventListener("mousemove",R)),"function"===typeof f&&(T(!0),f(t))},onMouseUp:function(e){"function"===typeof v&&(T(!1),v(t))},tooltip:"Move"},D.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"}))),L&&D.a.createElement(D.a.Fragment,null,D.a.createElement(Ym,{className:"hotspot-cancel-btn",role:"button",type:"button",onClick:Q,tooltip:"Cancel"},D.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"}))),D.a.createElement(Gm,{className:"hotspot-confirm-btn",role:"button",type:"button",onClick:F,tooltip:"Confirm"},D.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})))))),!S&&D.a.createElement(Dm,{ref:k,className:"hotspot-tooltip",posX:u,posY:m,flippedX:u>60,flippedY:m>70,expanded:j,onClick:function(e){return e.stopPropagation()}},D.a.createElement(Qm,null,D.a.createElement("p",null,o),D.a.createElement("div",null,D.a.createElement(Fm,{tabIndex:"0",role:"button",type:"button",onClick:H,color:w},"\u2190"),D.a.createElement(Fm,{tabIndex:"0",role:"button",type:"button",onClick:V,color:w},"\u2192"),D.a.createElement(Vm,{tabIndex:"0",role:"button",type:"button",onClick:function(e){e.stopPropagation(),O("false")},color:w},D.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))))),s&&D.a.createElement(Hm,{src:s}),l&&D.a.createElement(Pm,{src:l,controls:!0}),D.a.createElement(Um,{dangerouslySetInnerHTML:{__html:c}})))},Yh=n(185),Gh=n.n(Yh),Jh=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).stageRef=D.a.createRef(),e.timeoutMoveSpot=null,e.state={editable:!1,movingSpotId:null,disableAddSpot:!1,visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.stageRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"hotspots-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,url:t.image}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.createSpot=function(){return{id:Gh()(),x:"0",y:"0",icon:"01",title:"Lorem ipsum dolor sit amet",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",hasMedia:!1,isActive:!1,image:null,audio:null}},e.getCoordinatesInPorcentage=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,r=e.target.clientWidth,o=e.target.clientHeight;return{x:(100*n/r).toString(),y:(100*a/o).toString()}},e.addSpot=function(t){if(e.state.disableAddSpot)e.setState({disableAddSpot:!1});else if(null===e.state.movingSpotId){if(e.state.editable){var n=e.props.content,a=n.spots,r=void 0===a?[]:a,o=e.getCoordinatesInPorcentage(t),i=e.createSpot();i.x=o.x,i.y=o.y,n.spots=[].concat(Object(Ie.a)(r),[i]),e.props.onChange(n)}}else e.setState({movingSpotId:null})},e.moveSpot=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.timeoutMoveSpot&&clearTimeout(e.timeoutMoveSpot),e.timeoutMoveSpot=setTimeout(function(){if(null!==e.state.movingSpotId){var t=n.id,a=n.x,r=n.y,o=e.props.content,i=o.spots,c=void 0===i?[]:i,s=c.find(function(e){return e.id===t});if(s){var l=e.stageRef.current.getBoundingClientRect(),d=l.left,u=l.top,m=e.stageRef.current.clientWidth,p=e.stageRef.current.clientHeight,h=(100*(a-d)/m).toFixed(2),f=(100*(r-u)/p).toFixed(2);h>=0&&h<=100&&(s.x=h),f>=0&&f<=100&&(s.y=f);var g=c.find(function(t){return t.id===e.state.movingSpotId}),v=c.indexOf(g);c[v]=s,o.spots=Object(Ie.a)(c),e.props.onChange(o)}clearTimeout(e.timeoutMoveSpot)}},5)},e.handleRemoveSpot=function(t){var n=e.props.content,a=n.spots,r=void 0===a?[]:a;n.spots=r.filter(function(e){return e.id!==t}),e.props.onChange(n)},e.handleStartMoveSpot=function(t){var n=e.state.movingSpotId;null!==n&&n===t||e.setState({movingSpotId:t})},e.handleStopMoveSpot=function(t){e.setState({disableAddSpot:!0})},e.handleNextSpotFocus=function(t,n){var a=e.props.content.spots,r=void 0===a?[]:a,o=r.find(function(e){return e.id===n}),i=r.indexOf(o),c=r[i+1]||r[0];c&&document.getElementById(c.id).focus()},e.handlePrevSpotFocus=function(t,n){var a=e.props.content.spots,r=void 0===a?[]:a,o=r.find(function(e){return e.id===n}),i=r.indexOf(o),c=r[i-1]||r[r.length-1];c&&document.getElementById(c.id).focus()},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){null!==this.state.movingSpotId&&this.moveSpot(this.state.movingSpotId),this.trackElementView()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutMoveSpot)}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.className,o=t.content,i=o.image,c=o.spots,s=void 0===c?[]:c,l=o.spot_color,d=o.background_color,u=o.padding_top,m=o.padding_bottom,p=o.image_alt,h=o.width,f=this.state,g=f.disableAddSpot,v=f.editable;return D.a.createElement(zm,{className:r,marginTop:"",marginBottom:"",backgroundColor:d,paddingTop:u,paddingBottom:m},n,D.a.createElement(Lm,null,D.a.createElement(Bm,{ref:this.stageRef,onClick:this.addSpot},D.a.createElement(Nm,{src:i,alt:p,showCursor:!g&&v,width:h}),D.a.createElement("ol",null,s.map(function(t){return D.a.createElement("li",{key:t.id},D.a.createElement(Kh,{editable:v,id:t.id,posY:t.y,posX:t.x,image:t.image,audio:t.audio,title:t.title,description:t.description,icon:t.icon,onClickRemove:e.handleRemoveSpot,onGrab:e.handleStartMoveSpot,onMove:e.moveSpot,onRelease:e.handleStopMoveSpot,onNext:e.handleNextSpotFocus,onPrev:e.handlePrevSpotFocus,onFocus:function(t){return e.setState({disableAddSpot:!0})},color:l}))})))),a)}}]),n}(R.Component),Zh=Jh,Wh=(n(392),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"statement-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=(e.headerActionsTemplate,e.footerActionsTemplate,e.content),n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-statement-1 ".concat(this.getFont(t.font_family)||""),style:n},D.a.createElement("div",{className:"rdp-element-statement-1-container",style:{borderColor:t.border_color}},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})))}}]),n}(R.Component)),Xh=(n(393),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"statement-2",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=(e.headerActionsTemplate,e.footerActionsTemplate,e.content),n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-statement-2 ".concat(this.getFont(t.font_family)||""),style:n},D.a.createElement("div",{className:"rdp-element-statement-2-container"},D.a.createElement("div",{className:"rdp-element-statement-2-container-border",style:{backgroundColor:t.border_color}}),D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})))}}]),n}(R.Component)),$h=(n(394),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"statement-3",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=(e.headerActionsTemplate,e.footerActionsTemplate,e.content),n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-statement-3 ".concat(this.getFont(t.font_family)||""),style:n},D.a.createElement("div",{className:"rdp-element-statement-3-container",style:{borderColor:t.border_color}},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})))}}]),n}(R.Component)),ef=(n(395),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"statement-4",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=(e.headerActionsTemplate,e.footerActionsTemplate,e.content),n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-statement-4 ".concat(this.getFont(t.font_family)||""),style:n},D.a.createElement("div",{className:"rdp-element-statement-4-container"},D.a.createElement("div",{className:"rdp-element-statement-4-container-border",style:{backgroundColor:t.border_color}}),D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})))}}]),n}(R.Component)),tf=(n(396),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"note-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=(e.headerActionsTemplate,e.footerActionsTemplate,e.content),n={backgroundColor:t.background_color,paddingTop:t.padding_top+"px",paddingBottom:t.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-note-1 ".concat(this.getFont(t.font_family)||""),style:n},D.a.createElement("div",{className:"rdp-element-note-1-container",style:{backgroundColor:t.secondary_color,borderColor:t.primary_color}},D.a.createElement("span",{className:"rdp-element-note-1-container-icon"},"info"===t.icon&&D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"},D.a.createElement("path",{fill:t.primary_color,d:"M224 152c0-13.2 10.8-24 24-24h16c13.2 0 24 10.8 24 24v16c0 13.2-10.8 24-24 24h-16c-13.2 0-24-10.8-24-24v-16z"}),D.a.createElement("path",{fill:t.primary_color,d:"M320 384h-128v-32h32v-96h-32v-32h96v128h32z"}),D.a.createElement("path",{fill:t.primary_color,d:"M256 0c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256-114.615-256-256-256zM256 464c-114.875 0-208-93.125-208-208s93.125-208 208-208 208 93.125 208 208-93.125 208-208 208z"}))),D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:t.text}})))}}]),n}(R.Component)),nf=(n(397),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.handleChangeText=a.handleChangeText.bind(Object(X.a)(a)),a.handleChangeAuthorName=a.handleChangeAuthorName.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quote-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"handleChangeText",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"renderText",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-1-text-container"},D.a.createElement("div",{className:"rdp-element-quote-1-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})))}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-quote-1-avatar"},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:this.getAvatarUrl(e.avatar),onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"getAvatarUrl",value:function(e){return e}},{key:"handleChangeAuthorName",value:function(e){var t=this.props.content;t.author_name=e,this.props.onChange(t)}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-1-author-info"},D.a.createElement("div",{className:"rdp-element-quote-1-author-name"},D.a.createElement("div",{className:"editor",style:{fontFamily:"Merriweather-Regular"},dangerouslySetInnerHTML:{__html:e.author_name}})))}},{key:"getBackgroundUrl",value:function(e){return e}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content;return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-quote-1 ".concat(this.getFont(a.font_family)||""),style:{backgroundColor:a.background_color}},t,D.a.createElement("div",{className:"rdp-element-quote-1-container",style:{borderColor:a.primary_color}},this.renderAvatar(),this.renderText(),this.renderAuthorInfo()),n)}}]),n}(R.Component)),af=(n(398),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.handleChangeText=a.handleChangeText.bind(Object(X.a)(a)),a.handleChangeAuthorName=a.handleChangeAuthorName.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quote-2",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"handleChangeText",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"renderText",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-2-text-container"},D.a.createElement("div",{className:"rdp-element-quote-2-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})))}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-quote-2-avatar"},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:this.getAvatarUrl(e.avatar),onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"getAvatarUrl",value:function(e){return e}},{key:"handleChangeAuthorName",value:function(e){var t=this.props.content;t.author_name=e,this.props.onChange(t)}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-2-author-info"},D.a.createElement("div",{className:"rdp-element-quote-2-author-name"},D.a.createElement("div",{className:"editor",style:{fontFamily:"Merriweather-Regular"},dangerouslySetInnerHTML:{__html:e.author_name}})))}},{key:"getBackgroundUrl",value:function(e){return e}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content;return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-quote-2 ".concat(this.getFont(a.font_family)||""),style:{backgroundColor:a.background_color}},t,D.a.createElement("div",{className:"rdp-element-quote-2-container"},this.renderAvatar(),this.renderText(),this.renderAuthorInfo()),n)}}]),n}(R.Component)),rf=(n(399),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.handleChangeText=a.handleChangeText.bind(Object(X.a)(a)),a.handleChangeAuthorName=a.handleChangeAuthorName.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quote-3",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"handleChangeText",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"renderText",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-3-text-container"},D.a.createElement("span",{className:"rdp-element-quote-3-text-container-icon"},D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"416",height:"448",viewBox:"0 0 416 448"},D.a.createElement("path",{fill:e.primary_color,d:"M192 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48zM416 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48z"}))),D.a.createElement("div",{className:"rdp-element-quote-3-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})),this.renderAuthorInfo())}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-quote-3-avatar"},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:this.getAvatarUrl(e.avatar),onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"getAvatarUrl",value:function(e){return e}},{key:"handleChangeAuthorName",value:function(e){var t=this.props.content;t.author_name=e,this.props.onChange(t)}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-3-author-info"},D.a.createElement("div",{className:"rdp-element-quote-3-author-name"},D.a.createElement("div",{className:"editor",style:{fontFamily:"Merriweather-Regular"},dangerouslySetInnerHTML:{__html:e.author_name}})))}},{key:"getBackgroundUrl",value:function(e){return e}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content;return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-quote-3 ".concat(this.getFont(a.font_family)||""),style:{backgroundColor:a.background_color}},t,D.a.createElement("div",{className:"rdp-element-quote-3-container"},this.renderAvatar(),this.renderText()),n)}}]),n}(R.Component)),of=(n(400),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.handleChangeText=a.handleChangeText.bind(Object(X.a)(a)),a.handleChangeAuthorName=a.handleChangeAuthorName.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quote-4",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"handleChangeText",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"renderText",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-4-text-container"},D.a.createElement("div",{className:"rdp-element-quote-4-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})),this.renderAuthorInfo())}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-quote-4-avatar"},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:this.getAvatarUrl(e.avatar),onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"getAvatarUrl",value:function(e){return e}},{key:"handleChangeAuthorName",value:function(e){var t=this.props.content;t.author_name=e,this.props.onChange(t)}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-4-author-info"},D.a.createElement("div",{className:"rdp-element-quote-4-author-name"},D.a.createElement("div",{className:"editor",style:{fontFamily:"Merriweather-Regular"},dangerouslySetInnerHTML:{__html:e.author_name}})))}},{key:"getBackgroundUrl",value:function(e){return e}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content;return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-quote-4 ".concat(this.getFont(a.font_family)||""),style:{backgroundColor:a.background_color}},t,D.a.createElement("div",{className:"rdp-element-quote-4-container"},this.renderAvatar(),this.renderText()),n)}}]),n}(R.Component)),cf=(n(401),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={avatar_size:"width",visible:!1},a.handleChange=a.handleChange.bind(Object(X.a)(a)),a.handleChangeText=a.handleChangeText.bind(Object(X.a)(a)),a.handleChangeAuthorName=a.handleChangeAuthorName.bind(Object(X.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"quote-5",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleAvatarChange",value:function(e){this.setState({avatar_size:e.target.width>=e.target.height?"height":"width"})}},{key:"handleChangeText",value:function(e){var t=this.props.content;t.text=e,this.props.onChange(t)}},{key:"renderText",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-5-text-container"},D.a.createElement("span",{className:"rdp-element-quote-5-text-container-icon"},D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"},D.a.createElement("path",{fill:e.primary_color,d:"M112.5 224c61.856 0 112 50.145 112 112s-50.144 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.817 5.818-11.126 12.008-15.915 18.51 5.719-0.9 11.58-1.373 17.552-1.373zM400.5 224c61.855 0 112 50.145 112 112s-50.145 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.818 5.818-11.127 12.008-15.916 18.51 5.72-0.9 11.58-1.373 17.553-1.373z"}))),D.a.createElement("div",{className:"rdp-element-quote-5-text"},D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e.text}})))}},{key:"renderAvatar",value:function(){var e=this.props.content;if(null!==e.avatar){var t=this.state.avatar_size;return D.a.createElement("div",{className:"rdp-element-quote-5-avatar"},D.a.createElement("img",{style:"width"===t?{width:"102%"}:{height:"102%"},src:this.getAvatarUrl(e.avatar),onLoad:this.handleAvatarChange.bind(this)}))}return null}},{key:"getAvatarUrl",value:function(e){return e}},{key:"handleChangeAuthorName",value:function(e){var t=this.props.content;t.author_name=e,this.props.onChange(t)}},{key:"renderAuthorInfo",value:function(){var e=this.props.content;return D.a.createElement("div",{className:"rdp-element-quote-5-author-info"},D.a.createElement("div",{className:"rdp-element-quote-5-author-name"},D.a.createElement("div",{className:"editor",style:{fontFamily:"Merriweather-Regular"},dangerouslySetInnerHTML:{__html:e.author_name}})))}},{key:"getBackgroundUrl",value:function(e){return e}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this.props.content;return D.a.createElement("div",{ref:this.elementRef,className:"rdp-element-quote-5 ".concat(this.getFont(e.font_family)||""),style:{backgroundImage:"url(".concat(this.getBackgroundUrl(e.background_image),")")}},D.a.createElement("div",{className:"rdp-element-quote-5-container"},this.renderAvatar(),this.renderText(),this.renderAuthorInfo()))}}]),n}(R.Component)),sf=Se.b.div(Wm||(Wm=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),lf=Se.b.div(Xm||(Xm=Object(qe.a)(["\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n"]))),df=Se.b.ul($m||($m=Object(qe.a)(["\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n"]))),uf=Se.b.li(ep||(ep=Object(qe.a)(["\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n"]))),mf=Se.b.div(tp||(tp=Object(qe.a)(["\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  padding: 50px 0;\n  text-align: center;\n  border-top: 1px solid #e9eaeb;\n  border-bottom: 1px solid #e9eaeb;\n  margin: 30px auto;\n  \n  &.mobile,\n  &.tablet {\n    padding: 30px;\n  }\n"]))),pf=Se.b.div(np||(np=Object(qe.a)(["\n  width: 70px;\n  height: 70px;\n  border-radius: 500px;\n  overflow: hidden;\n  display: block;\n  margin: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n  margin-bottom: 30px;\n"]))),hf=Se.b.img(ap||(ap=Object(qe.a)(["\n  margin-left: 50%;\n  margin-top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n"]))),ff=Se.b.div(rp||(rp=Object(qe.a)(["\n  display: block;\n  margin-top: 10px;\n"]))),gf=Se.b.div(op||(op=Object(qe.a)(["\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n"]))),vf=Se.b.div(ip||(ip=Object(qe.a)(["\n  position: relative;\n"]))),bf=Se.b.div(cp||(cp=Object(qe.a)(["\n  color: #fff;\n  margin-top: 30px;\n  width: 100%;\n  display: block;\n  line-height: 5px;\n\n  .editor {\n    padding: 0;\n    line-height: inherit;\n    overflow: hidden;\n  }\n\n  .editor p:before,\n  .editor p:after {\n    content: '\"';\n    color: #313537;\n    font-size: 16px;\n  }\n\n  .editor * {\n    line-height: 10px;\n    padding-bottom: 10px;\n  }\n"]))),Af=Se.b.div(sp||(sp=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n\n  @media (max-width: 800px) {\n    display: none;\n  }\n"]))),_f=Se.b.div(lp||(lp=Object(qe.a)(["\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),xf=Se.b.svg(dp||(dp=Object(qe.a)([""]))),wf=Se.b.div(up||(up=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),yf=Se.b.div(mp||(mp=Object(qe.a)(["\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ",";\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"}),kf=Se.b.div(pp||(pp=Object(qe.a)(["\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),Ef=Se.b.svg(hp||(hp=Object(qe.a)([""]))),Cf=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={avatar_size:"width",visibleSlideIndex:0,visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"quote-6",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.handleAvatarChange=function(t){e.setState({avatar_size:t.target.width>=t.target.height?"height":"width"})},e.getAssetUrl=function(e){return e},e.getFont=function(e){return e?e.replace(/\s/g,"-").toLowerCase():""},e.renderText=function(e){return D.a.createElement(vf,null,D.a.createElement(bf,null,D.a.createElement("div",{className:"editor",dangerouslySetInnerHTML:{__html:e}})))},e.renderAvatar=function(t){if(null!==t){var n=e.state.avatar_size;return D.a.createElement(pf,null,D.a.createElement(hf,{style:Object(ge.a)({},n,"102%"),src:e.getAssetUrl(t),onLoad:e.handleAvatarChange,alt:"avatar"}))}return null},e.renderAuthorInfo=function(e){return D.a.createElement(ff,null,D.a.createElement(gf,{style:{fontFamily:"Merriweather-Regular"},value:e}))},e.handlePageChange=function(t){return function(n){var a=e.props.content.items;n.preventDefault();var r=document.getElementById(t),o=t.split("slide-")[1],i=a.find(function(e){return e.id===o}),c=a.indexOf(i);e.setState({visibleSlideIndex:c},function(){r.scrollIntoView(),r.focus()})}},e.handlePrevClick=function(t){var n=e.state.visibleSlideIndex;if(n>0){var a=n-1,r=e.props.content.items[a],o=document.getElementById("slide-".concat(r.id));o&&e.setState({visibleSlideIndex:a},function(){o.scrollIntoView(),o.focus()})}},e.handleNextClick=function(t){var n=e.state.visibleSlideIndex;if(n<e.props.content.items.length-1){var a=n+1,r=e.props.content.items[a],o=document.getElementById("slide-".concat(r.id));o&&e.setState({visibleSlideIndex:a},function(){o.scrollIntoView(),o.focus()})}},e.isInViewport=function(t,n){var a=n||t.target,r=a.getBoundingClientRect(),o=r.top>=0&&r.bottom<=window.innerHeight;return o&&(e.setActivePageMarker(a.id.split("slide-")[1]),e.trackElementClick(a.id.split("slide-")[1])),o},e.trackElementClick=function(t){var n=e.props.content,a={action:"click",element:"quote-6",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,item_id:t}};void 0!==n.dam_assets&&n.dam_assets.length>0&&(a.assets=n.dam_assets),e.props.onTrackEvent(a)},e.setActivePageMarker=function(t){var n=document.getElementById(e.getSlidePageId(t));n&&(e.resetActivePageMarkers(),n.classList.add("active"))},e.resetActivePageMarkers=function(){e.props.content.items.forEach(function(t){var n=document.getElementById(e.getSlidePageId(t.id));n&&n.classList.remove("active")})},e.getSlideId=function(e){return"slide-".concat(e)},e.getSlidePageId=function(e){return"page-".concat(e)},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"componentDidMount",value:function(){var e=this.props.content.items;e.length>0&&this.setActivePageMarker(e[0].id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.primary_color,s=r.padding_top,l=r.padding_bottom,d=r.font_family,u=r.items,m=void 0===u?[]:u;return D.a.createElement(sf,{ref:this.elementRef,className:"".concat(o," ").concat(this.getFont(d)),backgroundColor:i,paddingTop:s,paddingBottom:l},n,D.a.createElement(lf,{className:"element-quote-6-carrousel"},D.a.createElement(df,{className:"element-quote-6-slides"},m.map(function(t){return D.a.createElement(uf,{className:"element-quote-6-slide",key:t.id,tabIndex:"1",id:e.getSlideId(t.id),onFocus:e.isInViewport},D.a.createElement(mf,{style:{borderColor:c}},e.renderAvatar(t.avatar),e.renderText(t.text),e.renderAuthorInfo(t.author_name)))}))),D.a.createElement(Af,{className:"element-quote-6-controls"},D.a.createElement(_f,{onClick:this.handlePrevClick},D.a.createElement(xf,{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))),D.a.createElement(wf,{role:"list"},m.map(function(t,n){return D.a.createElement(yf,{id:e.getSlidePageId(t.id),key:t.id,role:"listitem",onClick:e.handlePageChange(e.getSlideId(t.id)),primaryColor:c},n+1)})),D.a.createElement(kf,{onClick:this.handleNextClick},D.a.createElement(Ef,{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))),a)}}]),n}(R.Component),jf=Se.b.div(fp||(fp=Object(qe.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  overflow: hidden;\n  position: relative;\n  background-color: ",";\n"])),function(e){return e.paddingTop||"30"},function(e){return e.paddingBottom||"30"},function(e){return e.backgroundColor||"transparent"}),Of=Se.b.div(gp||(gp=Object(qe.a)(["\n  max-width: 750px;\n  margin: 0 auto;\n"]))),If=Se.b.ul(vp||(vp=Object(qe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  height: 200px;\n"]))),qf=Se.b.li(bp||(bp=Object(qe.a)(["\n  position: absolute;\n  padding: 20px;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: ",";\n  border: 1px solid #ededed;\n  color: ",";\n  width: 300px;\n  height: 200px;\n  border-top: 3px solid ",";\n  cursor: ",";\n  pointer-events: ",'!important;\n  box-shadow: 0 2px 5px rgb(0 0 0 / 10%);\n  \n  p {\n    max-height: 130px;\n    overflow: hidden;\n  }\n\n  &[draggable=true]:after {\n    content: "";\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    bottom: 12px;\n    left: calc(50% - 12px);\n    background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTMsMTVWMTNINVYxNUgzTTMsMTFWOUg1VjExSDNNNywxNVYxM0g5VjE1SDdNNywxMVY5SDlWMTFIN00xMSwxNVYxM0gxM1YxNUgxMU0xMSwxMVY5SDEzVjExSDExTTE1LDE1VjEzSDE3VjE1SDE1TTE1LDExVjlIMTdWMTFIMTVNMTksMTVWMTNIMjFWMTVIMTlNMTksMTFWOUgyMVYxMUgxOVoiIC8+Cjwvc3ZnPg==");\n  }\n  \n  ',"\n\n  ","\n  \n  @keyframes grow {\n    0% {\n      width: 0;\n      height: 0;\n      top: 12px;\n      left: 12px;\n    }\n    100% {\n      width: 34px;\n      height: 34px;\n      top: -12px;\n      left: -12px;\n    }\n  };\n\n  @keyframes slide {\n    0% {\n      opacity: 1;\n      top: 0;\n    }\n    100% {\n      opacity: 0;\n      top: 200px;\n    }\n  };\n  \n  @keyframes correct {\n    0% {\n      opacity: 1;\n      transform: scale(1);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(0.8);\n    }\n  };\n  \n  @keyframes shake {\n    0% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    25% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    50% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    75% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate(0, 0);\n    }\n  };\n\n  @keyframes disappear {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  };\n"])),function(e){return e.backgroundColor||"#FFFFFF"},function(e){return e.fontColor||"#000"},function(e){return e.borderColor||"#00643e"},function(e){return e.cursorStyle||"grab"},function(e){return"false"!==e.draggable?"all":"none"},function(e){return!1===e.isCorrect&&Object(Se.a)(Ap||(Ap=Object(qe.a)(["\n    opacity: 0;\n    animation: shake 0.5s, disappear 0s;\n    animation-delay: 0s, 0.5s;\n  "])))},function(e){return!0===e.isCorrect&&Object(Se.a)(_p||(_p=Object(qe.a)(['\n    opacity: 0;\n    transform: scale(0.8);\n    animation: correct 1s, slide 0.5s;\n    animation-delay: 0s, 1s;\n    \n    &::after {\n      content: "";\n      width: 34px;\n      height: 34px;\n      position: absolute;\n      animation: grow 1s;\n      top: -12px;\n      left: -12px;\n      background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTAsMTdMNSwxMkw2LjQxLDEwLjU4TDEwLDE0LjE3TDE3LjU5LDYuNThMMTksOE0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMloiIC8+Cjwvc3ZnPg==");\n    }\n  '])))}),Sf=Se.b.ul(xp||(xp=Object(qe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  width: 100%;\n  position: relative;\n  min-height: 220px;\n  gap: 30px;\n  margin-top: 30px;\n"]))),Tf=Se.b.ul(wp||(wp=Object(qe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  width: 300px;\n  height: 200px;\n  pointer-events: none;\n  background: ",";\n  color: ",";\n  border: 1px dashed ",";\n  box-shadow: inset 0 2px 5px rgb(0 0 0 / 60%);\n"])),function(e){return e.backgroundColor||"#e1e1e1"},function(e){return e.color||"#000"},function(e){return e.borderColor||"#00643e"}),Mf=Se.b.li(yp||(yp=Object(qe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 320px;\n  height: 220px;\n  overflow: hidden;\n  padding: 20px;\n  \n  p {\n    margin: 10px;\n  }\n"]))),zf=Se.b.li(kp||(kp=Object(qe.a)(["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 300px;\n  height: 200px;\n"]))),Lf=Se.b.p(Ep||(Ep=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 1.3em;\n"]))),Bf=Se.b.button(Cp||(Cp=Object(qe.a)(["\n  border: none;\n  background: none;\n  height: auto;\n  width: 100px;\n  margin: 20px;\n  cursor: pointer;\n  pointer-events: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  justify-content: center;\n  align-items: center;\n  border-top: 1px solid #bbb;\n  padding-top: 20px;\n  text-transform: uppercase;\n"]))),Nf=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isDragging:!1},e.handleDragStart=function(t){t.dataTransfer.setData("text",t.target.id),e.setState({isDragging:!0})},e.handleDrag=function(e){},e.handleDragEnd=function(t){e.setState({isDragging:!1})},e.getCursor=function(){var t=e.props.draggable;return e.state.isDragging?"grabbing":t?"grab":"default"},e}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,a=e.primaryColor,r=e.backgroundColor,o=e.draggable,i=e.isCorrect,c=e.color,s=this.state.isDragging;return D.a.createElement(qf,{id:t,draggable:o?"true":"false",borderColor:a,backgroundColor:r,fontColor:c,cursorStyle:this.getCursor(),isDragging:s,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,title:n,isCorrect:i},D.a.createElement("p",null,n))}}]),n}(R.Component),Rf=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={language:e.props.contentLanguage||"pt_br",movedItems:[],incorrectMovedItems:[],pileItems:[],visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"sorted-activity-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,items:t.items,piles:t.piles}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.trackElementFinish=function(){var t=e.props.content,n={action:"click",element:"sorted-activity-1",timestamp:Math.floor(Date.now()/1e3),verb:"ended",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,items:t.items,piles:t.piles}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(n.assets=t.dam_assets),e.props.onTrackEvent(n)},e.getLabels=function(){var t={pt_br:{remake:"Refazer",moved_correctly:"Movidos corretamente"},en:{remake:"Remake",moved_correctly:"Moved correctly"}};return t[e.state.language]||t.pt_br},e.handleDrop=function(t){var n=e.props.content.items,a=void 0===n?[]:n;t.preventDefault();var r=t.target.id,o=t.dataTransfer.getData("text"),i=Object(Ie.a)(e.state.pileItems),c=a.find(function(e){return e.id===o});i[r]||(i[r]=[]),i[r].push(c);var s=Object(Ie.a)(e.state.movedItems),l=Object(Ie.a)(e.state.incorrectMovedItems);r===c.pileId?s=[].concat(Object(Ie.a)(e.state.movedItems),[o]):(l=l.filter(function(e){return e!==o})).push(o),e.setState({movedItems:s,pileItems:i,incorrectMovedItems:l},function(){r!==c.pileId&&setTimeout(function(){i[r]=i[r].filter(function(e){return e.id!==o}),e.setState({pileItems:i})},1e3)})},e.handleDragOver=function(e){e.preventDefault()},e.getNotMovedItems=function(){var t=e.props.content.items,n=void 0===t?[]:t,a=e.state.movedItems;return n.filter(function(e){return!a.includes(e.id)})},e.resetState=function(){e.setState({movedItems:[],incorrectMovedItems:[],pileItems:[]})},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){if(this.trackElementView(),this.state.movedItems!==t.movedItems){var a=this.props.content.items;this.state.movedItems.length===a.length&&this.trackElementFinish()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.className,o=t.content,i=o.items,c=o.piles,s=void 0===c?[]:c,l=o.primary_color,d=o.background_color,u=o.pile_color,m=o.pile_text_color,p=o.item_color,h=o.item_text_color,f=o.padding_top,g=o.padding_bottom,v=this.state,b=v.pileItems,A=v.movedItems,_=v.incorrectMovedItems;return D.a.createElement(jf,{ref:this.elementRef,className:r,backgroundColor:d,paddingTop:f,paddingBottom:g},n,D.a.createElement(Of,null,A.length===i.length?D.a.createElement(If,null,D.a.createElement(zf,null,D.a.createElement(Lf,null,i.length-_.length,"/",i.length," ",this.getLabels().moved_correctly),D.a.createElement(Bf,{onClick:this.resetState},this.getLabels().remake,D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},D.a.createElement("path",{fill:"currentColor",d:"M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z"}))))):D.a.createElement(If,null,this.getNotMovedItems().map(function(e){return D.a.createElement(Nf,{draggable:!0,id:e.id,key:e.id,primaryColor:l,backgroundColor:p,color:h,title:e.title})})),D.a.createElement(Sf,null,s.map(function(t){return D.a.createElement(Mf,{id:t.id,key:t.id,onDrop:e.handleDrop,onDragOver:e.handleDragOver,primaryColor:l,title:t.title},D.a.createElement(Tf,{backgroundColor:u,color:m,borderColor:l},D.a.createElement("p",null,t.title),b[t.id]&&b[t.id].map(function(e){return D.a.createElement(Nf,{id:e.id,key:e.id,primaryColor:l,backgroundColor:p,color:h,title:e.title,isCorrect:e.pileId===t.id,draggable:!1})})))}))),a)}}]),n}(R.Component),Df=Se.b.div(jp||(jp=Object(qe.a)(["\n  width: 100%;\n  padding-top: ","px;\n  padding-bottom: ","px;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n  padding-right: 10px;\n"])),function(e){return e.paddingTop||0},function(e){return e.paddingBottom||0},function(e){return e.backgroundColor||"#fff"}),Qf=Se.b.ul(Op||(Op=Object(qe.a)(["\n  li {\n    margin-bottom: 50px;\n  }\n  \n  li:last-child {\n    margin-bottom: 0;\n  }\n"]))),Ff=Se.b.li(Ip||(Ip=Object(qe.a)(["\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ",";\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-left: 5px solid ",';\n  border-radius: 8px;\n  position: relative;\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    height: 50px;\n    width: 1px;\n    border-left: 1px solid ',";\n  }\n  \n  &:last-child:before {\n    border-left: none;\n  }\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"grey"}),Vf=Se.b.p(qp||(qp=Object(qe.a)(["\n  color: ",";\n  font-weight: bold;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n"])),function(e){return e.primaryColor||"#00643e"}),Hf=Se.b.p(Sp||(Sp=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n"]))),Pf=Se.b.p(Tp||(Tp=Object(qe.a)(["\n  font-size: 1.2rem;\n"]))),Uf=Se.b.img(Mp||(Mp=Object(qe.a)(["\n  width: 100%;\n  margin: 20px 0;\n"]))),Kf=Se.b.audio(zp||(zp=Object(qe.a)(["\n  width: 100%;\n  margin: 20px 0;\n"]))),Yf=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={visible:!1},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"timeline-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,items:e.items}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"getFont",value:function(e){return e?e.replace(/\s/g,"-").toLowerCase():""}},{key:"getAssetUrl",value:function(e){return e}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.content,r=t.headerActionsTemplate,o=t.footerActionsTemplate,i=a.background_color,c=a.primary_color,s=a.padding_top,l=a.padding_bottom,d=a.items,u=void 0===d?[]:d;return D.a.createElement(Df,{ref:this.elementRef,className:"".concat(n," ").concat(this.getFont()),backgroundColor:i,paddingTop:s,paddingBottom:l},r,D.a.createElement(Qf,null,u.map(function(t){return D.a.createElement(Ff,{key:t.id,backgroundColor:i,primaryColor:c},D.a.createElement(Vf,{primaryColor:c},t.date),D.a.createElement(Hf,{dangerouslySetInnerHTML:{__html:t.title}}),t.audio&&D.a.createElement(Kf,{src:e.getAssetUrl(t.audio),controls:!0}),D.a.createElement(Pf,{dangerouslySetInnerHTML:{__html:t.description}}),t.image&&D.a.createElement(Uf,{src:e.getAssetUrl(t.image)}))})),o)}}]),n}(R.Component),Gf=Se.b.div(Lp||(Lp=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),Jf=Se.b.ul(Bp||(Bp=Object(qe.a)(["\n  max-width: 1000px;\n  position: relative;\n  margin: auto;\n  display: inline-block;\n"]))),Zf=Se.b.div(Np||(Np=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  max-width: 1000px;\n  gap: 20px;\n"]))),Wf=Se.b.button(Rp||(Rp=Object(qe.a)(["\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ",";\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n\n  &:active, &:disabled {\n    animation: none;\n  }\n\n  &:hover {\n    filter: brightness(1.3);\n  }\n\n  &:disabled {\n    cursor: default;\n    opacity: 0;\n  }\n\n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n"])),function(e){return e.fontColor||"white"},function(e){return e.backgroundColor||"#00643e"},function(e){return e.backgroundColor||"#00643e"}),Xf=Object(Se.b)(Wf)(Dp||(Dp=Object(qe.a)(["\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n"]))),$f=Se.b.div(Qp||(Qp=Object(qe.a)(["\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ",";\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  transition: all 0.2s ease-in-out;\n  opacity: 0;\n  position: absolute;\n\n  ","\n\n  ","\n\n  ","\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return"right"===e.position&&Object(Se.a)(Fp||(Fp=Object(qe.a)(["\n    margin-left: 100%;\n    position: absolute;\n    top: 0;\n    pointer-events: none;\n  "])))},function(e){return"left"===e.position&&Object(Se.a)(Vp||(Vp=Object(qe.a)(["\n    margin-left: -100%;\n    position: absolute;\n    pointer-events: none;\n  "])))},function(e){return"center"===e.position&&Object(Se.a)(Hp||(Hp=Object(qe.a)(["\n    opacity: 1;\n    transition: all 0.2s ease-in-out;\n    transition-delay: 0.3s;\n    position: relative;\n    border-left: 5px solid ",";\n  "])),function(e){return e.primaryColor||"#00643e"})}),eg=Se.b.p(Pp||(Pp=Object(qe.a)(["\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n  text-align: ",";\n"])),function(e){return e.align}),tg=Se.b.p(Up||(Up=Object(qe.a)(["\n  font-size: 1.2rem;\n"]))),ng=Se.b.img(Kp||(Kp=Object(qe.a)(["\n  width: 100%;\n  margin: 20px 0;\n"]))),ag=Se.b.audio(Yp||(Yp=Object(qe.a)(["\n  width: 100%;\n  margin: 20px 0;\n"]))),rg=Object(Se.b)(Wf)(Gp||(Gp=Object(qe.a)(["\n  width: 300px;\n  border-radius: 8px;\n  margin: 20px auto;\n"]))),og=Object(Se.b)(Wf)(Jp||(Jp=Object(qe.a)(["\n  margin: 20px auto;\n  border-radius: 0;\n  height: auto;\n  width: auto;\n  background-color: transparent;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 10px;\n"])),function(e){return e.fontColor||"#00643e"}),ig=Se.b.ul(Zp||(Zp=Object(qe.a)(["\n  margin: 50px auto 0 auto;\n  text-align: center;\n"]))),cg=Se.b.li(Wp||(Wp=Object(qe.a)(["\n  display: inline-block;\n  padding: 5px;\n  margin: 2px;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  \n  ","\n"])),function(e){return e.active&&Object(Se.a)(Xp||(Xp=Object(qe.a)(["\n    border: 2px solid ",";\n    border-radius: 100%;\n    color: ",";\n  "])),function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"#00643e"})}),sg=Se.b.span($p||($p=Object(qe.a)(["\n  position: absolute;\n  left: calc(50% - 50px);\n  top: -25px;\n  width: 100px;\n  height: 50px;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-size: 1.2rem;\n  color: #fff;\n"])),function(e){return e.primaryColor||"#00643e"}),lg=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).itemRef=D.a.createRef(),e.state={itemsStringfy:JSON.stringify(e.props.content.items),visibleCardIndex:0,visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.itemRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"steps-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,items:t.items}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.trackItemView=function(){var t=e.props.content,n=t.items,a=void 0===n?[]:n,r=e.state.visibleCardIndex,o=a.filter(e.isVisibleItem)[r],i={action:"click",element:"steps-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,item_id:o.id||null,item_data:o}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(i.assets=t.dam_assets),e.props.onTrackEvent(i)},e.getLabels=function(){return{pt_br:{retry:"Tentar novamente",start:"Iniciar",step:"Passo"},en:{retry:"Start again",start:"Start",step:"Step"}}[e.props.contentLanguage||"pt_br"]},e.getAssetUrl=function(e){return e},e.handlePrevCard=function(){var t=e.state.visibleCardIndex;t>0&&e.setState({visibleCardIndex:t-1},function(){e.trackItemView()})},e.handleNextCard=function(){var t=e.props.content.items,n=void 0===t?[]:t,a=e.state.visibleCardIndex;a<n.length-1&&e.setState({visibleCardIndex:a+1},function(){e.trackItemView()})},e.handleResetCard=function(){e.setState({visibleCardIndex:0},function(){e.trackItemView()})},e.handleItemIndexChange=function(t){e.setState({visibleCardIndex:t},function(){e.trackItemView()})},e.handleKeyDown=function(t){"ArrowLeft"===t.key?e.handlePrevCard():"ArrowRight"===t.key&&e.handleNextCard()},e.getCurrentItemHeight=function(){if(e.itemRef.current)return e.itemRef.current.offsetHeight},e.isVisibleItem=function(e){return!1===e.isHidden},e.getItemsLength=function(){var t=e.props.content.items,n=void 0===t?[]:t,a=n.find(function(e){return!1===e.isHidden&&"intro"===e.type}),r=n.filter(e.isVisibleItem).length;return a?r-1:r},e.getItemIndex=function(t){var n=e.props.content.items;return(void 0===n?[]:n).find(function(e){return!1===e.isHidden&&"intro"===e.type})?t+1:t},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.padding_top,s=r.padding_bottom,l=r.font_family,d=r.primary_color,u=r.items,m=void 0===u?[]:u,p=this.state.visibleCardIndex,h=m.filter(this.isVisibleItem);return D.a.createElement(Gf,{ref:this.itemRef,tabIndex:"1",className:"".concat(o," ").concat(this.getFont(l)||""),backgroundColor:i,paddingTop:c,paddingBottom:s,onKeyDown:this.handleKeyDown},n,D.a.createElement(Zf,null,D.a.createElement(Xf,{tabIndex:"1",type:"button",onClick:this.handlePrevCard,backgroundColor:d,disabled:0===p},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36"},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))),D.a.createElement(Jf,{minHeight:this.getCurrentItemHeight()+30},h.map(function(t,n){return D.a.createElement($f,{key:t.id,show:p===n,backgroundColor:i,primaryColor:d,position:n===p?"center":n<p?"left":"right"},"intro"!==t.type&&"summary"!==t.type&&D.a.createElement(sg,{primaryColor:d},e.getLabels().step," ","intro"===m[0].type&&m[0].isHidden?n+1:n),D.a.createElement(eg,{align:"intro"===t.type||"summary"===t.type?"center":"left",dangerouslySetInnerHTML:{__html:t.title}}),t.image&&D.a.createElement(ng,{src:e.getAssetUrl(t.image)}),t.audio&&D.a.createElement(ag,{src:e.getAssetUrl(t.audio),controls:!0}),D.a.createElement(tg,{dangerouslySetInnerHTML:{__html:t.description}}),"intro"===t.type&&D.a.createElement(rg,{tabIndex:"1",type:"button",onClick:e.handleNextCard,backgroundColor:d},e.getLabels().start),"summary"===t.type&&D.a.createElement(og,{tabIndex:"1",type:"button",onClick:e.handleResetCard,fontColor:d},e.getLabels().retry,D.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 768 768"},D.a.createElement("path",{fill:"currentColor",d:"M625.504 469.344c-23.552 66.656-71.84 117.44-131.008 145.696s-128.992 33.952-195.648 10.4-117.44-71.84-145.696-131.008-33.952-128.992-10.4-195.648 71.84-117.44 131.008-145.696 128.992-33.952 195.648-10.4c38.016 13.44 70.688 34.816 95.584 60.224l90.368 85.088h-111.36c-17.664 0-32 14.336-32 32s14.336 32 32 32h191.904c0.128 0 0.288 0 0.416 0 4.384-0.032 8.544-0.96 12.352-2.624 3.808-1.632 7.328-4.032 10.368-7.2 0.384-0.384 0.736-0.8 1.088-1.216 2.432-2.784 4.288-5.888 5.6-9.184 1.312-3.264 2.080-6.816 2.208-10.496 0.064-0.448 0.064-0.896 0.064-1.344v-191.936c0-17.664-14.336-32-32-32s-32 14.336-32 32v117.92l-93.312-87.84c-31.776-32.384-72.768-59.072-119.936-75.712-83.328-29.472-170.752-22.336-244.608 12.96s-134.304 98.816-163.744 182.144-22.272 170.72 12.992 244.576 98.816 134.304 182.144 163.744 170.72 22.304 244.576-12.992 134.304-98.816 163.744-182.144c5.888-16.672-2.848-34.944-19.52-40.832s-34.944 2.848-40.832 19.52z"}))),"intro"!==t.type&&D.a.createElement(ig,null,Array.from({length:e.getItemsLength()},function(t,n){return D.a.createElement(cg,{key:n,tabIndex:"1",role:"button",onClick:function(){return e.handleItemIndexChange(e.getItemIndex(n))},active:p===e.getItemIndex(n),primaryColor:d},"summary"===m[n+1].type?D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16"},D.a.createElement("path",{fill:"currentColor",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})):n+1)})))})),D.a.createElement(Xf,{tabIndex:"1",type:"button",onClick:this.handleNextCard,backgroundColor:d,disabled:p===h.length-1},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36"},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))),a)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return JSON.stringify(e.content.items)!==t.itemsStringfy?{itemsStringfy:JSON.stringify(e.content.items),visibleCardIndex:0}:null}}]),n}(R.Component),dg=Se.b.div(eh||(eh=Object(qe.a)(["\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n"]))),ug=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={content:e.props.content,contentBkp:e.props.content,activeChoices:[],answeredQuestionsIds:[],currentQuestionIndex:0,showResult:!1,protocol:null,custom_options:window.cstmptns||{},attempsMade:0,user:{roles:[]},interaction_objects:[]},e.getSignedUserFromJwt=Object(W.a)(Z.a.mark(function t(){var n;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.custom_options){t.next=2;break}return t.abrupt("return");case 2:return n=e.state.custom_options.access_token,t.abrupt("return",new Promise(function(t,a){var r=Object(at.a)(n);if(r){var o=[];r.role&&Array.isArray(r.role)?o=r.role.map(function(e){return e.toString().toLowerCase()}):r.role&&"string"===typeof r.role&&o.push(r.role.toString().toLowerCase()),r=Object(G.a)(Object(G.a)({},r),{},{roles:o,uid:r.oid||""}),e.setState({user:r},function(){t(r)})}else a("Error jwt decode")}));case 4:case"end":return t.stop()}},t)})),e.loadContentFromServer=function(){e.recoverObjects().then(e.updateQuestionsBasedOnObjects)},e.loadContentFromDefaultData=function(t){try{var n=e.props.content;if(t&&t.elements){var a,r=n;a=t.elements[n.id].answers?t.elements[n.id].answers:[],e.setState({content:r,activeChoices:a})}}catch(o){console.error(o)}},e.recoverObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.content,a=e.state.custom_options,r=a.activity_uid,void 0!==a){t.next=5;break}return t.abrupt("return");case 5:return o=a.interaction_uid,t.next=8,new Promise(function(){var e=Object(W.a)(Z.a.mark(function e(t,i){var c;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,et.cms.learning.interaction.uid(o).recoverObject({context_uid:r},a);case 3:(c=e.sent)&&c.length>0&&t(c);case 5:i();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t)})),e.updateQuestionsBasedOnObjects=Object(W.a)(Z.a.mark(function t(){var n,a,r,o,i,c,s,l=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=l.length>0&&void 0!==l[0]?l[0]:[]).length>0&&(a=e.state.content,r=a.questions,o=void 0===r?[]:r,i=0,c=[],a.questions.forEach(function(t){var a=null,r=n.filter(function(e){return e.target_uid===t.id}).map(function(e){return null===a?a=e.created_at:e.created_at>a&&(a=e.created_at),e});i=r.length;var o=r.find(function(e){return e.created_at>=a});if(o){c.push(t.id);var s=o.object_data;s&&s.data&&e.updateActiveChoicesBasedOnAnswer(t,s.data)}}),s=c.length-1,e.setState({attempsMade:i,currentQuestionIndex:s>=0?s:0,answered_qtd:c.length,answeredQuestionsIds:c},function(){c.length===o.length&&e.showResult()})),t.abrupt("return",n);case 3:case"end":return t.stop()}},t)})),e.updateActiveChoicesBasedOnAnswer=function(t,n){var a=Object(G.a)({},e.state.activeChoices);a[t.id]=n.text,e.setState({activeChoices:a})},e.getUsersInteractions=function(){var t=e.state.custom_options,n=t.register_uid,a=t.activity_uid;return et.cms.learning.register.uid(n).interaction.recoverObjects({context_uid:a,activity_uid:a,last_occurrence:!0},t)},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"quiz-fill-the-blank",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a),e.trackQuestionView()}e.setState({visible:n})}},e.trackQuestionView=function(){var t=e.props.content,n=t.questions[e.state.currentQuestionIndex],a={action:"view",element:"quiz-fill-the-blank",verb:"viewed",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title,question:{id:n.id,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(n.question)}}};e.props.onTrackEvent(a)},e.trackAnswerClick=function(t){var n=e.props.content,a=n.questions[e.state.currentQuestionIndex],r={action:"click",verb:"focused",element:"quiz-mixed-question-answer",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:a.id,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(a.question),answer:t}}};"quiz-1"!==a.type&&"quiz-2"!==a.type||(r.metadata.question.answer={id:t.id,title:ae.HtmlToText(t.text)}),e.props.onTrackEvent(r)},e.trackAnswerConfirmClick=function(t,n){var a=e.props.content,r=e.state,o=r.activeChoices,i=r.currentQuestionIndex,c=n[i]||null,s=i||-1;if(null!==c){var l,d,u;l=c.choices.find(function(t){return e.sameTextChoice(t,c)}),d=zn(c,o),l&&(u={id:l.id,title:l.text});var m={action:"click",element:"quiz-fill-the-blank-question-confirm-answer",verb:"answered",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:a.id,element_title:a.content_title,total_questions:n.length,current_question:s,question:{id:c.id,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(c.question),answer:u,answers:c.choices?c.choices:null}}};e.props.onTrackEvent(m),e.trackQuestionFeedback(d,u,c)}},e.trackQuestionFeedback=function(t,n,a){if(!1===a.no_feedback){var r=e.props.content,o={action:"view",element:"quiz-fill-the-blank-question-feedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:r.id,element_title:r.content_title,question:{id:a.id,position:e.state.currentQuestionIndex+1,title:a.question,answer:n}}};e.props.onTrackEvent(o)}},e.trackNavigation=function(t){var n=e.props.content,a="next"===t?"quiz-fill-the-blank-question-navigation-next":"quiz-fill-the-blank-question-navigation-previous",r="next"===t?e.state.currentQuestionIndex-1:e.state.currentQuestionIndex+1,o=e.props.content.questions[r],i=e.props.content.questions[e.state.currentQuestionIndex],c={action:"click",element:a,timestamp:Math.floor(Date.now()/1e3),verb:"next"===t?"advanced":"retreated",metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,question:{id:i.id,position:e.state.currentQuestionIndex+1,title:ae.HtmlToText(i.question)},source_question:{id:o.id,position:("next"===t?e.state.currentQuestionIndex-1:e.state.currentQuestionIndex+1)+1,title:ae.HtmlToText(o.question)}}};e.props.onTrackEvent(c)},e.trackQuizFinishView=function(t){var n=e.props.content,a={action:"view",element:"quiz-fill-the-blankfeedback",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,element_title:n.content_title,resume:t}};e.props.onTrackEvent(a)},e.trackRemakeQuiz=function(){var t=e.props.content,n={action:"click",element:"quiz-fill-the-blank-remake",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};e.props.onTrackEvent(n)},e.getLabels=function(){var t=e.state.content.questions,n=void 0===t?[]:t,a=e.props.contentLanguage,r=void 0===a?"pt_br":a,o={en:{confirm:"Confirm",question:"Question",back:"Back",retry:"Try again",previous:"Previous",next:"Next",finish:n.length>1?"Send answers":"Send answer",incorrect:"Incorrect",right:"Right!",finish_quiz_message:"You have completed this quiz.",edit:"Edit",answer_saved:"Answer saved!"},pt_br:{confirm:"Confirmar",question:"Quest\xe3o",retry:"Refazer atividade",previous:"Anterior",next:"Pr\xf3ximo",finish:n.length>1?"Enviar respostas":"Enviar resposta",incorrect:"Incorreto",right:"Correto!",finish_quiz_message:"Voc\xea finalizou este question\xe1rio.",edit:"Editar resposta",answer_saved:"Resposta salva!"}};return o[r]||o.en},e.isFinishButtonVisible=function(){var t=e.state;return t.currentQuestionIndex+1===t.content.questions.length},e.isFinishButtonDisabled=function(){var t=e.state,n=t.content,a=t.answeredQuestionsIds,r=n.questions,o=r.filter(function(e){return a.includes(e.id)});return r.length!==o.length},e.updateContentAndNotifyChange=function(t){e.setState({content:t},function(){e.props.onChange(e.state.content)})},e.setAnswer=function(t,n){var a=e.state.activeChoices;e.setState({activeChoices:Object(G.a)(Object(G.a)({},a),{},Object(ge.a)({},t,n))}),e.trackAnswerClick(n)},e.setAnswerConfirmation=function(t){var n=e.state,a=n.answeredQuestionsIds,r=n.content.questions;e.setState({answeredQuestionsIds:[].concat(Object(Ie.a)(a),[t])},function(){e.trackAnswerConfirmClick(t,r)})},e.deleteAnswerConfirmation=function(t){var n=e.state.answeredQuestionsIds;e.setState({answeredQuestionsIds:n.filter(function(e){return e!==t})})},e.getContentOnlyWithQuestion=function(t){var n=e.state.content,a=Object(G.a)({},n);return a.questions=[t],a},e.goToPreviusQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t-1},function(){e.trackQuestionView(),e.trackNavigation("prev")})},e.goToNextQuestion=function(){var t=e.state.currentQuestionIndex;e.setState({currentQuestionIndex:t+1},function(){e.trackQuestionView(),e.trackNavigation("next")})},e.renderContentFor=function(t){var n=e.props,a=n.editable,r=n.contentLanguage,o=n.headerActionsTemplate,i=n.footerActionsTemplate,c=e.state,s=c.content,l=c.showResult,d=c.activeChoices,u=c.answeredQuestionsIds,m=c.grades,p=c.attempsMade,h=s.questions,f=s.primary_color;if(l)return D.a.createElement(Gr,{grades:m,labels:e.getLabels(),canRemake:Rs(s,p),onClickRemake:e.handleRemakeQuiz,content:s,contentLanguage:r});if(h){var g=h[t];return g.type="quiz-3",D.a.createElement(D.a.Fragment,null,D.a.createElement(qa,{data:g,answered:u.includes(g.id),labels:e.getLabels(),editable:a,content:e.getContentOnlyWithQuestion(g),questionNumber:t,questionTotal:h.length,contentLanguage:r,headerActionsTemplate:o,footerActionsTemplate:i,activeChoices:d,onAnswering:e.setAnswer,onConfirmAnswer:e.setAnswerConfirmation,onResetAnswer:e.deleteAnswerConfirmation,onUpdateContent:e.updateContentAndNotifyChange}),D.a.createElement(At,{showFinishButton:e.isFinishButtonVisible(),disableFinishButton:e.isFinishButtonDisabled(),currentProgress:t+1,totalProgress:h.length,primaryColor:f,labels:e.getLabels(),activeChoices:d,onClickPrevius:e.goToPreviusQuestion,onClickNext:e.goToNextQuestion,onClickFinish:e.onFinishClick}))}return null},e.sameTextChoice=function(t,n){var a=e.state.activeChoices;return String(t.text).toLowerCase()===String(a[n.id]).toLowerCase()},e.createInteractionObject=function(){var t=Object(W.a)(Z.a.mark(function t(n){var a,r,o,i,c,s,l;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,r=a.content,o=a.custom_options,i=a.activeChoices,void 0===(c=n.choices.find(function(t){return e.sameTextChoice(t,n)}))&&(c={text:i[n.id]||"",id:null}),!o){t.next=6;break}return s=o.interaction_uid,l=o.activity_uid,t.abrupt("return",et.cms.learning.interaction.uid(s).createObject({context_uid:l,type:r.type,target_uid:n.id,object_data:c},o));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onFinishClick=Object(W.a)(Z.a.mark(function t(){var n,a,r;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.content,a=n.questions,r=a.map(function(){var t=Object(W.a)(Z.a.mark(function t(n){return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createInteractionObject(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.all(r);case 5:e.showResult();case 6:case"end":return t.stop()}},t)})),e.showResult=function(){var t=e.state,n=t.content,a=t.activeChoices,r=t.answeredQuestionsIds,o=t.attempsMade,i=n.questions,c=0,s=i.length;i.forEach(function(e){r.includes(e.id)&&zn(e,a)&&c++});var l={rdp_html_content:{questions:i,hits:c,total:s,percentage_average:100/s*c}};e.setState({grades:l,showResult:!0,attempsMade:o+1},function(){e.trackQuizFinishView(l)})},e.resetState=function(){e.setState({answered:!1,grades:null,showResult:!1,currentQuestionIndex:0,activeChoices:[],answeredQuestionsIds:[]})},e.handleRemakeQuiz=function(){e.resetState(),e.trackRemakeQuiz(),e.sortQuestions(!0)},e.getFont=function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.defaultData;n&&n.elements&&n.elements[t.id]&&this.getSignedUserFromJwt().then(this.loadContentFromDefaultData),this.getSignedUserFromJwt().then(this.loadContentFromServer),this.sortQuestions()}},{key:"componentDidUpdate",value:function(e,t){e.defaultData!==this.props.defaultData&&this.loadContentFromDefaultData(),this.trackElementView()}},{key:"sortQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(G.a)({},this.props.content),n=void 0!==t.number_of_questions_to_display&&t.number_of_questions_to_display>0,a=void 0!==t.random_on_remake&&!0===t.random_on_remake.enabled,r=void 0!==t.random_question_order&&!0===t.random_question_order.enabled;if(a&&e||!e){var o=this.props.content.questions,i=this.props.content.questions;r&&i.sort(function(e,t){return Math.floor(2*Math.random())+-1}),n&&(i=i.slice(0,t.number_of_questions_to_display)),t.questions=i,this.props.content.questions=o,this.setState({content:t})}return t}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r=e.className,o=this.state.currentQuestionIndex;return D.a.createElement(dg,{ref:this.elementRef,className:_t([r,this.getFont(a.font_family)||""]),style:{backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"}},t,D.a.createElement(kt,null,this.renderContentFor(o)),n)}}]),n}(R.Component),mg=Se.b.div(th||(th=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),pg=Se.b.ul(nh||(nh=Object(qe.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),hg=Se.b.li(ah||(ah=Object(qe.a)(["\n  max-width: 600px;\n  width: 100%;\n  height: 120px;\n"]))),fg=Se.b.a(rh||(rh=Object(qe.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  cursor: pointer;\n  text-decoration: none;\n  color: black;\n  \n  &:hover, &:focus {\n    text-decoration: underline;\n    color: ",";\n    border: 1px solid ",";\n  }\n  \n  &:visited {\n    color: initial;\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n"])),function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"#00643e"}),gg=Se.b.div(oh||(oh=Object(qe.a)(["\n  display: block;\n  color: inherit;\n"]))),vg=Se.b.p(ih||(ih=Object(qe.a)(["\n  margin: 5px;\n  font-weight: bold;\n  max-width: 300px;\n  color: inherit;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  line-clamp: 2;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 20px;\n"]))),bg=Se.b.p(ch||(ch=Object(qe.a)(["\n  margin: 5px;\n  font-size: 0.8rem;\n  text-transform: uppercase;\n  color: inherit;\n"]))),Ag=Se.b.svg(sh||(sh=Object(qe.a)(["\n  color: inherit;\n"]))),_g=Se.b.svg(lh||(lh=Object(qe.a)(["\n  color: inherit;\n  max-height: 48px;\n  width: auto;\n  \n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n"]))),xg=Se.b.div(dh||(dh=Object(qe.a)(["\n  flex: 4;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  gap: 10px;\n  color: inherit;\n"]))),wg=Se.b.div(uh||(uh=Object(qe.a)(["\n  flex: 1;\n  text-align: end;\n  color: inherit;\n"]))),yg=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:t.type,timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,items:t.items}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.getAssetUrl=function(e){return e},e.getBytes=function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":e<1099511627776?(e/1073741824).toFixed(1)+" GB":(e/1099511627776).toFixed(1)+" TB"},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"getFont",value:function(e){if(e)return e.replace(/\s/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.primary_color,s=r.padding_top,l=r.padding_bottom,d=r.font_family,u=r.items,m=void 0===u?[]:u;return D.a.createElement(mg,{ref:this.elementRef,tabIndex:"1",className:"".concat(o," ").concat(this.getFont(d)||""),backgroundColor:i,paddingTop:s,paddingBottom:l},n,D.a.createElement(pg,null,m.map(function(t){return D.a.createElement(hg,{key:t.id},D.a.createElement(fg,{tabIndex:"1",href:e.getAssetUrl(t.original_url),target:"_blank",primaryColor:c},D.a.createElement(xg,null,D.a.createElement(_g,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})),D.a.createElement(gg,null,D.a.createElement(vg,null,t.filename),D.a.createElement(bg,null,e.getBytes(t.size)))),D.a.createElement(wg,null,D.a.createElement(Ag,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32",height:"32"},D.a.createElement("path",{fill:"currentColor",d:"M17,13L12,18L7,13H10V9H14V13M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z"})))))})),a)}}]),n}(R.Component),kg=Se.b.div(mh||(mh=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),Eg=Se.b.div(ph||(ph=Object(qe.a)(["\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n"]))),Cg=Se.b.ul(hh||(hh=Object(qe.a)(["\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n"]))),jg=Se.b.li(fh||(fh=Object(qe.a)(["\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n"]))),Og=Se.b.div(gh||(gh=Object(qe.a)(["\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  text-align: center;\n  margin: 30px auto;\n"]))),Ig=Se.b.div(vh||(vh=Object(qe.a)(["\n  width: 100%;\n  height: 500px;\n  overflow: hidden;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    height: auto;\n    box-shadow: none\n  }\n"]))),qg=Se.b.img(bh||(bh=Object(qe.a)(["\n  width: 100%;\n  height: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n"]))),Sg=(Se.b.div(Ah||(Ah=Object(qe.a)(["\n  display: block;\n  margin-top: 10px;\n"]))),Se.b.div(_h||(_h=Object(qe.a)(["\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n"]))),Se.b.div(xh||(xh=Object(qe.a)(["\n  position: relative;\n  \n  .element-quote-6-text {\n    color: #fff;\n    margin-top: 30px;\n    width: 100%;\n    display: block;\n\n    @media (max-width: 600px) {\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n\n    .ql-editor {\n      padding: 0;\n      line-height: inherit;\n      overflow: hidden;\n    }\n\n    .ql-editor p:before,\n    .ql-editor p:after {\n      content: '\"';\n      color: #313537;\n      font-size: 16px;\n    }\n\n    .ql-editor * {\n      line-height: 150%;\n    }\n  }\n"]))),Se.b.div(wh||(wh=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n"])))),Tg=Se.b.div(yh||(yh=Object(qe.a)(["\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  \n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n"]))),Mg=Se.b.svg(kh||(kh=Object(qe.a)([""]))),zg=Se.b.div(Eh||(Eh=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n"]))),Lg=Se.b.div(Ch||(Ch=Object(qe.a)(["\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ",";\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n"])),function(e){return e.primaryColor||"#2d7b45"}),Bg=Se.b.div(jh||(jh=Object(qe.a)(["\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n"]))),Ng=Se.b.svg(Oh||(Oh=Object(qe.a)([""]))),Rg=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={avatar_size:"width",visibleSlideIndex:0,visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:"gallery-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,url:t.image}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.trackElementClick=function(t){var n=e.props.content,a={action:"click",element:"gallery-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:n.id,item_id:t}};void 0!==n.dam_assets&&n.dam_assets.length>0&&(a.assets=n.dam_assets),e.props.onTrackEvent(a)},e.getAssetUrl=function(e){return e},e.getFont=function(e){return e?e.replace(/\s/g,"-").toLowerCase():""},e.renderImage=function(t){return null!==t?D.a.createElement(Ig,{className:"element-gallery-1-image-container"},D.a.createElement(qg,{className:"element-gallery-1-image",src:e.getAssetUrl(t),alt:""})):null},e.handlePageChange=function(t){return function(n){var a=e.props.content.items;n.preventDefault();var r=document.getElementById(t),o=t.split("slide-")[1],i=a.find(function(e){return e.id===o}),c=a.indexOf(i);e.setState({visibleSlideIndex:c},function(){r.scrollIntoView(),r.focus()})}},e.handlePrevClick=function(t){var n=e.state.visibleSlideIndex;if(n>0){var a=n-1,r=e.props.content.items[a],o=document.getElementById("slide-".concat(r.id));o&&e.setState({visibleSlideIndex:a},function(){o.scrollIntoView(),o.focus()})}},e.handleNextClick=function(t){var n=e.state.visibleSlideIndex;if(n<e.props.content.items.length-1){var a=n+1,r=e.props.content.items[a],o=document.getElementById("slide-".concat(r.id));o&&e.setState({visibleSlideIndex:a},function(){o.scrollIntoView(),o.focus()})}},e.isInViewport=function(t,n){var a=n||t.target,r=a.getBoundingClientRect(),o=r.top>=0&&r.bottom<=window.innerHeight;return o&&(e.setActivePageMarker(a.id.split("slide-")[1]),e.trackElementClick(a.id.split("slide-")[1])),o},e.setActivePageMarker=function(t){var n=document.getElementById(e.getSlidePageId(t));n&&(e.resetActivePageMarkers(),n.classList.add("active"))},e.resetActivePageMarkers=function(){e.props.content.items.forEach(function(t){var n=document.getElementById(e.getSlidePageId(t.id));n&&n.classList.remove("active")})},e.getSlideId=function(e){return"slide-".concat(e)},e.getSlidePageId=function(e){return"page-".concat(e)},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.content.items;e.length>0&&this.setActivePageMarker(e[0].id)}},{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.primary_color,s=r.padding_top,l=r.padding_bottom,d=r.font_family,u=r.items,m=void 0===u?[]:u;return D.a.createElement(kg,{ref:this.elementRef,className:"".concat(o," ").concat(this.getFont(d)),backgroundColor:i,paddingTop:s,paddingBottom:l},n,D.a.createElement(Eg,{className:"element-gallery-1-carrousel"},D.a.createElement(Cg,{className:"element-gallery-1-slides"},m.map(function(t){return D.a.createElement(jg,{className:"element-gallery-1-slide",key:t.id,tabIndex:"1",id:e.getSlideId(t.id),onFocus:e.isInViewport},D.a.createElement(Og,{style:{borderColor:c}},e.renderImage(t.image)))}))),D.a.createElement(Sg,{className:"element-gallery-1-controls"},D.a.createElement(Tg,{onClick:this.handlePrevClick,className:"element-gallery-1-controls-left"},D.a.createElement(Mg,{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))),D.a.createElement(zg,{role:"list"},m.map(function(t,n){return D.a.createElement(Lg,{id:e.getSlidePageId(t.id),key:t.id,role:"listitem",onClick:e.handlePageChange(e.getSlideId(t.id)),primaryColor:c},n+1)})),D.a.createElement(Bg,{onClick:this.handleNextClick,className:"element-gallery-1-controls-right"},D.a.createElement(Ng,{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))),a)}}]),n}(R.Component),Dg=Se.b.div(Ih||(Ih=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"}),Qg=Se.b.ul(qh||(qh=Object(qe.a)(["\n  flex: 3;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 650px;\n  height: auto;\n"]))),Fg=Se.b.li(Sh||(Sh=Object(qe.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0;\n  \n  @media screen and (max-width: 649px) {\n    justify-content: center;\n    padding: 0 10px;\n  }\n"]))),Vg=Se.b.a(Th||(Th=Object(qe.a)(["\n  flex: 2;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: ",";\n  color: white;\n  transition: all 0.3s ease-out;\n  margin: 0 auto;\n  border: 0;\n  padding: 8px 30px;\n  font-weight: bold;\n  border-radius: 30px;\n  min-width: 200px;\n  max-width: 500px;\n  min-height: 50px;\n  font-size: 1em;\n  pointer-events: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  \n  &:hover {\n    filter: brightness(1.1);\n  }\n  \n  &:focus {\n    outline: 2px solid "," !important;\n    outline-offset: 2px;\n  }\n  \n  &:active {\n    background-color: ",";\n    filter: brightness(1.2);\n  }\n"])),function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"#00643e"},function(e){return e.primaryColor||"#00643e"}),Hg=Se.b.label(Mh||(Mh=Object(qe.a)(["\n  max-width: 400px;\n"]))),Pg=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).elementRef=D.a.createRef(),e.state={content:e.props.content,visible:!1},e.trackElementView=function(){var t=e.props.content,n=ne.visible(e.elementRef.current);if(e.state.visible!==n){if(!0===n){var a={action:"view",element:t.type,timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:t.id,element_title:t.content_title}};void 0!==t.dam_assets&&t.dam_assets.length>0&&(a.assets=t.dam_assets),e.props.onTrackEvent(a)}e.setState({visible:n})}},e.getFont=function(e){return e?e.replace(/\s/g,"-").toLowerCase():""},e.getDestinationUrl=function(e){switch(e.type){case"link":return e.destination;case"email":return"mailto:".concat(e.destination);default:return e.destination}},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.trackElementView()}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerActionsTemplate,a=t.footerActionsTemplate,r=t.content,o=t.className,i=r.background_color,c=r.primary_color,s=r.padding_top,l=r.padding_bottom,d=r.font_family,u=r.items,m=void 0===u?[]:u;return D.a.createElement(Dg,{ref:this.elementRef,className:"".concat(o," ").concat(this.getFont(d)||""),backgroundColor:i,paddingTop:s,paddingBottom:l},n,D.a.createElement(Qg,null,m.map(function(t){return D.a.createElement(Fg,{className:"element-button-1__button-item",key:t.id},D.a.createElement(Hg,{htmlFor:t.id,dangerouslySetInnerHTML:{__html:t.description}}),D.a.createElement(Vg,{className:"element-button-1__button",id:t.id,tabIndex:"1",href:e.getDestinationUrl(t),target:"_blank",primaryColor:c},t.label))})),a)}}]),n}(R.Component),Ug=Se.b.div(zh||(zh=Object(qe.a)(["\n  background-color: ",";\n  padding-top: ","px;\n  padding-bottom: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  \n  :root {\n    --primary-color: ",";\n  }\n"])),function(e){return e.backgroundColor||"#fff"},function(e){return e.paddingTop||"0"},function(e){return e.paddingBottom||"0"},function(e){return e.primaryColor||"#2d7b45"}),Kg=Se.b.ul(Lh||(Lh=Object(qe.a)(["\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Yg=Se.b.li(Bh||(Bh=Object(qe.a)(["\n  max-width: 800px;\n  min-width: 600px;\n  position: relative;\n"]))),Gg=Se.b.figure(Nh||(Nh=Object(qe.a)(["\n  min-height: 300px;\n  border-radius: 8px;\n  background-color: whitesmoke;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n"]))),Jg=Se.b.pre(Rh||(Rh=Object(qe.a)([""]))),Zg=Se.b.figcaption(Dh||(Dh=Object(qe.a)(["\n  margin-top: 10px;\n  width: 100%;\n  border-bottom: 1px solid #e6e6e6;\n  padding-bottom: 5px;\n"]))),Wg=Se.b.button(Qh||(Qh=Object(qe.a)(["\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n  \n  &:hover {\n    img {\n      filter: brightness(0.8);\n    }\n  }\n"]))),Xg=Se.b.img(Fh||(Fh=Object(qe.a)([""]))),$g=n(186),ev=n.n($g),tv=n(187),nv=n.n(tv),av=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).codeRef=D.a.createRef(),e.elementRef=D.a.createRef(),e.state={copied:!1,visible:!1},e.getCaptionAriaProps=function(e){var t=e.id;return{"aria-labelledby":"caption-".concat(t),"aria-describedby":"caption-".concat(t)}},e.getLabels=function(t){var n=e.props.contentLanguage;return({pt_br:{copy:"Copiar"},en:{copy:"Copy"}}[(void 0===n?"pt_br":n).toLowerCase()]||{})[t]||t},e.handleCopyItemCodeText=function(){var t=Object(W.a)(Z.a.mark(function t(n){return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!navigator||!navigator.clipboard){t.next=11;break}return t.prev=2,t.next=5,navigator.clipboard.writeText(e.codeRef.current.innerText);case 5:e.setState({copied:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.error("Failed to copy text: ",t.t0);case 11:case"end":return t.stop()}},t,null,[[2,8]])}));return function(e){return t.apply(this,arguments)}}(),e.getFont=function(e){return e?e.replace(/\s/g,"-").toLowerCase():""},e}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"code-snippet-1",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title,items:e.items}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.className,r=n.background_color,o=n.primary_color,i=n.padding_top,c=n.padding_bottom,s=n.font_family,l=n.items,d=void 0===l?[]:l,u=this.state.copied;return D.a.createElement(Ug,{ref:this.elementRef,className:"".concat(a," ").concat(this.getFont(s)),backgroundColor:r,paddingTop:i,paddingBottom:c,primaryColor:o},D.a.createElement(Kg,null,d.map(function(t){return D.a.createElement(Yg,{key:t.id,className:"element-snippet-1__snippet-item"},D.a.createElement(Wg,{tabIndex:"1",type:"button",onClick:e.handleCopyItemCodeText,title:e.getLabels("copy")},D.a.createElement(Xg,{src:u?nv.a:ev.a,width:"24",height:"24"})),D.a.createElement(Gg,Object.assign({id:"figure-".concat(t.id)},e.getCaptionAriaProps(t)),D.a.createElement(Jg,{ref:e.codeRef,dangerouslySetInnerHTML:{__html:t.code}})),t.caption.length>0&&D.a.createElement(Zg,{id:"caption-".concat(t.id),dangerouslySetInnerHTML:{__html:t.caption}}))})))}}]),n}(R.Component),rv=n(188),ov=(n(402),function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).elementRef=D.a.createRef(),a.state={visible:!1},a}return Object(P.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.trackElementView()}},{key:"trackElementView",value:function(){var e=this.props.content,t=ne.visible(this.elementRef.current);if(this.state.visible!==t){if(!0===t){var n={action:"view",element:"3d",timestamp:Math.floor(Date.now()/1e3),metadata:{composition_uid:window.structure.metadata.content_uid,element_id:e.id,element_title:e.content_title}};void 0!==e.dam_assets&&e.dam_assets.length>0&&(n.assets=e.dam_assets),this.props.onTrackEvent(n)}this.setState({visible:t})}}},{key:"render",value:function(){var e=this.props,t=e.headerActionsTemplate,n=e.footerActionsTemplate,a=e.content,r={backgroundColor:a.background_color,paddingTop:a.padding_top+"px",paddingBottom:a.padding_bottom+"px"};return D.a.createElement("div",{ref:this.elementRef,className:this.props.className,style:r},D.a.createElement(rv.a,null,D.a.createElement("script",{type:"module",src:"https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"})),t,D.a.createElement("model-viewer",{class:"element-3d-area",src:a.file,"shadow-intensity":"1",ar:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,"touch-action":"pan-y",alt:"A 3D model carousel"},D.a.createElement("button",{slot:"ar-button",id:"ar-button"},"Visualizar no ambiente")),n)}}]),n}(R.Component)),iv=n(56),cv=n.n(iv),sv=n(60),lv=n.n(sv);var dv=Se.b.div(Vh||(Vh=Object(qe.a)(["\n  position: relative;\n  overflow-x: hidden;\n  \n  &:hover {\n    div.interaction-monitor-status-container {\n      opacity: 1;\n      pointer-events: auto;\n    }\n  }\n"]))),uv=Se.b.div(Hh||(Hh=Object(qe.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.44);\n  color: rgba(0, 0, 0, 0.66);\n  z-index: 9999;\n  opacity: 0.8;\n  pointer-events: none;\n  transition: all 0.3s ease-in-out;\n  border-radius: 25%;\n  cursor: pointer;\n"]))),mv=Se.b.div(Ph||(Ph=Object(qe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 3px;\n"]))),pv=Se.b.span(Uh||(Uh=Object(qe.a)(["\n"])));function hv(e){var t=e.children,n=e.content,a=e.objectInteractionMonitor,r=Object(R.createRef)(),o=ud(r),i=D.a.useState(!1),c=Object(Rt.a)(i,2),s=c[0],l=c[1],d=D.a.useState(!1),u=Object(Rt.a)(d,2),m=u[0],p=u[1],h=D.a.useState(null),f=Object(Rt.a)(h,2),g=f[0],v=f[1];D.a.useEffect(function(){b()},[o]),D.a.useEffect(function(){!s&&n&&"required_interaction"in n&&n.required_interaction&&l(!0)},[n]),D.a.useEffect(function(){if(s&&a){void 0!==a.completedObjects.find(function(e){return e.id===n.id})&&p(!0);var e=a.interactionActionsCount.find(function(e){return e.element_id===n.id});e&&g&&e.interactions>g.interactions?v(e):e&&null===g&&v(e)}},[s,a.completedObjects,a.interactionActionsCount]);var b=function(){if(o){var e={action:"view",element:n.type,timestamp:Math.floor(Date.now()/1e3),metadata:{element_id:n.id,element_title:n.content_title}};void 0!==n.dam_assets&&n.dam_assets.length>0&&(e.assets=n.dam_assets),a.onObjectInteractionEvent(e)}};return D.a.createElement(D.a.Fragment,null,D.a.createElement(dv,{ref:r},n&&"show_interaction_progress"in n&&n.show_interaction_progress&&D.a.createElement(uv,{className:"interaction-monitor-status-container",title:"progress"},s&&D.a.createElement(D.a.Fragment,null,m?D.a.createElement(D.a.Fragment,null,D.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M15.5,8.5L10.62,13.38L8.5,11.26L7.44,12.32L10.62,15.5L16.56,9.56L15.5,8.5M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37Z"}))):D.a.createElement(D.a.Fragment,null,D.a.createElement(mv,null,null!==g&&!g.finished&&g.interactions?D.a.createElement(pv,null,g.interactions,"/",g.total):null,D.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},D.a.createElement("path",{fill:"currentColor",d:"M13,2V4C17.39,4.54 20.5,8.53 19.96,12.92C19.5,16.56 16.64,19.43 13,19.88V21.88C18.5,21.28 22.45,16.34 21.85,10.85C21.33,6.19 17.66,2.5 13,2M11,2C9.04,2.18 7.19,2.95 5.67,4.2L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.24,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.06,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37H7.06M13,13V7H11V13H13M13,17V15H11V17H13Z"})))))),t))}var fv=function(e,t){var n=0;return function(){var a=(new Date).getTime();if(a-n>t)return n=a,e.apply(void 0,arguments)}};var gv,vv=["children","elementId","scrollToId"],bv=function(e){var t=e.children,n=e.elementId,a=e.scrollToId,r=Object($.a)(e,vv);return n===a?t:D.a.createElement(te.a,r,t)},Av=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).scrollTo=function(e){var t=document.getElementById(e);null!==t?(window.scrollTo(t.offsetLeft,t.offsetTop-70),a.setState({need_scroll_to_element_id:null})):(a.observer&&a.observer.disconnect(),a.observer=new MutationObserver(function(){var t=document.getElementById(e);null!==t&&(a.observer.disconnect(),window.scrollTo(t.offsetLeft,t.offsetTop-70)),a.setState({need_scroll_to_element_id:null})}),a.observer.observe(document,{subtree:!0,childList:!0}))},a.handleRedirectObject=Object(W.a)(Z.a.mark(function e(){var t,n,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.getAPIHandle(),n="",null!=t&&t.LMSInitialize(""),null!=t){r=t.LMSGetValue("cmi.suspend_data");try{r=JSON.parse(r),(n=cv.a.unpack(r))&&a.redirectToObject(n)}catch(o){console.error(o)}}case 4:case"end":return e.stop()}},e)})),a.handleLoad=function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,r,o,i,c;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.getAPIHandle(),r="",o={contentReady:!0,scormAPI:n},null!=n&&n.LMSInitialize(""),null!=n&&null==a.state.lessionStatus){i=n.LMSGetValue("cmi.core.lesson_status"),c=n.LMSGetValue("cmi.suspend_data");try{c=JSON.parse(c),r=cv.a.unpack(c)}catch(t){console.error(t)}o.lessionStatus=i,o.suspendData=r}a.setState(o);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleScroll=function(e){var t=a.state,n=t.renderCompleted,r=t.timerStart,o=t.progressPage;if(n){var i=window.scrollY,c=document.body.offsetHeight-window.innerHeight,s=parseInt(String(i/c*100));a.setState({scrollPage:i}),c<=0&&(s=100),o&&o>=s||a.setState({scrollPage:i,progressPage:s,sessionTimer:a.MillisecondsToCMIDuration(Math.floor((Date.now()-r)/1e3))})}},a.suspendDataIsValid=function(e){try{if(!e)return!1;if("object"==typeof e)return void 0==e.elements&&(e.elements={}),!0;JSON.parse(e)}catch(t){return!1}return!0},a.prepareSuspendData=function(e,t){var n=a.state.suspendData;return a.suspendDataIsValid(n)||(n={elements:{}}),Array.isArray(n)&&(n=cv.a.unpack(n)),Object.keys(n).includes("elements")||(n.elements=[]),n.elements[e.id]={answers:t},n},a.suspendDataUpdate=function(e,t){var n=Object(X.a)(a),r=a.state.timerStart,o=a.prepareSuspendData(e,t);a.setState({sessionTimer:n.MillisecondsToCMIDuration(Math.floor((Date.now()-r)/1e3)),suspendData:o,quizUpdated:!0})},a.suspendDataFinish=function(e,t){var n=a.state.suspendData;a.suspendDataIsValid(n)||(n={elements:{}}),n.elements[e.id]=Object(G.a)(Object(G.a)({},n.elements[e.id]||{}),t),a.setState({suspendData:n})},a.recoverObjects=Object(W.a)(Z.a.mark(function e(){var t,n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==(t=window.cstmptns)){e.next=4;break}return e.abrupt("return");case 4:return n=t.interaction_uid,a=t.activity_uid,e.next=7,et.cms.learning.interaction.uid(n).recoverObject({context_uid:a},t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.loadRequiredObjectsState=function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,r,o,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="required_interaction"in t&&t.required_interaction,r=t.structure.filter(function(e){return n&&"virtual-index-1"!==e.type||"required_interaction"in e&&!0===e.required_interaction}),e.next=4,a.recoverObjects();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:o=e.t0,i=[],o&&o.length>0&&r.forEach(function(e,t){o.find(function(t){return t.target_uid===e.id&&"completed"in t.object_data.data&&!0===t.object_data.data.completed})&&i.push(e)}),a.props._objectInteractionMonitor.setCompleted(i.length===r.length),a.props._objectInteractionMonitor.setCompletedObjects(i),a.props._objectInteractionMonitor.setRequiredObjects(r);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateCurrentObjectOnSuspendData=function(e){var t=a.state.need_scroll_to_element_id;if("object"===typeof e&&"view"===e.action&&null===t&&"metadata"in e&&"element_id"in e.metadata){var n=a.state.suspendData;if("object"===typeof n&&"progress"in n){var r=n.progress;r.current_object_id=e.metadata.element_id,a.setState({suspendData:Object(G.a)(Object(G.a)({},n),{},{progress:r}),current_object_id:e.metadata.element_id},function(){a.notifySummaryUpdated(e.metadata.element_id)})}else a.setState({suspendData:Object(G.a)(Object(G.a)({},n),{},{progress:{current_object_id:e.metadata.element_id}}),current_object_id:e.metadata.element_id},function(){a.notifySummaryUpdated(e.metadata.element_id)})}},a.observer=null,a.state={renderCompleted:!1,protocol:null,events:[],contentReady:!1,composition:null,scormAPI:null,scrollPage:null,progressPage:0,timer:0,scrollToEnd:!1,prerequisites:null,lessionStatus:null,scoreQuizzes:[],suspendData:{elements:{}},score:void 0,summary_items:null,summary_items_current:null,summary_items_render:!1,show_summary:null,finish_btn:null,can_track_object:!1,need_scroll_to_element_id:null},lv.a.insights.createXapiTracking({endpoint:"-",auth:"-"}),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){if(window.document){this.handleRedirectObject();for(var e=window.document.getElementsByTagName("a"),t=function(t){var n=e[t];n.addEventListener("click",function(){var e=n.href;e&&(window.cordova?window.CordovaExec(function(){},"ShelfPlugin","OpenUrl",[e]):window.open(e,"_blank"))}),n.href="#"},n=0;n<e.length;n++)t(n)}this.setState({timerStart:Date.now()}),this.handleScroll()}},{key:"componentWillMount",value:function(){var e=Object(W.a)(Z.a.mark(function e(){var t,n,a,r,o,i,c,s,l,d;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof String.prototype.replaceAll&&(String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),function(){return t})}),this.initListeners(),!window.structure){e.next=5;break}return this.loadStructure(window.structure,null),e.abrupt("return");case 5:if(-1!=window.location.search.indexOf("?custom_options=")){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,fetch("./api_context.json");case 9:return e.next=11,e.sent.json();case 11:t=e.sent,n=window.location.search.split("?")[1].split("&"),a=null,e.t0=Z.a.keys(n);case 15:if((e.t1=e.t0()).done){e.next=24;break}if(r=e.t1.value,o=n[r],"custom_options"!=(i=o.split("="))[0]){e.next=22;break}return a=i[1],e.abrupt("break",24);case 22:e.next=15;break;case 24:if(c=JSON.parse(atob(a)),window.cstmptns=c,!c.content_uid){e.next=35;break}return s="https://".concat(t.domain,"/storage/v1.0/content?uid=").concat(c.content_uid,"&api_env=").concat(t.api_env,"&access_token=").concat(c.access_token,"&project_key=").concat(t.project_key),e.next=30,fetch(s);case 30:return l=e.sent,e.next=33,l.json();case 33:d=e.sent,this.loadStructure(d,t,c);case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.progressPage,r=(n.scrollPage,n.lessionStatus),o=(n.timerStart,n.sessionTimer,n.scrollToEnd),i=n.suspendData,c=n.prerequisites,s=n.quizUpdated,l=n.summary_items,d=n.finish_btn,u=n.summary_items_current;if(t.renderCompleted!=this.state.renderCompleted&&this.handleScroll(),a>1&&"not attempted"==r&&this.setState({lessionStatus:"incomplete"}),t.summary_items_current!=u&&this.notifySummaryUpdated(),t.suspendData!=this.state.suspendData&&this.notifySuspendDataUpdated(),t.sessionTimer!=this.state.sessionTimer&&this.notiftSessionUpdated(),t.progressPage!=this.state.progressPage&&this.notiftLocationUpdated(),t.lessionStatus!=this.state.lessionStatus&&(this.notifyStatusUpdated(),this.notifyCommit()),t.contentReady!=this.state.contentReady&&this.notifyProtocol(),null!==l&&l.length>0){if(null!==this.nextIndex())return}else if(a<90)return;if(o||this.setState({scrollToEnd:!0}),c&&c.quizzes&&c.quizzes.length>0){if(!s)return;var m=-1===c.quizzes.findIndex(function(e){return!i||!i.elements[e]||!i.elements[e].finished}),p={lessionStatus:m?"passed":"incomplete",quizUpdated:!1};m&&(p.score=c.quizzes.reduce(function(e,t){return e+i.elements[t].score},0)/c.quizzes.length),this.setState(p)}else"completed"!==r&&(this.props._objectInteractionMonitor.requiredObjects.length>0?this.props._objectInteractionMonitor.completed&&this.finishActivity():null!==d&&void 0!==d&&"disabled"!==d||this.setState({lessionStatus:"completed",quizUpdated:!1}))}},{key:"initListeners",value:function(){window.addEventListener("scroll",fv(this.handleScroll,500)),window.addEventListener("resize",fv(this.handleScroll,500)),window.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",fv(this.handleScroll,500)),window.removeEventListener("resize",fv(this.handleScroll,500)),window.removeEventListener("load",this.handleLoad),this.observer&&this.observer.disconnect()}},{key:"redirectToObject",value:function(e){var t=this;"object"===typeof e&&e.progress&&(this.setState({summary_items_current:e.progress.current_summary_item}),"current_object_id"in e.progress&&this.setState({can_track_object:!0,need_scroll_to_element_id:e.progress.current_object_id},function(){t.scrollTo(e.progress.current_object_id)})),this.setState({can_track_object:!0})}},{key:"MillisecondsToCMIDuration",value:function(e){var t="",n=new Date;n.setTime(e);var a="000"+Math.floor(e/36e5),r="0"+n.getMinutes(),o="0"+n.getSeconds(),i="0"+Math.round(n.getMilliseconds()/10);return t=a.substr(a.length-4)+":"+r.substr(r.length-2)+":",t+=o.substr(o.length-2)+"."+i.substr(i.length-2)}},{key:"sendStructurePostMessage",value:function(e){this.sendPostMessage({type:"interaction",rdp_composer_structure:e})}},{key:"sendPostMessage",value:function(e){window.parent&&window.parent.postMessage(e,"*")}},{key:"hasIndex",value:function(e){return e.structure.filter(function(e){return"virtual-index-1"===e.type}).length>0}},{key:"loadStructure",value:function(){var e=Object(W.a)(Z.a.mark(function e(t,n,a){var r,o,i,c,s,l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.adjustStructure(n,t,a),this.loadRequiredObjectsState(t),this.sendStructurePostMessage(t),t&&"interface"in t&&"gtm_container_id"in t.interface&&this.props._GTM.initialize(t.interface.gtm_container_id),window.structure=t,this.hasIndex(t)){for(r=t.structure,o=[],i=0;i<r.length;i++)"virtual-index-1"===(c=r[i]).type?(c.children=[],o.push(c)):c&&(s=o[o.length-1])&&s.children&&s.children.push(c.id);l=r.filter(function(e){return"virtual-index-1"===e.type}),this.setState({summary_items:l||r,summary_items_current:l[0]||r[0],show_summary:t.interface.show_summary})}this.setState({context:n,composition:t,prerequisites:{quizzes:t.structure.filter(function(e){return["quiz-1","quiz-2","quiz-5"].includes(e.type)}).filter(function(e){return"with_finish_and_minimum_score"===e.scorm_progress_count||"with_finish_without_minimum_score"===e.scorm_progress_count}).map(function(e){return e.id})||[]},scoreQuizzes:t.structure.filter(function(e){return e.utilization&&e.utilization.enabled}).map(function(e){return e.id}),finish_btn:t.interface.finish_btn});case 8:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"adjustStructure",value:function(e,t,n){if(!t.assets)return t;var a=JSON.stringify(t),r=n?n.access_token:"",o=[],i=function(n){var i=t.assets[n];return-1==i.indexOf("/content")||-1==i.indexOf("/storage/v")?"continue":o.find(function(e){return e==i})?"continue":(s=i.substr(i.length-20),l=s,-1==i.indexOf("access_token")&&(l+="&access_token=".concat(r)),-1==i.indexOf("api_env")&&"production"!=e.api_env.toLowerCase()&&(l+="&api_env=".concat(e.api_env)),-1==i.indexOf("project_key")&&(l+="&project_key=".concat(e.project_key)),a=a.replaceAll("".concat(s,'"'),"".concat(l,'"')),void o.push(i))};for(var c in t.assets){var s,l;i(c)}return(t=JSON.parse(a)).structure.map(function(e){e.questions&&(void 0!==e.random_question_order&&!0===e.random_question_order.enabled&&e.questions.sort(function(e,t){return Math.floor(2*Math.random())+-1}),e.questions.map(function(t){t.answered=!1;var n=void 0!==e.random_order&&!0===e.random_order.enabled;t.choices&&n&&t.choices.sort(function(e,t){return Math.floor(2*Math.random())+-1})}))}),t}},{key:"notifySummaryUpdated",value:function(e){var t=this.state,n=t.summary_items_current,a=t.suspendData,r=t.scormAPI;a||(a={}),a.progress||(a.progress={}),a.progress.current_summary_item=n,e&&(a.progress.current_object_id=e);var o=JSON.stringify(cv.a.pack(a));this.sendPostMessage({type:"scorm",action:"cmi.suspend_data",value:o}),r&&r.LMSSetValue("cmi.suspend_data",o)}},{key:"notifyStatusUpdated",value:function(){var e=this.state,t=e.scormAPI,n=e.lessionStatus,a=e.score;void 0!==a&&(this.sendPostMessage({type:"scorm",action:"cmi.core.score.max",value:100}),this.sendPostMessage({type:"scorm",action:"cmi.core.score.raw",value:a})),this.sendPostMessage({type:"scorm",action:"cmi.core.lesson_status",value:n}),t&&(t.LMSSetValue("cmi.core.lesson_status",n),void 0!==a&&(t.LMSSetValue("cmi.core.score.raw",a),t.LMSSetValue("cmi.core.score.max",100)))}},{key:"notifySuspendDataUpdated",value:function(){var e=this.state,t=e.scormAPI,n=e.suspendData,a=JSON.stringify(cv.a.pack(n));this.sendPostMessage({type:"scorm",action:"cmi.suspend_data",value:a}),t&&t.LMSSetValue("cmi.suspend_data",a)}},{key:"notiftSessionUpdated",value:function(){var e=this.state,t=e.scormAPI,n=e.sessionTimer;this.sendPostMessage({type:"scorm",action:"cmi.core.session_time",value:n}),t&&t.LMSSetValue("cmi.core.session_time",n)}},{key:"notiftLocationUpdated",value:function(){var e=this.state,t=e.scormAPI,n=e.progressPage,a=String(n);this.sendPostMessage({type:"scorm",action:"cmi.core.lesson_location",value:a}),t&&t.LMSSetValue("cmi.core.lesson_location",a)}},{key:"notifyCommit",value:function(){this.sendPostMessage({type:"scorm",action:"cmi.commit"});var e=this.state.scormAPI;e&&e.LMSCommit()}},{key:"notifyProtocol",value:function(){this.sendPostMessage({type:"communication",status:"established"})}},{key:"transformFontToSlug",value:function(e){return e.replace(/\s/g,"-").toLowerCase()}},{key:"trackEvent",value:function(e){if(this.props._objectInteractionMonitor.onObjectInteractionEvent(e),this.props._GTM.addDataLayerEvent(e),this.updateCurrentObjectOnSuspendData(e),e.type||(e.type="xapi"),window.customListenerTrack&&window.customListenerTrack.postMessage&&window.customListenerTrack.postMessage(e),this.sendPostMessage(e),"/userlog"===this.props.match.path){var t=this.state.events;t.unshift(e),this.setState({events:t})}}},{key:"toggleIndexMenu",value:function(){this.setState({summary_items_render:!this.state.summary_items_render})}},{key:"changeIndexItemsCurrent",value:function(e){this.setState({summary_items_render:!1,summary_items_current:e},function(){window.scrollTo(0,0)})}},{key:"prevIndex",value:function(){var e=null,t=this.state.summary_items,n=this.state.summary_items_current;if(t)for(var a=0;a<t.length;a++)t[a].id===n.id&&a>0&&(e=t[a-1]);return e}},{key:"nextIndex",value:function(){var e=null,t=this.state.summary_items,n=this.state.summary_items_current;if(t)for(var a=0;a<t.length;a++)t[a].id===n.id&&void 0!==t[a+1]&&(e=t[a+1]);return e}},{key:"lastIndex",value:function(){var e=this.state.summary_items,t=this.state.summary_items_current;return e?e[e.length-1].id===t.id&&"enabled"===this.state.finish_btn:"enabled"===this.state.finish_btn}},{key:"finishActivity",value:function(){this.setState({lessionStatus:"completed",quizUpdated:!1})}},{key:"getElementIndexByType",value:function(e){for(var t=0,n=this.state.composition.structure.filter(function(t){return t.type===e.type}),a=0;a<n.length;a++)n[a].id===e.id&&(t=a);return t}},{key:"getTemplate",value:function(){var e=this,t=this;if(null==this.state.composition)return null;var n=this.state.composition.interface,a=this.state.composition.structure;if(this.state.summary_items){var r=this.state.summary_items_current.children;a=this.state.composition.structure.filter(function(e){return r.includes(e.id)}),this.nextIndex()}return D.a.createElement("div",{className:"rdp-composer-player-container ".concat("enabled"===this.state.show_summary?"has-header":""," ").concat(t.transformFontToSlug(n.font_family)," ").concat("/userlog"===t.props.match.path?"userlog":"")},"enabled"===this.state.show_summary&&D.a.createElement("div",{className:"rdp-composer-player-header"},D.a.createElement("span",{className:"rdp-composer-player-header-title"},this.state.composition.metadata.title),D.a.createElement("span",{className:"rdp-composer-player-header-index-menu-btn",onClick:function(){return e.toggleIndexMenu()}},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"512",height:"512",viewBox:"0 0 512 512"},D.a.createElement("path",{fill:"#3f3f3f",d:"M112 160h288c8.833 0 16-7.167 16-16s-7.167-16-16-16h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16zM400 192h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 256h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 320h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16z"})))),this.state.summary_items_render&&D.a.createElement("ul",{className:"rdp-composer-player-index-menu"},this.state.summary_items.map(function(e,n){return D.a.createElement("li",{key:n,className:"rdp-composer-player-index-menu-item ".concat(e.id===t.state.summary_items_current.id?"active":""),onClick:function(){return t.changeIndexItemsCurrent(e)}},D.a.createElement("span",{className:"rdp-composer-player-index-menu-item-bullet"},n+1),D.a.createElement("span",{className:"rdp-composer-player-index-menu-item-title"},e.title),null!==e.duration&&""!==e.duration&&D.a.createElement("span",{className:"rdp-composer-player-index-menu-item-duration"},e.duration))})),D.a.createElement("div",{className:"rdp-composer-player-objects"},null!==this.prevIndex()&&D.a.createElement("div",{className:"rdp-composer-player-prev-btn",onClick:function(){return e.changeIndexItemsCurrent(e.prevIndex())}},D.a.createElement("span",{className:"rdp-composer-player-prev-btn-icon"}),D.a.createElement("span",{className:"rdp-composer-player-prev-btn-label"},this.prevIndex().title)),a.map(function(a,r){var o=a.type;return"head-1"===o?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(re,{key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"text-1"===o||"text-2"===o||"text-3"===o||"text-4"===o||"text-5"===o||"text-7"===o?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(oe,{key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},backgroundColor:a.background_color,paddingTop:a.padding_top,paddingBottom:a.padding_bottom}))):"text-two-column"===o?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ie,{key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},backgroundColor:a.background_color,paddingTop:a.padding_top,paddingBottom:a.padding_bottom}))):"list-1"===o||"list-2"===o||"list-3"===o?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ce,{key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},backgroundColor:a.background_color,paddingTop:a.padding_top,paddingBottom:a.padding_bottom}))):"image-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(de,{className:"element-image-1",key:r,content:a,context:t.state.context,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"image-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(de,{className:"element-image-2",key:r,content:a,context:t.state.context,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"image-and-text"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(me,{className:"element-image-and-text",key:r,content:a,context:t.state.context,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"image-with-text"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(pe,{className:"element-image-with-text",key:r,content:a,context:t.state.context,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"audio-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(he,{className:"element-audio-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"video-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(we,{className:"element-video-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"accordion"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ye,{className:"element-accordion",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"tabs"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Ce,{className:"element-tabs",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"iframe"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(je,{className:"element-iframe",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"flashcards-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Oe,{className:"element-flashcards-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"flashcards-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Ke,{className:"element-flashcards-2",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quiz-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(rt,{className:"element-quiz-1",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"quiz-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ct,{className:"element-quiz-2",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"quiz-3"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ug,{className:"element-quiz-3",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"quiz-4"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Zr,{className:"element-quiz-4",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"quiz-5"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(fc,{className:"element-quiz-5",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"quiz-6"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Ds,{className:"element-quiz-6",key:r,content:a,contentLanguage:n.content_language,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},defaultData:t.state.suspendData,handleComplete:t.suspendDataUpdate,handleFinish:t.suspendDataFinish}))):"images-gallery"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(rl,{key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"forum-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(qm,{className:"element-forum-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"divider-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Sm,{className:"element-divider-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"divider-4"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Tm,{className:"element-divider-4",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"divider-numbered"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Mm,{className:"element-divider-numbered",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)},objectIndex:t.getElementIndexByType(a)}))):"hotspots-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Zh,{className:"element-hotspots-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"statement-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Wh,{className:"element-statement-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"statement-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Xh,{className:"element-statement-2",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"statement-3"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement($h,{className:"element-statement-3",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"statement-4"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ef,{className:"element-statement-4",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"gallery-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Rg,{className:"element-gallery-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"note-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(tf,{className:"element-note-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(nf,{className:"element-quote-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(af,{className:"element-quote-2",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-3"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(rf,{className:"element-quote-3",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-4"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(of,{className:"element-quote-4",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-5"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(cf,{className:"element-quote-5",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"quote-6"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Cf,{className:"element-quote-6",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"sorted-activity-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Rf,{className:"element-sorted-activity-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"timeline-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Yf,{className:"element-timeline-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"steps-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(lg,{className:"element-steps-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"attachment-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(yg,{className:"element-attachment-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"button-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Pg,{className:"element-button-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"button-2"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(Pg,{className:"element-button-2",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"snippet-1"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(av,{className:"element-snippet-1",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):"3d"===a.type?D.a.createElement(bv,{elementId:a.id,scrollToId:e.state.need_scroll_to_element_id,key:r,once:!0,offset:100},D.a.createElement(hv,{objectInteractionMonitor:e.props._objectInteractionMonitor,content:a},D.a.createElement(ov,{className:"element-3d",key:r,content:a,scrolling:t.state.scrollPage,onTrackEvent:function(e){return t.trackEvent(e)}}))):void 0}),null!==this.nextIndex()&&D.a.createElement("div",{className:"rdp-composer-player-next-btn",onClick:function(){return e.changeIndexItemsCurrent(e.nextIndex())}},D.a.createElement("span",{className:"rdp-composer-player-next-btn-label"},this.nextIndex().title),D.a.createElement("span",{className:"rdp-composer-player-next-btn-icon"})),this.lastIndex()&&D.a.createElement(D.a.Fragment,null,"passed"!==this.state.lessionStatus&&"completed"!==this.state.lessionStatus&&D.a.createElement("div",{className:"rdp-composer-player-next-btn",onClick:function(){return e.finishActivity()}},D.a.createElement("span",{className:"rdp-composer-player-next-btn-label"},"Concluir"),D.a.createElement("span",{className:"rdp-composer-player-next-btn-icon"})),("passed"===this.state.lessionStatus||"completed"===this.state.lessionStatus)&&D.a.createElement("div",{className:"rdp-composer-player-done-btn",onClick:function(){return e.finishActivity()}},D.a.createElement("span",{className:"rdp-composer-player-done-btn-label"},"Conclu\xeddo"),D.a.createElement("span",{className:"rdp-composer-player-done-btn-icon"})))))}},{key:"renderUserLog",value:function(){if("/userlog"===this.props.match.path)return D.a.createElement(Vs,{events:this.state.events})}},{key:"render",value:function(){var e=this,t=this.getTemplate();return null==t||this.state.renderCompleted||setTimeout(function(){e.setState({renderCompleted:!0})},1e3),D.a.createElement("div",{className:"rdp-composer-player-home"},t,this.renderUserLog())}}]),n}(R.Component),_v=function(e){return function(t){return D.a.createElement(D.a.Fragment,null,D.a.createElement(e,Object.assign({},t,{_GTM:{initialize:function(e){if("string"===typeof e&&e.length>0){var t=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0];if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),null===document.getElementById("gtm-script-".concat(e))){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id=".concat(e),a.setAttribute("id","gtm-script-".concat(e)),t.insertAdjacentElement("afterbegin",a)}if(null===document.getElementById("gtm-noscript-".concat(e))){var r=document.createElement("noscript"),o=document.createElement("iframe");o.src="https://www.googletagmanager.com/ns.html?id=".concat(e),o.height="0",o.width="0",o.style.display="none",o.style.visibility="hidden",r.appendChild(o),r.setAttribute("id","gtm-noscript-".concat(e)),n.insertAdjacentElement("afterbegin",r)}}},addDataLayerEvent:function(e){window.dataLayer&&window.dataLayer.push(Object(G.a)(Object(G.a)({},e),{},{event:(e.action?e.action:"")+(e.verb?"."+e.verb:"")+(e.element?"."+e.element:"")}))}}})))}}((gv=Av,function(e){var t=D.a.useState([]),n=Object(Rt.a)(t,2),a=n[0],r=n[1],o=D.a.useState([]),i=Object(Rt.a)(o,2),c=i[0],s=i[1],l=D.a.useState([]),d=Object(Rt.a)(l,2),u=d[0],m=d[1],p=D.a.useState(!1),h=Object(Rt.a)(p,2),f=h[0],g=h[1],v=D.a.useState([]),b=Object(Rt.a)(v,2),A=b[0],_=b[1];D.a.useEffect(function(){k()},[u,a,f]);var x=function(e,t){var n=e.metadata,r=e.action,o=n.element_id,i=a.find(function(e){return e.id===o}),c=u.find(function(e){return e.id===o});if(!i||!c){var s=0;if(i)switch(i.type){case"flashcards-1":case"flashcards-2":case"steps-1":case"accordion":case"quote-6":case"list-2":case"tabs":case"gallery-1":var l=t.filter(function(e){return e.metadata.element_id===o&&"view"===e.action}),d=t.filter(function(e){return e.metadata.element_id===o&&"click"===e.action}),m=i.items.filter(function(e){return d.find(function(t){return t.metadata.item_id===e.id})})||[],p=i.items.length;"tabs"!==i.type&&"quote-6"!==i.type&&"gallery-1"!==i.type&&"steps-1"!==i.type||(m.push(i.items[0]),p-=1,s-=1);var h=i.items.filter(function(e){return void 0!==d.find(function(t){return t.metadata.item_id===e.id})}).length===p;m.length>0&&(s+=m.length);var f={element_id:o,interactions:s,total:p};l&&h&&(y(i),f.finished=!0),_([].concat(Object(Ie.a)(A.filter(function(e){return e.element_id!==o})),[f]));break;case"sorted-activity-1":case"audio-1":case"video-1":t.filter(function(e){return e.metadata.element_id===o&&"click"===e.action&&"ended"===e.verb}).length>0&&y(i);break;case"quiz-1":case"quiz-2":case"quiz-3":case"quiz-4":case"quiz-5":case"quiz-6":case"quiz-only-choice-result":var g=["quiz-only-choice-result","quiz-multiple-choice-result","quiz-fill-the-blankfeedback","quiz-match-feedback","quiz-essay-result","quiz-mixed-result"];t.filter(function(e){return e.metadata.element_id===o&&"view"===e.action&&g.includes(e.element)}).length>0&&y(i);break;default:"view"===r&&y(i)}}},w=function(e,t){try{var n=(window.cstmptns||{}).activity_uid;window.parent&&window.parent.postMessage({type:"app_player",action:e,value:t,activity_uid:n},"*")}catch(a){console.log("Error sending message to player",a)}},y=function(){var e=Object(W.a)(Z.a.mark(function e(t){var n,a,r,o,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m([].concat(Object(Ie.a)(u.filter(function(e){return e.id!==t.id})),[t]));try{n=window.cstmptns||{},a=n.interaction_uid,r=n.activity_uid,a&&(o=c.filter(function(e){return e.metadata.element_id===t.id}),i=A.find(function(e){return e.element_id===t.id}),et.cms.learning.interaction.uid(a).createObject({context_uid:r,type:t.type,target_uid:t.id,object_data:{events:o,interactions:i,completed:!0},score:"100"},window.cstmptns))}catch(s){console.log("Error sending object interaction",s)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){!f&&a.length>0&&a.length===u.length?(g(!0),w("interaction.progress",{required_objects:a.length,completed_objects:u.length,completed:!0})):w("interaction.progress",{required_objects:a.length,completed_objects:u.length,completed:!1})};return D.a.createElement(D.a.Fragment,null,D.a.createElement(gv,Object.assign({},e,{_objectInteractionMonitor:{onObjectInteractionEvent:function(e){var t=[].concat(Object(Ie.a)(c),[e]);s(t),x(e,t)},setRequiredObjects:r,requiredObjects:a,completed:f,completedObjects:u,setCompletedObjects:m,interactionActionsCount:A,setCompleted:g}})))})),xv=n(191),wv=n.n(xv);n(467);window.katex=wv.a;var yv=function(e){Object(U.a)(n,e);var t=Object(K.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object(P.a)(n,[{key:"render",value:function(){return D.a.createElement("div",{id:"root",className:"rdp-composer-player"},D.a.createElement(Y.a,{exact:!0,path:"/",component:_v}),D.a.createElement(Y.a,{exact:!0,path:"/userlog",component:_v}))}}]),n}(R.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));F.a.render(D.a.createElement(V.a,null,D.a.createElement(yv,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,n){e.exports=n.p+"static/media/icon-search.b13c6094.svg"},53:function(e,t,n){e.exports=n.p+"static/media/close.118d1d00.svg"}},[[198,1,2]]]);
//# sourceMappingURL=main.359f072b.chunk.js.map