{"version":3,"sources":["fragments/element-quiz-match-line/drag.svg","components/element-quiz-5/icon-preloader.gif","components/element-quiz-6/icon-preloader.gif","components/element-forum-1/icon-preloader.gif","components/element-code-snippet-1/copy.svg","components/element-code-snippet-1/check-circle.svg","views/home/image-1.jpg","views/home/image-2.jpg","views/home/image-3.jpg","views/home/image-4.jpg","views/home/image-5.jpg","views/home/image-6.jpg","utils/visible-element.js","utils/string-format.js","components/element-head-1/element-head-1.js","components/element-text/element-text.js","components/element-text-two-column/element-text-two-column.js","components/element-list/element-list.js","components/element-image/element-image.js","components/element-image-and-text/element-image-and-text.js","components/element-image-with-text/element-image-with-text.js","components/element-audio/element-audio.js","libs/react-azure-mp/load-library.js","libs/react-azure-mp/mp-component.jsx","components/element-video/element-video.js","components/element-accordion/element-accordion.js","components/element-tabs/element-tabs.js","components/element-iframe/element-iframe.js","components/element-flashcards-1/element-flashcards-1.js","components/element-flashcards-2/element-flashcards-2.styled.js","components/element-flashcards-2/element-flashcards-2.js","utils/object-to-query-string.js","utils/permission.js","services/index.js","services/auth.js","services/cms.js","components/element-quiz-1/element-quiz-1.styled.js","components/element-quiz-1/element-quiz-1.js","components/element-quiz-2/element-quiz-2.styled.js","components/element-quiz-2/element-quiz-2.js","fragments/element-navigation/navigation.styled.js","fragments/element-progress/progress.styled.js","fragments/element-progress/progress.js","fragments/element-navigation/navigation.js","utils/classNameFn.js","fragments/element-quiz-card/quiz-card.styled.js","fragments/element-quiz-card/quiz-card.js","fragments/element-input-group/input-group.styled.js","fragments/element-input-group/input-group.js","fragments/element-quiz-header/quiz-header.styled.js","fragments/element-quiz-header/quiz-header.js","fragments/element-choice/choice.styled.js","fragments/element-choice/choice.js","fragments/element-radio/radio.styled.js","fragments/element-radio/radio.js","fragments/element-quiz-choice-quill/quiz-choice-quill.styled.js","fragments/element-quiz-image/quiz-image.styled.js","fragments/element-quiz-image/quiz-image.js","fragments/element-quiz-video/quiz-video.styled.js","fragments/element-quiz-video/quiz-video.js","fragments/element-checkbox/checkbox.styled.js","fragments/element-checkbox/checkbox.js","utils/isChoiceSelected.js","fragments/element-quiz-choice-quill/quiz-choice-quill.js","fragments/element-quiz-question-quill/quiz-question-quill.styled.js","fragments/element-quiz-question-quill/quiz-question-quill.js","fragments/element-quiz-question-confirm-feedback/quiz-question-confirm-feedback.styled.js","utils/questionIsCorrect.js","fragments/element-quiz-question-confirm-feedback/quiz-question-confirm-feedback.js","fragments/element-quiz-textarea/quiz-textarea.styled.js","fragments/element-quiz-textarea/quiz-textarea.js","fragments/element-quiz-text-input/quiz-text-input.styled.js","fragments/element-quiz-text-input/quiz-text-input.js","fragments/element-quiz-match-line/quiz-match-line.styled.js","fragments/element-quiz-match-line/quiz-match-line.js","fragments/element-quiz-question/element-quiz-question.js","fragments/element-quiz-finish-result/quiz-finish-result.styled.js","fragments/element-quiz-finish-result/quiz-finish-result.js","components/element-quiz-4/element-quiz-4.styled.js","components/element-quiz-4/element-quiz-4.js","components/element-quiz-5/element-quiz-5.styled.js","utils/key-code.js","components/element-quiz-5/review-modal.styled.js","components/element-quiz-5/note-dropdown.styled.js","components/element-quiz-5/preloader.js","components/element-quiz-5/note-dropdown.js","components/element-quiz-5/review-modal.js","components/element-quiz-5/element-quiz-5.js","components/element-quiz-6/element-quiz-6.styled.js","components/element-quiz-6/review-modal.styled.js","components/element-quiz-6/note-dropdown.styled.js","components/element-quiz-6/preloader.js","components/element-quiz-6/note-dropdown.js","components/element-quiz-6/review-modal.js","utils/userCanRemakeQuiz.js","components/element-quiz-6/element-quiz-6.js","components/user-log/user-log.js","components/video-player/video-player.js","components/element-images-gallery/styles.js","components/element-images-gallery/elements-images-gallery.js","components/element-forum-1/modal.styled.js","components/element-forum-1/quill.styled.js","components/element-forum-1/quill.js","components/element-forum-1/preloader.js","components/element-forum-1/modal.js","components/element-forum-1/learning-player-context-loading.js","components/element-forum-1/composer-player-context.styled.js","components/element-forum-1/composer-player-context.js","components/element-forum-1/note-dropdown.styled.js","components/element-forum-1/note-dropdown.js","components/element-forum-1/forum-message.styled.js","hooks/use-on-screen.js","components/element-forum-1/post-loading.js","components/element-forum-1/forum-message.js","components/element-forum-1/alert-dialog.styled.js","components/element-forum-1/alert-dialog.js","components/element-forum-1/element-forum-1.styled.js","components/element-forum-1/review-modal.styled.js","components/element-forum-1/review-modal.js","components/element-forum-1/element-forum-1.js","components/element-divider-1/element-divider-1.js","components/element-divider-4/element-divider-4.js","components/element-divider-numbered/element-divider-numbered.js","components/element-hotspots-1/element-hotspots-1.styled.js","fragments/element-spot/spot.styled.js","fragments/element-spot/markers.js","fragments/element-spot/spot.js","components/element-hotspots-1/element-hotspots-1.js","components/element-statement-1/element-statement-1.js","components/element-statement-2/element-statement-2.js","components/element-statement-3/element-statement-3.js","components/element-statement-4/element-statement-4.js","components/element-note-1/element-note-1.js","components/element-quote-1/element-quote-1.js","components/element-quote-2/element-quote-2.js","components/element-quote-3/element-quote-3.js","components/element-quote-4/element-quote-4.js","components/element-quote-5/element-quote-5.js","components/element-quote-6/element-quote-6.styled.js","components/element-quote-6/element-quote-6.js","components/element-sorted-activity-1/element-sorted-activity-1.styled.js","components/element-sorted-activity-1/item-card.js","components/element-sorted-activity-1/element-sorted-activity-1.js","components/element-timeline-1/element-timeline-1.styled.js","components/element-timeline-1/element-timeline-1.js","components/element-steps-1/element-steps-1.styled.js","components/element-steps-1/element-steps-1.js","components/element-quiz-3/element-quiz-3.styled.js","components/element-quiz-3/element-quiz-3.js","components/element-attachment-1/element-attachment-1.styled.js","components/element-attachment-1/element-attachment-1.js","components/element-gallery-1/element-gallery-1.styled.js","components/element-gallery-1/element-gallery-1.js","components/element-button-1/element-button-1.styled.js","components/element-button-1/element-button-1.js","components/element-code-snippet-1/element-code-snippet-1.styled.js","components/element-code-snippet-1/element-code-snippet-1.js","components/element-3d/element-3d.js","fragments/interaction-monitor-wrapper/interaction-monitor-wrapper.styled.js","fragments/interaction-monitor-wrapper/interaction-monitor-wrapper.js","utils/throttle.js","hocs/with-object-interaction-monitor.js","views/home/home.js","hocs/with-gtm.js","App.js","serviceWorker.js","index.js","assets/svg/icon-search.svg","assets/svg/close.svg"],"names":["module","exports","__webpack_require__","p","VisibleElement","this","visible","el","top","offsetTop","left","offsetLeft","width","offsetWidth","height","offsetHeight","offsetParent","window","pageYOffset","innerHeight","pageXOffset","innerWidth","StringFormat","HtmlToText","html","replace","ElementHead1","props","_this","Object","classCallCheck","_super","call","elementRef","React","createRef","state","avatar_size","trackElementView","content","isVisible","current","obj","action","element","timestamp","Math","floor","Date","now","metadata","composition_uid","structure","content_uid","element_id","id","element_title","content_title","undefined","dam_assets","length","assets","onTrackEvent","setState","img","target","show_category","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","category","avatar","avatarSize","style","borderColor","avatar_border_color","src","onLoad","handleAvatarChange","bind","show_author_name","author_name","color","primary_color","author_office","show_divider","secondaryColor","secondary_color","backgroundColor","font","toLowerCase","ref","concat","getFont","font_family","backgroundImage","background_image","renderCategory","renderAvatar","renderAuthorInfo","renderDivider","Component","ElementText","textStyle","background_color","paddingTop","padding_top","paddingBottom","padding_bottom","text","ElementTextTwoColumn","handleChange","assertThisInitialized","prevProps","prevState","snapshot","position","items","onChange","ElementList","_this2","active_items","itemId","item_id","index","item","isItemActive","push","trackElementClick","filter","_this$props","headerActionsTemplate","footerActionsTemplate","listStyle","map","key","type","onClick","onItemCheck","version","xmlns","viewBox","fill","d","renderQuill","ElementImage","zoomImgRef","zoom_enabled","inner_width","inner_height","img_zoom_width","img_zoom_height","onResizeWindow","refreshZoomOnResize","onResizeIframe","removeEventListener","addEventListener","resizeImage","url","image","zoom","cursor","e","naturalHeight","naturalWidth","zoom_icons_color","zoom_enabled_new","_this3","imageStyle","aria-labelledby","toggleZoomImage","getImgStyle","caption","index_esm","maxScale","zoom_max_level","centerZoomedOut","centerOnInit","_ref","zoomIn","zoomOut","resetTransform","objectWithoutProperties","_excluded","Fragment","zoom_header_background_color","renderIconZoomIn","renderIconZoomOut","renderIconClose","wrapperStyle","getWrapperStyle","contentStyle","getImgDynamicStyle","ElementImageAndText","_this$props$content","image_width","image_position","image_border_radius","marginRight","marginLeft","borderRadius","_this$props$content2","parseInt","split","containerStyle","getImageUrl","getTextStyle","element_image_and_text_excluded","ElementImageWithText","opacity","opacity_color","divider_color","ElementAudio","onAudioPlay","onAudioPause","audio","verb","duration","time","progress","trackEvent","currentTarget","currentTime","audioStyle","controls","onPlay","onPause","onEnded","onAudioEnded","onSeeking","onAudioSeeking","loader","AzureMP","videoNode","player","dispose","destroyPlayer","skin","initialization","arguments","amp","Promise","resolve","reject","scriptTag","document","linkTag","rel","href","body","appendChild","head","insertBefore","firstChild","onload","loadLibrary","then","createPlayer","setVideo","tracks","_this$props2","options","onInstanceCreated","assign","logo","enabled","ratio","_this$props3","_this$props3$skin","_this$props3$adaptRat","adaptRatio","cornerPlayBtn","getRatioStyles","classNames","defineProperty","styles","crossOrigin","amp-big-play-centered","ElementVideo","azure_video_url","azure_url","azure_mime_type","azure_subtitles","render_azure_player","location","search","indexOf","custom_options","cstmptns","getCaptions","video","api_env","project_key","access_token","domain","_callee","manifestUrl","videoUrl","videoObj","manifest","subtitles","data","loadDefaultFormat","tempUrl","streamInfo","regenerator_default","wrap","_context","prev","next","video_url","mime_type","fetch","json","sent","asset","find","uid","asset_uid","uri","srclang","language_code","kind","label","language","azure_media_options","method","ok","headers","get","default_target","stop","getVideoUrl","onVideoPlay","onVideoPause","onVideoEnded","onVideoSeeking","react_azure_mp_mp_component","autoplay","playbackSpeed","initialSpeed","speedLevels","name","value","ElementAccordion","getResumeItems","expanded","active_accordion_title","title","temp","i","manipulateItems","behavior","getAssetUrl","accordionStyle","onToggleItem","renderImage","renderVideo","ElementTabs","active_tab_content","modules","toolbar","align","size","list","formats","Font","ReactQuill","Quill","import","whitelist","register","SizeStyle","activeItem","activeTab","active_tab_title","editable","react_quill_lib_default","theme","active_color","onTabClick","renderActiveTabContent","ElementIframe","resizeWebview","current_width","scale","iframeContainerStyle","iframeStyle","allow","ElementFlashcard1","isFlipped","onCardClick","side","opened","classList","toggle","objectFit","centered_image","handleCenteredImageChange","fullscreen_image","handleFullscreenImageChange","card_height","card_width","cardStyle","maxHeight","maxWidth","aspectRatio","borderTopColor","border_color","renderCardData","ElementFlashcards2","styled","div","_templateObject","taggedTemplateLiteral","CardList","ul","_templateObject2","CardListItem","li","_templateObject3","css","_templateObject4","_templateObject5","_templateObject6","CardInner","_templateObject7","_templateObject8","CardFront","_templateObject9","CardBack","_templateObject10","CardItemTypeText","_templateObject11","CardItemTypeImage","_templateObject12","NavigationContainer","_templateObject13","ChangeCardButton","button","_templateObject14","fontColor","Progress","_templateObject15","ProgressLabel","_templateObject16","ProgressCounter","_templateObject17","ProgressBar","_templateObject18","ElementFlashcard2","flippedItemsIds","visibleCardIndex","trackCardToggleEvent","_this$state","includes","trackViewCardEvent","_this$state2","card_id","assetUrl","handleToggleFlipCard","cardId","toConsumableArray","handlePrevCard","handleNextCard","_content$items","renderProgress","total","percentage","handleKeyDown","code","keyCode","preventDefault","_content$card_height","_content$card_width","_content$items2","_this$state3","tabIndex","onKeyDown","role","front_card","back_card","disabled","objectToQueryString","keys","join","USER_ROLES","isContentOwner","loggedUserUID","contentUserUID","isAdminReviewer","roles","API","auth","user","me","Authorization","Project-Key","Api-Env","resp","_ref2","cms","learning","registerUid","getInteractions","base_url","catch","console","error","interaction","recoverObjects","_ref3","query","cms_excluded","queryString","objects","parsed","_ref4","asyncToGenerator","mark","object","userDetails","user_uid","hasOwnProperty","abrupt","email","login","detail","interaction_objects","interaction_object","object_data","JSON","parse","t0","_x","apply","all","interactionUid","reviewed","_ref5","_ref6","context_uid","target_uid","score","Content-Type","stringify","status","warn","interactionObjectUid","updateScore","_updateScore","_callee2","_ref7","_context2","_x2","_x3","createObject","_ref8","_ref9","recoverObject","_ref10","_ref11","_callee3","_context3","_x4","socialmedia","connector","connectorUid","createThread","_ref12","_ref13","description","context_type","thread","threadUid","update","_ref14","_ref15","Error","statusText","delete","_ref16","post","postUid","_ref17","_ref18","_ref19","createPost","_ref20","recoverPosts","_ref21","threads","available","_ref22","ContainerFinishButton","element_quiz_1_styled_templateObject","ContainedButton","element_quiz_1_styled_templateObject2","background","element_quiz_1_styled_templateObject3","element_quiz_1_styled_templateObject4","ElementQuiz1","defineAnswered","idQuestion","resetAll","_this2$state","activeChoices","cloneContent","objectSpread2","changedQuestions","questions","question","answered","handleComplete","trackAnswerConfirmClick","renderCustomMsg","msg","feedback_default","media_max_width","renderCorrectMsg","getLabels","right","feedback","feedback_correct","xlink","x","y","enableBackground","space","correct_color","fillRule","clipRule","renderIncorrectMsg","incorrect","feedback_incorrect","incorrect_color","verifyAnswer","correctAnswer","choices","choice","correct","no_correct_answer","no_feedback","userCanRemakeQuiz","_this2$state2","attempsMade","_content$max_attempts","max_attempts","remake","String","isNaN","total_attempts","loadContentFromDefaultData","loadContentFromServer","updateQuestionsBasedOnObjects","verifyIfHasAnweredAllQuestions","showResume","getSignedUserFromJwt","contentBkp","current_question","answered_qtd","protocol","defaultData","elements","sortQuestions","prevStates","jwtDecode","Array","isArray","toString","oid","loadActiveChoices","answers","log","interaction_uid","_callee4","contentCopy","_this4","_args4","_context4","lastObjectDate","objectTries","created_at","answer","updateActiveChoisesBasedOnAnswer","hits","_callee5","_context5","resume","rdp_html_content","percentage_average","min_percentage","utilization","grades","show_result","trackQuestionView","currentQuestion","questionId","questionIndex","selectedChoice","total_questions","result","trackQuestionResult","hit","direction","source","source_question","evaluative","formatedQuestions","forEach","formatedQuestion","formatedData","isRemake","splitQuestions","number_of_questions_to_display","randomizeOnRemake","random_on_remake","random_question_order","backup","newQuestions","sort","b","random","slice","alt","questionChanged","_this5","contentClone","_this$state$content$q","contentLanguage","confirm","back","retry","previous","finish","finish_quiz_message","_this$state$activeCho","trackAnswerClick","_this6","qtion","ch","_this7","classSelected","colorChoice","onChoiceClick","renderChoiceRadio","renderChoiceQuill","_this8","onNavigateQuestions","trackNavigation","_this9","_this$state4","_this10","_this$state5","questions_count","answeredQuestions","q","disabledBtn","onFinishClick","_this$state6","renderPreviousQuestionBtn","renderNextQuestionBtn","renderFinishBtn","_this11","_this$state7","_this$state8","renderQuestionQuill","renderChoices","renderFeedback","renderNavigation","_this$state9","renderQuestionare","renderResult","_this12","_this$state10","copyQuestion","_callee6","_context6","user_selected","trackQuizResult","finished","scorm_progress_count","handleFinish","trackRemakeQuiz","getResultLabel","parseFloat","toFixed","_this13","_this$state11","renderFinalMessage","onRemakeQuestionnaire","renderContent","element_quiz_2_styled_templateObject","element_quiz_2_styled_templateObject2","ElementQuiz2","element_quiz_2_styled_templateObject3","element_quiz_2_styled_templateObject4","totalCorrects","answersIds","correctsAnswered","selectedChoices","points","selected","element_quiz_2_styled_ContainerFinishButton","element_quiz_2_styled_ContainedButton","choises","choise","Navigation","navigation_styled_templateObject","Button","navigation_styled_templateObject2","primaryColor","ButtonContainer","navigation_styled_templateObject3","justify","navigation_styled_templateObject4","ProgressContainer","progress_styled_templateObject","progress_styled_templateObject2","ProgressBarPlaceholder","progress_styled_templateObject3","progress_styled_templateObject4","ProgressCount","span","progress_styled_templateObject5","_props$currentProgres","currentProgress","_props$totalProgress","totalProgress","progress_styled_Progress","progress_styled_ProgressBar","onClickPrevius","onClickNext","onClickFinish","labels","_props$showFinishButt","showFinishButton","_props$disableFinishB","disableFinishButton","element_progress_progress","navigation_styled_ContainedButton","classNameFn","trim","QuizCard","quiz_card_styled_templateObject","children","rest","quiz_card_excluded","InputGroup","input_group_styled_templateObject","_props$type","input_group_excluded","QuizHeader","quiz_header_styled_templateObject","Span","quiz_header_styled_templateObject2","CurrentQuestionText","quiz_header_styled_templateObject3","ProgressText","quiz_header_styled_templateObject4","Choice","choice_styled_templateObject","selectedColor","choice_excluded","Radio","radio_styled_templateObject","Input","input","radio_styled_templateObject2","_props$value","checked","radio_excluded","readOnly","QuizChoiceText","quiz_choice_quill_styled_templateObject","ChoiceContainer","quiz_choice_quill_styled_templateObject2","CenterContainer","quiz_choice_quill_styled_templateObject3","QuizImageVideoContainer","quiz_choice_quill_styled_templateObject4","ColumnContainer","quiz_choice_quill_styled_templateObject5","RowContainer","quiz_choice_quill_styled_templateObject6","QuizImage","quiz_image_styled_templateObject","_props$data","mediaMaxWidth","QuizVideo","quiz_video_styled_templateObject","Checkbox","checkbox_styled_templateObject","checkbox_styled_templateObject2","_props$checked","defaultChecked","checkbox_excluded","_React$useState","useState","_React$useState2","slicedToArray","setChecked","useEffect","checkbox_styled_Input","isChoiceSelected","sourceId","destinationId","QuizChoiceQuill","_props$disabled","_props$activeChoices","_props$onChoiceClick","setColorChoice","element_choice_choice","element_radio_radio","element_checkbox_checkbox","renderChoiceInputType","quiz_image","quiz_video","QuizQuestionQuill","quiz_question_quill_styled_templateObject","QuizQuestion","quiz_question_quill_styled_templateObject2","_props$editable","QuizQuestionFeedback","quiz_question_confirm_feedback_styled_templateObject","ConfirmButton","quiz_question_confirm_feedback_styled_templateObject2","EditButton","quiz_question_confirm_feedback_styled_templateObject3","QuizQuestionFeedbackMessage","quiz_question_confirm_feedback_styled_templateObject4","questionIsCorrect","_question$choices","QuizQuestionConfirmFeedback","_props$answered","_props$onClickConfirm","onClickConfirm","_props$onClickEdit","onClickEdit","answer_saved","edit","TextAreaContainer","quiz_textarea_styled_templateObject","TextArea","textarea","quiz_textarea_styled_templateObject2","QuizTextarea","_props$onChange","_props$defaultValue","defaultValue","setValue","event","rows","TextInputContainer","quiz_text_input_styled_templateObject","TextInput","quiz_text_input_styled_templateObject2","QuizTextInput","QuizMatchLine","quiz_match_line_styled_templateObject","Text","quiz_match_line_styled_templateObject2","lines","MatchList","ol","quiz_match_line_styled_templateObject3","LeftColumn","quiz_match_line_styled_templateObject4","MatchConnector","quiz_match_line_styled_templateObject5","MatchLine","quiz_match_line_styled_templateObject6","connected","quiz_match_line_styled_templateObject7","BaseChoice","quiz_match_line_styled_templateObject8","quiz_match_line_styled_templateObject9","hidden","quiz_match_line_styled_templateObject10","Match","quiz_match_line_styled_templateObject11","Arrow","quiz_match_line_styled_templateObject12","ArrowLeft","quiz_match_line_styled_templateObject13","ArrowRight","quiz_match_line_styled_templateObject14","quiz_match_line_styled_templateObject15","IconImage","quiz_match_line_styled_templateObject16","connectedItems","matches","setItems","_React$useState3","_React$useState4","setConnectedItems","useMemo","titleLines","matchTitleLines","matchTitle","max","saveConnection","match","m","destination","droppableId","connectedItemsCopy","connectedItem","getOperationIndexes","sourceItem","draggableId","destinationItem","isReorderOperation","isMatchOperation","reorderItems","sourceIndex","destinationIndex","_items$splice","splice","reorderedItem","swapItems","itemsCopy","tmp","react_beautiful_dnd_esm","onDragEnd","operationIndexes","provided","innerRef","droppableProps","isDragDisabled","draggableProps","dragHandleProps","quiz_match_line_styled_Choice","dragIcon","ElementQuizQuestion","questionNumber","questionTotal","_props$onlyShowQuesti","onlyShowQuestion","_props$onAnswering","onAnswering","_props$onConfirmAnswe","onConfirmAnswer","_props$onResetAnswer","onResetAnswer","notifyChoiceSelection","quiz_header","quiz_question_quill","onEditQuestionText","input_group","quiz_choice_quill","onEditChoiceText","updateQuestionChoiceTextAndNotify","quiz_text_input","quiz_match_line","quiz_textarea","renderAsnwer","quiz_question_confirm_feedback","QuizFinishResult","quiz_finish_result_styled_templateObject","RemakeButton","quiz_finish_result_styled_templateObject2","RemakeButtonIcon","quiz_finish_result_styled_templateObject3","RemakeButtonText","quiz_finish_result_styled_templateObject4","ResultMessage","quiz_finish_result_styled_templateObject5","_props$onClickRemake","onClickRemake","_props$canRemake","canRemake","pending_review_total","getPendingResultLabel","ElementQuizContainer","element_quiz_4_styled_templateObject","ElementQuiz4","answeredQuestionsIds","currentQuestionIndex","showResult","activity_uid","_content$questions","updateActiveChoicesBasedOnAnswer","getUsersInteractions","register_uid","last_occurrence","trackQuizFinishView","_this$props$contentLa","en","pt_br","isFinishButtonVisible","isFinishButtonDisabled","updateContentAndNotifyChange","setAnswer","setAnswerConfirmation","deleteAnswerConfirmation","getContentOnlyWithQuestion","goToPreviusQuestion","goToNextQuestion","renderContentFor","quiz_finish_result","resetState","element_quiz_question","onUpdateContent","navigation","createInteractionObject","_callee7","promises","_context7","quiz_card","element_quiz_5_styled_templateObject","element_quiz_5_styled_templateObject2","FeedbackContainer","element_quiz_5_styled_templateObject3","element_quiz_5_styled_templateObject4","element_quiz_5_styled_templateObject5","OutlinedButton","element_quiz_5_styled_templateObject6","TextButton","element_quiz_5_styled_templateObject7","RemakeButtonContainer","element_quiz_5_styled_templateObject8","element_quiz_5_styled_templateObject9","element_quiz_5_styled_templateObject10","NextButtonContainer","element_quiz_5_styled_templateObject11","PrevButtonContainer","element_quiz_5_styled_templateObject12","KeyCode","ESC","ModalDiv","review_modal_styled_templateObject","ContentDiv","review_modal_styled_templateObject2","Form","form","review_modal_styled_templateObject3","Overlay","review_modal_styled_templateObject4","CloseButton","review_modal_styled_templateObject5","review_modal_styled_templateObject6","review_modal_styled_templateObject7","ReviewContent","review_modal_styled_templateObject8","Grid","review_modal_styled_templateObject9","SearchColumn","review_modal_styled_templateObject10","AnsweredColumn","review_modal_styled_templateObject11","ReviewedColumn","review_modal_styled_templateObject12","ReviewColumn","review_modal_styled_templateObject13","HeadRow","review_modal_styled_templateObject14","BodyRow","review_modal_styled_templateObject15","StudentData","review_modal_styled_templateObject16","AnsweredData","review_modal_styled_templateObject17","ReviewedData","review_modal_styled_templateObject18","ReviewData","_templateObject19","ReviewDataOverlay","_templateObject20","_templateObject21","StudentList","_templateObject22","Student","_templateObject23","StudentButton","_templateObject24","CheckboxLabel","_templateObject25","checkColor","CheckboxInput","_templateObject26","Checkmark","_templateObject27","QuestionText","_templateObject28","AnswerLabel","_templateObject29","AnswerText","_templateObject30","SearchLabel","_templateObject31","SearchInput","_templateObject32","SearchInputIcon","_templateObject33","MenuIcon","_templateObject34","Title","_templateObject35","AnswerContainer","_templateObject36","NoteContainer","_templateObject37","QuestionList","_templateObject38","Question","_templateObject39","Container","note_dropdown_styled_templateObject","Dropdown","note_dropdown_styled_templateObject2","DropdownButton","note_dropdown_styled_templateObject3","note_dropdown_styled_templateObject4","rotate","note_dropdown_styled_templateObject5","List","note_dropdown_styled_templateObject6","zIndex","pos","note_dropdown_styled_templateObject7","note_dropdown_styled_templateObject8","ListOption","note_dropdown_styled_templateObject9","hoverColor","ContainerNoteBadge","note_dropdown_styled_templateObject10","NoteBadge","note_dropdown_styled_templateObject11","ListScroll","note_dropdown_styled_templateObject12","preloader_templateObject","Img","preloader_templateObject2","Preloader","_ref$width","_ref$height","_ref$gifHeight","gifHeight","preloader_Container","gif","NoteDropdown","_props$notes","notes","_props$label","_props$selected","_props$listTitle","listTitle","_props$onSelect","onSelect","note","_props$onHoverNote","onHoverNote","_props$open","open","_props$primaryColor","_props$backgroundColo","_props$backgroundHove","backgroundHoverColor","_props$listZIndex","listZIndex","_props$position","_props$show","show","isLoadingNote","listRef","useRef","_useState","_useState2","dropdownPos","setDropdownPos","_useState3","_useState4","isOpen","setIsOpen","_useState5","_useState6","hoverNote","setHoverNote","_listRef$current$getB","getBoundingClientRect","totalHeight","actualPos","handleMouseOption","aria-haspopup","aria-expanded","note_dropdown_styled_Arrow","aria-selected","handleClickOption","onMouseEnter","onMouseLeave","ReviewModal","_props$users","users","_props$noteRange","noteRange","customOptions","_props$onConfirm","onConfirm","_props$onCancel","onCancel","btnConfirmTextColor","_props$labels","closeIcon","expandRightIcon","expandLeftIcon","_props$updateLocalStu","updateLocalStudentInteraction","selectedUser","closeRef","questionListRef","setText","searchText","setSearchText","setSelectedUser","_useState7","_useState8","isListOfItemsOpened","setIsListOfItemsOpened","_useState9","_useState10","setQuestions","_useState11","_useState12","setIsLoadingNote","_useState13","_useState14","sortAnsweredOrder","setSortAnsweredOrder","_useState15","_useState16","sortReviewedOrder","setSortReviewedOrder","getStyleForOrder","order","interactionObject","_user$user_uid","_user$name","_user$email","_user$interaction_obj","_user$interaction_uid","count_reviewed","interactionObjectTemp","isReviewed","_interaction","_interaction$uid","_interaction$reviewer","reviewer_uid","_interaction$score","_interaction$target_u","_interaction$context_","_object_data$data","total_messages","updateLocalQuestion","questionsCopy","userInteractionObject","students","orderedUsers","byAnswered","byReviewed","selectedUserUpdated","scrollTop","focus","handleClose","getQuestionAnswer","aria-modal","review","aria-describedby","onKeyUp","which","stopPropagation","onSubmit","close","aria-label","placeholder","searchClearIcon","searchIcon","textDecoration","handleStudentSelect","answered_by_student","select_to_start_review","note_dropdown","_selectedUser$interac","handleSelectNote","ElementQuiz5","questionObj","activeAnswers","getNoteRange","_this$state$content","_this$state$content$g","grade_type","_this$state$content$g2","grade_numeral","min","steps","_grade_numeral$min","_grade_numeral$max","_grade_numeral$steps","values","renderStats","renderConfirmAnswerButton","renderEditAnswerButton","renderDissertationArea","handleCloseReviewModal","currentQuestionPos","answeredQuestionsQtd","questionAnswer","is_review_modal_open","is_loading_review_modal","_args3","stats","finish_review","element_quiz_5_styled_TextAreaContainer","element_quiz_5_styled_TextArea","handleChangeAnswer","_this$state5$content","element_quiz_5_styled_NextButtonContainer","element_quiz_5_styled_ContainerFinishButton","element_quiz_5_styled_ContainedButton","startReviewForQuestion","_this$state10$content","_this$state10$user$ro","_this$state12","_step","_this$state13","_iterator","createForOfIteratorHelper","s","n","done","err","f","resetAllQuestions","_this14","_this$state14","element_quiz_5_styled_RemakeButtonContainer","element_quiz_5_styled_RemakeButtonIcon","element_quiz_5_styled_RemakeButtonText","_this$state15","_this15","confirm_button_text_color","_this$state16","_this$state16$user$ro","review_modal","studentsCopy","student","row","reviewed_at","reviewer_user_uid","updated_at","element_quiz_6_styled_templateObject","element_quiz_6_styled_templateObject2","element_quiz_6_review_modal_styled_templateObject","element_quiz_6_review_modal_styled_templateObject2","element_quiz_6_review_modal_styled_templateObject3","element_quiz_6_review_modal_styled_templateObject4","element_quiz_6_review_modal_styled_templateObject5","element_quiz_6_review_modal_styled_templateObject6","element_quiz_6_review_modal_styled_templateObject7","element_quiz_6_review_modal_styled_templateObject8","element_quiz_6_review_modal_styled_templateObject9","element_quiz_6_review_modal_styled_templateObject10","element_quiz_6_review_modal_styled_templateObject11","element_quiz_6_review_modal_styled_templateObject12","element_quiz_6_review_modal_styled_templateObject13","element_quiz_6_review_modal_styled_templateObject14","element_quiz_6_review_modal_styled_templateObject15","element_quiz_6_review_modal_styled_templateObject16","element_quiz_6_review_modal_styled_templateObject17","element_quiz_6_review_modal_styled_templateObject18","review_modal_styled_templateObject19","review_modal_styled_templateObject20","review_modal_styled_templateObject21","review_modal_styled_templateObject22","review_modal_styled_templateObject23","review_modal_styled_templateObject24","review_modal_styled_templateObject25","review_modal_styled_templateObject26","review_modal_styled_templateObject27","review_modal_styled_templateObject28","review_modal_styled_templateObject29","review_modal_styled_templateObject30","review_modal_styled_templateObject31","review_modal_styled_templateObject32","review_modal_styled_templateObject33","review_modal_styled_templateObject34","review_modal_styled_templateObject35","review_modal_styled_templateObject36","review_modal_styled_templateObject37","review_modal_styled_templateObject38","review_modal_styled_templateObject39","element_quiz_6_note_dropdown_styled_templateObject","element_quiz_6_note_dropdown_styled_templateObject2","element_quiz_6_note_dropdown_styled_templateObject3","element_quiz_6_note_dropdown_styled_templateObject4","element_quiz_6_note_dropdown_styled_templateObject5","element_quiz_6_note_dropdown_styled_templateObject6","element_quiz_6_note_dropdown_styled_templateObject7","element_quiz_6_note_dropdown_styled_templateObject8","element_quiz_6_note_dropdown_styled_templateObject9","element_quiz_6_note_dropdown_styled_templateObject10","element_quiz_6_note_dropdown_styled_templateObject11","element_quiz_6_note_dropdown_styled_templateObject12","element_quiz_6_preloader_templateObject","element_quiz_6_preloader_templateObject2","element_quiz_6_preloader_Container","preloader_Img","note_dropdown_styled_Container","note_dropdown_styled_Dropdown","note_dropdown_styled_DropdownButton","element_quiz_6_note_dropdown_styled_Arrow","note_dropdown_styled_List","note_dropdown_styled_ListScroll","note_dropdown_styled_ListOption","note_dropdown_styled_ContainerNoteBadge","note_dropdown_styled_NoteBadge","preloader_Preloader","_props$allQuestions","allQuestions","review_modal_styled_ModalDiv","review_modal_styled_Form","review_modal_styled_Overlay","review_modal_styled_ContentDiv","review_modal_styled_ReviewContent","review_modal_styled_MenuIcon","review_modal_styled_CloseButton","review_modal_styled_Grid","review_modal_styled_HeadRow","review_modal_styled_SearchColumn","review_modal_styled_SearchLabel","review_modal_styled_SearchInput","review_modal_styled_SearchInputIcon","review_modal_styled_AnsweredColumn","review_modal_styled_ReviewedColumn","review_modal_styled_ReviewColumn","review_modal_styled_Title","review_modal_styled_StudentList","review_modal_styled_Student","review_modal_styled_StudentButton","review_modal_styled_BodyRow","review_modal_styled_StudentData","review_modal_styled_AnsweredData","review_modal_styled_CheckboxLabel","review_modal_styled_CheckboxInput","review_modal_styled_Checkmark","review_modal_styled_ReviewedData","review_modal_styled_ReviewData","review_modal_styled_ReviewDataOverlay","review_modal_styled_QuestionList","review_modal_styled_Question","findIndex","getQuestionIndex","review_modal_styled_QuestionText","review_modal_styled_AnswerContainer","review_modal_styled_NoteContainer","element_quiz_6_note_dropdown","review_modal_styled_AnswerLabel","review_modal_styled_AnswerText","_content$remake","ElementQuiz6","c","trackQuestionFeedback","quizTypesWithReview","questionsPendingReview","_callee9","_context9","_callee8","_context8","_x5","handleRemakeQuiz","getQuestionsByType","_this$state9$user$rol","renderReview","element_quiz_6_review_modal","element_quiz_6_styled_OutlinedButton","element_quiz_6_styled_ElementQuizContainer","UserLog","dist_default","unix","renderTimestamp","verbLabel","events","renderViewElement","renderClickElement","ImagesGalleryContainer","styles_templateObject","ImagesContainer","styles_templateObject2","ImageContainer","styles_templateObject3","imagesSize","numberOfImages","Modal","styles_templateObject4","ModalImage","styles_templateObject5","Caption","styles_templateObject6","ArrowButton","styles_templateObject7","styles_templateObject8","styles_templateObject9","Dots","styles_templateObject10","Dot","styles_templateObject11","isSelected","Close","styles_templateObject12","ElementImagesGallery","sliderRef","setVisible","images","isModalActivated","setIsModalActivated","currentImageOnModal","setCurrentImageOnModal","imagesGalleryStyle","text_color","sliderSettings","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","initialSlide","handleClickOnImage","newCurrentImage","slickGoTo","styles_ArrowLeft","react_slick_lib_default","beforeChange","currentSlide","nextSlide","handleClickOnDot","styles_ArrowRight","ContainerDiv","modal_styled_templateObject","modal_styled_templateObject2","modal_styled_templateObject3","modal_styled_templateObject4","modal_styled_templateObject5","ActionsDiv","modal_styled_templateObject6","modal_styled_templateObject7","QuillContainer","quill_styled_templateObject","colorPickerOpened","quillColor","addCustomColorPicker","toggleColor","onQuillColorChange","quillRef","current_selection","current_quill_color","render_quill_color_picker","colors","script","QuillR","quill","querySelector","insertAdjacentHTML","customColor","selection","getSelection","rangeCount","getRangeAt","removeAllRanges","addRange","hex","changeSelectedTextColor","sel","range","deleteContents","innerHTML","node","frag","createDocumentFragment","insertNode","editor","es","triangle","PureComponent","element_forum_1_preloader_templateObject","element_forum_1_preloader_templateObject2","element_forum_1_preloader_Container","element_forum_1_preloader_Img","_props$title","_props$btnConfirmLabe","btnConfirmLabel","_props$btnCancelLabel","btnCancelLabel","_props$btnConfirmText","_props$btnConfirmColo","btnConfirmColor","_props$btnCancelTextC","btnCancelTextColor","_props$btnCancelColor","btnCancelColor","_props$isLoading","isLoading","modal_styled_Form","modal_styled_Overlay","modal_styled_ContentDiv","modal_styled_ActionsDiv","modal_styled_Button","LearningPlayerContextLoading","NoMessageDiv","composer_player_context_styled_templateObject","Icon","composer_player_context_styled_templateObject2","Message","composer_player_context_styled_templateObject3","ComposerPlayerContext","element_forum_1_note_dropdown_styled_templateObject","element_forum_1_note_dropdown_styled_templateObject2","element_forum_1_note_dropdown_styled_templateObject3","element_forum_1_note_dropdown_styled_templateObject4","element_forum_1_note_dropdown_styled_templateObject5","element_forum_1_note_dropdown_styled_templateObject6","element_forum_1_note_dropdown_styled_templateObject7","element_forum_1_note_dropdown_styled_templateObject8","element_forum_1_note_dropdown_styled_templateObject9","element_forum_1_note_dropdown_styled_templateObject10","element_forum_1_note_dropdown_styled_templateObject11","element_forum_1_note_dropdown_styled_Container","element_forum_1_note_dropdown_styled_Dropdown","element_forum_1_note_dropdown_styled_DropdownButton","element_forum_1_note_dropdown_styled_Arrow","element_forum_1_note_dropdown_styled_List","element_forum_1_note_dropdown_styled_ListOption","element_forum_1_note_dropdown_styled_ContainerNoteBadge","element_forum_1_note_dropdown_styled_NoteBadge","element_forum_1_preloader_Preloader","MessageContentItem","forum_message_styled_templateObject","column","elevation","forum_message_styled_templateObject2","forum_message_styled_templateObject3","MessageHeader","forum_message_styled_templateObject4","Author","forum_message_styled_templateObject5","forum_message_styled_templateObject6","Actions","forum_message_styled_templateObject7","ActionItem","forum_message_styled_templateObject8","ActionButton","forum_message_styled_templateObject9","forum_message_styled_templateObject10","useOnScreen","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","disconnect","PostLoading","_props$onScreen","onScreen","_props$column","paddingLeft","ForumMessage","rawContent","authorUID","topicBackgroundColor","topicAuthorColor","topicTextColor","createdAtDateTime","createdAt","_props$byLabel","byLabel","interactionObjects","_props$language","onClickDelete","onClickReply","_props$onClickSaveNot","onClickSaveNote","_props$disableOperati","disableOperations","_props$withReviewDrop","withReviewDropdown","_props$elevation","setIsVisible","isEditing","setIsEditing","authorName","setAuthorName","notesRange","setNotesRange","setNote","handleSaveNote","savedNote","prevNote","post_loading","dateTime","element_forum_1_note_dropdown","forum_message_styled_Message","pt-br","Backdrop","alert_dialog_styled_templateObject","alert_dialog_styled_templateObject2","alert_dialog_styled_templateObject3","Label","h2","alert_dialog_styled_templateObject4","Description","alert_dialog_styled_templateObject5","DescriptionText","alert_dialog_styled_templateObject6","alert_dialog_styled_templateObject7","alert_dialog_styled_templateObject8","AlertDialog","_props$id","_props$description","_props$controlsID","controlsID","overflow","alert_dialog_styled_Container","alert_dialog_styled_ContentDiv","alert_dialog_styled_ActionsDiv","alert_dialog_styled_Button","aria-controls","element_forum_1_styled_templateObject","element_forum_1_styled_templateObject2","MessagesContainer","element_forum_1_styled_templateObject3","element_forum_1_review_modal_styled_templateObject","element_forum_1_review_modal_styled_templateObject2","element_forum_1_review_modal_styled_templateObject3","element_forum_1_review_modal_styled_templateObject4","element_forum_1_review_modal_styled_templateObject5","element_forum_1_review_modal_styled_templateObject6","element_forum_1_review_modal_styled_templateObject7","element_forum_1_review_modal_styled_templateObject8","element_forum_1_review_modal_styled_templateObject9","element_forum_1_review_modal_styled_templateObject10","element_forum_1_review_modal_styled_templateObject11","element_forum_1_review_modal_styled_templateObject12","element_forum_1_review_modal_styled_templateObject13","element_forum_1_review_modal_styled_templateObject14","element_forum_1_review_modal_styled_templateObject15","element_forum_1_review_modal_styled_templateObject16","element_forum_1_review_modal_styled_templateObject17","element_forum_1_review_modal_styled_templateObject18","element_forum_1_review_modal_styled_templateObject19","element_forum_1_review_modal_styled_templateObject20","element_forum_1_review_modal_styled_templateObject21","ReviewNoMessagesDataOverlay","element_forum_1_review_modal_styled_templateObject22","element_forum_1_review_modal_styled_templateObject23","LeftList","element_forum_1_review_modal_styled_templateObject24","element_forum_1_review_modal_styled_templateObject25","element_forum_1_review_modal_styled_templateObject26","element_forum_1_review_modal_styled_templateObject27","element_forum_1_review_modal_styled_templateObject28","element_forum_1_review_modal_styled_templateObject29","element_forum_1_review_modal_styled_templateObject30","element_forum_1_review_modal_styled_templateObject31","element_forum_1_review_modal_styled_templateObject32","element_forum_1_review_modal_styled_templateObject33","element_forum_1_review_modal_styled_templateObject34","element_forum_1_review_modal_styled_templateObject35","element_forum_1_review_modal_styled_templateObject36","element_forum_1_review_modal_styled_templateObject37","RightList","element_forum_1_review_modal_styled_templateObject38","element_forum_1_review_modal_styled_templateObject39","_templateObject40","_templateObject41","_props$iterateRightLi","iterateRightList","rightListRef","messages","setMessages","message","_message$children","child","_interaction2","_interaction2$uid","_interaction2$reviewe","_interaction2$score","_interaction2$target_","_interaction2$context","messagesCopy","element_forum_1_review_modal_styled_ModalDiv","element_forum_1_review_modal_styled_Form","element_forum_1_review_modal_styled_Overlay","element_forum_1_review_modal_styled_ContentDiv","element_forum_1_review_modal_styled_ReviewContent","element_forum_1_review_modal_styled_MenuIcon","element_forum_1_review_modal_styled_CloseButton","element_forum_1_review_modal_styled_Grid","element_forum_1_review_modal_styled_HeadRow","element_forum_1_review_modal_styled_SearchColumn","element_forum_1_review_modal_styled_SearchLabel","element_forum_1_review_modal_styled_SearchInput","element_forum_1_review_modal_styled_SearchInputIcon","element_forum_1_review_modal_styled_AnsweredColumn","element_forum_1_review_modal_styled_ReviewedColumn","element_forum_1_review_modal_styled_ReviewColumn","element_forum_1_review_modal_styled_Title","element_forum_1_review_modal_styled_Student","element_forum_1_review_modal_styled_StudentButton","element_forum_1_review_modal_styled_BodyRow","element_forum_1_review_modal_styled_StudentData","fontSize","element_forum_1_review_modal_styled_AnsweredData","element_forum_1_review_modal_styled_CheckboxLabel","element_forum_1_review_modal_styled_CheckboxInput","element_forum_1_review_modal_styled_Checkmark","element_forum_1_review_modal_styled_ReviewedData","element_forum_1_review_modal_styled_ReviewData","element_forum_1_review_modal_styled_ReviewDataOverlay","no_messages_to_review","ElementForum1","mountThreadsAndPosts","getThreads","renderContext","renderForumMessage","toggleVisibilityOfNewTopicModal","toggleVisibilityOfReplyModal","sendThread","sendPost","onApiSendPost","onApiSendThread","onApiDeleteThread","onApiGetAuthorInfo","appendPostIntoThread","closeAlertDialog","onApiDeletePost","handleDeletePost","handleConfirmAlertDialog","handleDeleteThread","resetAlertDialog","isUserAllowedToCreateTopic","onApiEditPost","renderModal","getInteractionObjects","filterInteractionObjectOf","reviewModalIterateRightList","is_showing_new_topic_modal","is_loading_new_topic_modal_confirmation","is_showing_reply_thread_modal","is_loading_new_reply_thread_modal_confirmation","is_showing_alert_dialog","context","forum_messages","all_forum_messages","current_thread","syncTimer","authors","alert_dialog_action","alert_dialog_action_data","current_page","total_pages","thread_page_size","posts_page_size","clearTimeout","_interaction_objects","user_register_uid","_this$state$thread_pa","page_size","page","firstLoading","isforReview","_loop","_args5","loading","_prevState$all_forum_","_prevState$forum_mess","onApiGetThreadPosts","_prevState$all_forum_2","_prevState$forum_mess2","delegateYield","t1","prevAuthors","social_media_connector_uid","context_title","_this$state4$user$rol","args","forum_messages_new","_this$state7$posts_pa","updatedThread","_this$props$onChange","date","date_whitout_milisseconds","moment","local","format","is_showing_edit_post_modal","_this$props$content$e","enable_new_topics","_this$state$user$role","canCreate","author_uid","objCpy","authorUid","highlightedUser","defaultColor","_this$state$interacti","copy","int","parsedInteraction","primary_topic_background_color","primary_topic_author_color","primary_topic_text_color","topic_button_color","secondary_topic_background_color","secondary_topic_author_color","secondary_topic_text_color","confirm_button_background_color","_message$current_page","_message$total_pages","learning_player_context_loading","elevationFor","author","forum_message","highlightedUserColor","getByLabel","getFormatDate","updateLocalInteraction","editPost","posts","_context10","_prevState$forum_mess3","element_forum_1_styled_OutlinedButton","_callee10","evt","_context11","persist","innerText","removeAttribute","_prevState$forum_mess4","_x7","_this$state10$forum_m","is_loading_more","startReview","r","composer_player_context","renderLearningPlayerContext","cancel_button_background_color","cancel_button_text_color","modal","messageCopy","containsSelectedUser","_messageCopy$children","selectedUserReplies","_this$props$content3","_this$state12$user$ro","_this$state12$all_for","forumStyle","alert_dialog","element_forum_1_review_modal","ElementDivider1","dividerContainerStyle","lineStyle","ElementDivider4","ElementDividerNumbered","divider_primary_color","circleStyle","divider_secondary_color","objectIndex","ElementHotspots1","element_hotspots_1_styled_templateObject","element_hotspots_1_styled_templateObject2","Stage","figure","element_hotspots_1_styled_templateObject3","element_hotspots_1_styled_templateObject4","showCursor","Spot","spot_styled_templateObject","posY","posX","flipped","spot_styled_templateObject2","spot_styled_templateObject3","spot_styled_templateObject4","spot_styled_templateObject5","isMoving","spot_styled_templateObject6","spot_styled_templateObject7","spot_styled_templateObject8","Tooltip","spot_styled_templateObject9","flippedY","spot_styled_templateObject10","flippedX","spot_styled_templateObject11","spot_styled_templateObject12","spot_styled_templateObject13","TooltipHeader","spot_styled_templateObject14","NavigationButton","spot_styled_templateObject15","spot_styled_templateObject16","TooltipImage","spot_styled_templateObject17","TooltipAudio","spot_styled_templateObject18","TooltipDescription","spot_styled_templateObject19","RemoveButton","spot_styled_templateObject20","CancelButton","spot_styled_templateObject21","spot_styled_templateObject22","MoveButton","spot_styled_templateObject23","markers","01","02","03","04","05","06","07","08","09","10","11","12","13","transform","14","15","16","17","18","19","20","21","22","23","24","25","26","_props$icon","icon","onClickRemove","onGrab","onMove","onRelease","onNext","onPrev","onFocus","onBlur","containerRef","tooltipRef","setExpanded","setIsMoving","_React$useState5","_React$useState6","isTryingToDelete","setIsTryingToDelete","handleClickOutside","contains","closeDragElement","elementDrag","clientX","relativePostOfMovingButton","clientY","handleCancelClick","handleConfirmClick","handleNextClick","handlePrevClick","pointerEvents","tooltip","onMouseDown","onMouseUp","spot_styled_ConfirmButton","spot_styled_CloseButton","stageRef","timeoutMoveSpot","movingSpotId","disableAddSpot","createSpot","uuidv1","hasMedia","isActive","getCoordinatesInPorcentage","rect","clientWidth","clientHeight","addSpot","_content$spots","spots","coord","newSpot","moveSpot","info","setTimeout","_content$spots2","spot","parentX","parentY","originalSpot","originalSpotIndex","handleRemoveSpot","_content$spots3","handleStartMoveSpot","handleStopMoveSpot","handleNextSpotFocus","_content$spots4","currentSpot","currentSpotIndex","nextSpot","getElementById","handlePrevSpotFocus","_content$spots5","prevSpot","_content$spots6","spot_color","image_alt","element_hotspots_1_styled_ElementHotspots1","marginTop","marginBottom","element_hotspots_1_styled_Container","element_hotspots_1_styled_Img","element_spot_spot","ElementStatement1","ElementStatement2","ElementStatement3","ElementStatement4","ElementNote1","ElementQuote1","handleChangeText","handleChangeAuthorName","getAvatarUrl","fontFamily","renderText","ElementQuote3","ElementQuote4","ElementQuote5","getBackgroundUrl","Root","element_quote_6_styled_templateObject","Carousel","element_quote_6_styled_templateObject2","Slides","element_quote_6_styled_templateObject3","Slide","element_quote_6_styled_templateObject4","Quote","element_quote_6_styled_templateObject5","Avatar","element_quote_6_styled_templateObject6","AvatarImage","element_quote_6_styled_templateObject7","AuthorInfo","element_quote_6_styled_templateObject8","AuthorName","element_quote_6_styled_templateObject9","TextContainer","element_quote_6_styled_templateObject10","element_quote_6_styled_templateObject11","Controls","element_quote_6_styled_templateObject12","ControlsLeft","element_quote_6_styled_templateObject13","ControlsLeftArrow","svg","element_quote_6_styled_templateObject14","Pages","element_quote_6_styled_templateObject15","Page","element_quote_6_styled_templateObject16","ControlsRight","element_quote_6_styled_templateObject17","ControlsRightArrow","element_quote_6_styled_templateObject18","ElementQuote6","visibleSlideIndex","element_quote_6_styled_Text","handlePageChange","slideElement","visibleSlideId","visibleItem","scrollIntoView","prevIndex","prevItem","itemElement","nextIndex","isInViewport","isVisivle","bottom","setActivePageMarker","slideId","pageMarker","getSlidePageId","resetActivePageMarkers","add","remove","getSlideId","ElementSortedActivity1","element_sorted_activity_1_styled_templateObject","element_sorted_activity_1_styled_templateObject2","ItemCardList","element_sorted_activity_1_styled_templateObject3","ItemCard","element_sorted_activity_1_styled_templateObject4","cursorStyle","draggable","isCorrect","element_sorted_activity_1_styled_templateObject5","element_sorted_activity_1_styled_templateObject6","DropPileList","element_sorted_activity_1_styled_templateObject7","DropPileItemCardList","element_sorted_activity_1_styled_templateObject8","DropPile","element_sorted_activity_1_styled_templateObject9","ResultItem","element_sorted_activity_1_styled_templateObject10","ResultPlacar","element_sorted_activity_1_styled_templateObject11","ReloadButton","element_sorted_activity_1_styled_templateObject12","isDragging","handleDragStart","dataTransfer","setData","handleDrag","handleDragEnd","getCursor","element_sorted_activity_1_styled_ItemCard","onDragStart","onDrag","movedItems","incorrectMovedItems","pileItems","piles","trackElementFinish","moved_correctly","handleDrop","pileId","getData","handleDragOver","getNotMovedItems","_content$piles","pile_color","pile_text_color","item_color","item_text_color","element_sorted_activity_1_styled_ElementSortedActivity1","element_sorted_activity_1_styled_Container","item_card","pile","onDrop","onDragOver","ElementTimeline1","element_timeline_1_styled_templateObject","TimelineList","element_timeline_1_styled_templateObject2","TimelineItem","element_timeline_1_styled_templateObject3","TimelineDate","element_timeline_1_styled_templateObject4","TimelineTitle","element_timeline_1_styled_templateObject5","TimelineDescription","element_timeline_1_styled_templateObject6","TimelineImage","element_timeline_1_styled_templateObject7","TimelineAudio","element_timeline_1_styled_templateObject8","element_timeline_1_styled_ElementTimeline1","ElementSteps1","element_steps_1_styled_templateObject","element_steps_1_styled_templateObject2","element_steps_1_styled_templateObject3","element_steps_1_styled_templateObject4","element_steps_1_styled_templateObject5","Card","element_steps_1_styled_templateObject6","element_steps_1_styled_templateObject7","element_steps_1_styled_templateObject8","element_steps_1_styled_templateObject9","CardTitle","element_steps_1_styled_templateObject10","CardDescription","element_steps_1_styled_templateObject11","CardImage","element_steps_1_styled_templateObject12","CardAudio","element_steps_1_styled_templateObject13","StartButton","element_steps_1_styled_templateObject14","RetryButton","element_steps_1_styled_templateObject15","ProgressList","element_steps_1_styled_templateObject16","ProgressItem","element_steps_1_styled_templateObject17","active","element_steps_1_styled_templateObject18","StepBadge","element_steps_1_styled_templateObject19","itemRef","itemsStringfy","trackItemView","isVisibleItem","item_data","start","step","handleResetCard","handleItemIndexChange","getCurrentItemHeight","isHidden","getItemsLength","_content$items3","hasIntro","count","getItemIndex","_content$items4","_content$items5","filteredItems","element_steps_1_styled_ElementSteps1","element_steps_1_styled_NavigationContainer","element_steps_1_styled_ChangeCardButton","element_steps_1_styled_CardList","minHeight","from","_","nextProps","element_quiz_3_styled_templateObject","ElementQuiz3","sameTextChoice","element_quiz_3_styled_ElementQuizContainer","ElementAttachment1","element_attachment_1_styled_templateObject","AttachmentList","element_attachment_1_styled_templateObject2","AttachmentItem","element_attachment_1_styled_templateObject3","Attachment","element_attachment_1_styled_templateObject4","Information","element_attachment_1_styled_templateObject5","FileName","element_attachment_1_styled_templateObject6","FileSize","element_attachment_1_styled_templateObject7","AttachmentIcon","element_attachment_1_styled_templateObject8","FileIcon","element_attachment_1_styled_templateObject9","LeftContainer","element_attachment_1_styled_templateObject10","RightContainer","element_attachment_1_styled_templateObject11","getBytes","bytes","element_attachment_1_styled_ElementAttachment1","original_url","filename","element_gallery_1_styled_templateObject","element_gallery_1_styled_templateObject2","element_gallery_1_styled_templateObject3","element_gallery_1_styled_templateObject4","Item","element_gallery_1_styled_templateObject5","element_gallery_1_styled_templateObject6","Image","element_gallery_1_styled_templateObject7","element_gallery_1_styled_templateObject8","element_gallery_1_styled_templateObject9","element_gallery_1_styled_templateObject10","element_gallery_1_styled_templateObject11","element_gallery_1_styled_templateObject12","element_gallery_1_styled_templateObject13","element_gallery_1_styled_templateObject14","element_gallery_1_styled_templateObject15","element_gallery_1_styled_templateObject16","element_gallery_1_styled_templateObject17","ElementGallery1","element_gallery_1_styled_ImageContainer","element_gallery_1_styled_Root","element_gallery_1_styled_Carousel","element_gallery_1_styled_Slides","element_gallery_1_styled_Slide","element_gallery_1_styled_Controls","element_gallery_1_styled_ControlsLeft","element_gallery_1_styled_ControlsLeftArrow","element_gallery_1_styled_Pages","element_gallery_1_styled_Page","element_gallery_1_styled_ControlsRight","element_gallery_1_styled_ControlsRightArrow","ElementButton1","element_button_1_styled_templateObject","ButtonList","element_button_1_styled_templateObject2","ButtonItem","element_button_1_styled_templateObject3","ButtonLink","element_button_1_styled_templateObject4","ButtonLabel","element_button_1_styled_templateObject5","getDestinationUrl","element_button_1_styled_ElementButton1","htmlFor","ElementCodeSnippet1","element_code_snippet_1_styled_templateObject","SnippetList","element_code_snippet_1_styled_templateObject2","SnippetItem","element_code_snippet_1_styled_templateObject3","Figure","element_code_snippet_1_styled_templateObject4","Pre","pre","element_code_snippet_1_styled_templateObject5","FigCaption","figcaption","element_code_snippet_1_styled_templateObject6","CopyButton","element_code_snippet_1_styled_templateObject7","CopyButtonIcon","element_code_snippet_1_styled_templateObject8","codeRef","copied","getCaptionAriaProps","handleCopyItemCodeText","navigator","clipboard","writeText","element_code_snippet_1_styled_ElementCodeSnippet1","checkCircleIcon","copyIcon","Element3d","Helmet","class","file","shadow-intensity","ar","ar-modes","camera-controls","touch-action","slot","interaction_monitor_wrapper_styled_templateObject","IconsList","interaction_monitor_wrapper_styled_templateObject2","InteractionStatusContainer","interaction_monitor_wrapper_styled_templateObject3","InteractionCounter","interaction_monitor_wrapper_styled_templateObject4","InteractionMonitorObjectWrapper","objectInteractionMonitor","isOnScreen","isRequiredInteraction","setIsRequiredInteraction","completed","setCompleted","setInteraction","elementView","required_interaction","completedObjects","interactionActionsCount","interactions","onObjectInteractionEvent","interaction_monitor_wrapper_styled_Container","show_interaction_progress","throttle","func","delay","getTime","WrappedComponent","ConditionalLazyLoad","elementId","scrollToId","home_excluded","lib_default","ViewHome","scrollTo","elem","need_scroll_to_element_id","MutationObserver","subtree","childList","handleRedirectObject","scormApi","unpacked","suspendData","getAPIHandle","LMSInitialize","LMSGetValue","lzw","unpack","redirectToObject","handleLoad","contentReady","scormAPI","lessionStatus","handleScroll","renderCompleted","timerStart","progressPage","scrollY","limitPage","scrollPage","sessionTimer","MillisecondsToCMIDuration","suspendDataIsValid","prepareSuspendData","suspendDataUpdate","suspend_data","quizUpdated","suspendDataFinish","loadRequiredObjectsState","isAllRequired","requiredObjects","objectsData","_objectInteractionMonitor","setCompletedObjects","setRequiredObjects","updateCurrentObjectOnSuspendData","current_object_id","notifySummaryUpdated","composition","timer","scrollToEnd","prerequisites","scoreQuizzes","summary_items","summary_items_current","summary_items_render","show_summary","finish_btn","can_track_object","Sdk","insights","createXapiTracking","endpoint","anchorTags","getElementsByTagName","cordova","CordovaExec","components","response","prototype","replaceAll","RegExp","initListeners","loadStructure","atob","notifySuspendDataUpdated","notiftSessionUpdated","notiftLocationUpdated","notifyStatusUpdated","notifyCommit","notifyProtocol","quizzes","quiz","statusUpdated","reduce","sum","finishActivity","current_summary_item","hms","dtm","setTime","h","getMinutes","getSeconds","cs","round","getMilliseconds","substr","sendPostMessage","rdp_composer_structure","parent","postMessage","userData","tempItems","lastItem","filtered","adjustStructure","sendStructurePostMessage","interface","_GTM","initialize","gtm_container_id","hasIndex","originalJson","accessToken","mapReplaced","_loop2","urlBase","newUrl","sortQuestionChoices","random_order","pack","LMSSetValue","LMSCommit","addDataLayerEvent","customListenerTrack","path","unshift","ui","childrensIDs","transformFontToSlug","toggleIndexMenu","changeIndexItemsCurrent","home_ConditionalLazyLoad","once","offset","element_head_1_ElementHead1","scrolling","element_text_ElementText","element_text_two_column_ElementTextTwoColumn","element_list_ElementList","element_image_ElementImage","element_image_and_text_ElementImageAndText","element_image_with_text_ElementImageWithText","element_audio_ElementAudio","element_video_ElementVideo","element_accordion_ElementAccordion","element_tabs_ElementTabs","element_iframe_ElementIframe","element_flashcards_1_ElementFlashcard1","element_flashcards_2","element_quiz_1_ElementQuiz1","content_language","element_quiz_2_ElementQuiz2","element_quiz_3_ElementQuiz3","element_quiz_4_ElementQuiz4","element_quiz_5_ElementQuiz5","element_quiz_6_ElementQuiz6","elements_images_gallery","element_forum_1_ElementForum1","element_divider_1_ElementDivider1","element_divider_4_ElementDivider4","element_divider_numbered_ElementDividerNumbered","getElementIndexByType","element_hotspots_1","element_statement_1_ElementStatement1","element_statement_2_ElementStatement2","element_statement_3_ElementStatement3","element_statement_4_ElementStatement4","element_gallery_1","element_note_1_ElementNote1","element_quote_1_ElementQuote1","element_quote_2_ElementQuote1","element_quote_3_ElementQuote3","element_quote_4_ElementQuote4","element_quote_5_ElementQuote5","element_quote_6","element_sorted_activity_1","element_timeline_1","element_steps_1","element_attachment_1","element_button_1","element_code_snippet_1","element_3d_Element3d","lastIndex","user_log_UserLog","template","getTemplate","renderUserLog","withGTM","container","dataLayer","gtm.start","async","setAttribute","insertAdjacentElement","noscript","iframe","display","visibility","setEvents","_React$useState7","_React$useState8","_React$useState9","_React$useState10","setInteractionActionsCount","checkIfHasCompletedAllObjects","checkIfHasCompletedObject","completedObject","viewed","clicked","itensClicked","clickedAllCards","addCompletedObject","quizResultTypes","sendMessageToPlayer","objectEvents","required_objects","completed_objects","newEvents","katex","App","Route","exact","component","Boolean","hostname","ReactDOM","render","HashRouter","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.359f072b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/drag.d4eb5d44.svg\";","module.exports = \"data:image/gif;base64,R0lGODlh2gCVAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAA2gCVAAAI/wABCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnzx8ZJGAA+qaCBAoKDiBQGmWAAwUTyCa4IECA1iYJKFDggKDsBAMJ2DaA2+RuBbcF/h5owPaA4iUP7EYwcDmAAcOhm0SwGzYA67YDsP/WTjLAcdbLsQdYQFD9ePIUAyBAQHqgg+4GhQdv7hx+RQbzIeBAcgsoUF9CtYXHnn8VORCggM8xFF4ABrzHYHwOBtiQehFeiBGACCTHUIceZkSAdyXuNOFwFqaI0AIMHCDjjBCtmJ2LCs2oI4oN2VghjgrBuCOPQNZEYpETHZkQh0hKxCRD/FHYYpMIERAlcQ0laNuCVL44IZZLimhleEp2eV14PwoknkHqcXldc1OaKVwAJCb4XHhq2hanmQ3NmRyeZ1LI50T8RQgoAIUOCpF6YB7qp6IP8ffeoQAkCKlDWxJE6XV7XloQAUc2B6anF1nZKamopqrqqqy26uqrsMY/KuustNZq66245qrrrrz26uuvwAYr7LDEFmvsscgmq+yyzDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGe1JAACH5BAUFAAAALF0AOgAYABcAAAiZAAEIHEiwoIIABRMqHIhAAYKCBxgslEhQgUWCCBIkUIjgYcWLAhloVMCxo4GBFkkKVKDxgEIGHR2gBHlg5EIADjpSTAlggMYEFBd29MjTgUaPPQ8cOIkRKUGRCwYaUKp0gMABCBDeJBiAakQCWxcO8Ooy7MKpB6Kaval1rduwBAwEmEv3LQC5dOu+jZt3rt2/gAMLHnxT7dqAACH5BAUFAAAALF4AOgAdAA4AAAiZAAEIHEhwYAAEBRMqXAjAAQIHCQMwHDjAQEEEGAk6UKBgosADByQOxIhQYACOJSeCPDBgZEaBCDh6FGhgpcuUKGcKZADSIgCSAAhwVCByIIGFA2z+zHiAI8SBBxIkYEAggIGWA3mGVNhxpwKpCVgGGGvgaNADCyYuQAA2QckFY8em1dmWKEECBuL69Bg1LNKxWGc6CIxUJ8OAACH5BAUFAAAALGQAOgAZABEAAAiPAAEIHAhgwYEFBBMqXMjgAIOEDxcCIDAg4YGLCREgkBggAMKBFw8Q1CgRQMcABEBiFOhAY0SFAzoaUCkSAAONDkoCMNCxIoCQAjVu1EngpECgAEgmVKAgAMEFPRUGQOBzKlMFUn2WdHBVQU6dC7sOJegUrE2mZsEeSJm2rVuFCeLKVfCyrdy7Cd4CwJuAbkAAIfkEBQUAAAAsawA6ABIAGAAACIsABzAYAKCgwYMIAzBACMAAQYYAGEg8yODAAYgRJxYcYPEiRIkLC3Y0gBFkQQMdMWYM2fHhx4kBLIYsyAABAowLDhAw6MAmgpkQCfq8qbLgUAckixr9qbSp06cFFUidSlTl1KsKimJVgCAAVKcHXDY9kCCBx6ZlyyoAihNB2gRVizJQkPasUrIJvAYEACH5BAUFAAAALGsAOgASAB4AAAipAAkYIACgoMGDCA0EMIBwAcKDASJCZMDgYcGIAQ5SzGgRo8EAFB12lAhgAcWKFgF4BHAy5UWJJhlwLGjgwIEBFgfMHGDTJkOXBBj0PIDS5dCbLg0u8JkU4cymUJMimErVwdOHVLMikKrVQdSvBgl+ZaBAAdiyZRFczekArQKvFg8kEBkAAVqLDhIk2HrQrkUCehMUbSo3gdmvCvQe+BogMFgEesVGJWoxIAAh+QQFBQAAACxsADsAEQAfAAAIpAABCBwIYAABgggRLggQIKFDAgwNOExogOGAiQQHRMRIkGGAgxwLMlyQkSFIgicBEKhokeNCjyQxegxgIKVDjQEuhhSoc6dPhweCCmUQE6jQoxiPBiX6s6nPAAgQMPAZNaqDn1URTGSggKCDqlMJHlCg4OrAqVoBJFgrkKyChg7XJhhINm1CuQMRkJ2Il+7eu2wHOviLsG9HhwoSdPXJIEHYnQEBACH5BAUFAAAALGUASAAYABIAAAiTAAEIHEiwIIAACBMaIGCw4cCEEA04dAgR4cKJGDNiDKAR44IDByR2NAiy5ICRBAkwKHmAwcgACE4CGMBSJIAFCQ40RICgoAGQMgEgSJDAAQAFSAXy7DmRAdEEDJEqEMiAp1GHCojqPJpUoAOeLkkSnSpQKsGlDbMmCMuV7ECeDYkyLdt1INuCKwsiUDAX5UO3GgMCACH5BAUFAAAALF8ATAAdAA4AAAigAAEIHEiwoEEAAw4SHOBAocEBAQIkPHggQYIDDgkaiBjAAAGCARRYtJiR4AKOARYIRDAyAQKVDhcc+AiAwMaIAypaVMBA4ACeBgMcONBz4ICNBBhYxDjQgQIFGBFIFTj0wESDNAeGfLpyKgADVUsORMC1K4KBDIYaEAvg6VmzRsOWJKsgwFivAtMyzfi04d23Aw1cdWi3oAMEftmKBVwyIAAh+QQFBQAAACxdAEkAGQARAAAIjQAZKEhAsCCAgwgTKjxYsGGChRATCnT4MKLFixgvEjiQEaMCBQw6QkTw8aPIhA5KKnCAcUCAhSURvDwoc6HLAAsSBjCpEAGCgweCHgxAlABGnz8BBOUI4KaBiw58hlQq9KABogMiMvDJEmhVAASIzhyZ1CvTgwuIRvSpcKnCAUa1KmRwYOpJhQsO5FwYEAAh+QQFBQAAACxeAEIAEQAYAAAIgQADJEhwAIDBgwgPHhiYQAGDhBABIGCYAMGCiAgZKKCIMeFCgh0TDigYsqTJkyhTqlyJkQECBCYNOHj5siRNmAM6unzp4CCBAxchvnx4kMGBAwEABFiKceRRg0uTRjx6wABUphANUD0YderRnFelekSKsCvEAWINGghg9SQBAwQCAgAh+QQFBQAAACxdADwADgAdAAAImQABCBwIgMEBgggHJkiAICHChQkCOBx4YKGCiQMVLDyIkQHEARkbEkSw0EFGBQoQSASwIAFHgQ5QonQA0mEABDIvYgSAksFOAAR+7gzgAIHRowmPKhVJkOhSpkKjrsRo4MCBBRMHWN3q0OBWBkERVrXKAKvAAGEBaD1ggOCCAAFqOiQAd6pDA3DlJhwAty1VuGltBjCLkYDegAA7\"","module.exports = \"data:image/gif;base64,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\"","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/copy.a3c00457.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-circle.dbe57287.svg\";","module.exports = __webpack_public_path__ + \"static/media/image-1.e69dfd15.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-2.86947c34.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-3.cd0d3d4d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-4.11d32b56.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-5.c4ddcbaf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-6.54678425.jpg\";","var visibleElement = function() {\n  this.visible = function(el) {\n    var top = el.offsetTop;\n    var left = el.offsetLeft;\n    var width = el.offsetWidth;\n    var height = el.offsetHeight;\n\n    while(el.offsetParent) {\n      el = el.offsetParent;\n      top += el.offsetTop;\n      left += el.offsetLeft;\n    }\n\n    return (\n      top < (window.pageYOffset + window.innerHeight) &&\n      left < (window.pageXOffset + window.innerWidth) &&\n      (top + height) > window.pageYOffset &&\n      (left + width) > window.pageXOffset\n    );\n  }\n\n  return this;\n}\n\nvar VisibleElement = new visibleElement();\n\nexport {\n    VisibleElement\n};\n\n\n\n","var stringFormat = function() {\n  this.HtmlToText = function(html) {\n    return html.replace(/<[^>]*>/g, '');\n  }\n  return this;\n}\n\nvar StringFormat = new stringFormat();\n\nexport {\n  StringFormat\n};","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-head-1.css';\n\nexport default class ElementHead1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"header-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  renderCategory() {\n    var content = this.props.content;\n\n    if (content.show_category === false) return null;\n\n    return <div className=\"rdp-element-head-1-category\" dangerouslySetInnerHTML={{__html: content.category}}/>\n  }\n\n  renderAvatar() {\n    var content = this.props.content;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-head-1-avatar\" style={{borderColor: content.avatar_border_color}}>\n        <img\n          style={avatarSize === \"width\" ? {width: \"102%\"} : {height: \"102%\"}}\n          src={content.avatar}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  renderAuthorInfo() {\n    var content = this.props.content;\n\n    if (content.show_author_name === false) return null;\n\n    return <div className=\"rdp-element-head-1-author-info\">\n      <div className=\"rdp-element-head-1-author-name\" dangerouslySetInnerHTML={{__html: content.author_name}}/>\n      <span className=\"rdp-element-head-1-author-divider\" style={{color: content.primary_color}}> | </span>\n      <div className=\"rdp-element-head-1-author-office\" dangerouslySetInnerHTML={{__html: content.author_office}}/>\n    </div>\n  }\n\n  renderDivider() {\n    let { content } = this.props;\n\n    if (content.show_divider === false) return null;\n\n    var secondaryColor = this.props.content.secondary_color;\n    return <div className=\"rdp-element-head-1-divider\" style={{backgroundColor: secondaryColor}}></div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var content = this.props.content;\n    \n    return (<div id={content.id} ref={this.elementRef} className={`rdp-element-head-1 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundImage: `url(${content.background_image})` }}>\n      {this.renderCategory()}\n      {this.renderAvatar()}\n      {this.renderAuthorInfo()}\n      {this.renderDivider()}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-text.css';\n\nexport default class ElementText extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        }\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var content = this.props.content;\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div id={content.id} ref={this.elementRef} className={`rdp-element-text ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-text-content\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-text-two-column.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementTextTwoColumn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"text-two-column\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(position, text) {\n    var content = this.props.content;\n    content.items[position] = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-text-two-column ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-text-two-column-items\">\n        <div className=\"rdp-element-text-two-column-item first\">\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.items[0]}}></div>\n        </div>\n        <div className=\"rdp-element-text-two-column-item last\">\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.items[1]}}></div>\n        </div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-list.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": this.props.content,\n      \"active_items\": [],\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"list\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackElementClick(itemId) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"list-2\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  handleChange(text, index) {\n    var content = this.state.content;\n    content.items[index].text = text;\n    this.setState({\n      \"content\": content\n    });\n    this.props.onChange(content);\n  }\n\n  renderQuill(item) {\n    return <div className=\"editor\" dangerouslySetInnerHTML={{__html: item.text}}></div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  onItemCheck(id) {\n    if (!this.isItemActive(id)) {\n      var items = this.state.active_items;\n      items.push(id);\n      this.setState({\n        \"items\": items\n      });\n      this.trackElementClick(id);\n    }\n  }\n\n  isItemActive(id) {\n    var items = this.state.active_items;\n    return items.filter(item => item === id).length > 0;\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var listStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n    \n    return <div ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={listStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-list-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className=\"element-list-item\">\n            {content.type === \"list-1\" &&\n              <span className=\"element-list-item-number\" style={{\n                backgroundColor: content.primary_color,\n                color: content.secondary_color\n              }}>{index + 1}</span>\n            }\n            {content.type === \"list-2\" &&\n              <span className=\"element-list-item-checkbox\"\n                style={{\n                  borderColor: content.primary_color,\n                  color: content.secondary_color\n                }}\n                onClick={() => _this.onItemCheck(item.id)}\n              >\n                {_this.isItemActive(item.id) &&\n                  <span className=\"element-list-item-checkbox-checked\" style={{backgroundColor: content.primary_color}}>\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"768\" height=\"768\" viewBox=\"0 0 768 768\">\n                      <path fill={content.secondary_color} d=\"M617.376 169.376l-329.376 329.376-137.376-137.376c-12.512-12.512-32.768-12.512-45.248 0s-12.512 32.768 0 45.248l160 160c12.512 12.512 32.768 12.512 45.248 0l352-352c12.512-12.512 12.512-32.768 0-45.248s-32.768-12.512-45.248 0z\"></path>\n                    </svg>\n                  </span>\n                }\n              </span>\n            }\n            {content.type === \"list-3\" &&\n              <span className=\"element-list-item-bullet\" style={{backgroundColor: content.primary_color}}></span>\n            }\n            <div className=\"element-list-item-text\">\n              {_this.renderQuill(item, index)}\n            </div>\n          </li>\n        })}\n      </ul>\n      {footerActionsTemplate}\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport './element-image.css';\n\nexport default class ElementImage extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n    this.zoomImgRef = React.createRef();\n\n    this.state = {\n      \"visible\": false,\n      \"zoom_enabled\": false,\n      \"inner_width\": window.innerWidth,\n      \"inner_height\": window.innerHeight - 60,\n      \"img_zoom_width\": \"100%\",\n      \"img_zoom_height\": \"auto\"\n    }\n\n    this.onResizeWindow = this.onResizeWindow.bind(this);\n    this.refreshZoomOnResize = this.refreshZoomOnResize.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    this.onResizeIframe();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResizeWindow);\n  }\n\n  onResizeIframe() {\n    window.addEventListener(\"resize\", this.onResizeWindow);\n  }\n\n  onResizeWindow() {\n    this.refreshZoomOnResize();\n    this.resizeImage();\n  }\n\n  resizeImage() {\n    // \"zoom_enabled\": false,\n    this.setState({\n      \"width\": window.innerWidth,\n      \"height\": window.innerHeight - 60\n    })\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.image\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getImgStyle() {\n    var style = {};\n    var content = this.props.content;\n\n    if (content.type === \"image-1\") {\n      if (content.width !== null) {\n        style.width = content.width + \"px\"\n      };\n    };\n\n    if (content.zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    return style;\n  }\n\n  toggleZoomImage() {\n    this.setState({\n      \"zoom_enabled\": !this.state.zoom_enabled\n    })\n  }\n\n  getWrapperStyle() {\n    var obj = {\n      width: `${this.state.inner_width}px`,\n      height: `${this.state.inner_height}px`\n    }\n    return obj\n  }\n\n  getImgDynamicStyle() {\n    return {\n      \"width\": this.state.img_zoom_width,\n      \"height\": this.state.img_zoom_height\n    }\n  }\n\n  onLoad(e) {\n    var width = \"100%\";\n    var height = \"auto\";\n    var calcHeight = e.target.naturalHeight / (window.innerHeight - 60);\n    var calcWidth = e.target.naturalWidth / window.innerWidth;\n\n    if (calcHeight > calcWidth) {\n      width = \"auto\";\n      height = \"100%\";\n    };\n\n    this.setState({\n      \"img_zoom_width\": width,\n      \"img_zoom_height\": height\n    });\n  }\n\n  renderIconZoomIn() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z\"></path>\n    </svg>\n  }\n\n  renderIconZoomOut() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z\"></path>\n    </svg>\n  }\n\n  renderIconClose() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z\"></path>\n    </svg>\n  }\n\n  refreshZoomOnResize() {\n    const {zoom_enabled} = this.state;\n\n    let zoom_enabled_new = zoom_enabled;\n\n    this.setState({\n      \"zoom_enabled\": false\n    }, () => {\n      if (zoom_enabled_new) {\n        this.setState({\n          \"zoom_enabled\": true\n        })\n      }\n    })\n  }\n\n  render() {\n    var content = this.props.content;\n    var imageStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (\n      <div id={content.id} ref={this.elementRef} className={this.props.className} style={imageStyle}>\n\n        <figure\n          aria-labelledby={`caption-${content.id}`}\n        >\n          {content.zoom &&\n            <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={content.image}/>\n          }\n          {!content.zoom &&\n            <img style={this.getImgStyle()} src={content.image}/>\n          }\n\n          {content.caption && (\n            <figcaption id={`caption-${content.id}`}>\n              <div\n                dangerouslySetInnerHTML={{__html: content.caption}}\n              />\n            </figcaption>\n          )}\n        </figure>\n\n        {this.state.zoom_enabled &&\n          <TransformWrapper\n            maxScale={content.zoom_max_level || 3}\n            centerZoomedOut={true}\n            centerOnInit={true}\n          >\n            {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\n              <React.Fragment>\n                <div className=\"element-image-1-modal\">\n                  <div className=\"element-image-1-modal-header\" style={{backgroundColor: content.zoom_header_background_color || \"#FFFFFF\"}}>\n                    <div className=\"element-image-1-modal-header-zoom-btns\">\n                      <span className=\"element-image-1-modal-header-zoom-btn\" onClick={() => zoomIn()}>{this.renderIconZoomIn()}</span>\n                      <span className=\"element-image-1-modal-header-zoom-btn\" onClick={() => zoomOut()}>{this.renderIconZoomOut()}</span>\n                    </div>\n                    <span className=\"element-image-1-modal-header-close-btn\" onClick={() => this.toggleZoomImage()}>{this.renderIconClose()}</span>\n                  </div>\n                  <div className=\"element-image-1-modal-body\">\n                    <TransformComponent wrapperStyle={this.getWrapperStyle()} contentStyle={this.getWrapperStyle()}>\n                      <img ref={this.zoomImgRef} style={this.getImgDynamicStyle()} src={content.image} onLoad={(e) => this.onLoad(e)}/>\n                    </TransformComponent>\n                  </div>\n                </div>\n              </React.Fragment>\n            )}\n          </TransformWrapper>\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport 'animate.css/animate.min.css';\nimport './element-image-and-text.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementImageAndText extends Component {\n  constructor(props) {\n    super(props);\n    this.zoomImgRef = React.createRef();\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"zoom_enabled\": false,\n      \"inner_width\": window.innerWidth,\n      \"inner_height\": window.innerHeight - 60,\n      \"img_zoom_width\": \"100%\",\n      \"img_zoom_height\": \"auto\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.onResizeWindow = this.onResizeWindow.bind(this);\n    this.refreshZoomOnResize = this.refreshZoomOnResize.bind(this);\n  }\n\n  componentDidMount() {\n    // this.resizeWebview();\n    this.onResizeIframe();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResizeWindow);\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image-and-text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  onResizeIframe() {\n    window.addEventListener(\"resize\", this.onResizeWindow);\n  }\n\n  onResizeWindow() {\n    this.refreshZoomOnResize();\n    this.resizeImage();\n  }\n\n  resizeImage() {\n    // \"zoom_enabled\": false,\n    this.setState({\n      \"width\": window.innerWidth,\n      \"height\": window.innerHeight - 60\n    })\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  getImgStyle() {\n    var content = this.props.content;\n    var style = {\n      \"width\": content.image_width\n    };\n    \n    if (content.zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    if (content.image_border_radius) {\n      style.borderRadius = content.image_border_radius + \"px\";\n    };\n\n    return style;\n  }\n\n  toggleZoomImage() {\n    this.setState({\n      \"zoom_enabled\": !this.state.zoom_enabled\n    })\n  }\n\n  getWrapperStyle() {\n    var obj = {\n      width: `${this.state.inner_width}px`,\n      height: `${this.state.inner_height}px`\n    }\n    return obj\n  }\n\n  getImgDynamicStyle() {\n    return {\n      \"width\": this.state.img_zoom_width,\n      \"height\": this.state.img_zoom_height\n    }\n  }\n\n  onLoad(e) {\n    var width = \"100%\";\n    var height = \"auto\";\n    var calcHeight = e.target.naturalHeight / (window.innerHeight - 60);\n    var calcWidth = e.target.naturalWidth / window.innerWidth;\n\n    if (calcHeight > calcWidth) {\n      width = \"auto\";\n      height = \"100%\";\n    };\n\n    this.setState({\n      \"img_zoom_width\": width,\n      \"img_zoom_height\": height\n    });\n  }\n\n  renderIconZoomIn() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM224 224v-64h64v64h64v64h-64v64h-64v-64h-64v-64h64z\"></path>\n    </svg>\n  }\n\n  renderIconZoomOut() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M412.8 458.24c-42.889 33.57-97.603 53.832-157.048 53.832-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256 0 59.446-20.262 114.159-54.256 157.611l0.424-0.562 171.2 170.56-45.44 45.44-170.56-170.88zM256 448c106.039 0 192-85.961 192-192s-85.961-192-192-192v0c-106.039 0-192 85.961-192 192s85.961 192 192 192v0zM160 224h192v64h-192v-64z\"></path>\n    </svg>\n  }\n\n  renderIconClose() {\n    var color = this.props.content.zoom_icons_color || \"#000\";\n\n    return <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"640\" viewBox=\"0 0 640 640\">\n      <path fill={color} d=\"M320 274.752l-226.272-226.272-45.248 45.248 226.272 226.272-226.272 226.272 45.248 45.248 226.272-226.272 226.272 226.272 45.248-45.248-226.272-226.272 226.272-226.272-45.248-45.248-226.272 226.272z\"></path>\n    </svg>\n  }\n\n  refreshZoomOnResize() {\n    const {zoom_enabled} = this.state;\n\n    let zoom_enabled_new = zoom_enabled;\n\n    this.setState({\n      \"zoom_enabled\": false\n    }, () => {\n      if (zoom_enabled_new) {\n        this.setState({\n          \"zoom_enabled\": true\n        })\n      }\n    })\n  }\n\n  handleTextChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getImgStyle() {\n    var {\n      image_width,\n      image_position,\n      zoom,\n      image_border_radius\n    } = this.props.content;\n\n    var style = {\n      \"width\": `calc(${image_width} - 20px)`\n    };\n\n    if (image_position === \"left\") {\n      style.marginRight = \"20px\";\n    } else {\n      style.marginLeft = \"20px\";\n    }\n    \n    if (zoom) {\n      style.cursor = \"zoom-in\";\n    };\n\n    if (image_border_radius) {\n      style.borderRadius = image_border_radius + \"px\";\n    };\n\n    return style;\n  }\n\n  getTextStyle() {\n    var { image_width, image_position } = this.props.content;\n    var style = {};\n\n    if (image_position === \"left\") {\n      style.marginLeft = \"20px\";\n    } else {\n      style.marginRight = \"20px\";\n    }\n\n    var width = style.width = 100 - parseInt(image_width.split(\"%\")[0]);\n    style.width = `calc(${width}% - 20px)`;\n\n    return style;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n    var containerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div ref={this.elementRef} className={`element-image-and-text ${this.getFont(content.font_family) || \"\"}`} style={containerStyle}>\n\n    {content.image_position === \"left\" &&\n      <div className=\"element-image-and-text-container left\">\n        {content.zoom &&\n          <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n        {!content.zoom &&\n          <img style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n\n        <div className=\"element-image-and-text-container-text\" style={this.getTextStyle()}>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n        </div>\n      </div>\n    }\n\n    {content.image_position === \"right\" &&\n      <div className=\"element-image-and-text-container right\">\n        <div className=\"element-image-and-text-container-text\" style={this.getTextStyle()}>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n        </div>\n\n        {content.zoom &&\n          <img onClick={() => this.toggleZoomImage()} style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n        {!content.zoom &&\n          <img style={this.getImgStyle()} src={this.getImageUrl(content.image)}/>\n        }\n      </div>\n    }\n\n    {this.state.zoom_enabled &&\n      <TransformWrapper\n        maxScale={content.zoom_max_level || 3}\n        centerZoomedOut={true}\n        centerOnInit={true}\n      >\n        {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\n          <React.Fragment>\n            <div className=\"element-image-and-text-modal\">\n              <div className=\"element-image-and-text-modal-header\" style={{backgroundColor: content.zoom_header_background_color || \"#FFFFFF\"}}>\n                <div className=\"element-image-and-text-modal-header-zoom-btns\">\n                  <span className=\"element-image-and-text-modal-header-zoom-btn\" onClick={() => zoomIn()}>{this.renderIconZoomIn()}</span>\n                  <span className=\"element-image-and-text-modal-header-zoom-btn\" onClick={() => zoomOut()}>{this.renderIconZoomOut()}</span>\n                </div>\n                <span className=\"element-image-and-text-modal-header-close-btn\" onClick={() => this.toggleZoomImage()}>{this.renderIconClose()}</span>\n              </div>\n              <div className=\"element-image-and-text-modal-body\">\n                <TransformComponent wrapperStyle={this.getWrapperStyle()} contentStyle={this.getWrapperStyle()}>\n                  <img ref={this.zoomImgRef} style={this.getImgDynamicStyle()} src={this.getImageUrl(content.image)} onLoad={(e) => this.onLoad(e)}/>\n                </TransformComponent>\n              </div>\n            </div>\n          </React.Fragment>\n        )}\n      </TransformWrapper>\n    }\n  </div>\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-image-with-text.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementImageWithText extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"image-with-text\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  handleTextChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var containerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return <div ref={this.elementRef} className={`element-image-with-text ${this.getFont(content.font_family) || \"\"}`} style={containerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-image-with-text-container\" style={{\n        backgroundImage: `url(${this.getImageUrl(content.image)})`\n      }}>\n        <div className=\"element-image-with-text-container-opacity\" style={{\n          opacity: content.opacity,\n          backgroundColor: content.opacity_color\n        }}></div>\n        <div className=\"element-image-with-text-container-center\">\n          <div className=\"element-image-with-text-container-line\">\n            <div className=\"element-image-with-text-container-divider\" style={{backgroundColor: content.divider_color}}></div>\n          </div>\n          <div className=\"element-image-with-text-container-text\">\n            <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n          </div>\n        </div>\n      </div>\n      {footerActionsTemplate}\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-audio.css';\n\nexport default class ElementAudio extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.onAudioPlay = this.onAudioPlay.bind(this);\n    this.onAudioPause = this.onAudioPause.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"audio\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"url\": content.audio,\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        \n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(verb, current, duration) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"audio\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": verb,\n      \"metadata\": {\n        \"url\": content.audio,\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"time\": {\n          \"current\": current,\n          \"duration\": duration,\n          \"progress\": current / duration * 100\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  onAudioPlay(e) {\n    this.trackEvent(\"played\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioPause(e) {\n    this.trackEvent(\"paused\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioEnded(e) {\n    this.trackEvent(\"ended\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onAudioSeeking(e) {\n    this.trackEvent(\"skipped\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  render() {\n    var content = this.props.content;\n    var audioStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={audioStyle}>\n      <audio\n        controls src={content.audio}\n        onPlay={(e) => this.onAudioPlay(e)}\n        onPause={(e) => this.onAudioPause(e)}\n        onEnded={(e) => this.onAudioEnded(e)}\n        onSeeking={(e) => this.onAudioSeeking(e)}\n      ></audio>\n    </div>)\n  }\n}\n","let loader = false\n\nexport default (skin = 'amp-default') => {\n  if (!loader && !window.amp) {\n    loader = new Promise((resolve, reject) => {\n      let scriptTag = document.createElement('script')\n      let linkTag = document.createElement('link')\n      linkTag.rel = 'stylesheet'\n      scriptTag.id = 'amp-azure'\n      scriptTag.src = '//amp.azure.net/libs/amp/2.3.10/azuremediaplayer.min.js'\n      linkTag.href = `//amp.azure.net/libs/amp/2.3.10/skins/${skin}/azuremediaplayer.min.css`\n      document.body.appendChild(scriptTag)\n      document.head.insertBefore(linkTag, document.head.firstChild)\n      scriptTag.onload = () => resolve({ skin: skin })\n    })\n  }\n  return loader || Promise.resolve({skin: skin})\n}\n","import React, { Component } from 'react'\nimport loadLibrary from './load-library'\nimport classNames from 'classnames'\nimport styles from './mp-component.css'\n\nconst DEFAULT_SKIN = 'amp-default'\n// const DEFAULT_RATIO = [16, 9]\nconst DEFAULT_RATIO = false\n\nclass AzureMP extends Component {\n  constructor(props) {\n    super(props)\n    this.videoNode = React.createRef()\n  }\n  destroyPlayer() {\n    this.player && this.player.dispose()\n  }\n  componentWillUnmount() {\n    this.destroyPlayer()\n  }\n  componentDidMount() {\n    const { skin } = this.props\n    this.initialization = loadLibrary(skin).then(() => {\n      this.createPlayer()\n      this.setVideo()\n    })\n  }\n  // componentDidUpdate(prevProps) {\n  //   if (\n  //     prevProps.src !== this.props.src ||\n  //     prevProps.tracks !== this.props.tracks\n  //   ) {\n  //     this.initialization.then(() => this.setVideo())\n  //   }\n  // }\n  setVideo() {\n    const { src, tracks } = this.props;\n    this.player.src(src, tracks)\n  }\n  createPlayer() {\n    const { options, onInstanceCreated } = this.props\n    const defaultOptions = {\n      controls: true,\n      logo: { enabled: false }\n    }\n    this.player = window.amp(\n      this.videoNode.current,\n      Object.assign({}, defaultOptions, options)\n    )\n    onInstanceCreated && onInstanceCreated(this.player)\n  }\n  getRatioStyles(ratio) {\n    if (!ratio) {\n      return {}\n    }\n    return { paddingBottom: (ratio[1] / ratio[0]) * 100 + '%' }\n  }\n  render() {\n    const {\n      className,\n      skin = DEFAULT_SKIN,\n      adaptRatio = DEFAULT_RATIO,\n      cornerPlayBtn\n    } = this.props\n    return (\n      <div\n        style={this.getRatioStyles(adaptRatio)}\n        className={classNames(\n          { [styles['azure-mp-container']]: adaptRatio },\n          className\n        )}>\n        <video\n          crossOrigin=\"anonymous\"\n          ref={this.videoNode}\n          className={classNames('azuremediaplayer', `${skin}-skin`, {\n            'amp-big-play-centered': !cornerPlayBtn\n          })}\n        />\n      </div>\n    )\n  }\n}\n\nexport default AzureMP\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport { AzureMP } from '../../libs/react-azure-mp/index';\nimport './element-video.css';\n\nexport default class ElementVideo extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false,\n      \"azure_video_url\": null,\n      \"azure_url\": null,\n      \"azure_mime_type\": null,\n      \"azure_subtitles\": null,\n      \"render_azure_player\": window.location.search.indexOf(\"?custom_options=\") > -1,\n      custom_options: window.cstmptns,\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    this.getCaptions();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"video\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.video\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(verb, current, duration) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"video\",\n      \"verb\": verb,\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"url\": content.video,\n        \"time\": {\n          \"current\": current,\n          \"duration\": duration,\n          \"progress\": current / duration * 100\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  onVideoPlay(e) {\n    this.trackEvent(\"played\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoPause(e) {\n    this.trackEvent(\"paused\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoEnded(e) {\n    this.trackEvent(\"ended\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  onVideoSeeking(e) {\n    this.trackEvent(\"skipped\", e.currentTarget.currentTime, e.currentTarget.duration)\n  }\n\n  getVideoUrl(video) \n  {\n    if (video.indexOf(\"http\") == -1)\n    {\n      return `./${video}`;\n    }\n    \n    const { custom_options } = this.state;\n\n    if (!custom_options) \n    {\n      return video;\n    }\n    const {\n        api_env,\n        project_key,\n        access_token,\n        domain \n      } = custom_options;\n    return `https://${domain}/storage/v1.0/content/default/target?uid=${video.split(\"uid=\")[1].split(\"&\")[0]}&access_token=${access_token}&project_key=${project_key}&api_env=${api_env}`;\n  }\n\n  async getCaptions() {\n    if (this.state.render_azure_player) {\n      var manifestUrl;\n      var videoUrl = this.props.content.video;\n      var videoObj = {\n        \"video_url\": videoUrl,\n        \"url\": null,\n        \"mime_type\": null,\n        \"subtitles\": null\n      }\n\n      if (videoUrl.search(\"/content/default/target\") > -1) {\n        manifestUrl = videoUrl.replace(\"/content/default/target\", \"/content/path/manifest.json\");\n      } else {\n        manifestUrl = videoUrl.replace(\"/content\", \"/content/path/manifest.json\");\n      }\n\n      var manifest = await fetch(manifestUrl).then((p) => p.json());\n      var subtitles = [];\n\n      if (manifest.subtitles) {\n        var data = manifest.subtitles.map((p) => {\n          p.asset = manifest.assets.find((a) => a.uid == p.asset_uid);\n          return p;\n        });\n\n        subtitles = data\n          .filter((p) => p.asset.mime_type == \"text/vtt\")\n          .map((p) => {\n            var result = {\n              src: videoUrl.replace(\"/content\",`/content/path/${p.asset.uri}`).replace(\"/default/target\", \"\"),\n              srclang: p.language_code,\n              kind: \"subtitles\",\n              label: p.language,\n            };\n\n            return result;\n          });\n      }\n\n      var loadDefaultFormat = true;\n\n      if (\n        manifest.azure_media_options &&\n        manifest.azure_media_options[\"SmoothStreaming\"]\n      ) {\n        var tempUrl = manifest.azure_media_options[\"SmoothStreaming\"][0];\n        var streamInfo = await fetch(tempUrl, { method: \"head\" });\n\n        if (streamInfo.ok) {\n          videoObj.mime_type = streamInfo.headers.get(\"Content-Type\");\n          videoObj.video_url = tempUrl;\n          loadDefaultFormat = false;\n        }\n      }\n\n      if (loadDefaultFormat) \n      {\n        if (videoUrl.indexOf('default/target') != -1) {\n          videoUrl = videoUrl.replace(\"/content/default/target\",`/content/path/${manifest.default_target}`);\n        }else\n        {\n          videoUrl = videoUrl.replace(\"/content\",`/content/path/${manifest.default_target}`);\n        }\n        videoObj.mime_type = manifest.type;\n        videoObj.video_url = videoUrl;\n      }\n\n      videoObj.subtitles = subtitles;\n\n      this.setState({\n        \"azure_subtitles\": videoObj.subtitles,\n        \"azure_video_url\": videoObj.video_url,\n        \"azure_url\": videoObj.url || videoObj.video_url,\n        \"azure_mime_type\": videoObj.mime_type\n      });\n    }\n  }\n\n  render() {\n    var content = this.props.content;\n    var imageStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={imageStyle}>\n      {!this.state.render_azure_player &&\n        <video\n          controls src={this.getVideoUrl(content.video)}\n          onPlay={(e) => this.onVideoPlay(e)}\n          onPause={(e) => this.onVideoPause(e)}\n          onEnded={(e) => this.onVideoEnded(e)}\n          onSeeking={(e) => this.onVideoSeeking(e)}\n        />\n      }\n      {this.state.render_azure_player && this.state.azure_video_url &&\n        <div className=\"element-video-1-azure\">\n          <AzureMP\n            className=\"azuremediaplayer amp-default-skin amp-big-play-centered\"\n            src={[{src: this.state.azure_video_url, type: this.state.azure_mime_type }]}\n            tracks={this.state.azure_subtitles}\n            options={{\n              autoplay: false,\n              controls: true,\n              width: \"760px\",\n              logo: { enabled: false },\n              adaptRatio: false,\n              playbackSpeed: {\n                enabled: true,\n                initialSpeed: 1.0,\n                speedLevels: [\n                  { name: \"x2.0\", value: 2.0 },\n                  { name: \"x1.75\", value: 1.75 },\n                  { name: \"x1.5\", value: 1.5 },\n                  { name: \"x1.25\", value: 1.25 },\n                  { name: \"normal\", value: 1.0 },\n                  { name: \"x0.75\", value: 0.75 },\n                  { name: \"x0.5\", value: 0.5 },\n                ],\n              },\n            }}\n          />\n        </div>\n      }\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-accordion.css';\n\nexport default class ElementAccordion extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var items = content.items;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": content.type,\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": this.getResumeItems(items)\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(index) {\n    var content = this.state.content;\n    var items = content.items;\n    var item = items[index];\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"accordion\",\n      \"verb\": item.expanded? \"opened\" : \"closed\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"active_accordion_title\": item.title,\n        \"item_id\": item.id,\n        \"options\": this.getResumeItems(items)\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  getResumeItems(items) {\n    var temp = [];\n    for (var i = 0; i < items.length; i++) {\n      temp.push({\n        \"id\": items[i].id,\n        \"title\": items[i].title,\n        \"text\": StringFormat.HtmlToText(items[i].text),\n        \"image\": items[i].image,\n        \"video\": items[i].video\n      });\n    };\n    return temp;\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    var items = content.items;\n    for (var i = 0; i < items.length; i++) {\n      items[i].expanded = false;\n    };\n    content.items = items;\n    this.setState({\n      \"content\": content\n    })\n  }\n\n  onToggleItem(index) {\n    var content = this.state.content;\n    var items = content.items;\n    if(content.behavior === \"close-all\") {\n      for (var i = 0; i < items.length; i++) {\n        if (i !== index) {\n          items[i].expanded = false;\n        }\n      };\n    };\n    items[index].expanded = !items[index].expanded;\n    this.setState({\n      \"content\": content\n    }, function() {\n      this.trackEvent(index);\n    })\n  }\n\n  renderQuill(item, index) {\n    return <div className=\"editor\" dangerouslySetInnerHTML={{__html: item.text}}></div>\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage(item) {\n    if (item.image !== null) {\n      return <img className=\"element-accordion-item-image\" src={this.getAssetUrl(item.image)}/>\n    }\n  }\n\n  renderVideo(item) {\n    if (item.video !== null) {\n      return <video className=\"element-accordion-item-video\" controls src={this.getAssetUrl(item.video)}/>\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-accordion-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className={`element-accordion-item ${item.expanded === true ? \"expanded\" : \"not-expanded\"}`}>\n            <span className=\"element-accordion-item-title\" onClick={() => _this.onToggleItem(index)}>{item.title}</span>\n            <div className=\"element-accordion-item-text\">\n              {_this.renderQuill(item, index)}\n            </div>\n            {_this.renderImage(item)}\n            {_this.renderVideo(item)}\n          </li>\n        })}\n      </ul>\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport ReactQuill from 'react-quill';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-tabs.css';\n\nexport default class ElementTabs extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false,\n      \"active_tab_content\": null,\n      \"modules\": {\n        \"toolbar\": [\n          ['bold', 'italic', 'underline','strike'],\n          [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }],\n          [{'size': [\"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"]}],\n          [{'list': 'ordered'}, {'list': 'bullet'}],\n          ['link', {'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"custom-color\"]}]\n        ]\n      },\n      \"formats\": [\n        'header',\n        'size',\n        'bold', 'italic', 'underline', 'strike',\n        'list', 'bullet', 'indent', 'link', 'color', 'align'\n      ]\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var items = content.items;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"tabs\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": this.getResumeItems(items)\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  getResumeItems(items) {\n    var temp = [];\n    for (var i = 0; i < items.length; i++) {\n      temp.push({\n        \"id\": items[i].id,\n        \"title\": items[i].title,\n        \"text\": StringFormat.HtmlToText(items[i].text),\n        \"image\": items[i].image,\n        \"video\": items[i].video\n      });\n    };\n    return temp;\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n\n    const Font = ReactQuill.Quill.import('formats/font');\n    Font.whitelist = ['large', 'medium', \"small\", \"regular\", \"bold\", \"pullquote\"];\n    ReactQuill.Quill.register(Font, true);\n\n    let SizeStyle = ReactQuill.Quill.import('attributors/style/size');\n    SizeStyle.whitelist = [\"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"]\n    ReactQuill.Quill.register(SizeStyle, true);\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    this.setState({\n      \"content\": content,\n      \"active_tab_content\": content.items[0]\n    })\n  }\n\n  handleChange(text) {\n    var _this = this;\n    var content = this.state.content;\n    var items = content.items;\n    var activeItem = this.state.active_tab_content;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === activeItem.id) {\n        items[i].text = text;\n        _this.setState({\n          \"active_tab_content\": items[i]\n        });\n      };\n    };\n\n    this.setState({\n      \"content\": content\n    });\n    this.props.onChange(content);\n  }\n\n  getImageUrl(image) {\n    return image;\n  }\n\n  trackEvent(item) {\n    var content = this.props.content;\n    var items = content.items;\n    var activeTab = this.state.active_tab_content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"tabs\",\n      \"verb\": \"opened\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"active_tab_title\": activeTab.title,\n        \"item_id\": item.id,\n        \"options\": this.getResumeItems(items)\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  onTabClick(item) {\n    this.setState({\n      \"active_tab_content\": item\n    }, function() {\n      this.trackEvent(item);\n    })\n  }\n\n  renderQuill() {\n    var modules = this.state.modules;\n    var formats = this.state.formats;\n    var content = this.state.active_tab_content;\n\n    if (this.props.editable) {\n      return <>\n        <ReactQuill theme=\"bubble\"\n        value={content.text}\n        modules={modules}\n        formats={formats}\n        onChange={(text) => this.handleChange(text)} />\n      </>\n    } else {\n      return <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n    }\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage() {\n    var content = this.state.active_tab_content;\n    if (content.image !== null) {\n      return <img className=\"element-tabs-item-image\" src={this.getAssetUrl(content.image)}/>\n    }\n  }\n\n  renderVideo() {\n    var content = this.state.active_tab_content;\n    if (content.video !== null) {\n      return <video className=\"element-tabs-item-video\" controls src={this.getAssetUrl(content.video)}/>\n    }\n  }\n\n  renderActiveTabContent() {\n    return <div className=\"element-tabs-content\">\n      {this.renderQuill()}\n      {this.renderImage()}\n      {this.renderVideo()}\n    </div>\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <div ref={this.elementRef} className=\"element-tabs-container\">\n        <ul className=\"element-tabs-items\">\n          {items.map(function(item, index) {\n            return <li key={index} style={_this.state.active_tab_content.id === item.id ? {borderColor: content.active_color} : {}} className={`element-tabs-item ${_this.state.active_tab_content.id === item.id ? \"active\" : \"\"}`}>\n              <span className=\"element-tabs-item-title\" style={_this.state.active_tab_content.id === item.id ? {color: content.active_color} : {}} onClick={() => _this.onTabClick(item)}>{item.title}</span>\n            </li>\n          })}\n        </ul>\n        {_this.renderActiveTabContent()}\n      </div>\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-iframe.css';\n\nexport default class ElementIframe extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = {\n      \"visible\": false,\n      \"width\": this.props.content.width,\n      \"height\": this.props.content.height\n    }\n  }\n\n  componentDidMount() {\n    this.resizeWebview();\n    this.onResizeIframe();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"webview\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"url\": content.url\n          }\n        }\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  onResizeIframe() {\n    var _this = this;\n    window.addEventListener(\"resize\", function() {\n      _this.resizeWebview()\n    });\n  }\n\n  resizeWebview() {\n    if (window.innerWidth < 801) {\n      var current_width = this.state.width;\n      var scale = (window.innerWidth / current_width * 1);\n      this.setState({\n        \"width\": window.innerWidth,\n        \"height\": this.state.height * scale\n      })\n    }\n  }\n \n  render() {\n    var content = this.props.content;\n    var iframeContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var iframeStyle = {\n      width: this.state.width + \"px\",\n      height: this.state.height + \"px\"\n    }\n\n    return (<div id={content.id} ref={this.elementRef} className={this.props.className} style={iframeContainerStyle}>\n      <iframe style={iframeStyle} src={content.url} allow=\"fullscreen\" />\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport './element-flashcards-1.css';\n\nexport default class ElementFlashcard1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"content\": [],\n      \"visible\": false,\n      \"isFlipped\": false\n    }\n\n    this.onCardClick = this.onCardClick.bind(this);\n  }\n\n  componentWillMount() {\n    this.manipulateItems();\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"flashcards-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  trackEvent(e, index, item) {\n    var content = this.state.content;\n    var side = e.target.className === \"element-flashcards-1-item-inner\" ? \"front\" : \"verse\";\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards\",\n      \"verb\": \"flipped\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"item_id\": item.id,\n        \"position\": index + 1,\n        \"side\": side,\n        \"options\": content.items\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  manipulateItems() {\n    var content = this.props.content;\n    var items = content.items;\n    for (var i = 0; i < items.length; i++) {\n      items[i].opened = false;\n    };\n    content.items = items;\n    this.setState({\n      \"content\": content\n    })\n  }\n\n  getAssetUrl(asset) {\n    return asset;\n  }\n\n  renderImage(item) {\n    if (item.image !== null) {\n      return <img className=\"element-flashcards-1-item-image\" src={this.getAssetUrl(item.image)}/>\n    }\n  }\n\n  renderVideo(item) {\n    if (item.video !== null) {\n      return <video className=\"element-flashcards-1-item-video\" controls src={this.getAssetUrl(item.video)}/>\n    }\n  }\n\n  onCardClick(e, index, item) {\n    e.target.classList.toggle(\"flipped\");\n    this.trackEvent(e, index, item);\n  }\n\n  handleCenteredImageChange(img) {\n    if (img.target.width > img.target.height) {\n      img.target.style.width = \"85%\";\n    } else {\n      img.target.style.height = \"85%\";\n    }\n  }\n\n  handleFullscreenImageChange(img) {\n    img.target.style.objectFit = \"cover\";\n    if (img.target.width > img.target.height) {\n      img.target.style.height = \"110%\";\n      img.target.style.width = \"100%\";\n    } else {\n      img.target.style.width = \"110%\";\n    }\n  }\n\n  renderCardData(item, target, index) {\n    var data = item[target];\n\n    if (data.text !== null) {\n      return <span className=\"element-flashcards-1-item-data-text\" dangerouslySetInnerHTML={{__html: data.text}} />\n    };\n    if (data.centered_image !== null) {\n      return <img onLoad={(img) => this.handleCenteredImageChange(img)} className=\"element-flashcards-1-item-data-centered-image\" src={this.getAssetUrl(data.centered_image)}/>\n    };\n    if (data.fullscreen_image !== null) {\n      return <img onLoad={(img) => this.handleFullscreenImageChange(img)} className=\"element-flashcards-1-item-data-fullscreen-image\" src={this.getAssetUrl(data.fullscreen_image)}/>\n    };\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    var _this = this;\n    let { headerActionsTemplate, content } = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    var height = content.card_height || 240\n    var width = content.card_width || 240\n    var cardStyle = {\n      maxHeight: height + \"px\",\n      maxWidth: width + \"px\",\n      aspectRatio: `${width / height}`,\n      width: '100%'\n    }\n    var items = this.state.content.items;\n\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`} style={accordionStyle}>\n      {headerActionsTemplate}\n      <ul className=\"element-flashcards-1-items\">\n        {items.map(function(item, index) {\n          return <li key={index} className=\"element-flashcards-1-item\" style={cardStyle}>\n            <div className=\"element-flashcards-1-item-inner\" onClick={(e) => _this.onCardClick(e, index, item)}>\n              <div className=\"element-flashcards-1-item-front\" style={{borderTopColor: _this.state.content.border_color}}>\n                {_this.renderCardData(item, \"front_card\", index)}\n              </div>\n              <div className=\"element-flashcards-1-item-back\">\n                {_this.renderCardData(item, \"back_card\", index)}\n              </div>\n            </div>\n          </li>\n        })}\n      </ul>\n    </div>\n  }\n}\n","import styled, {css} from \"styled-components\";\n\nexport const ElementFlashcards2 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const CardList = styled.ul`\n  width: 100%;\n  max-width: 800px;\n  padding: 10px;\n  display: block;\n  margin: auto;\n  text-align: center;\n  overflow: hidden;\n  height: calc(${props => props.maxHeight || \"400\"}px + 30px);\n  position: relative;\n`;\n\nexport const CardListItem = styled.li`\n  display: inline-block;\n  transition: all 0.2s linear;\n  perspective: 1000px;\n  top: 0;\n  cursor: pointer;\n  pointer-events: all;\n  height: ${props => props.maxHeight || \"400\"}px;\n  width: ${props => props.maxWidth || \"400\"}px;\n  aspect-ratio: ${props => props.aspectRatio || \"1\"};\n  opacity: 0;\n  position: absolute;\n\n  ${props => props.position === \"left\" && css`\n    left: 0;\n  `}\n\n  ${props => props.position === \"right\" && css`\n    left: 100%;\n  `}\n  \n  ${props => props.position === \"center\" && css`\n    opacity: 1;\n    left: calc(50% - ${props => props.maxWidth || \"400\"}px / 2);\n  `}\n`;\n\nexport const CardInner = styled.div`\n  pointer-events: none;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.8s;\n  transform-style: preserve-3d;\n\n  ${props => props.isFlipped && css`\n    transform: rotateY(180deg);\n  `}\n`;\n\nexport const CardFront = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #FFFFFF;\n  color: black;\n  pointer-events: none;\n  border: 1px solid #ededed;\n  border-top: 3px solid #00643e;\n`;\n\nexport const CardBack = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: #fafafa;\n  color: black;\n  transform: rotateY(180deg);\n  pointer-events: none;\n  border: 1px solid #ededed;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0,0,0,.05);\n`;\n\nexport const CardItemTypeText = styled.p`\n  padding: 10px;\n`;\n\nexport const CardItemTypeImage = styled.img``;\n\nexport const NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: ${props => props.maxWidth || \"400\"}px;\n`;\n\nexport const ChangeCardButton = styled.button`\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ${props => props.fontColor || \"white\"};\n  background: ${props => props.backgroundColor || \"#00643e\"};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    filter: brightness(1.3);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.backgroundColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const Progress = styled.div`\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  max-width: 200px;\n`;\n\nexport const ProgressLabel = styled.div`\n  width: calc(100% - 10px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n`;\n\nexport const ProgressCounter = styled.div`\n  font-weight: bold;\n  font-size: 11px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n`;\n\nexport const ProgressBar = styled.div`\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n`;","import React, { Component } from 'react';\nimport * as S from \"./element-flashcards-2.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementFlashcard2 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: [],\n    flippedItemsIds: [],\n    visibleCardIndex: 0,\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"flashcards-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackCardToggleEvent = (e, itemId) => {\n    const {\n      flippedItemsIds,\n      visibleCardIndex\n    } = this.state;\n    const content = this.props.content;\n    const side = flippedItemsIds.includes(itemId) ? \"verse\" : \"front\";\n    const obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards-2\",\n      \"verb\": \"flipped\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"position\": visibleCardIndex + 1,\n        \"side\": side,\n        \"options\": content.items,\n        \"item_id\": itemId\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackViewCardEvent = () => {\n    const {\n      flippedItemsIds,\n      visibleCardIndex\n    } = this.state;\n    const content = this.props.content;\n    const { items } = content;\n    const item = items[visibleCardIndex];\n    const side = flippedItemsIds.includes(item.id) ? \"verse\" : \"front\";\n    const obj = {\n      \"action\": \"click\",\n      \"element\": \"flashcards-2\",\n      \"verb\": \"view\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"position\": visibleCardIndex + 1,\n        \"card_id\": item.id,\n        \"side\": side,\n        \"options\": content.items\n      }\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  handleCenteredImageChange = (img) => {\n    if (img.target.width > img.target.height) {\n      img.target.style.width = \"85%\";\n    } else {\n      img.target.style.height = \"85%\";\n    }\n  }\n\n  handleFullscreenImageChange = (img) => {\n    img.target.style.objectFit = \"cover\";\n    if (img.target.width > img.target.height) {\n      img.target.style.height = \"110%\";\n      img.target.style.width = \"100%\";\n    } else {\n      img.target.style.width = \"110%\";\n    }\n  }\n\n  renderCardData(data) {\n    if (null !== data.text) {\n      return (\n        <S.CardItemTypeText dangerouslySetInnerHTML={{__html: data.text}} />\n      )\n    }\n    if (null !== data.centered_image) {\n      return (\n        <S.CardItemTypeImage\n          onLoad={this.handleCenteredImageChange}\n          src={this.getAssetUrl(data.centered_image)}\n        />\n      )\n    }\n    if (null !== data.fullscreen_image) {\n      return (\n        <S.CardItemTypeImage\n          onLoad={this.handleFullscreenImageChange}\n          src={this.getAssetUrl(data.fullscreen_image)}\n        />\n      )\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  handleToggleFlipCard = (e, id) => {\n    const {\n      flippedItemsIds,\n    } = this.state;\n\n    const cardId = id || e.target.id;\n\n    if (flippedItemsIds.includes(cardId)) {\n      this.setState({\n        flippedItemsIds: flippedItemsIds.filter(id => id !== cardId)\n      }, () => {\n        this.trackCardToggleEvent(e, cardId);\n      })\n    } else {\n      this.setState({\n        flippedItemsIds: [...flippedItemsIds, cardId]\n      }, () => {\n        this.trackCardToggleEvent(e, cardId);\n      })\n    }\n  }\n\n  handlePrevCard = (e) => {\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex > 0) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex - 1,\n      }, () => {\n        this.trackViewCardEvent();\n      })\n    }\n  }\n\n  handleNextCard = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex < items.length - 1) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex + 1,\n      }, () => {\n        this.trackViewCardEvent();\n      })\n    }\n  }\n\n  renderProgress = () => {\n    const { content } = this.props;\n    const { visibleCardIndex } = this.state;\n    const { items, border_color } = content;\n    const current = visibleCardIndex + 1;\n    const total = items.length;\n    const percentage = (100 / total * current) + \"%\";\n    return (\n      <S.Progress>\n        <S.ProgressLabel>\n          <S.ProgressBar style={{ width: percentage, backgroundColor: border_color }}/>\n        </S.ProgressLabel>\n\n        <S.ProgressCounter style={{ color: border_color }}>\n          {current}/{total}\n        </S.ProgressCounter>\n      </S.Progress>\n    )\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === \"ArrowLeft\") {\n      this.handlePrevCard();\n    } else if (e.key === \"ArrowRight\") {\n      this.handleNextCard();\n    } else if (e.key === \" \" || e.code === \"Space\" || e.keyCode === 32) {\n      e.preventDefault();\n      const { content } = this.props;\n      const { items } = content;\n      const { visibleCardIndex } = this.state;\n      const cardId = items[visibleCardIndex].id;\n      this.handleToggleFlipCard(e, cardId);\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      card_height = 240,\n      card_width = 240,\n      items = [],\n      border_color,\n    } = content;\n    const {\n      flippedItemsIds,\n      visibleCardIndex,\n    } = this.state;\n\n    return (\n      <S.ElementFlashcards2\n        ref={this.elementRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        onKeyDown={this.handleKeyDown}\n      >\n        {headerActionsTemplate}\n\n        <S.CardList\n          maxHeight={card_height}\n        >\n          {items.map((item, index) => (\n            <S.CardListItem\n              key={item.id}\n              id={item.id}\n              tabIndex=\"1\"\n              role=\"button\"\n              type=\"button\"\n              onClick={this.handleToggleFlipCard}\n              maxWidth={card_width}\n              maxHeight={card_height}\n              aspectRatio={card_width / card_height}\n              position={index === visibleCardIndex ? \"center\" : index < visibleCardIndex ? \"left\" : \"right\"}\n            >\n              <S.CardInner\n                isFlipped={flippedItemsIds.includes(item.id)}\n              >\n                <S.CardFront style={{borderTopColor: border_color}}>\n                  {this.renderCardData(item.front_card)}\n                </S.CardFront>\n\n                <S.CardBack>\n                  {this.renderCardData(item.back_card)}\n                </S.CardBack>\n              </S.CardInner>\n            </S.CardListItem>\n          ))}\n        </S.CardList>\n\n        <S.NavigationContainer\n          maxWidth={card_width}\n        >\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handlePrevCard}\n            backgroundColor={border_color}\n            disabled={visibleCardIndex === 0}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </svg>\n          </S.ChangeCardButton>\n\n          {this.renderProgress()}\n\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handleNextCard}\n            backgroundColor={border_color}\n            disabled={visibleCardIndex === items.length - 1}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </svg>\n          </S.ChangeCardButton>\n        </S.NavigationContainer>\n\n        {footerActionsTemplate}\n      </S.ElementFlashcards2>\n    )\n  }\n}\n\nexport default ElementFlashcard2;\n","/**\n * Converte o objeto em uma query string\n *\n * @example\n *\n * objetoToQueryString({page: 1, limit: 10})\n * // => 'page=1&limit=10'\n *\n * @param {object} obj Objeto que ser convertido para string\n * @return {string} Retorna uma string com os valores do objeto\n */\nconst objectToQueryString = (obj) => {\n  return Object.keys(obj).map((key) => {\n    const value = obj[key];\n    return `${key}=${value}`;\n  }).join('&');\n};\n\nexport default objectToQueryString;","const USER_ROLES = {\n  ADMIN: 'administratorglobal',\n  REVIEWER: \"reviewer\",\n  REVIEWER_ADMIN: \"reviewadmin\",\n  REVIEWER_CONTRIBUTOR: \"reviewcontributor\",\n  VIEWER: \"viewer\"\n}\nexport const isContentOwner = (loggedUserUID, contentUserUID) => (loggedUserUID.length &&\n  contentUserUID.length) && (loggedUserUID === contentUserUID)\nexport const isAdminReviewer = (roles = []) => roles.includes(USER_ROLES.REVIEWER_ADMIN) ||\n  roles.includes(USER_ROLES.REVIEWER_CONTRIBUTOR) || roles.includes(USER_ROLES.ADMIN)\nexport const isAdminReviewerOrContentOwner = (user, contentUserUID) => isContentOwner(user.uid, contentUserUID) ||\n  isAdminReviewer(user.roles || [])","import auth from './auth';\nimport cms from './cms';\n\nconst API = {\n  auth,\n  cms,\n};\n\nexport default API;\n\n\n/**\n * @typedef {'production'|'homolog'|'development'|'local'} ApiEnvs\n *\n * @typedef {string} UID\n */","\nconst AUTH_API_VERSION = \"v1.0\";\nconst PROTOCOL = \"https\";\n\nexport default {\n  user: {\n    me: ({access_token, api_env, domain, project_key}) => {\n      return fetch(`${PROTOCOL}://${domain}/auth/${AUTH_API_VERSION}/user/me`, {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${access_token}`,\n          \"Project-Key\": project_key,\n          \"Api-Env\": api_env\n        }\n      }).then(resp => resp.json())\n    },\n    uid: (uid, {access_token, api_env, domain, project_key}) => {\n      return fetch(`${PROTOCOL}://${domain}/auth/${AUTH_API_VERSION}/user/uid/${uid}`, {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${access_token}`,\n          \"Project-Key\": project_key,\n          \"Api-Env\": api_env\n        }\n      }).then(resp => resp.json())\n    },\n  }\n}","import objectToQueryString from \"../utils/object-to-query-string\";\nimport API from \"./index\";\nimport {isAdminReviewer} from \"../utils/permission\";\n\nconst CMS_API_VERSION = \"v1.0\";\nconst PROTOCOL = \"https\";\nconst SERVICE = \"cms\";\n\nexport default {\n  learning: {\n    register: {\n      uid: (registerUid) => ({\n        getInteractions: ({domain, api_env, project_key, access_token}) => {\n          const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n          return fetch(`${base_url}/learning/register/uid/${registerUid}/interactions`, {\n            method: \"GET\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n            },\n          })\n            .catch(e => {\n              console.error(e);\n              return e;\n            })\n        },\n        interaction: {\n          /**\n           * @param {object=} query Objeto com os parmetros da query\n           * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n           * @param {UID=} query.target_uid Identificador do objeto de aprendizagem\n           * @param {UID=} query.activity_uid Identificador do objeto de aprendizagem\n           * @param {UID=} query.type Identificador do tipo do objeto de aprendizagem\n           * @param {string} domain Hostname da API\n           * @param {ApiEnvs} api_env Ambiente da API\n           * @param {string} project_key Chave do projeto\n           * @param {string} access_token Token JWT do usurio logado no momento\n           * @return {Promise<Response>}\n           */\n          recoverObjects: ({type, ...query}, {domain, api_env, project_key, access_token}) => {\n            const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n            const queryString = query ? `?${objectToQueryString(query)}` : ``;\n            return fetch(`${base_url}/learning/register/uid/${registerUid}/interaction/objects${queryString}`, {\n              method: \"GET\",\n              headers: {\n                \"Api-Env\": api_env,\n                \"Project-Key\": project_key,\n                \"Authorization\": \"Bearer \" + access_token,\n              },\n            }).then(resp => resp.json())\n              .then(objects => {\n                if (objects && objects.length > 0) {\n                  let parsed = objects.map(async object => {\n                   try {\n                     const userDetails = await API.auth.user.uid(object.user_uid, {\n                       domain,\n                       api_env,\n                       project_key,\n                       access_token\n                     });\n\n                     if (userDetails && userDetails.hasOwnProperty(\"error\")) {\n                       console.error(userDetails.error);\n                       return null;\n                     }\n\n                     let roles = userDetails.roles.map(role => role.type.toLowerCase());\n\n                     if (!isAdminReviewer(roles)) {\n                       object.email = userDetails.login || \"\";\n                       object.name = userDetails.detail.name;\n\n                       object.interaction_objects = object.interaction_objects.map(interaction_object => {\n                         interaction_object.object_data = JSON.parse(interaction_object.object_data);\n                         return interaction_object;\n                       });\n\n                       if (type) {\n                         object.interaction_objects = object.interaction_objects.filter(interaction_object => interaction_object.type === type);\n                       }\n\n                       return object;\n                     } else {\n                       return null;\n                     }\n                   } catch (e) {\n                     console.error(e)\n                     return null;\n                   }\n                  });\n                  return Promise.all(parsed).then(parsed => parsed.filter(p => p !== null));\n                }\n\n                return [];\n              })\n          }\n        }\n      })\n    },\n    interaction: {\n      /** @param {UID} interactionUid Identificador da interao */\n      uid: (interactionUid) => ({\n        object: {\n          reviewed: ({context_uid, type, target_uid, object_data, score}, {\n            domain,\n            api_env,\n            project_key,\n            access_token\n          }) => {\n            const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n            return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/object/reviewed`, {\n              method: \"POST\",\n              headers: {\n                \"Api-Env\": api_env,\n                \"Project-Key\": project_key,\n                \"Authorization\": \"Bearer \" + access_token,\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                context_uid,\n                type,\n                target_uid,\n                object_data: JSON.stringify({\n                  version: \"1.0\",\n                  data: object_data\n                }),\n                score,\n              })\n            }).then(resp => {\n              if (resp.status !== 200) {\n                console.warn(\"No foi possvel salvar a resposta, verifique se o servio est habilitado.\")\n              }\n              return resp.json();\n            }).catch(e => {\n              console.error(e);\n              return e;\n            })\n          }\n        },\n        score: {\n          object: {\n            uid: (interactionObjectUid) => ({\n              updateScore: async (score, {domain, api_env, project_key, access_token}) => {\n                const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n                return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/score/object/uid/${interactionObjectUid}?score=${score}`, {\n                  method: \"PUT\",\n                  headers: {\n                    \"Api-Env\": api_env,\n                    \"Project-Key\": project_key,\n                    \"Authorization\": \"Bearer \" + access_token,\n                  },\n                }).then(resp => {\n                  if (resp.status === 200) {\n                    return resp.json();\n                  }\n                  throw resp;\n                }).catch(e => {\n                  console.error(e);\n                  return e;\n                })\n                  .catch(e => {\n                    console.error(e);\n                    return e;\n                  })\n              }\n            })\n          }\n        },\n        /**\n         * Salva uma interao dos objetos de aprendizagem no banco de dados\n         * @param {UID} context_uid Identificador da estrutura salva no composer\n         * @param {LearningObjectTypes} type Tipo do objeto de aprendizagem\n         * @param {UID} target_uid Identificador do objeto de aprendizagem\n         * @param {Quiz1Answer|Quiz2Answer[]|Quiz5Answer|Forum1Answer} object_data Dados do objeto de aprendizagem\n         * @param {string=} score Pontuao do objeto de aprendizagem\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        createObject: ({context_uid, type, target_uid, object_data, score}, {\n          domain,\n          api_env,\n          project_key,\n          access_token\n        }) => {\n          return fetch(`${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}/learning/interaction/uid/${interactionUid}/object`, {\n            method: \"POST\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              context_uid,\n              type,\n              target_uid,\n              object_data: JSON.stringify({\n                version: \"1.0\",\n                data: object_data\n              }),\n              score,\n            })\n          }).then(resp => {\n            if (resp.status !== 200) {\n              console.warn(\"No foi possvel salvar a resposta, verifique se o servio est habilitado.\")\n            }\n            return resp\n          }).catch(e => {\n            console.error(e);\n            return e;\n          })\n        },\n        /**\n         * @param {object=} query Objeto com os parmetros da query\n         * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n         * @param {UID=} query.target_uid Identificador do objeto de aprendizagem\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        recoverObject: (query, {domain, api_env, project_key, access_token}) => {\n          const base_url = `${PROTOCOL}://${domain}/${SERVICE}/${CMS_API_VERSION}`;\n          const queryString = query ? `?${objectToQueryString(query)}` : ``;\n          return fetch(`${base_url}/learning/interaction/uid/${interactionUid}/objects${queryString}`, {\n            method: \"GET\",\n            headers: {\n              \"Api-Env\": api_env,\n              \"Project-Key\": project_key,\n              \"Authorization\": \"Bearer \" + access_token,\n              \"Content-Type\": \"application/json\"\n            },\n          }).then(async resp => {\n            const objects = await resp.json();\n\n            if (objects && objects.length > 0) {\n              return objects.map(object => {\n                object.object_data = JSON.parse(object.object_data);\n\n                return object;\n              });\n            }\n\n            return [];\n          }).catch(e => {\n            console.error(e);\n            return e;\n          })\n        }\n      })\n    }\n  },\n  socialmedia: {\n    connector: {\n      uid: (connectorUid) => ({\n        createThread: (\n          {title, description, content, context_type, context_uid},\n          {domain, api_env, project_key, access_token}\n        ) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/connector/uid/${connectorUid}/thread`, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              title,\n              description,\n              content,\n              context_type,\n              context_uid\n            })\n          }).then(resp => resp.json())\n        }\n      })\n    },\n    thread: {\n      uid: (threadUid) => ({\n        update: (\n          {title, description, content, context_type, context_uid},\n          {domain, api_env, project_key, access_token}\n        ) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}`, {\n            method: \"PUT\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            },\n            body: JSON.stringify({title, description, content, context_type, context_uid})\n          }).then(resp => {\n            if (resp.status === 500) {\n              throw new Error(resp.statusText)\n            } else {\n              return resp.json();\n            }\n          });\n        },\n        delete: ({domain, api_env, project_key, access_token}) => {\n          return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}`, {\n            method: \"DELETE\",\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            }\n          }).then(resp => {\n            if (resp.status === 500) {\n              throw new Error(resp.statusText)\n            } else if (resp.status === 204) {\n              return threadUid;\n            }\n            return null;\n          });\n        },\n        post: {\n          uid: (postUid) => ({\n            delete: ({domain, api_env, project_key, access_token}) => {\n              return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/post/uid/${postUid}`, {\n                method: 'DELETE', headers: {\n                  \"Authorization\": `Bearer ${access_token}`,\n                  \"Project-Key\": project_key,\n                  \"Api-Env\": api_env,\n                }\n              }).then(resp => {\n                if (resp.status === 500) {\n                  throw new Error(resp.statusText)\n                } else if (resp.status === 204) {\n                  return postUid;\n                }\n                return null;\n              });\n            },\n            update: (\n              {title, description, content, context_type, context_uid},\n              {domain, api_env, project_key, access_token}\n            ) => {\n              return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/post/uid/${postUid}`, {\n                method: \"PUT\",\n                headers: {\n                  \"Authorization\": `Bearer ${access_token}`,\n                  \"Project-Key\": project_key,\n                  \"Api-Env\": api_env,\n                },\n                body: JSON.stringify({title, description, content, context_type, context_uid})\n              }).then(resp => {\n                if (resp.status === 500) {\n                  throw new Error(resp.statusText)\n                } else {\n                  return resp.json();\n                }\n              });\n            },\n          })\n        },\n        /**\n         * @param {object} body\n         * @param {string} body.title\n         * @param {string} body.content\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<Response>}\n         */\n        createPost: (body, {domain, api_env, project_key, access_token}) => {\n          return fetch(`https://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}/post`, {\n            method: 'POST',\n            headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            },\n            body: JSON.stringify(body)\n          }).then(resp => resp.json())\n        },\n        /**\n         * @param {object=} query Objeto com os parmetros da query\n         * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n         * @param {number=} query.page_size Tamanho da pgina\n         * @param {number=} query.page Pgina a ser exibida\n         * @param {string} domain Hostname da API\n         * @param {ApiEnvs} api_env Ambiente da API\n         * @param {string} project_key Chave do projeto\n         * @param {string} access_token Token JWT do usurio logado no momento\n         * @return {Promise<ResponsePaginated>}\n         */\n        recoverPosts: (query, {domain, api_env, project_key, access_token}) => {\n          const queryString = query ? `?${objectToQueryString(query)}` : ``;\n          return fetch(`https://${domain}/cms/v1.1/socialmedia/thread/uid/${threadUid}/posts${queryString}`, {\n            method: 'GET', headers: {\n              \"Authorization\": `Bearer ${access_token}`,\n              \"Project-Key\": project_key,\n              \"Api-Env\": api_env,\n            }\n          }).then(resp => resp.json());\n        }\n      }),\n    },\n    threads: {\n      /**\n       * @param {object=} query Objeto com os parmetros da query\n       * @param {UID=} query.context_uid Identificador da estrutura salva no composer\n       * @param {number=} query.page_size Tamanho da pgina\n       * @param {number=} query.page Pgina a ser exibida\n       * @param {string} domain Hostname da API\n       * @param {ApiEnvs} api_env Ambiente da API\n       * @param {string} project_key Chave do projeto\n       * @param {string} access_token Token JWT do usurio logado no momento\n       * @return {Promise<ResponsePaginated>}\n       */\n      available: (\n        query,\n        {domain, api_env, project_key, access_token}\n      ) => {\n        const queryString = query ? `?${objectToQueryString(query)}` : ``;\n        return fetch(`${PROTOCOL}://${domain}/cms/v1.1/socialmedia/threads/available${queryString}`, {\n          method: \"GET\",\n          headers: {\n            \"Authorization\": `Bearer ${access_token}`,\n            \"Project-Key\": project_key,\n            \"Api-Env\": api_env,\n          }\n        }).then(resp => resp.json())\n      }\n    }\n  }\n}\n\n/**\n * @typedef {object} Quiz1Answer\n * @property {string} id\n * @property {boolean} correct\n * @property {string} text Contedo HTML com o texto da alternativa\n */\n\n/**\n * @typedef {object} Quiz2Answer\n * @property {string} id\n * @property {boolean} correct\n * @property {string} text Contedo HTML com o texto da alternativa\n */\n\n/**\n * @typedef {string} Quiz5Answer Resposta do usurio\n */\n\n/**\n * @typedef {string} Forum1Answer Post do usurio no frum\n */\n\n/**\n * @typedef {'quiz-1'|'quiz-2'|'quiz-5'|'forum-1'} LearningObjectTypes\n */\n\n/**\n * @typedef {object} ResponsePaginated\n * @property {object} result\n * @property {number} total_pages\n */","import styled from \"styled-components\";\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  ContainerFinishButton,\n  RemakeButtonContainer,\n  NextButtonContainer,\n  ContainedButton\n}","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-1.css';\nimport API from \"../../services\";\nimport {ContainedButton, ContainerFinishButton} from \"./element-quiz-1.styled\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromDefaultData = this.loadContentFromDefaultData.bind(this);\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      visible: false,\n      activeChoices: {},\n      current_question: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      protocol: null,\n      custom_options: window.cstmptns,\n      user: {\n        roles: [],\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n    }\n    this.trackElementView();\n  }\n\n  async getSignedUserFromJwt() {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  loadContentFromDefaultData(defaultData) {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        cloneContent.questions = cloneContent.questions.map((question) => {\n          question.answered = false;\n          if (defaultData.elements[content.id].answers[question.id]) {\n            question.answered = true;\n          }\n          return question;\n        });\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n\n    if (custom_options == undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeChoices = {...this.state.activeChoices};\n\n    question.choices.map((choice) => {\n      if (answer.id === choice.id) {\n        activeChoices[question.id] = choice.id;\n      }\n      return choice;\n    });\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n      activeChoices,\n    } = this.state;\n    const {questions} = content;\n\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async (question) => {\n      if (question.answered) {\n        question.choices.map((choice) => {\n          if (activeChoices[question.id] === choice.id) {\n            if (choice.correct) {\n              hits++;\n            }\n          }\n        });\n      }\n    });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-only-choice\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView() {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-only-choice-question\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick(choice) {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-only-choice-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: {\n            id: choice.id,\n            title: StringFormat.HtmlToText(choice.text),\n          },\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(questionId, questions) {\n    var content = this.props.content;\n    const {activeChoices} = this.state;\n\n    let question = null;\n    let questionIndex = -1;\n\n    for (var i = 0; i < questions.length; i++) {\n      if (questions[i].id === questionId) {\n        question = questions[i];\n        questionIndex = i+1;\n      }\n    }\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = false;\n      question.choices.map((choice) => {\n        if (activeChoices[question.id] === choice.id) {\n          selectedChoice = choice;\n          if (choice.correct) {\n            correctAnswer = true;\n          }\n        }\n      });\n\n      var obj = {\n        action: \"click\",\n        element: \"quiz-only-choice-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions : questions.length,\n          current_question : questionIndex,\n          question: {\n            id: question.id,\n            position: this.state.current_question + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer: {\n              id: selectedChoice.id,\n              title: StringFormat.HtmlToText(selectedChoice.text),\n              correct: correctAnswer,\n            },\n            answers: question.choices.map(choice=>\n              {\n                var result = { ... choice };\n                result.text = StringFormat.HtmlToText(result.text);\n                return result;\n              })\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionResult(correctAnswer, selectedChoice, question);\n      // this.trackQuestionFeedback(correctAnswer, selectedChoice, question);\n    }\n  }\n\n  trackQuestionResult(correctAnswer, selectedChoice, question) {\n    var content = this.props.content;\n    var obj = {\n      action: \"result\",\n      verb: \"viewed\",\n      element: \"quiz-only-choice-question-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(question.question),\n          answer: {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            hit: correctAnswer,\n          },\n        },\n      },\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback(correctAnswer, selectedChoice, question) {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-only-choice-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            position: this.state.current_question + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer: {\n              id: selectedChoice.id,\n              title: StringFormat.HtmlToText(selectedChoice.text),\n              hit: correctAnswer,\n            },\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation(direction) {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-only-choice-question-navigation-next\"\n        : \"quiz-only-choice-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.current_question - 1\n        : this.state.current_question + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.current_question];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.current_question + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.current_question - 1\n              : this.state.current_question + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView(resume) {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-only-choice-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    var evaluative = false;\n    var formatedQuestions = [];\n\n    questions.forEach(question=>{\n      var formatedQuestion = { ... question };\n      formatedQuestion.question = StringFormat.HtmlToText(question.question);\n      formatedQuestions.push(formatedQuestion);\n    })\n\n    for (var i = 0; i < formatedQuestions.length; i++) {\n      if (!formatedQuestions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-only-choice-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: formatedQuestions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n\n    var formatedData = { \n      ... obj,\n      action : \"result\",\n      verb : \"answered\"\n    };\n\n    this.props.onTrackEvent(formatedData);\n\n\n    // if (window.hasOwnProperty('CordovaExec')) {\n    //   window.CordovaExec(function(response) {\n    //     console.log(response);\n    //   }, function(reason) {\n    //     console.log(reason);\n    //     console.error('GlobalMessagePlugin');\n    //   }, 'GlobalMessagePlugin', 'SendMessage', ['ActivityProgress', {\n    //     \"progress\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits)\n    //   }]);\n    // } else {\n    //   this.props.onTrackEvent(obj);\n    // }\n    \n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  trackRemakeQuiz() {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-only-choice-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  // receiveMessage = (event) => {\n\n  //   this.setState({\n  //     \"protocol\": event\n  //   }, () => {\n\n  //     if (event.data !== null && event.data.answered === true) {\n  //       this.setState({\n  //         \"show_result\": true,\n  //         \"grades\": {\n  //           \"rdp_html_content\": {\n  //             \"questions\": event.data.questions,\n  //             \"hits\": event.data.hits,\n  //             \"total\": event.data.total,\n  //             \"percentage_average\": event.data.percentage_average\n  //           }\n  //         }\n  //       });\n  //     };\n\n  //     event.source.postMessage(\"hi there yourself!  the secret response is: rheeeeet!\", event.origin);\n  //   });\n  // }\n\n  renderImage(item) {\n    const style = item.media_max_width\n      ? {maxWidth: item.media_max_width.toString() + \"px\"}\n      : {};\n    if (item.image !== null) {\n      return (\n        <img\n          className=\"element-quiz1-image\"\n          src={item.image}\n          alt=\"Quiz\"\n          style={style}\n        />\n      );\n    }\n  }\n\n  renderVideo(item) {\n    const style = item.media_max_width\n      ? {maxWidth: item.media_max_width.toString() + \"px\"}\n      : {};\n    if (item.video !== null) {\n      return (\n        <video\n          className=\"element-quiz1-video\"\n          controls\n          src={item.video}\n          style={style}\n        />\n      );\n    }\n  }\n\n  handleChangeQuestion(questionChanged, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map((question) => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    this.setState(\n      {\n        content: contentClone,\n      },\n      () => {\n        this.props.onChange(contentClone);\n      }\n    );\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    var language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n      };\n    }\n  }\n\n  renderQuestionQuill(question) {\n    return (\n      <div className=\"element-quiz-1-question\">\n        <div\n          className=\"editor\"\n          dangerouslySetInnerHTML={{__html: question.question}}\n        ></div>\n      </div>\n    );\n  }\n\n  renderChoiceRadio(question, choice) {\n    if (this.state.activeChoices[question.id] === choice.id) {\n      return (\n        <div className=\"element-quiz-1-choice-radio\">\n          <span\n            className=\"element-quiz-1-correct-choice\"\n            style={{backgroundColor: this.state.content.primary_color}}\n          ></span>\n        </div>\n      );\n    } else {\n      return <div className=\"element-quiz-1-choice-radio\"></div>;\n    }\n  }\n\n  onChoiceClick(question, choice) {\n    let {activeChoices = {}} = this.state;\n    activeChoices[question.id] = choice.id;\n    this.setState(\n      {\n        activeChoices: activeChoices,\n      },\n      function () {\n        this.trackAnswerClick(choice);\n      }\n    );\n  }\n\n  handleChangeChoice(question, choice, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map((qtion) => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map((ch) => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        });\n      return qtion;\n    });\n\n    this.setState(\n      {\n        content: contentClone,\n      },\n      () => {\n        this.props.onChange(contentClone);\n      }\n    );\n  }\n\n  renderChoiceQuill(question, choice, index) {\n    let {content, activeChoices} = this.state;\n    let classSelected = null;\n    let colorChoice = content.primary_color;\n    if (activeChoices[question.id] === choice.id) {\n      classSelected = \"choice-selected\";\n      if (question.answered) {\n        let correctAnswer = false;\n        question.choices.map((ch) => {\n          if (ch.correct && activeChoices[question.id] === ch.id) {\n            correctAnswer = true;\n          }\n        });\n\n        if (!question.no_correct_answer) {\n          colorChoice = correctAnswer ? content.correct_color : content.incorrect_color;\n        }\n        classSelected = \"choice-answered\";\n      }\n    }\n\n    return (\n      <div\n        key={choice.id}\n        style={\n          classSelected && {\n            borderColor: colorChoice ? colorChoice : content.primary_color,\n          }\n        }\n        className={`element-quiz-1-choice ${classSelected}`}\n        onClick={() =>\n          !question.answered && this.onChoiceClick(question, choice)\n        }\n      >\n        {this.renderChoiceRadio(question, choice)}\n        <div\n          className=\"element-quiz-1-choice-text\"\n          dangerouslySetInnerHTML={{__html: choice.text}}\n        ></div>\n        {(choice.image && this.renderImage(choice)) ||\n          (choice.video && this.renderVideo(choice))}\n      </div>\n    );\n  }\n\n  renderChoices(question) {\n    var _this = this;\n    var choices = question.choices;\n\n    return (\n      <ul className=\"element-quiz-1-choices\">\n        {choices.map(function (choice, index) {\n          return _this.renderChoiceQuill(question, choice, index);\n        })}\n      </ul>\n    );\n  }\n\n  renderPreviousQuestionBtn() {\n    const {primary_color} = this.state.content;\n    let current_question = this.state.current_question;\n    if (current_question !== 0) {\n      return (\n        <button\n          style={{color: primary_color}}\n          onClick={() => this.onNavigateQuestions(\"prev\")}\n          className=\"rdp-react-quiz-navigation-previous-btn\"\n        >\n          {this.getLabels().previous}\n        </button>\n      );\n    }\n  }\n\n  onNavigateQuestions(direction) {\n    var current = this.state.current_question;\n    var current_question = direction === \"next\" ? current + 1 : current - 1;\n\n    this.setState(\n      {\n        current_question: current_question,\n      },\n      function () {\n        this.trackNavigation(direction);\n        this.trackQuestionView();\n      }\n    );\n  }\n\n  renderNextQuestionBtn() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var questions_count = questions.length;\n    if (questions_count !== current_question + 1) {\n      return (\n        <button\n          style={{color: primary_color}}\n          onClick={() => this.onNavigateQuestions(\"next\")}\n          className=\"rdp-react-quiz-navigation-next-btn\"\n        >\n          {this.getLabels().next}\n        </button>\n      );\n    }\n  }\n\n  renderFinishBtn() {\n    const {current_question, content, activeChoices, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = current_question + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map((q) => {\n      if (activeChoices[q.id] && q.answered) {\n        answeredQuestions++;\n      }\n    });\n    let disabledBtn = questions_count !== answeredQuestions;\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      );\n    }\n  }\n\n  renderProgress() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var current = current_question + 1;\n    var total = questions.length;\n    var percentage = (100 / total) * current + \"%\";\n    return (\n      <div className=\"rdp-react-quiz-navigation-progress\">\n        <div className=\"rdp-react-quiz-navigation-progress-bar-placeholder\">\n          <div\n            style={{width: percentage, backgroundColor: primary_color}}\n            className=\"rdp-react-quiz-navigation-progress-bar\"\n          ></div>\n        </div>\n        <span\n          style={{color: primary_color}}\n          className=\"rdp-react-quiz-navigation-progress-count\"\n        >\n          {current}/{total}\n        </span>\n      </div>\n    );\n  }\n\n  renderNavigation() {\n    return (\n      <div className=\"rdp-react-quiz-navigation\">\n        {this.renderPreviousQuestionBtn()}\n        {this.renderProgress()}\n        {this.renderNextQuestionBtn()}\n        {this.renderFinishBtn()}\n      </div>\n    );\n  }\n\n  defineAnswered = (idQuestion, resetAll = false) => {\n    const {activeChoices, content} = this.state;\n    let cloneContent = {...content};\n\n    let changedQuestions = content.questions.map((question) => {\n      if (question.id === idQuestion) {\n        question.answered = true;\n      }\n      if (resetAll === true) {\n        question.answered = false;\n      }\n      return question;\n    });\n\n    cloneContent.questions = changedQuestions;\n    this.setState(\n      {\n        content: cloneContent,\n      },\n      () => {\n        try {\n          this.props.handleComplete(cloneContent, activeChoices);\n        } catch (e) {\n          console.error(e)\n        }\n        this.trackAnswerConfirmClick(idQuestion, changedQuestions);\n      }\n    );\n  };\n\n  renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && this.renderImage({image, media_max_width})) ||\n          (video && this.renderVideo({video, media_max_width}))}\n        {msg && <p>{msg}</p>}\n      </div>\n    );\n  };\n\n  renderCorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_correct && question.feedback_correct.text) ? question.feedback_correct.text : msg;\n      image = (question.feedback_correct && question.feedback_correct.image) ? question.feedback_correct.image : image;\n      video = (question.feedback_correct && question.feedback_correct.video) ? question.feedback_correct.video : video;\n      media_max_width = (question.feedback_correct && question.feedback_correct.media_max_width) ? question.feedback_correct.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            width=\"56px\"\n            height=\"56px\"\n            viewBox=\"0 0 512 512\"\n            enableBackground=\"new 0 0 512 512\"\n            space=\"preserve\"\n          >\n            <path\n              fill={\n                content.correct_color\n                  ? content.correct_color\n                  : content.primary_color\n              }\n              d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"\n            />\n            <path\n              fill={\n                content.correct_color\n                  ? content.correct_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"\n            />\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  };\n\n  renderIncorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_incorrect && question.feedback_incorrect.text) ? question.feedback_incorrect.text : msg;\n      image = (question.feedback_incorrect && question.feedback_incorrect.image) ? question.feedback_incorrect.image : image;\n      video = (question.feedback_incorrect && question.feedback_incorrect.video) ? question.feedback_incorrect.video : video;\n      media_max_width = (question.feedback_incorrect && question.feedback_incorrect.media_max_width) ? question.feedback_incorrect.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            width=\"56px\"\n            height=\"56px\"\n            viewBox=\"0 0 512 512\"\n            enableBackground=\"new 0 0 512 512\"\n            space=\"preserve\"\n          >\n            <path\n              fill={\n                content.incorrect_color\n                  ? content.incorrect_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"\n            />\n            <path\n              fill={\n                content.incorrect_color\n                  ? content.incorrect_color\n                  : content.primary_color\n              }\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"\n            />\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  };\n\n  verifyAnswer = (question) => {\n    const {activeChoices} = this.state;\n    const {feedback} = this.state.content;\n\n    let correctAnswer = false;\n    question.choices.map((choice) => {\n      if (choice.correct && activeChoices[question.id] === choice.id) {\n        correctAnswer = true;\n      }\n    });\n\n    const no_correct_answer = question.no_correct_answer;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-1-feedback-msg\">\n          {(correctAnswer && !no_correct_answer)\n            ? this.renderCorrectMsg(question)\n            : (!no_correct_answer)\n              ? this.renderIncorrectMsg(question)\n              : this.renderCustomMsg(question)\n          }\n        </div>\n      );\n    }\n  };\n\n  renderFeedback(question) {\n    const {content, activeChoices} = this.state;\n    const {primary_color} = content;\n\n    return (\n      <div className=\"element-quiz-1-feedback-container\">\n        {question.answered ? (\n          this.verifyAnswer(question)\n        ) : (\n          <button\n            onClick={() =>\n              activeChoices[question.id] && this.defineAnswered(question.id)\n            }\n            style={{\n              backgroundColor: activeChoices[question.id]\n                ? primary_color\n                : \"#F1F1F1\",\n            }}\n            className=\"element-quiz-1-btn-confirm\"\n          >\n            {this.getLabels().confirm}\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  renderQuestionare(question) {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n\n    return (\n      <div>\n        <div className=\"element-quiz-1-header\">\n          <span style={{color: primary_color}}>\n            {this.getLabels().question} {current_question + 1}\n          </span>\n          <span style={{color: primary_color}}>\n            {current_question + 1}/{questions.length}\n          </span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {this.renderImage(question)}\n        {this.renderVideo(question)}\n        {this.renderChoices(question)}\n        {this.renderFeedback(question)}\n        {this.renderNavigation()}\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {current_question, content, show_result} = this.state;\n    const {questions, primary_color} = content;\n    if (questions) {\n      let question = questions[current_question];\n      return (\n        <div className=\"element-quiz-1-container\">\n          {question && !show_result\n            ? this.renderQuestionare(question)\n            : this.renderResult()}\n        </div>\n      );\n    }\n  }\n\n  onFinishClick() {\n    const {\n      content,\n      activeChoices,\n      custom_options,\n      attempsMade\n    } = this.state;\n   \n\n    const {questions} = content;\n\n    //evita qualquer alterao na estrutura original.\n    let copyQuestion = JSON.parse(JSON.stringify(questions));\n    let hits = 0;\n    let total = copyQuestion.length;\n\n    copyQuestion.map(async (question) => {\n      let object_data = {};\n      if (question.answered) {\n        question.choices.map((choice) => {\n          if (activeChoices[question.id] === choice.id) {\n            object_data = choice;\n            choice.user_selected = true;\n\n            if (choice.correct) {\n              hits++;\n            }\n          }\n        });\n      }\n\n      try \n      {\n        const { interaction_uid } = custom_options;\n\n        await API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: {\n            id: object_data.id,\n            correct: object_data.correct,\n            text: object_data.text,\n          },\n          score: object_data.correct ? \"100\" : \"0\",\n        }, custom_options);\n      }catch(e)\n      {\n        console.log(e);\n      }\n    });\n\n    var formatedQuestions = [ ]\n    copyQuestion.forEach(question=> {\n      question.question = StringFormat.HtmlToText(question.question);\n      question.choices.forEach(choice=> choice.text = StringFormat.HtmlToText(choice.text));\n      formatedQuestions.push(question);\n    });\n\n    var resume = {\n      rdp_html_content: {\n        questions: formatedQuestions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState(\n      {\n        grades: resume,\n        show_result: true,\n        answered: true,\n        attempsMade: attempsMade + 1,\n      },\n      () => {\n        try {\n          this.props.handleComplete(content, activeChoices);\n        } catch (error) {\n          console.log(error);\n        }\n\n        // this.trackQuizFinishView(resume);\n        this.trackQuizResult(copyQuestion, resume);\n\n        // if (protocol !== null && typeof protocol !== \"undefined\") {\n        //   protocol.source.postMessage(resume, protocol.origin);\n        // } else {\n        //   console.log(\"ERRO - PROTOCOL NOT FOUND\");\n        // }\n        let score = (100 / total) * hits;\n        let finished = true;\n\n        if (\n          content.utilization &&\n          content.utilization.enabled &&\n          (content.scorm_progress_count === \"with_finish_and_minimum_score\" && content.utilization.percentage > score) &&\n          (content.scorm_progress_count === \"with_finish_and_minimum_score\" || content.scorm_progress_count === \"with_finish_without_minimum_score\")\n        ) {\n          finished = false;\n        }\n\n        try {\n          this.props.handleFinish(content, {\n            score,\n            finished,\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    );\n  }\n\n  onRemakeQuestionnaire() {\n    this.defineAnswered(0, true);\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      current_question: 0,\n      activeChoices: [],\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel(hits, total, percentage) {\n    var language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return `You got ${hits} of ${total} questions right, equivalent to ${percentage} of the quiz.`;\n    } else if (language === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes, o equivalente a ${percentage} do questionrio.`;\n    }\n  }\n\n  renderFinalMessage(grades) {\n    var feedback = this.state.content.feedback.type;\n    if (feedback === \"disabled\") {\n      return (\n        <span className=\"rdp-react-quiz-result-message\">\n          {this.getLabels().finish_quiz_message}\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"rdp-react-quiz-result-message\">\n          {this.getResultLabel(\n            grades.hits,\n            grades.total,\n            `${parseFloat(grades.percentage_average).toFixed(0)}%`\n          )}\n        </span>\n      );\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result} = this.state;\n\n    if (show_result === true) {\n      var grades = this.state.grades.rdp_html_content;\n      return (\n        <div className=\"rdp-react-quiz-result\">\n          <span className=\"rdp-react-quiz-result-icon\"></span>\n          {this.renderFinalMessage(grades)}\n          {this.userCanRemakeQuiz() && (\n            <div\n              className=\"rdp-react-quiz-remake-btn\"\n              onClick={() => this.onRemakeQuestionnaire()}\n            >\n              <span className=\"rdp-react-quiz-remake-btn-icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xlink=\"http://www.w3.org/1999/xlink\"\n                  version=\"1.1\"\n                  id=\"Layer_1\"\n                  x=\"0px\"\n                  y=\"0px\"\n                  width=\"32px\"\n                  height=\"32px\"\n                  viewBox=\"0 0 512 512\"\n                  enableBackground=\"new 0 0 512 512\"\n                  space=\"preserve\"\n                >\n                  <g>\n                    <path\n                      fill={\n                        content.primary_color\n                          ? content.primary_color\n                          : \"#111111\"\n                      }\n                      d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"\n                    />\n                    <path\n                      fill={\n                        content.primary_color\n                          ? content.primary_color\n                          : \"#111111\"\n                      }\n                      d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <span className=\"rdp-react-quiz-remake-btn-text\">\n                {this.getLabels().retry}\n              </span>\n            </div>\n          )}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  render() {\n    let {headerActionsTemplate, content} = this.props;\n    var accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\",\n    };\n\n    return (\n      <div\n        id={content.id}\n        ref={this.elementRef}\n        className={`${this.props.className} ${\n          this.getFont(content.font_family) || \"\"\n        }`}\n        style={accordionStyle}\n      >\n        {headerActionsTemplate}\n        {this.renderContent()}\n      </div>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  ContainerFinishButton,\n  RemakeButtonContainer,\n  NextButtonContainer,\n  ContainedButton\n}","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-2.css';\nimport API from \"../../services\";\nimport {ContainedButton, ContainerFinishButton} from \"./element-quiz-2.styled\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz2 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromDefaultData = this.loadContentFromDefaultData.bind(this);\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      visible: false,\n      activeChoices: {},\n      current_question: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      protocol: null,\n      custom_options: window.cstmptns,\n      user: {\n        roles: []\n      }\n    }\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n      this.trackElementView();\n    }\n  }\n\n  async getSignedUserFromJwt() {\n\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return await new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  loadContentFromDefaultData(defaultData) {\n    try {\n      const {content} = this.props;\n      let cloneContent = content;\n      let loadActiveChoices;\n\n      if (defaultData && defaultData.elements) {\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        cloneContent.questions = cloneContent.questions.map((question) => {\n          question.answered = false;\n          if (defaultData.elements[content.id].answers[question.id]) {\n            question.answered = true;\n          }\n          return question;\n        });\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n\n    if (custom_options == undefined) return;\n    const { interaction_uid } = custom_options;\n\n    return new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeChoices = {...this.state.activeChoices};\n    activeChoices[question.id] = [];\n\n    const answersIds = answer.map((answer) => {\n      return answer.id;\n    });\n\n    question.choices.map((choice) => {\n      if (answersIds.includes(choice.id)) {\n        activeChoices[question.id].push(choice.id);\n      }\n      return choice;\n    });\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n      activeChoices,\n    } = this.state;\n    const {questions} = content;\n\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async question => {\n      let totalCorrects = 0;\n      let correctsAnswered = 0;\n      if (question.answered) {\n        question.choices.map(choice => {\n          if (choice.correct) {\n            totalCorrects++;\n            if (activeChoices[question.id].includes(choice.id)) {\n              correctsAnswered++;\n            }\n          }\n        });\n        if (totalCorrects === correctsAnswered && correctsAnswered === activeChoices[question.id].length) {\n          hits++;\n        }\n      }\n    });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total) * hits,\n        min_percentage: content.utilization.percentage,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quiz-multiple-choice\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n        ;\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      ;\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n    ;\n  }\n\n  trackQuestionView() {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      \"action\": \"view\",\n      \"element\": \"quiz-multiple-choice-question\",\n      \"verb\": \"viewed\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": currentQuestion.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(currentQuestion.question)\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick(choice) {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.current_question];\n    var obj = {\n      \"action\": \"click\",\n      \"verb\": \"focused\",\n      \"element\": \"quiz-multiple-choice-question-answer\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": currentQuestion.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(currentQuestion.question),\n          \"answer\": {\n            \"id\": choice.id,\n            \"title\": StringFormat.HtmlToText(choice.text)\n          }\n        }\n      }\n    }\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(questionId, questions) {\n    let content = this.props.content;\n    const {activeChoices} = this.state;\n\n    let question = null;\n    for (var i = 0; i < questions.length; i++) {\n      if (questions[i].id === questionId) {\n        question = questions[i];\n      }\n      ;\n    }\n    ;\n\n    if (question !== null) {\n      let selectedChoices = [];\n      let correctAnswer = false;\n      question.choices.map(choice => {\n        if (activeChoices[question.id].includes(choice.id)) {\n          selectedChoices.push(choice);\n          if (choice.correct) {\n            correctAnswer = true;\n          }\n        }\n      });\n      var obj = {\n        \"action\": \"click\",\n        \"element\": \"quiz-multiple-choice-question-confirm-answer\",\n        \"verb\": \"answered\",\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"composition_uid\": window.structure.metadata.content_uid,\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n          \"question\": {\n            \"id\": question.id,\n            \"position\": this.state.current_question + 1,\n            \"title\": StringFormat.HtmlToText(question.question),\n            \"answer\": selectedChoices.map(selectedChoice => ({\n              \"id\": selectedChoice.id,\n              \"title\": StringFormat.HtmlToText(selectedChoice.text),\n              \"correct\": correctAnswer\n            })),\n            \"answers\": question.choices\n          }\n        }\n      }\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionResult(correctAnswer, selectedChoices, question);\n      // this.trackQuestionFeedback(correctAnswer, selectedChoices, question);\n    }\n  }\n\n  trackQuestionResult(correctAnswer, selectedChoices, question) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"result\",\n      \"verb\": \"viewed\",\n      \"element\": \"quiz-multiple-choice-question-result\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": question.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(question.question),\n          \"answer\": selectedChoices.map(selectedChoice => ({\n            \"id\": selectedChoice.id,\n            \"title\": StringFormat.HtmlToText(selectedChoice.text),\n            \"correct\": correctAnswer\n          })),\n        }\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback(correctAnswer, selectedChoices, question) {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        \"action\": \"view\",\n        \"element\": \"quiz-multiple-choice-question-feedback\",\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"composition_uid\": window.structure.metadata.content_uid,\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n          \"question\": {\n            \"id\": question.id,\n            \"position\": this.state.current_question + 1,\n            \"title\": StringFormat.HtmlToText(question.question),\n            \"answer\": selectedChoices.map(selectedChoice => ({\n              \"id\": selectedChoice.id,\n              \"title\": StringFormat.HtmlToText(selectedChoice.text),\n              \"correct\": correctAnswer\n            })),\n          }\n        }\n      }\n\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation(direction) {\n    var content = this.props.content;\n    var element = direction === \"next\" ? \"quiz-multiple-choice-question-navigation-next\" : \"quiz-multiple-choice-question-navigation-previous\";\n    var source = direction === \"next\" ? this.state.current_question - 1 : this.state.current_question + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.current_question];\n\n    var obj = {\n      \"action\": \"click\",\n      \"element\": element,\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": direction === \"next\" ? \"advanced\" : \"retreated\",\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"question\": {\n          \"id\": question.id,\n          \"position\": this.state.current_question + 1,\n          \"title\": StringFormat.HtmlToText(question.question)\n        },\n        \"source_question\": {\n          \"id\": source_question.id,\n          \"position\": (direction === \"next\" ? this.state.current_question - 1 : this.state.current_question + 1) + 1,\n          \"title\": StringFormat.HtmlToText(source_question.question)\n        }\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView(resume) {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"view\",\n      \"element\": \"quiz-multiple-choice-feedback\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    var evaluative = false;\n\n    for (var i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"view\",\n      \"verb\": \"viewed\",\n      \"element\": \"quiz-multiple-choice-result\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title,\n        \"questions\": questions\n      }\n    }\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        \"hits\": resume.rdp_html_content.hits,\n        \"total\": resume.rdp_html_content.total,\n        \"percentage_average\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits),\n        \"min_percentage\": resume.rdp_html_content.min_percentage\n      }\n    }\n    ;\n\n    // if (window.hasOwnProperty('CordovaExec')) {\n    //   window.CordovaExec(function(response) {\n    //     console.log(response);\n    //   }, function(reason) {\n    //     console.log(reason);\n    //     console.error('GlobalMessagePlugin');\n    //   }, 'GlobalMessagePlugin', 'SendMessage', ['ActivityProgress', {\n    //     \"progress\": (100 / resume.rdp_html_content.total * resume.rdp_html_content.hits)\n    //   }]);\n    // } else {\n    //   this.props.onTrackEvent(obj);\n    // }\n    this.props.onTrackEvent(obj);\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  trackRemakeQuiz() {\n    var content = this.props.content;\n    var obj = {\n      \"action\": \"click\",\n      \"element\": \"quiz-multiple-choice-remake\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"element_title\": content.content_title\n      }\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  manipulateItems() {\n    const {content, defaultData} = this.props;\n    let cloneContent = content;\n    let loadActiveChoices = {};\n    if (defaultData && defaultData.elements && defaultData.elements[content.id]) {\n      loadActiveChoices = defaultData.elements[content.id].answers ? defaultData.elements[content.id].answers : []\n      cloneContent.questions = cloneContent.questions.map(question => {\n        question.answered = false;\n        if (defaultData.elements[content.id].answers[question.id]) {\n          question.answered = true;\n        }\n        return question;\n      });\n    }\n\n    this.setState({\n      content: cloneContent,\n      current_question: 0,\n      activeChoices: loadActiveChoices ? loadActiveChoices : {},\n      custom_options: window.cstmptns,\n    })\n  }\n\n  // receiveMessage = (event) => {\n\n  //   this.setState({\n  //     \"protocol\": event\n  //   }, () => {\n\n  //     if (event.data !== null && event.data.answered === true) {\n  //       this.setState({\n  //         \"show_result\": true,\n  //         \"grades\": {\n  //           \"rdp_html_content\": {\n  //             \"questions\": event.data.questions,\n  //             \"hits\": event.data.hits,\n  //             \"total\": event.data.total,\n  //             \"percentage_average\": event.data.percentage_average\n  //           }\n  //         }\n  //       });\n  //     };\n\n  //     event.source.postMessage(\"hi there yourself!  the secret response is: rheeeeet!\", event.origin);\n  //   });\n  // }\n\n  renderImage(item) {\n    const style = item.media_max_width ? {maxWidth: item.media_max_width.toString() + 'px'} : {};\n    if (item.image !== null) {\n      return <img className=\"element-quiz-2-image\" src={item.image} alt=\"Composer\" style={style}/>\n    }\n  }\n\n  renderVideo(item) {\n    const style = item.media_max_width ? {maxWidth: item.media_max_width.toString() + 'px'} : {};\n    if (item.video !== null) {\n      return <video className=\"element-quiz-2-video\" controls src={item.video} style={style}/>\n    }\n  }\n\n  handleChangeQuestion(questionChanged, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map(question => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    this.setState({\n      \"content\": contentClone\n    }, () => {\n      this.props.onChange(contentClone);\n    });\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    var language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        \"confirm\": \"Confirm\",\n        \"question\": \"Question\",\n        \"back\": \"Back\",\n        \"retry\": \"Try again\",\n        \"previous\": \"Previous\",\n        \"next\": \"Next\",\n        \"finish\": questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        \"incorrect\": \"Incorrect\",\n        \"right\": \"Right!\",\n        \"finish_quiz_message\": \"You have completed this quiz.\"\n      }\n    } else if (language === \"pt_br\") {\n      return {\n        \"confirm\": \"Confirmar\",\n        \"question\": \"Questo\",\n        \"retry\": \"Refazer atividade\",\n        \"previous\": \"Anterior\",\n        \"next\": \"Prximo\",\n        \"finish\": questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        \"incorrect\": \"Incorreto\",\n        \"right\": \"Correto!\",\n        \"finish_quiz_message\": \"Voc finalizou este questionrio.\"\n      }\n    }\n  }\n\n  renderQuestionQuill = (question) => {\n    return (\n      <div className=\"element-quiz-2-question\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: question.question}}></div>\n      </div>\n    );\n\n  }\n\n  renderChoiceRadio(question, choice) {\n    const {activeChoices} = this.state;\n    if (activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n      return <div className=\"element-quiz-2-choice-radio\">\n        <svg className=\"element-quiz-2-correct-choice\" xmlns=\"http://www.w3.org/2000/svg\"\n             xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"9px\"\n             viewBox=\"0 0 12 9\" enableBackground=\"new 0 0 12 9\" space=\"preserve\">\n          <polygon fillRule=\"evenodd\" clipRule=\"evenodd\" fill={this.state.content.primary_color}\n                   points=\"10.15,0.062 4.505,5.782 1.595,2.9 0.032,4.431   4.635,8.98 11.973,1.909 \"/>\n        </svg>\n      </div>\n    } else {\n      return <div className=\"element-quiz-2-choice-radio\"></div>\n    }\n  }\n\n  onChoiceClick(question, choice) {\n    let activeChoices = this.state.activeChoices;\n    if (activeChoices[question.id]) {\n      if (activeChoices[question.id].includes(choice.id)) {\n        activeChoices[question.id] = activeChoices[question.id].filter(selected => {\n          if (selected !== choice.id) return selected;\n        });\n      } else {\n        activeChoices[question.id].push(choice.id);\n      }\n    } else {\n      activeChoices[question.id] = [];\n      activeChoices[question.id].push(choice.id);\n    }\n\n    this.setState({\n      activeChoices: activeChoices\n    }, function () {\n      this.trackAnswerClick(choice);\n    })\n  }\n\n  handleChangeChoice(question, choice, text) {\n    let contentClone = this.state.content;\n    contentClone.questions = contentClone.questions.map(qtion => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map(ch => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        })\n      return qtion;\n    });\n\n    this.setState({\n      \"content\": contentClone\n    }, () => {\n      this.props.onChange(contentClone);\n    });\n\n  }\n\n  renderChoiceQuill(question, choice, index) {\n    let {content, activeChoices} = this.state;\n    let classSelected = null;\n    let colorChoice = content.primary_color;\n    if (activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n      classSelected = \"choice-selected\";\n      if (question.answered) {\n        let correctAnswer = true;\n        let totalCorrects = 0;\n        question.choices.map(ch => {\n          if (ch.correct) totalCorrects++;\n          if (!ch.correct && activeChoices[question.id].includes(ch.id)) {\n            correctAnswer = false;\n          }\n        });\n        if (!activeChoices[question.id] || totalCorrects !== activeChoices[question.id].length) correctAnswer = false;\n        if (!question.no_correct_answer) {\n          colorChoice = correctAnswer ? content.correct_color : content.incorrect_color;\n        }\n        classSelected = \"choice-answered\";\n      }\n    }\n\n    return (\n      <div key={choice.id} style={classSelected && {borderColor: colorChoice ? colorChoice : content.primary_color}}\n           className={`element-quiz-2-choice ${classSelected}`}\n           onClick={() => !question.answered && this.onChoiceClick(question, choice)}\n      >\n        {this.renderChoiceRadio(question, choice)}\n        <div className=\"element-quiz-2-choice-text\" dangerouslySetInnerHTML={{__html: choice.text}}></div>\n        {(choice.image && this.renderImage(choice)) || (choice.video && this.renderVideo(choice))}\n      </div>\n    )\n\n  }\n\n  renderChoices(question) {\n    var _this = this;\n    var choices = question.choices;\n\n    return <ul className=\"element-quiz-2-choices\">\n      {choices.map(function (choice, index) {\n        return _this.renderChoiceQuill(question, choice, index)\n      })}\n    </ul>\n  }\n\n  renderPreviousQuestionBtn() {\n    const {primary_color} = this.state.content;\n    let current_question = this.state.current_question;\n    if (current_question !== 0) {\n      return <button style={{color: primary_color}}\n                     onClick={() => this.setState({\"current_question\": current_question - 1}, function () {\n                       this.trackNavigation(\"prev\");\n                       this.trackQuestionView();\n                     })}\n                     className=\"rdp-react-quiz-navigation-previous-btn\">{this.getLabels().previous}</button>\n    }\n  }\n\n  renderNextQuestionBtn() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var questions_count = questions.length;\n    if (questions_count !== (current_question + 1)) {\n      return <button style={{color: primary_color}}\n                     onClick={() => this.setState({\"current_question\": current_question + 1}, function () {\n                       this.trackNavigation(\"next\");\n                       this.trackQuestionView();\n                     })}\n                     className=\"rdp-react-quiz-navigation-next-btn\">{this.getLabels().next}</button>\n    }\n  }\n\n  renderFinishBtn() {\n    const {current_question, content, activeChoices, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = current_question + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map(q => {\n      if (activeChoices[q.id] && q.answered) {\n        answeredQuestions++;\n      }\n    })\n    let disabledBtn = questions_count !== answeredQuestions;\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      )\n    }\n  }\n\n  renderProgress() {\n    const {current_question, content} = this.state;\n    const {questions, primary_color} = content;\n    var current = current_question + 1;\n    var total = questions.length;\n    var percentage = (100 / total * current) + \"%\";\n    return <div className=\"rdp-react-quiz-navigation-progress\">\n      <div className=\"rdp-react-quiz-navigation-progress-bar-placeholder\">\n        <div style={{width: percentage, backgroundColor: primary_color}}\n             className=\"rdp-react-quiz-navigation-progress-bar\"></div>\n      </div>\n      <span style={{color: primary_color}} className=\"rdp-react-quiz-navigation-progress-count\">{current}/{total}</span>\n    </div>\n  }\n\n  renderNavigation() {\n    return (\n      <div className=\"rdp-react-quiz-navigation\">\n        {this.renderPreviousQuestionBtn()}\n        {this.renderProgress()}\n        {this.renderNextQuestionBtn()}\n        {this.renderFinishBtn()}\n      </div>\n    );\n  }\n\n  defineAnswered = (idQuestion, resetAll = false) => {\n    let cloneContent = this.state.content;\n    let changedQuestions = this.state.content.questions.map(question => {\n      if (question.id === idQuestion) {\n        question.answered = true;\n      }\n      if (resetAll === true) {\n        question.answered = false;\n      }\n      return question;\n    });\n    cloneContent.questions = changedQuestions;\n    this.setState({\n      \"content\": cloneContent\n    }, () => {\n      try {\n        this.props.handleComplete(cloneContent, this.state.activeChoices);\n      } catch (e) {\n        console.error(e);\n      }\n      this.trackAnswerConfirmClick(idQuestion, changedQuestions);\n    });\n  }\n\n  renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        {msg && <p>{msg}</p>}\n      </div>\n    )\n  }\n\n  renderCorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_correct && question.feedback_correct.text) ? question.feedback_correct.text : msg;\n      image = (question.feedback_correct && question.feedback_correct.image) ? question.feedback_correct.image : image;\n      video = (question.feedback_correct && question.feedback_correct.video) ? question.feedback_correct.video : video;\n      media_max_width = (question.feedback_correct && question.feedback_correct.media_max_width) ? question.feedback_correct.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.correct_color ? content.correct_color : content.primary_color}\n                  d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"/>\n            <path fill={content.correct_color ? content.correct_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"/>\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  renderIncorrectMsg = (question) => {\n    const {content} = this.state;\n    let msg = this.getLabels().incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = (question.feedback_incorrect && question.feedback_incorrect.text) ? question.feedback_incorrect.text : msg;\n      image = (question.feedback_incorrect && question.feedback_incorrect.image) ? question.feedback_incorrect.image : image;\n      video = (question.feedback_incorrect && question.feedback_incorrect.video) ? question.feedback_incorrect.video : video;\n      media_max_width = (question.feedback_incorrect && question.feedback_incorrect.media_max_width) ? question.feedback_incorrect.media_max_width : media_max_width;\n    } else {\n      msg = (question.feedback_default && question.feedback_default.text) ? question.feedback_default.text : msg;\n      image = (question.feedback_default && question.feedback_default) ? question.feedback_default.image : image;\n      video = (question.feedback_default && question.feedback_default.video) ? question.feedback_default.video : video;\n      media_max_width = (question.feedback_default && question.feedback_default.media_max_width) ? question.feedback_default.media_max_width : media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"/>\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"/>\n          </svg>\n        )}\n        {(image && this.renderImage({image, media_max_width})) || (video && this.renderVideo({video, media_max_width}))}\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  verifyAnswer = (question) => {\n    const {activeChoices} = this.state;\n    const {feedback} = this.state.content;\n\n    let correctAnswer = true;\n    let totalCorrects = 0;\n    question.choices.map(choice => {\n      if (choice.correct) totalCorrects++;\n      if (!choice.correct && activeChoices[question.id] && activeChoices[question.id].includes(choice.id)) {\n        correctAnswer = false;\n      }\n    });\n    if (!activeChoices[question.id] || totalCorrects !== activeChoices[question.id].length) correctAnswer = false;\n\n    const no_correct_answer = question.no_correct_answer;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-2-feedback-msg\">\n          {(correctAnswer && !no_correct_answer)\n            ? this.renderCorrectMsg(question)\n            : (!no_correct_answer)\n              ? this.renderIncorrectMsg(question)\n              : this.renderCustomMsg(question)\n          }\n        </div>\n      );\n    }\n    ;\n\n  }\n\n  renderFeedback(question) {\n    const {content, activeChoices} = this.state;\n    const {primary_color,} = content;\n\n    return (\n      <div className=\"element-quiz-2-feedback-container\">\n        {question.answered ?\n          this.verifyAnswer(question)\n          :\n          <button onClick={() => activeChoices[question.id] && this.defineAnswered(question.id)}\n                  style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n                  className=\"element-quiz-1-btn-confirm\">{this.getLabels().confirm}</button>\n        }\n      </div>\n    );\n\n  }\n\n  renderQuestionare(question) {\n    const {current_question, content} = this.state;\n    const {questions, primary_color,} = content;\n    return (\n      <div>\n        <div className=\"element-quiz-2-header\">\n          <span style={{color: primary_color}}>{this.getLabels().question} {current_question + 1}</span>\n          <span style={{color: primary_color}}>{current_question + 1}/{questions.length}</span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {this.renderImage(question)}\n        {this.renderVideo(question)}\n        {this.renderChoices(question)}\n        {this.renderFeedback(question)}\n        {this.renderNavigation()}\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {current_question, content, show_result} = this.state;\n    const {questions} = content;\n    if (questions) {\n      let question = questions[current_question];\n      return (\n        <div className=\"element-quiz-2-container\">\n          {question && !show_result ? this.renderQuestionare(question) : this.renderResult()}\n        </div>\n      )\n    }\n  }\n\n\n  onFinishClick() {\n    const {\n      content,\n      activeChoices,\n      custom_options,\n      attempsMade\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n    questions.map(async question => {\n      let totalCorrects = 0;\n      let correctsAnswered = 0;\n      let score = \"0\";\n      if (question.answered) {\n        question.choices.map(choice => {\n          if (choice.correct) {\n            totalCorrects++;\n            if (activeChoices[question.id].includes(choice.id)) {\n              correctsAnswered++;\n            }\n          }\n        });\n        if (totalCorrects === correctsAnswered && correctsAnswered === activeChoices[question.id].length) {\n          hits++;\n          score = \"100\";\n        }\n      }\n\n      const choises = activeChoices[question.id] || [];\n      const object_data = question.choices.filter(choise => choises.includes(choise.id));\n\n      if (custom_options) {\n        const {\n          interaction_uid,\n        } = custom_options;\n\n        await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .createObject({\n            context_uid: content.id,\n            type: content.type,\n            target_uid: question.id,\n            object_data,\n            score,\n          }, custom_options);\n      }\n    });\n\n    var resume = {\n      \"rdp_html_content\": {\n        \"questions\": questions,\n        \"hits\": hits,\n        \"total\": total,\n        \"percentage_average\": (100 / total * hits),\n        \"min_percentage\": content.utilization.percentage\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n    });\n\n    this.props.handleComplete(content, activeChoices);\n\n    let score = (100 / total * hits);\n    let finished = true;\n\n    \n    if (\n      content.utilization &&\n      content.utilization.enabled &&\n      (content.scorm_progress_count === \"with_finish_and_minimum_score\" && content.utilization.percentage > score) &&\n      (content.scorm_progress_count === \"with_finish_and_minimum_score\" || content.scorm_progress_count === \"with_finish_without_minimum_score\")\n    ) {\n      finished = false;\n    }\n\n    try {\n      this.props.handleFinish(content, {\n        score,\n        finished\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    // this.trackQuizFinishView(resume);\n    this.trackQuizResult(questions, resume);\n\n    // if (protocol !== null && typeof protocol !== \"undefined\") {\n    //   protocol.source.postMessage(resume, protocol.origin);\n    // } else {\n    //   console.log(\"ERRO - PROTOCOL NOT FOUND\");\n    // }\n\n    this.setState({\n      attempsMade: attempsMade + 1,\n    })\n  }\n\n  onRemakeQuestionnaire() {\n    this.defineAnswered(0, true);\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      current_question: 0,\n      activeChoices: [],\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel(hits, total, percentage) {\n    var language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return `You got ${hits} of ${total} questions right, equivalent to ${percentage} of the quiz.`\n    } else if (language === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes, o equivalente a ${percentage} do questionrio.`\n    }\n    ;\n  }\n\n  renderFinalMessage(grades) {\n    var feedback = this.state.content.feedback.type;\n    if (feedback === \"disabled\") {\n      return <span className=\"rdp-react-quiz-result-message\">{this.getLabels().finish_quiz_message}</span>\n    } else {\n      return <span\n        className=\"rdp-react-quiz-result-message\">{this.getResultLabel(grades.hits, grades.total, `${parseFloat(grades.percentage_average).toFixed(0)}%`)}</span>;\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n\n    if (show_result === true) {\n      let grades = this.state.grades.rdp_html_content;\n      return (\n        <div className=\"rdp-react-quiz-result\">\n          <span className=\"rdp-react-quiz-result-icon\"></span>\n          {this.renderFinalMessage(grades)}\n          {this.userCanRemakeQuiz() &&\n            <div className=\"rdp-react-quiz-remake-btn\" onClick={() => this.onRemakeQuestionnaire()}>\n            <span className=\"rdp-react-quiz-remake-btn-icon\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n                   x=\"0px\" y=\"0px\" width=\"32px\" height=\"32px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n                   space=\"preserve\">\n                <g>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"/>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"/>\n                </g>\n              </svg>\n            </span>\n              <span className=\"rdp-react-quiz-remake-btn-text\">{this.getLabels().retry}</span>\n            </div>}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let {headerActionsTemplate, content} = this.props;\n    let accordionStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n    return <div id={content.id} ref={this.elementRef} className={`${this.props.className} ${this.getFont(content.font_family) || \"\"}`}\n                style={accordionStyle}>\n      {headerActionsTemplate}\n      {this.renderContent()}\n    </div>\n  }\n\n}\n","import styled from \"styled-components\";\n\n\nexport const Navigation = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #f9f9f9;\n  width: 100%;\n  height: 50px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n`;\n\nexport const Button = styled.button`\n  background: transparent;\n  color: ${props => props.primaryColor || \"#2d7b45\"};\n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: 11px;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 2px;\n  cursor: pointer;\n  font-family: Lato-Bold, serif;\n\n  &:disabled,\n  &[disabled=\"true\"],\n  &[disabled=\"disabled\"] {\n    color: #A1A1A1;\n    cursor: default;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: ${props => props.justify || \"middle\"};\n`;\n\nexport const ContainedButton = styled(Button)`\n  background: ${props => props.primaryColor || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  margin-right: 20px;\n\n  &:disabled,\n  &[disabled=\"true\"],\n  &[disabled=\"disabled\"] {\n    cursor: not-allowed;\n    opacity: 0.5;\n    color: white;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n`\n","import styled from \"styled-components\";\n\n\nexport const ProgressContainer = styled.div`\n  flex: 2;\n  max-width: 300px;\n`;\n\nexport const Progress = styled.div`\n  width: 100%;\n  height: 50px;\n  margin: 0 auto;\n`;\n\nexport const ProgressBarPlaceholder = styled.div`\n  width: calc(100% - 40px);\n  height: 6px;\n  border-radius: 50px;\n  background: #ccc;\n  margin-top: 23px;\n  display: inline-block;\n`;\n\nexport const ProgressBar = styled.div`\n  width: 0;\n  height: 6px;\n  border-radius: 50px;\n  background: #2d7b45;\n  transition: all 0.3s ease-out;\n`;\n\nexport const ProgressCount = styled.span`\n  font-weight: bold;\n  font-size: 11px;\n  margin-left: 5px;\n  color: #2d7b45;\n  letter-spacing: 2px;\n`;","import React from \"react\";\nimport * as S from \"./progress.styled\";\n\n\nfunction Progress(props) {\n  const {\n    primaryColor,\n    currentProgress = 1,\n    totalProgress = 2,\n  } = props;\n  const percentage = (100 / totalProgress * currentProgress) + \"%\";\n\n  return (\n    <S.ProgressContainer>\n      <S.Progress>\n        <S.ProgressBarPlaceholder>\n          <S.ProgressBar\n            style={{\n              width: percentage,\n              backgroundColor: primaryColor\n            }}\n          />\n        </S.ProgressBarPlaceholder>\n\n        <S.ProgressCount\n          style={{\n            color: primaryColor\n          }}\n        >\n          {currentProgress}/{totalProgress}\n        </S.ProgressCount>\n      </S.Progress>\n    </S.ProgressContainer>\n  );\n}\n\nexport default Progress;","import React from \"react\";\nimport * as S from \"./navigation.styled\";\nimport Progress from \"../element-progress/progress\";\n\n\nfunction Navigation(props) {\n  const {\n    onClickPrevius,\n    onClickNext,\n    onClickFinish,\n    labels,\n    primaryColor,\n    currentProgress = 1,\n    totalProgress = 2,\n    showFinishButton = false,\n    disableFinishButton = true,\n  } = props;\n\n  const renderPreviousQuestionBtn = () => {\n    if (currentProgress !== 1) {\n      return (\n        <S.Button\n          tabIndex={1}\n          onClick={onClickPrevius}\n          primaryColor={primaryColor}\n        >\n          {labels.previous}\n        </S.Button>\n      )\n    }\n  }\n\n  const renderNextQuestionBtn = () => {\n    return (\n      <S.Button\n        onClick={onClickNext}\n        primaryColor={primaryColor}\n      >\n        {labels.next}\n      </S.Button>\n    )\n  }\n\n  const renderFinishBtn = () => {\n    return (\n      <S.ContainedButton\n        tabIndex={1}\n        primaryColor={primaryColor}\n        onClick={onClickFinish}\n        disabled={disableFinishButton}\n      >\n        {labels.finish}\n      </S.ContainedButton>\n    )\n  }\n\n  return (\n    <S.Navigation>\n      <S.ButtonContainer\n        justify=\"left\"\n      >\n        {renderPreviousQuestionBtn()}\n      </S.ButtonContainer>\n\n      <Progress\n        primaryColor={primaryColor}\n        currentProgress={currentProgress}\n        totalProgress={totalProgress}\n      />\n\n      <S.ButtonContainer\n        justify=\"right\"\n      >\n        {\n          showFinishButton\n            ? renderFinishBtn()\n            : renderNextQuestionBtn()\n        }\n      </S.ButtonContainer>\n    </S.Navigation>\n  );\n}\n\nexport default Navigation;","export default function classNameFn(classes = []) {\n  return classes.join(\" \").trim();\n}","import styled from \"styled-components\";\n\nexport const QuizCard = styled.div`\n  transition: all 0.3s ease-out;\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  position: relative;\n  background: #ffffff;\n  overflow: hidden;\n  border: 1px solid #ddd;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0, 0, 0, 0.05);\n  padding: 35px 35px 58px 35px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-card.styled\";\n\nfunction QuizCard(props) {\n  const {\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <S.QuizCard\n      {...rest}\n    >\n      {children}\n    </S.QuizCard>\n  )\n}\n\nexport default QuizCard;","import styled from \"styled-components\";\n\n\nexport const InputGroup = styled.div`\n  margin-top: 0;\n  padding-top: 10px;\n`;","import React from \"react\";\nimport * as S from \"./input-group.styled\";\n\nfunction InputGroup(props) {\n  const {\n    type = \"radiogroup\",\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <S.InputGroup\n      role={type}\n      {...rest}\n    >\n      {children}\n    </S.InputGroup>\n  )\n}\n\nexport default InputGroup;","import styled from \"styled-components\";\n\nexport const QuizHeader = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst Span = styled.span`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: ${props => props.primaryColor || \"#00643e\"}\n`;\n\nexport const CurrentQuestionText = styled(Span)``;\n\nexport const ProgressText = styled(Span)`\n  float: right;\n  letter-spacing: 2px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-header.styled\";\n\n\nfunction QuizHeader(props) {\n  const {\n    primaryColor,\n    labels,\n    current,\n    total,\n  } = props;\n\n  return (\n    <S.QuizHeader>\n      <S.CurrentQuestionText\n        primaryColor={primaryColor}\n      >\n        {labels.question} {current + 1}\n      </S.CurrentQuestionText>\n\n      <S.ProgressText\n        primaryColor={primaryColor}\n      >\n        {current + 1}/{total}\n      </S.ProgressText>\n    </S.QuizHeader>\n  )\n}\n\nexport default QuizHeader;","import styled from \"styled-components\";\n\nexport const Choice = styled.div`\n  transition: all 0.3s ease-out;\n  border: 1px solid ${props => props.borderColor || \"transparent\"};\n  border-radius: ${props => props.borderRadius || 0} !important;\n  margin: 10px 0;\n  cursor: pointer;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  display: flex;\n\n  &:hover {\n    background: #f8f8f8;\n    border-radius: 10px;\n  }\n  \n  &:disabled,\n  &[disabled],\n  &[disabled=disabled],\n  &[disabled=true] {\n    cursor: not-allowed;\n  }\n`;","import React from \"react\";\nimport * as S from \"./choice.styled\";\nimport classNameFn from \"../../utils/classNameFn\";\n\n\nfunction Choice(props) {\n  const {\n    children,\n    className,\n    selected,\n    primaryColor,\n    selectedColor,\n    borderRadius,\n    disabled,\n    ...rest\n  } = props;\n\n  return (\n    <S.Choice\n      {...rest}\n      borderColor={selected ? (selectedColor || primaryColor) : null}\n      className={classNameFn([\n        \"element-choice\",\n        className,\n      ])}\n      borderRadius={(selected && disabled) ? \"0px\" : \"10px\"}\n      disabled={disabled}\n    >\n      {children}\n    </S.Choice>\n  )\n}\n\nexport default Choice;","import styled from \"styled-components\";\n\n\nexport const Radio = styled.span`\n  --primary-color: ${props => props.primaryColor || \"#00643e\"};\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`;\n\nexport const Input = styled.input`\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  border-radius: 50%;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n  \n  \n  &::before {\n    content: \"\";\n    width: 0.65em;\n    height: 0.65em;\n    border-radius: 50%;\n    transform: scale(0);\n    transition: 120ms transform ease-in-out;\n    background-color: var(--primary-color);\n  }\n  \n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    transform: scale(1);\n  }\n`;","import React from \"react\";\nimport * as S from \"./radio.styled\";\n\nfunction Radio(props) {\n  const {\n    value = \"\",\n    primaryColor,\n    checked,\n    onChange,\n    ...rest\n  } = props;\n\n  return (\n    <S.Radio\n      primaryColor={primaryColor}\n    >\n      <S.Input\n        type=\"radio\"\n        checked={checked}\n        value={value}\n        onChange={onChange}\n        readOnly={!!!onChange}\n        {...rest}\n      />\n    </S.Radio>\n  )\n}\n\nexport default Radio;","import styled from \"styled-components\";\n\nexport const QuizChoiceText = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n`;\n\nexport const ChoiceContainer = styled.div`\n  display: inline-flex;\n`;\n\nexport const CenterContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n  width: 100%;\n`;\n\nexport const QuizImageVideoContainer = styled(CenterContainer)``;\n\nexport const ColumnContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n`;\n\nexport const RowContainer = styled.div`\n  width: 100%;\n`;","import styled from \"styled-components\";\n\nexport const QuizImage = styled.img`\n  width: -webkit-fill-available;\n  margin: 20px;\n`","import React from \"react\";\nimport * as S from \"./quiz-image.styled\";\n\nfunction QuizImage(props) {\n  const {\n    data = null,\n    mediaMaxWidth,\n  } = props;\n  const style = mediaMaxWidth ? {maxWidth: mediaMaxWidth.toString() + 'px'} : {};\n\n  if (data !== null) {\n    return <S.QuizImage src={data} style={style}/>\n  }\n\n  return null;\n}\n\nexport default QuizImage;","import styled from \"styled-components\";\n\nexport const QuizVideo = styled.img`\n  width: calc(100% - 60px);\n  margin: 20px;\n`","import React from \"react\";\nimport * as S from \"./quiz-video.styled\";\n\nfunction QuizVideo(props) {\n  const {\n    data = null,\n    mediaMaxWidth,\n  } = props;\n  const style = mediaMaxWidth ? {maxWidth: mediaMaxWidth.toString() + 'px'} : {};\n\n\n  if (data !== null) {\n    return <S.QuizVideo controls src={data} style={style}/>\n  }\n\n  return null;\n}\n\nexport default QuizVideo;","import styled from \"styled-components\";\n\n\nexport const Checkbox = styled.span`\n  --primary-color: ${props => props.primaryColor || \"#00643e\"};\n  \n  width: 60px;\n  height: 45px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`;\n\nexport const Input = styled.input`\n  cursor: inherit;\n  appearance: none;\n  background-color: transparent;\n  margin: 0;\n\n  font: inherit;\n  color: transparent;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #ddd;\n  transform: translateY(-0.075em);\n\n  display: grid;\n  place-content: center;\n\n  &:before {\n    position: absolute;\n    top: 11px;\n    left: 7px;\n    content: \"\";\n    width: 3px;\n    height: 0;\n    transform: rotate(140deg);\n    transition: all 0.2s ease-out;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n\n  &:checked:before,\n  &[checked=true]:before,\n  &[checked=checked]:before {\n    top: 7px;\n    left: 4px;\n    height: 7px;\n    opacity: 1;\n  }\n  \n  &:after {\n    content: \"\";\n    position: absolute;\n    top: 11px;\n    left: 6px;\n    width: 3px;\n    height: 0;\n    transform: rotate(50deg);\n    transition: all 0.2s ease-in;\n    transition-delay: 50ms;\n    background: var(--primary-color);\n    opacity: 0;\n  }\n  \n  &:checked:after,\n  &[checked=true]:after,\n  &[checked=checked]:after {\n    top: 3px;\n    left: 10px;\n    height: 10px;\n    opacity: 1;\n  }\n\n  @keyframes grow-after {\n    0% {\n      height: 0;\n    }\n    100% {\n      height: 10px;\n    }\n  }\n`;","import React from \"react\";\nimport * as S from \"./checkbox.styled\";\n\nfunction Checkbox(props) {\n  const {\n    primaryColor,\n    checked: defaultChecked = false,\n    ...rest\n  } = props;\n  const [checked, setChecked] = React.useState(defaultChecked);\n\n  React.useEffect(() => {\n    if (defaultChecked !== checked) {\n      setChecked(defaultChecked);\n    }\n  }, [defaultChecked]);\n\n  return (\n    <S.Checkbox\n      primaryColor={primaryColor}\n    >\n      <S.Input\n        type=\"checkbox\"\n        checked={checked}\n        readOnly\n        {...rest}\n      />\n    </S.Checkbox>\n  )\n}\n\nexport default Checkbox;","function isChoiceSelected(activeChoices, choice, question) {\n  switch (question.type) {\n    case \"quiz-1\":\n      return activeChoices[question.id] === choice.id;\n    case \"quiz-2\":\n      return activeChoices[question.id] &&  activeChoices[question.id].includes(choice.id);\n    case \"quiz-3\":\n      return String(activeChoices[question.id]).toLowerCase() === String(choice.text).toLowerCase();\n    case \"quiz-4\":\n      return String(activeChoices[question.id]) && (activeChoices[question.id].find(item => item.sourceId === choice.id && item.destinationId === choice.id) !== undefined);\n    default:\n      return null;\n  }\n}\n\nexport default isChoiceSelected;","import React, {useEffect} from \"react\";\nimport Choice from \"../element-choice/choice\";\nimport Radio from \"../element-radio/radio\";\nimport * as S from \"./quiz-choice-quill.styled\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport Checkbox from \"../element-checkbox/checkbox\";\nimport isChoiceSelected from \"../../utils/isChoiceSelected\";\n\nfunction QuizChoiceQuill(props) {\n  const {\n    question,\n    type,\n    choice,\n    content,\n    disabled = false,\n    activeChoices = [],\n    onChoiceClick = () => {\n    },\n  } = props;\n  const [colorChoice, setColorChoice] = React.useState(content.primary_color || \"#00bcd4\");\n  const selected = isChoiceSelected(activeChoices, choice, question);\n\n  useEffect(() => {\n    if (selected) {\n      if (disabled) {\n        let correctAnswer = false;\n        question.choices.forEach(ch => {\n          if (ch.correct && selected) {\n            correctAnswer = true;\n          }\n        });\n\n        setColorChoice(correctAnswer ? content.correct_color : content.incorrect_color);\n      }\n    }\n  }, [activeChoices, choice]);\n\n  useEffect(() => {\n    setColorChoice(content.primary_color || \"#00bcd4\");\n  }, [content]);\n\n  const renderChoiceRadio = (question, choice) => {\n    return (\n      <Radio\n        value={choice.text}\n        checked={selected}\n        primaryColor={content.primary_color}\n      />\n    )\n  }\n\n  const renderChoiceCheckbox = (question, choice) => {\n    return (\n      <Checkbox\n        checked={selected}\n        primaryColor={content.primary_color}\n      />\n    )\n  }\n\n  const handleChoiceClick = () => {\n    if (!disabled && typeof onChoiceClick === \"function\") {\n      try {\n        onChoiceClick(question, choice);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  const renderChoiceInputType = () => {\n    switch (type) {\n      case \"quiz-1\":\n        return renderChoiceRadio(question, choice);\n      case \"quiz-2\":\n        return renderChoiceCheckbox(question, choice);\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <>\n      <Choice\n        role=\"button\"\n        selected={selected}\n        primaryColor={content.primary_color}\n        selectedColor={colorChoice}\n        disabled={disabled}\n        onClick={handleChoiceClick}\n      >\n        <S.ColumnContainer>\n          <S.ChoiceContainer>\n            {renderChoiceInputType()}\n            <S.QuizChoiceText\n              dangerouslySetInnerHTML={{__html: choice.text}}\n            ></S.QuizChoiceText>\n          </S.ChoiceContainer>\n\n          <S.CenterContainer>\n            <S.QuizImageVideoContainer>\n              <S.RowContainer>\n                {\n                  (choice.image && <QuizImage data={choice.image} mediaMaxWidth={choice.media_max_width}/>)\n                  || (choice.video && <QuizVideo data={choice.video} mediaMaxWidth={choice.media_max_width}/>)\n                }\n              </S.RowContainer>\n            </S.QuizImageVideoContainer>\n          </S.CenterContainer>\n        </S.ColumnContainer>\n      </Choice>\n    </>\n  )\n    ;\n}\n\nexport default QuizChoiceQuill;","import styled from \"styled-components\";\n\n\nexport const QuizQuestionQuill = styled.div`\n  border-bottom: 1px solid #f2f2f2;\n`;\n\nexport const QuizQuestion = styled.div`\n  border-bottom: 1px solid #f2f2f2;\n  user-select: none;\n  padding: 10px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-question-quill.styled\";\n\nfunction QuizQuestionQuill(props) {\n  const {\n    question,\n    editable = false,\n  } = props;\n\n  return (\n    <S.QuizQuestionQuill>\n      {\n        editable ? (\n          <div className=\"ql-editor\" dangerouslySetInnerHTML={{__html: question.question}}></div>\n        ) : (\n          <S.QuizQuestion dangerouslySetInnerHTML={{__html: question.question}}/>\n        )\n      }\n    </S.QuizQuestionQuill>\n  );\n}\n\nexport default QuizQuestionQuill;","import styled from \"styled-components\";\n\nexport const QuizQuestionFeedback = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n`;\n\nexport const ConfirmButton = styled.button`\n  transition: all 0.3s ease-out;\n  display: block;\n  margin: 0 auto;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n`;\n\nexport const EditButton = styled.button`\n  margin: 20px 10px;\n  transition: all 0.3s ease-out;\n  display: block;\n  background: #2d7b45;\n  color: #fff;\n  border: 0;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  border-radius: 30px;\n  cursor: pointer;\n`;\n\nexport const QuizQuestionFeedbackMessage = styled.div`\n  transition: all 0.3s ease-out;\n  text-align: center;\n  line-height: 1.42;\n\n  p {\n    margin: 10px auto;\n    font-weight: 500;\n    color: #333;\n  }\n`;","import isChoiceSelected from \"./isChoiceSelected\";\n\nfunction questionIsCorrect(question, activeChoices) {\n  const {choices = []} = question;\n  let totalCorrects = 0;\n  let correctsAnswered = 0;\n\n  if (choices.length) {\n    choices.forEach(choice => {\n      if (\"correct\" in choice && choice.correct === true) {\n        const selected = isChoiceSelected(activeChoices, choice, question);\n        totalCorrects++;\n        if (selected) {\n          correctsAnswered++;\n        }\n      } else if (!(\"correct\" in choice)) {\n        const selected = isChoiceSelected(activeChoices, choice, question);\n        if (selected) {\n          totalCorrects++;\n          correctsAnswered++;\n        }\n      }\n    });\n\n    // Questionrios do tipo 1 e 5 possuem o activeChoices do tipo string\n    // Questionrios do tipo 2 possuem o activeChoices do tipo array pois podem conter mais de uma resposta correta\n    return (totalCorrects > 0 && totalCorrects === correctsAnswered)\n      && (typeof activeChoices[question.id] === \"string\" || correctsAnswered === activeChoices[question.id].length);\n  } else {\n    // Caso possua apenas o texto da pergunta\n    return true;\n  }\n}\n\nexport default questionIsCorrect;","import React from \"react\";\nimport * as S from \"./quiz-question-confirm-feedback.styled\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\n\n\nfunction QuizQuestionConfirmFeedback(props) {\n  const {\n    question,\n    activeChoices,\n    content,\n    labels,\n    answered = false,\n    onClickConfirm = (questionId) => {\n    },\n    onClickEdit = (questionId) => {},\n  } = props;\n  const {primary_color, feedback} = content;\n\n  const renderCustomMsg = (question) => {\n    const msg = question.feedback_default.text;\n    const image = question.feedback_default.image;\n    const video = question.feedback_default.video;\n    const media_max_width = question.feedback_default.media_max_width;\n\n    return (\n      <div>\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        {msg && <p>{msg}</p>}\n      </div>\n    )\n  }\n\n  const renderCorrectMsg = (question) => {\n    let msg = labels.right;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = question.feedback_correct.text ? question.feedback_correct.text : msg;\n      image = question.feedback_correct.image;\n      video = question.feedback_correct.video;\n      media_max_width = question.feedback_correct.media_max_width;\n    } else {\n      msg = question.feedback_default.text ? question.feedback_default.text : msg;\n      image = question.feedback_default.image;\n      video = question.feedback_default.video;\n      media_max_width = question.feedback_default.media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.correct_color ? content.correct_color : content.primary_color}\n                  d=\"M221.41,346.64c-5.42,0-10.81-2.11-14.87-6.28l-77.5-79.56c-7.99-8.21-7.82-21.35,0.39-29.35  c8.22-8,21.35-7.82,29.35,0.39l63.21,64.89L354.5,171.06c8.32-7.9,21.46-7.53,29.34,0.78c7.9,8.31,7.54,21.45-0.77,29.34  L235.69,340.94C231.67,344.74,226.54,346.64,221.41,346.64z\"/>\n            <path fill={content.correct_color ? content.correct_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,41.51C137.73,41.51,41.51,137.73,41.51,256  S137.73,470.49,256,470.49S470.49,374.27,470.49,256S374.27,41.51,256,41.51z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0  s256,114.84,256,256S397.16,512,256,512z\"/>\n          </svg>\n        )}\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  const renderIncorrectMsg = (question) => {\n    let msg = labels.incorrect;\n    let image = null, video = null, media_max_width = null;\n    if (content.feedback.type === \"correct_incorrect\") {\n      msg = question.feedback_incorrect.text ? question.feedback_incorrect.text : msg;\n      image = question.feedback_incorrect.image;\n      video = question.feedback_incorrect.video;\n      media_max_width = question.feedback_incorrect.media_max_width;\n    } else {\n      msg = question.feedback_default.text ? question.feedback_default.text : msg;\n      image = question.feedback_default.image;\n      video = question.feedback_default.video;\n      media_max_width = question.feedback_default.media_max_width;\n    }\n\n    return (\n      <div>\n        {!image && !video && (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\"\n               x=\"0px\" y=\"0px\" width=\"56px\" height=\"56px\" viewBox=\"0 0 512 512\" enableBackground=\"new 0 0 512 512\"\n               space=\"preserve\">\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M256,36.57C135,36.57,36.57,135,36.57,256S135,475.43,256,475.43  S475.43,377,475.43,256S377,36.57,256,36.57z M256,512C114.84,512,0,397.16,0,256S114.84,0,256,0s256,114.84,256,256  S397.16,512,256,512z\"/>\n            <path fill={content.incorrect_color ? content.incorrect_color : content.primary_color} fillRule=\"evenodd\"\n                  clipRule=\"evenodd\"\n                  d=\"M170,342c7.13,7.13,18.68,7.13,25.8,0l60.2-60.2l60.2,60.2  c7.13,7.13,18.68,7.12,25.8,0c7.13-7.13,7.13-18.67,0-25.8L281.8,256l60.2-60.2c7.13-7.12,7.13-18.67,0-25.8  c-7.12-7.12-18.67-7.12-25.8,0L256,230.2L195.8,170c-7.12-7.13-18.67-7.13-25.8,0c-7.12,7.12-7.13,18.68,0,25.8l60.2,60.2L170,316.2  C162.88,323.32,162.88,334.88,170,342z\"/>\n          </svg>\n        )}\n        {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n          || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width} />)\n        }\n        <p>{msg}</p>\n      </div>\n    );\n  }\n\n  const verifyAnswer = (question) => {\n    // Caso seja dissertativa permite a edio da resposta\n    if (question.type === \"quiz-5\") {\n      return (\n        <>\n          <S.QuizQuestionFeedbackMessage>\n            {labels.answer_saved}\n          </S.QuizQuestionFeedbackMessage>\n\n          <S.EditButton\n            onClick={() => activeChoices[question.id] && onClickEdit(question.id)}\n            style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n          >\n            {labels.edit || \"Editar\"}\n          </S.EditButton>\n        </>\n      )\n    } else {\n      let correctAnswer = questionIsCorrect(question, activeChoices);\n\n      const no_correct_answer = question.no_correct_answer;\n\n      if (feedback.type !== \"disabled\" && !question.no_feedback) {\n        return (\n          <S.QuizQuestionFeedbackMessage>\n            {(correctAnswer && !no_correct_answer)\n              ? renderCorrectMsg(question)\n              : (!no_correct_answer)\n                ? renderIncorrectMsg(question)\n                : renderCustomMsg(question)\n            }\n          </S.QuizQuestionFeedbackMessage>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  return (\n    <S.QuizQuestionFeedback>\n      {answered ? (\n        <>{verifyAnswer(question)}</>\n      ) : (\n        <S.ConfirmButton\n          onClick={() => activeChoices[question.id] && onClickConfirm(question.id)}\n          style={{backgroundColor: activeChoices[question.id] ? primary_color : \"#F1F1F1\"}}\n        >\n          {labels.confirm}\n        </S.ConfirmButton>\n      )\n      }\n    </S.QuizQuestionFeedback>\n  );\n}\n\nexport default QuizQuestionConfirmFeedback;","import styled from \"styled-components\";\n\nexport const TextAreaContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`;\n\nexport const TextArea = styled.textarea`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-textarea.styled\";\n\nfunction QuizTextarea(props) {\n  const {\n    disabled,\n    primaryColor,\n    onChange = (value) => {},\n    defaultValue = \"\",\n  } = props;\n  const [value, setValue] = React.useState(defaultValue);\n\n  return (\n    <S.TextAreaContainer>\n      <S.TextArea\n        tabIndex={1}\n        value={value}\n        onChange={event => {\n          setValue(event.target.value);\n          onChange(event.target.value);\n        }}\n        disabled={disabled}\n        primaryColor={primaryColor}\n        rows={10}\n      />\n    </S.TextAreaContainer>\n  );\n}\n\nexport default QuizTextarea;","import styled from \"styled-components\";\n\nexport const TextInputContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`;\n\nexport const TextInput = styled.input`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-text-input.styled\";\n\nfunction QuizTextInput(props) {\n  const {\n    disabled,\n    primaryColor,\n    onChange = (value) => {},\n    value = \"\",\n  } = props;\n  return (\n    <S.TextInputContainer>\n      <S.TextInput\n        tabIndex={1}\n        value={value}\n        onChange={event => {\n          onChange(event.target.value);\n        }}\n        disabled={disabled}\n        primaryColor={primaryColor}\n      />\n    </S.TextInputContainer>\n  );\n}\n\nexport default QuizTextInput;","import styled, {css} from \"styled-components\";\n\nexport const QuizMatchLine = styled.div`\n  width: 100%;\n  display: grid;\n  position: relative;\n  transition: all 1s ease-in-out;\n`;\n\nexport const Text = styled.p`\n  padding: 3px 30px;\n  max-height: ${props => props.lines * 15}px;\n  overflow: hidden;\n  text-align: justify !important;\n\n  @media screen and (max-width: 480px) {\n    max-height: ${props => props.lines * 25}px;\n    padding-right: 10px;\n    z-index: 3;\n  }\n`;\n\nexport const MatchList = styled.ol`\n  width: 85%;\n  margin-left: 20%;\n`;\n\nexport const LeftColumn = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\nexport const MatchConnector = styled.ol`\n  width: 100%;\n  position: relative;\n  height: ${props => props.lines * 15}px;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n  }\n`;\n\nexport const MatchLine = styled.ol`\n  width: 80%;\n  margin-right: 20%;\n  display: grid;\n  grid-template-columns: 10% 75%;\n  grid-gap: 35%;\n\n  ${props => props.connected && css`\n    grid-template-columns: 10% 85%;\n    grid-gap: 25%;\n\n    @media screen and (max-width: 480px) {\n      grid-template-columns: 0 100%;\n      grid-gap: 25%;\n    }\n\n    @media screen and (min-width: 430px) and (max-width: 479px) {\n      grid-gap: 15%;\n    }\n  `}\n`\n\nconst BaseChoice = styled.li`\n  min-width: 200px;\n  height: ${props => props.lines * 15}px;\n  flex: 2;\n  background-color: whitesmoke;\n  position: relative;\n  border: 1px solid #ccc;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  word-break: break-word;\n  font-size: 15px;\n  line-height: 15px;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n    transform: scale(0.7);\n  }\n`;\n\nexport const Choice = styled(BaseChoice)`\n  z-index: 2;\n  width: 45%;\n  border-right: none;\n  cursor: grab;\n  border-left-color: whitesmoke;\n  \n  &:active {\n    cursor: grabbing;\n  }\n  \n  &:after {\n    content: \"\";\n    height: ${props => props.lines * 15}px;\n    width: 100%;\n    position: absolute;\n    border-left: 5px solid ${props => props.primaryColor || \"#ccc\"};\n  }\n\n  @media screen and (max-width: 480px) {\n    &:after {\n      height: ${props => props.lines * 25}px;\n    }\n  }\n  \n  &:hover {\n    background-color: #eaeaea;\n    border-left-color: #eaeaea;\n\n    img {\n      opacity: 1;\n    }\n  }\n  \n  ${props => props.hidden && css`\n    opacity: 0;\n    pointer-events: none;\n  `}\n`;\n\nexport const Match = styled(BaseChoice)`\n  z-index: 1;\n  border-left: none;\n  width: 100%;\n  \n  padding-left: ${props => (props.lines * 15) / 4}px;\n\n  @media screen and (max-width: 480px) {\n    padding-left: 30px;\n  }\n  \n  min-width: 100px;\n`;\n\nexport const Arrow = styled.div`\n  width: 0;\n  border-top: ${props => (props.lines * 15) / 2}px solid transparent;\n  border-bottom: ${props => (props.lines * 15) / 2}px solid transparent;\n  border-left: ${props => (props.lines * 15) / 4}px solid transparent;\n  position: absolute;\n  top: 0;\n  margin-top: auto;\n  transition: none;\n\n  @media screen and (max-width: 480px) {\n    border-top: ${props => (props.lines * 25) / 2}px solid transparent;\n    border-bottom: ${props => (props.lines * 25) / 2}px solid transparent;\n    border-left: ${props => (props.lines * 25) / 5}px solid transparent;\n  }\n`;\n\nexport const ArrowLeft = styled(Arrow)`\n  right: -${props => (props.lines * 15) / 4}px;\n  border-left-color: inherit;\n  z-index: 2;\n\n  @media screen and (max-width: 480px) {\n    right: -${props => (props.lines * 25) / 5}px;\n  }\n`;\n\nexport const ArrowRight = styled(Arrow)`\n  left: 0;\n  border-left-color: white;\n  z-index: 1;\n\n  @media screen and (max-width: 480px) {\n    ${props => props.connected && css`\n      display: none;\n    `}\n  }\n`;\n\nexport const IconImage = styled.img`\n  width: 30px;\n  height: ${props => props.lines * 15}px;\n  opacity: 0.5;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  @media screen and (max-width: 480px) {\n    height: ${props => props.lines * 25}px;\n  }\n`;","import React from \"react\";\nimport * as S from \"./quiz-match-line.styled\";\nimport dragIcon from \"./drag.svg\";\nimport {DragDropContext, Draggable, Droppable} from \"react-beautiful-dnd\";\n\nfunction QuizMatchLine(props) {\n  const {\n    primaryColor,\n    data = [],\n    disabled,\n    onChange = (connectedItems) => {},\n  } = props;\n  const choices = [...data].sort(() => Math.random() - 0.5);\n  const matches = data;\n  const [items, setItems] = React.useState(choices || []);\n  const [connectedItems, setConnectedItems] = React.useState([]);\n  const lines = React.useMemo(() => {\n    let lines = 1;\n\n    choices.forEach(choice => {\n      let titleLines = choice.title.length / 40;\n      let matchTitleLines = choice.matchTitle.length / 40;\n      lines = Math.max(lines, titleLines, matchTitleLines);\n    });\n\n    return lines > 3 ? lines : 3;\n  });\n\n  React.useEffect(() => {\n    if (typeof onChange === \"function\") {\n      if (connectedItems.length === choices.length) {\n        onChange(connectedItems);\n      } else {\n        onChange(null);\n      }\n    }\n  }, [connectedItems]);\n\n  const handleDndOperation = (result) => {\n    if (result.destination) {\n      if (isMatchOperation(result)) {\n        saveConnection(result);\n\n        const operationIndexes = getOperationIndexes(result);\n\n        if (isReorderOperation(result)) {\n          setItems(swapItems(operationIndexes.source, operationIndexes.destination));\n        }\n      } else if (isReorderOperation(result)) {\n        setItems(reorderItems(result.source.index, result.destination.index));\n      }\n    }\n  }\n\n  const saveConnection = (result) => {\n    const choice = items[result.source.index];\n    const match = matches.find(m => m.matchTitle === result.destination.droppableId);\n\n    let connectedItemsCopy = [...connectedItems];\n\n    connectedItemsCopy = connectedItemsCopy.filter(item => item.destinationId !== match.id && item.sourceId !== choice.id);\n\n    let connectedItem = {\n      sourceId: choice.id,\n      destinationId: match.id,\n      title: choice.title,\n      matchTitle: result.destination.droppableId,\n      correct:  choice.id === match.id,\n    }\n\n    connectedItemsCopy.push(connectedItem);\n\n    setConnectedItems(connectedItemsCopy);\n  }\n\n  const getOperationIndexes = (result) => {\n    const sourceItem = items.find(item => item.title === result.draggableId);\n    const destinationItem = matches.find(item => item.matchTitle === result.destination.droppableId)\n\n    const destination = matches.indexOf(destinationItem);\n    const source = items.indexOf(sourceItem);\n\n    return {source, destination};\n  }\n\n  const isReorderOperation = (result) => {\n    return result.source.droppableId === \"choices\";\n  }\n\n  const isMatchOperation = (result) => {\n    return result.source.droppableId === \"choices\" && result.destination.droppableId !== \"choices\";\n  }\n\n  const reorderItems = (sourceIndex, destinationIndex) => {\n    const [reorderedItem] = items.splice(sourceIndex, 1);\n    items.splice(destinationIndex, 0, reorderedItem);\n\n    return items;\n  }\n\n  const swapItems = (sourceIndex, destinationIndex) => {\n    let itemsCopy = [...items];\n    const tmp = itemsCopy[destinationIndex];\n    itemsCopy[destinationIndex] = itemsCopy[sourceIndex];\n    itemsCopy[sourceIndex] = tmp;\n    return itemsCopy;\n  }\n\n  return (\n    <S.QuizMatchLine>\n      <DragDropContext\n        onDragEnd={handleDndOperation}\n      >\n        <S.LeftColumn>\n          <Droppable droppableId=\"choices\">\n            {(provided) => (\n              <ol ref={provided.innerRef} {...provided.droppableProps}>\n                {items.map((choice, index) => (\n                  <Draggable\n                    key={choice.title}\n                    isDragDisabled={disabled}\n                    draggableId={choice.title}\n                    index={index}\n                  >\n                    {(provided) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                      >\n                        <S.Choice\n                          className=\"quiz-match-line__choice\"\n                          lines={lines}\n                          primaryColor={primaryColor}\n                        >\n                          <S.IconImage\n                            lines={lines}\n                            src={dragIcon}\n                          />\n                          <S.Text lines={lines}>\n                            {choice.title}\n                          </S.Text>\n\n                          <S.ArrowLeft\n                            lines={lines}\n                            connected={connectedItems.find(item => item.title === choice.title)}\n                          />\n                        </S.Choice>\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n              </ol>\n            )}\n          </Droppable>\n        </S.LeftColumn>\n\n        <S.MatchList>\n          {\n            matches.map((match, index) => (\n              <li key={match.matchTitle}>\n                <Droppable droppableId={match.matchTitle}>\n                  {(provided) => (\n                    <span ref={provided.innerRef} {...provided.droppableProps}>\n                      <S.MatchLine\n                        className={connectedItems.find(item => item.matchTitle === match.matchTitle) ? \"quiz-match-line__match-line-connected\" : \"quiz-match-line__match-line\"}\n                        key={match.matchTitle}\n                        connected={connectedItems.find(item => item.matchTitle === match.matchTitle)}\n                      >\n                        <S.MatchConnector lines={lines}/>\n\n                        <S.Match\n                          className=\"quiz-match-line__match\"\n                          lines={lines}\n                        >\n                          <S.Text lines={lines}>\n                            {match.matchTitle}\n                          </S.Text>\n                          <S.ArrowRight\n                            lines={lines}\n                            connected={connectedItems.find(item => item.matchTitle === match.matchTitle)}\n                          />\n                        </S.Match>\n                      </S.MatchLine>\n                    </span>\n                  )}\n                </Droppable>\n              </li>\n            ))\n          }\n        </S.MatchList>\n      </DragDropContext>\n    </S.QuizMatchLine>\n  )\n}\n\nexport default QuizMatchLine;","import React from 'react';\nimport InputGroup from \"../element-input-group/input-group\";\nimport QuizHeader from \"../element-quiz-header/quiz-header\";\nimport QuizChoiceQuill from \"../element-quiz-choice-quill/quiz-choice-quill\";\nimport QuizImage from \"../element-quiz-image/quiz-image\";\nimport QuizVideo from \"../element-quiz-video/quiz-video\";\nimport QuizQuestionQuill from \"../element-quiz-question-quill/quiz-question-quill\";\nimport QuizQuestionConfirmFeedback from \"../element-quiz-question-confirm-feedback/quiz-question-confirm-feedback\";\nimport QuizTextarea from \"../element-quiz-textarea/quiz-textarea\";\nimport QuizTextInput from \"../element-quiz-text-input/quiz-text-input\";\nimport QuizMatchLine from \"../element-quiz-match-line/quiz-match-line\";\n\nfunction ElementQuizQuestion(props) {\n  const {\n    questionNumber,\n    questionTotal,\n    labels,\n    activeChoices,\n    editable,\n    content,\n    data,\n    answered = false,\n    onlyShowQuestion = false,\n    onAnswering = (questionId, choice) => {\n    },\n    onConfirmAnswer = (questionId) => {\n    },\n    onResetAnswer = (questionId) => {\n    },\n    onChange = (content) => {\n    },\n  } = props;\n\n  const updateQuestionTextAndNotify = (questionChanged, text) => {\n    content.questions = content.questions.map(question => {\n      if (question.id === questionChanged.id) {\n        question.question = text;\n      }\n      return question;\n    });\n\n    try {\n      onChange(content);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const notifyChoiceSelection = (question, choice) => {\n    if (onAnswering) {\n      try {\n        onAnswering(question.id, choice);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const updateQuestionChoiceTextAndNotify = (question, choice, text) => {\n    content.questions = content.questions.map(qtion => {\n      if (qtion.id === question.id)\n        qtion.choices = qtion.choices.map(ch => {\n          if (ch.id === choice.id) {\n            ch.text = text;\n          }\n          return ch;\n        })\n      return qtion;\n    });\n\n    try {\n      onChange(content);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const notifyAnswerConfirmation = (idQuestion) => {\n    if (onConfirmAnswer) {\n      try {\n        onConfirmAnswer(idQuestion);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const notifyAnswerReset = (idQuestion) => {\n    if (onResetAnswer) {\n      try {\n        onResetAnswer(idQuestion);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  const renderAsnwer = (type) => {\n    const choices = data.choices || [];\n\n    switch (type) {\n      case \"quiz-1\":\n      case \"quiz-2\":\n        return (\n          <InputGroup type=\"radiogroup\">\n            {choices.map((choice, index) => (\n              <QuizChoiceQuill\n                key={index}\n                disabled={answered}\n                type={data.type}\n                content={content}\n                question={data}\n                choice={choice}\n                editable={editable}\n                activeChoices={activeChoices}\n                onChoiceClick={() => notifyChoiceSelection(data, choice)}\n                onEditChoiceText={(text) => updateQuestionChoiceTextAndNotify(data, choice, text)}\n              />\n            ))}\n          </InputGroup>\n        );\n\n      case \"quiz-3\":\n        return (\n          <QuizTextInput\n            value={activeChoices[data.id] || \"\"}\n            primaryColor={content.primary_color}\n            onChange={(text) => notifyChoiceSelection(data, text)}\n            disabled={answered}\n          />\n        );\n\n      case \"quiz-4\":\n        return (\n          <QuizMatchLine\n            primaryColor={content.primary_color}\n            data={choices}\n            disabled={answered}\n            onChange={(matches) => notifyChoiceSelection(data, matches)}\n          />\n        )\n\n      case \"quiz-5\":\n        const {primary_color} = content;\n\n        return (\n          <QuizTextarea\n            defaultValue={activeChoices[data.id] || \"\"}\n            primaryColor={primary_color}\n            onChange={(text) => notifyChoiceSelection(data, text)}\n            disabled={answered}\n          />\n        )\n      default:\n        return null;\n    }\n  }\n\n  if (data) {\n    const {primary_color,} = content;\n    const image = data.image || null;\n    const video = data.video || null;\n    const media_max_width = data.media_max_width || null;\n\n\n    return (\n      <>\n        {data && (\n          <>\n            <QuizHeader\n              primaryColor={primary_color}\n              current={questionNumber}\n              total={questionTotal}\n              labels={labels}\n            />\n\n            <QuizQuestionQuill\n              editable={editable}\n              question={data}\n              onEditQuestionText={updateQuestionTextAndNotify}\n            />\n\n            {\n              !onlyShowQuestion && (\n                <>\n                  {(image && <QuizImage data={image} mediaMaxWidth={media_max_width}/>)\n                    || (video && <QuizVideo data={video} mediaMaxWidth={media_max_width}/>)\n                  }\n\n                  {renderAsnwer(data.type)}\n\n                  <QuizQuestionConfirmFeedback\n                    question={data}\n                    answered={answered}\n                    content={content}\n                    labels={labels}\n                    activeChoices={activeChoices}\n                    onClickConfirm={notifyAnswerConfirmation}\n                    onClickEdit={notifyAnswerReset}\n                  />\n                </>\n              )\n            }\n          </>\n        )}\n      </>\n    )\n  }\n\n  return null;\n}\n\nexport default ElementQuizQuestion;\n","import styled from \"styled-components\";\n\nexport const QuizFinishResult = styled.div`\n  height: 450px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const RemakeButton = styled.button`\n  background: none;\n  transition: all 0.3s ease-out;\n  cursor: pointer;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  \n  &:hover {\n    border: 1px dashed #f1f1f1;\n    background: #f1f1f1;\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"transparent\"} !important;\n    outline-offset: 2px !important;\n  }\n`;\n\nexport const RemakeButtonIcon = styled.span`\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n`;\n\nexport const RemakeButtonText = styled.span`\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n`;\n\nexport const ResultMessage = styled.span`\n  color: #6b6b6b;\n  font-size: 20px;\n  font-weight: 1000;\n  font-family: Lato-Bold,sans-serif;\n  display: block;\n  text-align: center;\n  line-height: 30px;\n`;","import React from \"react\";\nimport * as S from \"./quiz-finish-result.styled\";\n\nfunction QuizFinishResult(props) {\n  const {\n    grades,\n    content,\n    labels,\n    onClickRemake = () => {\n    },\n    canRemake = true,\n    contentLanguage,\n  } = props;\n\n  const getResultLabel = (hits, total, percentage) => {\n    if (contentLanguage === \"en\") {\n      return `You got ${hits} of ${total} alternative questions correct.`\n    } else if (contentLanguage === \"pt_br\") {\n      return `Voc acertou ${hits} de ${total} questes alternativas.`\n    }\n  }\n\n  const getPendingResultLabel = (total) => {\n    if (contentLanguage === \"en\") {\n      return `This quiz has ${total} dissertation question${total > 1 ? \"s\" : \"\"} awaiting review.`\n    } else if (contentLanguage === \"pt_br\") {\n      return `Este questionrio possui ${total} quest${total > 1 ? \"es\" : \"o\"} dissertativa aguardando reviso.`\n    }\n  }\n\n  const renderFinalMessage = (grades) => {\n    const feedback = content.feedback.type;\n    if (feedback === \"disabled\") {\n      return (\n        <S.ResultMessage>\n          {labels.finish_quiz_message}\n        </S.ResultMessage>\n      );\n    } else {\n      return (\n        <>\n          <S.ResultMessage>\n            {getResultLabel(grades.hits, grades.total, `${parseFloat(grades.percentage_average).toFixed(0)}%`)}\n          </S.ResultMessage>\n          {grades.pending_review_total> 0 && (\n            <S.ResultMessage>\n              {getPendingResultLabel(grades.pending_review_total)}\n            </S.ResultMessage>\n          )}\n        </>\n      );\n    }\n  }\n\n  return (\n    <S.QuizFinishResult>\n      <div>\n        {renderFinalMessage(grades.rdp_html_content)}\n\n        {content.remake === \"enable\" && canRemake && (\n          <S.RemakeButton\n            tabIndex={1}\n            onClick={onClickRemake}\n            type=\"button\"\n            primaryColor={content.primary_color}\n          >\n            <S.RemakeButtonIcon>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xlink=\"http://www.w3.org/1999/xlink\"\n                version=\"1.1\"\n                x=\"0px\"\n                y=\"0px\"\n                width=\"32px\"\n                height=\"32px\"\n                viewBox=\"0 0 512 512\"\n                enableBackground=\"new 0 0 512 512\"\n                space=\"preserve\"\n              >\n                <g>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"/>\n                  <path fill={content.primary_color ? content.primary_color : \"#111111\"}\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"/>\n                </g>\n              </svg>\n            </S.RemakeButtonIcon>\n\n            <S.RemakeButtonText>\n              {labels.retry}\n            </S.RemakeButtonText>\n          </S.RemakeButton>\n        )}\n      </div>\n    </S.QuizFinishResult>\n  );\n}\n\nexport default QuizFinishResult;","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport * as S from \"./element-quiz-4.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\n\nexport default class ElementQuiz4 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    visible: false,\n    protocol: null,\n    custom_options: window.cstmptns || {},\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    activeChoices[question.id] = answer.choices;\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  trackElementView = () => {\n    const {\n      content\n    } = this.props;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          action: \"view\",\n          element: \"quiz-match\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    const content = this.props.content;\n    const currentQuestion = content.questions[this.state.currentQuestionIndex];\n    const obj = {\n      action: \"view\",\n      element: \"quiz-match\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-match-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {activeChoices} = this.state;\n\n    this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    });\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      editable,\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n    } = this.state;\n    const {\n      questions,\n      primary_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          onClickRemake={this.resetState}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n      question.type = \"quiz-4\";\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            editable={editable}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n          />\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = {\n      choices: activeChoices[question.id] || [],\n      id: null,\n    };\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  showResult = () => {\n    const {\n      content,\n      activeChoices,\n      answeredQuestionsIds,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n\n    questions\n      .forEach(question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizFinishView(resume);\n    })\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n    this.sortQuestions(true);\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n\n}\n","import styled from \"styled-components\";\n\nconst TextAreaContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-top: 40px;\n  padding-top: 0;\n`\n\nconst TextArea = styled.textarea`\n  display: block;\n  border: 1px solid #a9a9a9;\n  border-radius: 5px;\n  width: calc(100% - 60px);\n  resize: vertical;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  font-size: 16px;\n  padding: 10px;\n  user-select: text !important;\n  \n  &:disabled {\n    cursor: not-allowed;\n    box-shadow: none;\n    resize: none;\n  }\n  \n  &:focus {\n    border: 2px solid ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`\n\nconst FeedbackContainer = styled.div`\n  padding: 20px 10px 20px 0;\n  transition: all 0.3s ease-out;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst ContainerFinishButton = styled.div`\n  button {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: relative;\n    padding: 0px 10px;\n\n    button {\n      position: relative;\n      display: block;\n      width: 100%;\n    }\n  }\n`\n\nconst ContainedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 0;\n  font-family: Lato-Bold, serif;\n  background: ${props => props.background || \"#2d7b45\"};\n  color: ${props => props.color || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n`\n\nconst OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n  \n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n\nconst TextButton = styled.button`\n  transition: all 0.3s ease-out;\n  padding: 6px;\n  width: fit-content;\n  display: block;\n  margin: 40px auto;\n  text-align: center;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  color: ${props => props.color || \"#2d7b45\"};\n  \n  &:hover {\n    border: 1px dashed ${props => props.color || \"#2d7b45\"};\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.color || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n`\n\nconst RemakeButtonContainer = styled.div`\n  margin: 40px auto;\n`\n\nconst RemakeButtonIcon = styled.span`\n  width: 25px;\n  height: 38px;\n  display: block;\n  margin: auto;\n  background-size: 100%;\n  text-align: center;\n`\n\nconst RemakeButtonText = styled.span`\n  margin-top: 10px;\n  font-size: 13px;\n  font-weight: 600;\n`\n\nconst NextButtonContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n\n  button {\n    margin: 0 10px 0 0;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nconst PrevButtonContainer = styled.div`\n  position: absolute;\n  left: 0;\n  top: 10px;\n\n  button {\n    margin: 0 0 0 10px;\n    padding: 10px 20px;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 11px;\n    font-weight: bold;\n\n    &:hover {\n      border-color: transparent;\n    }\n  }\n`\n\nexport {\n  FeedbackContainer,\n  TextAreaContainer,\n  TextArea,\n  ContainerFinishButton,\n  ContainedButton,\n  TextButton,\n  RemakeButtonContainer,\n  RemakeButtonIcon,\n  RemakeButtonText,\n  NextButtonContainer,\n  PrevButtonContainer,\n  OutlinedButton,\n}","const KeyCode = {\n\tESC: 27\n}\n\nexport default KeyCode;","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewedColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const StudentList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const QuestionList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import styled, {css} from \"styled-components\";\n\nexport const Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const Dropdown = styled.div`\n\tposition: relative;\n`\n\nexport const DropdownButton = styled.button`\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport const Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nexport const List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nexport const ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nexport const ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nexport const NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport const ListScroll = styled.div`\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n`","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge,\n  ListScroll,\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            <ListScroll>\n              {\n                notes.map((note, index) => (\n                  <ListOption\n                    hoverColor={backgroundHoverColor}\n                    color={primaryColor}\n                    key={index}\n                    role=\"option\"\n                    aria-selected={note === selected ? \"true\" : \"false\"}\n                    onClick={() => handleClickOption(note)}\n                    onMouseEnter={(event) => handleMouseOption(event, note)}\n                    onMouseLeave={(event) => handleMouseOption(event, null)}\n                  >\n                    {note}\n                  </ListOption>\n                ))\n              }\n            </ListScroll>\n          </List>\n        </Dropdown\n          >\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\"/>\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import React, {useEffect, useRef, useState, useMemo} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\nimport NoteDropdown from \"./note-dropdown\";\nimport API from \"../../services\";\n\n\nfunction ReviewModal(props) {\n  const {\n    content,\n    open = false,\n    data = [],\n    users = [],\n    noteRange = [],\n    customOptions,\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    btnConfirmTextColor = \"#fff\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    updateLocalStudentInteraction = (interaction, selectedUser) => {\n    },\n  } = props;\n  const closeRef = useRef();\n  const questionListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [questions, setQuestions] = useState(data);\n  const [isLoadingNote, setIsLoadingNote] = useState([]);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const byAnswered = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.answered && !b.answered) {\n        return -1;\n      }\n      if (!a.answered && b.answered) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.answered && b.answered) {\n        return -1;\n      }\n      if (a.answered && !b.answered) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.reviewed && !b.reviewed) {\n        return -1;\n      }\n      if (!a.reviewed && b.reviewed) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.reviewed && b.reviewed) {\n        return -1;\n      }\n      if (a.reviewed && !b.reviewed) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let answered = false;\n\n    let interactionObjectTemp = questions.map(question => {\n      let interaction = {};\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === question.id);\n        let isReviewed = false;\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (object_data) {\n            answered = true;\n          }\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: 0,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages: questions.length,\n      reviewed: count_reviewed === questions.length,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        const userInteractionObject = interaction.find(item => item.target_uid === question.id);\n\n        if (userInteractionObject) {\n          question.score = userInteractionObject.score;\n        } else {\n          question.score = 0;\n        }\n      });\n\n      setQuestions(questionsCopy);\n    } else {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        } else {\n          question.score = 0;\n        }\n      });\n      setQuestions(questionsCopy);\n    }\n    return interaction;\n  }\n\n  const students = useMemo(() => {\n      const orderedUsers = users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder));\n\n      // Atualiza o usurio selecionado para refletir a mudana na nota\n      if (\"interaction_objects\" in selectedUser) {\n        const selectedUserUpdated = users.find(user => {\n          return user.user_uid === selectedUser.uid\n        });\n        if (selectedUserUpdated !== undefined) {\n          updateLocalQuestion(selectedUserUpdated.interaction_objects);\n        }\n      }\n\n      return orderedUsers;\n    },\n    [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const handleSelectNote = (question, note) => {\n    const {\n      interaction_objects = [],\n      interaction_uid,\n    } = selectedUser;\n    const userInteractionObject = interaction_objects.find(item => item.target_uid === question.id);\n\n    if (userInteractionObject) {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n      API.cms\n        .learning\n        .interaction.uid(interaction_uid)\n        .score\n        .object.uid(userInteractionObject.uid)\n        .updateScore(note, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    } else {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n\n      API.cms.learning.interaction\n        .uid(interaction_uid).object\n        .reviewed({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: \"\",\n          score: note,\n        }, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    }\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const getQuestionAnswer = (question, user) => {\n    if (user && user.interaction_objects) {\n      const interaction = user.interaction_objects.find(interaction => interaction.target_uid === question.id);\n      if (interaction) {\n        return interaction.answer || \"\";\n      }\n    }\n    return \"\";\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.StudentList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p>{user.name}</p>\n                            <p>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === questions.length) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{questions.length}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.StudentList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n              <S.QuestionList ref={questionListRef}>\n                {questions.map((question, i) => (\n                  <S.Question key={i}>\n                    <S.Title primaryColor={primaryColor}>\n                      {labels.question || \"Questo\"} {i + 1}\n                    </S.Title>\n\n                    <S.QuestionText\n                      dangerouslySetInnerHTML={{__html: question.question || \"\"}}\n                    />\n\n                    <S.AnswerContainer>\n                      <S.NoteContainer>\n                        <NoteDropdown\n                          notes={noteRange}\n                          selected={(question.score !== null && question.score !== \"\" && question.score !== \"null\") ? parseInt(question.score) : null}\n                          label={labels.score}\n                          primaryColor={primaryColor}\n                          onSelect={(note) => handleSelectNote(question, note)}\n                          isLoadingNote={isLoadingNote.includes(question.id)}\n                        />\n                      </S.NoteContainer>\n\n                      <S.AnswerLabel aria-label={labels.answer || \"Resposta\"}>\n                        <S.Title primaryColor={primaryColor}>Resposta</S.Title>\n\n                        <S.AnswerText\n                          tabIndex=\"-1\"\n                          primaryColor={primaryColor}\n                          name=\"answer\"\n                          rows=\"10\"\n                          readOnly\n                          value={getQuestionAnswer(question, selectedUser)}\n                        />\n                      </S.AnswerLabel>\n                    </S.AnswerContainer>\n\n                  </S.Question>\n                ))}\n              </S.QuestionList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","import React, {Component} from 'react';\nimport {VisibleElement} from '../../utils/visible-element';\nimport {StringFormat} from '../../utils/string-format';\nimport './element-quiz-5.css';\nimport {\n  ContainedButton,\n  ContainerFinishButton,\n  FeedbackContainer,\n  NextButtonContainer,\n  OutlinedButton,\n  PrevButtonContainer,\n  RemakeButtonContainer,\n  RemakeButtonIcon,\n  RemakeButtonText,\n  TextArea,\n  TextAreaContainer,\n  TextButton\n} from \"./element-quiz-5.styled\";\nimport API from \"../../services\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default class ElementQuiz5 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.loadContentFromServer = this.loadContentFromServer.bind(this);\n    this.recoverObjects = this.recoverObjects.bind(this);\n    this.updateQuestionsBasedOnObjects = this.updateQuestionsBasedOnObjects.bind(this);\n    this.verifyIfHasAnweredAllQuestions = this.verifyIfHasAnweredAllQuestions.bind(this);\n    this.showResume = this.showResume.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n    this.renderStats = this.renderStats.bind(this);\n    this.renderConfirmAnswerButton = this.renderConfirmAnswerButton.bind(this);\n    this.renderEditAnswerButton = this.renderEditAnswerButton.bind(this);\n    this.renderDissertationArea = this.renderDissertationArea.bind(this);\n    this.renderConfirmAnswerButton = this.renderConfirmAnswerButton.bind(this);\n    this.handleCloseReviewModal = this.handleCloseReviewModal.bind(this);\n    this.getNoteRange = this.getNoteRange.bind(this);\n    this.createInteractionObject = this.createInteractionObject.bind(this);\n\n    this.state = {\n      content: props.content,\n      contentBkp: props.content,\n      activeAnswers: {},\n      currentQuestionPos: 0,\n      current_question: null,\n      answeredQuestionsQtd: 0,\n      attempsMade: 0,\n      answered_qtd: 0,\n      questionAnswer: \"\",\n      visible: false,\n      custom_options: window.cstmptns || {},\n      is_review_modal_open: false,\n      is_loading_review_modal: false,\n      user: {\n        roles: []\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  loadContentFromServer() {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects)\n      .then(this.verifyIfHasAnweredAllQuestions);\n  }\n\n  async recoverObjects() {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      interaction_uid,\n    } = custom_options;\n\n    return new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: content.id,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  async updateQuestionsBasedOnObjects(objects = []) {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      let contentCopy = {...content};\n      let attempsMade = 0;\n      let current_question = 0;\n      let answered_qtd = 0;\n\n      contentCopy.questions = contentCopy.questions.map((question, index) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          current_question = index;\n          answered_qtd++;\n          question.answered = true;\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoisesBasedOnAnswer(question, answer.data);\n          }\n        }\n\n        return question;\n      });\n\n      this.setState({\n        content: contentCopy,\n        attempsMade,\n        current_question,\n        answered_qtd,\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoisesBasedOnAnswer(question, answer) {\n    let activeAnswers = {...this.state.activeAnswers};\n    activeAnswers[question.id] = answer;\n\n    this.setState({\n      activeAnswers,\n    });\n  }\n\n  verifyIfHasAnweredAllQuestions(objects = []) {\n    const {\n      answered_qtd,\n      content: {\n        questions,\n      },\n    } = this.state;\n\n    if (answered_qtd === questions.length) {\n      this.showResume();\n    }\n\n    return objects;\n  }\n\n  showResume() {\n    const {\n      content,\n    } = this.state;\n    const {questions} = content;\n\n    let total = questions.length;\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        total: total,\n      },\n    };\n\n    this.setState({\n      grades: resume,\n      show_result: true,\n      answered: true,\n    });\n  }\n\n  trackElementView() {\n    let content = this.props.content;\n    let isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible) {\n        let obj = {\n          action: \"view\",\n          element: \"quiz-essay\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView() {\n    let content = this.props.content;\n    let currentQuestion = content.questions[this.state.currentQuestionPos];\n    let obj = {\n      action: \"view\",\n      element: \"quiz-essay-question\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionPos + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick(question) {\n    const { activeAnswers } = this.state;\n    try {\n      let content = this.props.content;\n      if (question !== null) {\n        let obj = {\n          action: \"click\",\n          element: \"quiz-essay-question-confirm-answer\",\n          verb: \"answered\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n            question: {\n              id: question.id,\n              position: this.state.currentQuestionPos + 1,\n              title: StringFormat.HtmlToText(question.question),\n              answer: activeAnswers[question.id],\n            },\n          },\n        };\n        this.props.onTrackEvent(obj);\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  trackNavigation(direction) {\n    let content = this.props.content;\n    let element =\n      direction === \"next\"\n        ? \"quiz-essay-question-navigation-next\"\n        : \"quiz-essay-question-navigation-previous\";\n    let source =\n      direction === \"next\"\n        ? this.state.currentQuestionPos - 1\n        : this.state.currentQuestionPos + 1;\n    let source_question = this.props.content.questions[source];\n    let question = this.props.content.questions[this.state.currentQuestionPos];\n\n    let obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.currentQuestionPos + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionPos - 1\n              : this.state.currentQuestionPos + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    let evaluative = false;\n\n    for (let i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    let content = this.props.content;\n    let obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-essay-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: questions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz() {\n    let content = this.props.content;\n    let obj = {\n      action: \"click\",\n      element: \"quiz-essay-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  async getSignedUserFromJwt() {\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    let language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        edit: \"Edit answer\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        answer_saved: \"Answer saved!\",\n        stats: \"Statistics\",\n        review: \"Review answers\",\n        answer: \"Answer\",\n        reviewed: \"Reviewed\",\n        answered_by_student: \"Answered by student\",\n        answered: \"Answered\",\n        search: \"Search\",\n        finish_review: \"Finish review\",\n        close: \"Close\",\n        score: \"Score\",\n        select_to_start_review: \"Select a student to review.\"\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        edit: \"Editar resposta\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        answer_saved: \"Resposta salva!\",\n        stats: \"Estatsticas\",\n        review: \"Revisar respostas\",\n        answer: \"Resposta\",\n        reviewed: \"Revisado\",\n        answered_by_student: \"Respondido pelo aluno\",\n        answered: \"Respondido\",\n        search: \"Pesquisar\",\n        finish_review: \"Finalizar reviso\",\n        close: \"Fechar\",\n        score: \"Nota\",\n        select_to_start_review: \"Selecione um aluno para efetuar a reviso.\"\n      };\n    }\n  }\n\n  renderQuestionQuill(question) {\n    return (\n      <div className=\"element-quiz-5-question\">\n        <div\n          className=\"editor\"\n          dangerouslySetInnerHTML={{__html: question.question}}\n        />\n      </div>\n    );\n  }\n\n  handleChangeAnswer(question, questionAnswer) {\n    let contentClone = this.state.content;\n    let activeAnswers = this.state.content;\n\n    activeAnswers[question.id] = questionAnswer;\n\n    this.setState({\n      content: contentClone,\n      questionAnswer,\n      activeAnswers,\n    });\n  }\n\n  renderDissertationArea(question) {\n    const {\n      content: {\n        primary_color\n      },\n      activeAnswers,\n    } = this.state;\n\n    return (\n      <TextAreaContainer>\n        <TextArea\n          tabIndex={1}\n          value={activeAnswers[question.id] || \"\"}\n          onChange={event => this.handleChangeAnswer(question, event.target.value)}\n          disabled={question.answered}\n          primaryColor={primary_color}\n          rows={10}\n        />\n      </TextAreaContainer>\n    )\n  }\n\n  renderPreviousQuestionBtn() {\n    const {\n      content: {\n        primary_color\n      },\n      currentQuestionPos\n    } = this.state;\n\n    if (currentQuestionPos > 0) {\n      return (\n        <PrevButtonContainer>\n          <TextButton\n            tabIndex={1}\n            type=\"button\"\n            color={primary_color}\n            onClick={() => this.onNavigateQuestions('prev')}\n          >\n            {this.getLabels().previous}\n          </TextButton>\n        </PrevButtonContainer>\n      )\n    }\n  }\n\n  onNavigateQuestions(direction) {\n    const current = this.state.currentQuestionPos;\n    const currentQuestionPos = direction === \"next\" ? current + 1 : current - 1;\n\n    this.setState(\n      {\n        currentQuestionPos\n      },\n      function () {\n        this.trackNavigation(direction);\n        this.trackQuestionView();\n      }\n    );\n  }\n\n  renderNextQuestionBtn() {\n    const {\n      currentQuestionPos,\n      content: {\n        questions,\n        primary_color\n      }\n    } = this.state;\n    const nextQuestionPos = currentQuestionPos + 1;\n\n    if (nextQuestionPos < questions.length) {\n      return (\n        <NextButtonContainer>\n          <TextButton\n            tabIndex={1}\n            type=\"button\"\n            color={primary_color}\n            onClick={() => this.onNavigateQuestions('next')}\n          >\n            {this.getLabels().next}\n          </TextButton>\n        </NextButtonContainer>\n      )\n    }\n  }\n\n  renderFinishBtn() {\n    const {currentQuestionPos, content, user} = this.state;\n    const {questions, primary_color} = content;\n    let current = currentQuestionPos + 1;\n    let questions_count = questions.length;\n    let answeredQuestions = 0;\n    questions.map(q => {\n      if (q.answered) {\n        answeredQuestions++;\n      }\n    })\n    let disabledBtn = questions_count !== answeredQuestions || isAdminReviewer(user.roles);\n    if (current === questions_count) {\n      return (\n        <ContainerFinishButton\n          color={!disabledBtn ? primary_color : \"#A1A1A1\"}\n        >\n          <ContainedButton\n            tabIndex={1}\n            type=\"button\"\n            background={!disabledBtn ? primary_color : \"#A1A1A1\"}\n            disabled={disabledBtn}\n            onClick={() => this.onFinishClick()}\n          >\n            {this.getLabels().finish}\n          </ContainedButton>\n        </ContainerFinishButton>\n      )\n    }\n  }\n\n  renderProgress() {\n    const {currentQuestionPos, content} = this.state;\n    const {questions, primary_color} = content;\n    const current = currentQuestionPos + 1;\n    const total = questions.length;\n    const percentage = (100 / total) * current + \"%\";\n    return (\n      <div className=\"rdp-react-quiz-5-navigation-progress\">\n        <div className=\"rdp-react-quiz-5-navigation-progress-bar-placeholder\">\n          <div\n            style={{width: percentage, backgroundColor: primary_color}}\n            className=\"rdp-react-quiz-5-navigation-progress-bar\"\n          />\n        </div>\n        <span\n          style={{color: primary_color}}\n          className=\"rdp-react-quiz-5-navigation-progress-count\"\n        >\n          {current}/{total}\n        </span>\n      </div>\n    );\n  }\n\n  resetAllQuestions() {\n    let cloneContent = this.state.content;\n    cloneContent.questions = this.state.content.questions.map(question => {\n      question.answered = false;\n      question.answer = \"\";\n      return question;\n    });\n    this.setState({\n      content: cloneContent\n    }, () => this.defineAnswered(0));\n  }\n\n  defineAnswered = (idQuestion, answered = true) => {\n    let cloneContent = this.state.content;\n    let questionObj = null;\n\n    cloneContent.questions = this.state.content.questions.map(question => {\n      if (question.id === idQuestion) {\n        question.answered = answered;\n        questionObj = question;\n      }\n      return question;\n    });\n\n    this.setState({\n        content: cloneContent\n      },\n      () => {\n        try {\n          this.props.handleComplete(cloneContent, this.state.activeAnswers);\n        } catch (e) {\n          console.error(e)\n        }\n        this.trackAnswerConfirmClick(questionObj);\n      }\n    );\n  }\n\n  verifyAnswer = (question) => {\n    const {feedback} = this.state.content;\n\n    if (feedback.type !== \"disabled\" && !question.no_feedback) {\n      return (\n        <div className=\"element-quiz-5-feedback-msg\">\n          {this.getLabels().answer_saved}\n        </div>\n      );\n    }\n  };\n\n  renderFeedback(question) {\n    return (\n      <div className=\"element-quiz-5-feedback-container\">\n        {this.verifyAnswer(question)}\n        {this.renderEditAnswerButton(question)}\n      </div>\n    );\n  }\n\n  renderConfirmAnswerButton(question) {\n    const {content, activeAnswers} = this.state;\n    const {primary_color} = content;\n\n    let currentAnswer = activeAnswers[question.id] || \"\";\n    const enabled = currentAnswer.length > 0;\n\n    return (\n      <FeedbackContainer>\n        <ContainedButton\n          tabIndex={1}\n          type=\"button\"\n          onClick={() => this.defineAnswered(question.id)}\n          background={enabled ? primary_color : \"#F1F1F1\"}\n          disabled={!enabled}\n        >\n          {this.getLabels().confirm}\n        </ContainedButton>\n      </FeedbackContainer>\n    )\n  }\n\n  renderEditAnswerButton(question) {\n    const {content} = this.state;\n    const {primary_color} = content;\n\n    return (\n      <FeedbackContainer>\n        <ContainedButton\n          tabIndex={1}\n          type=\"button\"\n          onClick={() => this.defineAnswered(question.id, false)}\n          background={primary_color}\n        >\n          {this.getLabels().edit}\n        </ContainedButton>\n      </FeedbackContainer>\n    )\n  }\n\n  renderStats(question) {\n    const {\n      content: {\n        primary_color\n      },\n      is_loading_review_modal\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"rdp-react-quiz-5-stats-container\">\n          {/*<h3 className=\"rdp-react-quiz-5-stats-container-title\">*/}\n          {/*  {this.getLabels().stats}*/}\n          {/*</h3>*/}\n          <div className=\"rdp-react-quiz-5-stats-container-content\">\n            {/*<ul>*/}\n            {/*  <li>usurios que finalizaram</li>*/}\n            {/*  <li>usurios que no finalizaram</li>*/}\n            {/*</ul>*/}\n\n            <OutlinedButton\n              tabIndex={1}\n              type=\"button\"\n              onClick={() => {\n                this.setState({\n                  is_loading_review_modal: true,\n                }, () => this.startReviewForQuestion(question))\n              }}\n              background={primary_color}\n              disabled={is_loading_review_modal}\n            >\n              {this.getLabels().review}...\n            </OutlinedButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n\n  startReviewForQuestion(question) {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n      this.setState({\n        is_review_modal_open: true,\n        is_loading_review_modal: false,\n        current_question: question,\n        interaction_objects\n      })\n    });\n  }\n\n  handleCloseReviewModal() {\n    this.setState({\n      is_review_modal_open: false,\n    })\n  }\n\n  renderQuestionare(question) {\n    const {\n      currentQuestionPos,\n      content: {\n        questions,\n        primary_color\n      },\n      user: {\n        roles = []\n      }\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"element-quiz-5-header\">\n          <span style={{color: primary_color}}>\n            {this.getLabels().question} {currentQuestionPos + 1}\n          </span>\n          <span style={{color: primary_color}}>\n            {currentQuestionPos + 1}/{questions.length}\n          </span>\n        </div>\n        {this.renderQuestionQuill(question)}\n        {isAdminReviewer(roles) ? this.renderStats(question) : (\n          <>\n            {this.renderDissertationArea(question)}\n            {\n              question.answered\n                ? this.renderFeedback(question)\n                : this.renderConfirmAnswerButton(question)\n            }\n          </>\n        )}\n        <div className=\"rdp-react-quiz-5-navigation\">\n          {this.renderPreviousQuestionBtn()}\n          {this.renderProgress()}\n          {this.renderNextQuestionBtn()}\n          {!isAdminReviewer(roles) && this.renderFinishBtn()}\n        </div>\n      </div>\n    );\n  }\n\n  renderContent() {\n    const {\n      currentQuestionPos,\n      content: {\n        questions\n      },\n      show_result\n    } = this.state;\n\n    if (questions && questions.length) {\n      let question = questions[currentQuestionPos];\n      return (\n        <div className=\"element-quiz-5-container\">\n          {question && !show_result\n            ? this.renderQuestionare(question)\n            : this.renderResult()}\n        </div>\n      );\n    }\n  }\n\n  async createInteractionObject(question) {\n    const {\n      content,\n      custom_options,\n      activeAnswers,\n    } = this.state;\n    const {\n      interaction_uid,\n    } = custom_options;\n\n    return API.cms.learning.interaction\n      .uid(interaction_uid)\n      .createObject({\n        context_uid: content.id,\n        type: content.type,\n        target_uid: question.id,\n        object_data: activeAnswers[question.id],\n      }, custom_options);\n  }\n\n  onFinishClick() {\n    const {\n      content,\n      activeAnswers,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n\n    for (const question of questions) {\n      this.createInteractionObject(question);\n    }\n\n    let total = questions.length;\n\n    let resume = {\n      rdp_html_content: {\n        questions: questions,\n        total: total,\n      },\n    };\n\n    this.setState(\n      {\n        grades: resume,\n        show_result: true,\n        answered: true,\n        attempsMade: attempsMade + 1,\n      },\n      () => {\n\n        this.trackQuizResult(questions, resume);\n\n        try {\n          this.props.handleComplete(content, activeAnswers);\n          this.props.handleFinish(content, {\n            score: \"0\",\n            finished: true,\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    );\n  }\n\n  onRemakeQuestionnaire() {\n    this.resetAllQuestions();\n    this.setState(prevState => ({\n      answered: false,\n      grades: null,\n      show_result: false,\n      currentQuestionPos: 0,\n      activeAnswers: [],\n      questionAnswer: \"\",\n      attempsMade: prevState.attempsMade + 1,\n    }));\n\n    this.sortQuestions(true);\n\n    this.trackRemakeQuiz();\n  }\n\n  getResultLabel() {\n    let language = this.props.contentLanguage;\n    if (language === \"en\") {\n      return \"Your responses have been sent for review.\";\n    } else if (language === \"pt_br\") {\n      return \"Suas respostas foram enviadas para anlise.\";\n    }\n  }\n\n  renderFinalMessage() {\n    const feedback = this.state.content.feedback.type;\n\n    if (feedback === \"disabled\") {\n      return <span className=\"rdp-react-quiz-5-result-message\">{this.getLabels().finish_quiz_message}</span>\n    } else {\n      return (\n        <span className=\"rdp-react-quiz-5-result-message\">\n          {this.getResultLabel()}\n        </span>\n      )\n    }\n  }\n\n  userCanRemakeQuiz = () => {\n    const {content, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n    //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n    // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n    // a verificao do limite de refaes\n    if (content.remake === \"enable\" && String(max_attempts) === 'null') {\n      return true;\n    }\n    if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n      const default_first_attempt_count = 1;\n      const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n      return content.remake === \"enable\" && attempsMade < total_attempts\n    }\n\n    return false;\n  }\n\n  renderResult() {\n    const {content, show_result, attempsMade} = this.state;\n    const {\n      max_attempts = null,\n    } = content;\n\n    if (show_result) {\n      return (\n        <div className=\"rdp-react-quiz-5-result\">\n          <span className=\"rdp-react-quiz-5-result-icon\"/>\n          {this.renderFinalMessage()}\n          {this.userCanRemakeQuiz() && (\n            <RemakeButtonContainer>\n              <TextButton\n                tabIndex={1}\n                type=\"button\"\n                onClick={() => this.onRemakeQuestionnaire()}\n                color={content.primary_color}\n              >\n                <RemakeButtonIcon>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    xlink=\"http://www.w3.org/1999/xlink\"\n                    version=\"1.1\"\n                    id=\"Layer_1\"\n                    x=\"0px\"\n                    y=\"0px\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    viewBox=\"0 0 512 512\"\n                    enableBackground=\"new 0 0 512 512\"\n                    space=\"preserve\"\n                  >\n                    <g>\n                      <path\n                        fill={\n                          content.primary_color\n                            ? content.primary_color\n                            : \"#111111\"\n                        }\n                        d=\"M126.97,328.84c-5.84,0-11.63-2.42-15.78-7.15L5.17,200.31c-6.89-7.88-6.89-19.64,0-27.53L111.19,51.41   c7.61-8.7,20.83-9.59,29.53-1.99c8.71,7.6,9.59,20.82,2,29.52l-94,107.61l94,107.6c7.6,8.7,6.71,21.92-2,29.52   C136.75,327.14,131.85,328.84,126.97,328.84z\"\n                      />\n                      <path\n                        fill={\n                          content.primary_color\n                            ? content.primary_color\n                            : \"#111111\"\n                        }\n                        d=\"M359.93,469.75H48.83c-11.56,0-20.93-9.37-20.93-20.93s9.37-20.93,20.93-20.93h311.1   c60.78,0,110.22-49.44,110.22-110.21s-49.44-110.21-110.22-110.21h-339C9.37,207.47,0,198.1,0,186.54   c0-11.55,9.37-20.92,20.93-20.92h339c83.85,0,152.07,68.22,152.07,152.06C512,401.53,443.77,469.75,359.93,469.75z\"\n                      />\n                    </g>\n                  </svg>\n                </RemakeButtonIcon>\n\n                <RemakeButtonText>\n                  {this.getLabels().retry}\n                </RemakeButtonText>\n              </TextButton>\n            </RemakeButtonContainer>\n          )}\n        </div>\n      );\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  getUsersInteractions() {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: content.id, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      content: {\n        primary_color,\n        background_color,\n        padding_bottom,\n        padding_top,\n        font_family,\n        confirm_button_text_color,\n        questions,\n        id\n      },\n      className\n    } = this.props;\n    const {\n      user: {\n        roles = []\n      },\n      is_review_modal_open,\n      interaction_objects,\n      custom_options,\n    } = this.state;\n\n    return (\n      <div\n        id={this.props.content.id}\n        ref={this.elementRef}\n        className={`${className} ${\n          this.getFont(font_family) || \"\"\n        }`}\n        style={{\n          backgroundColor: background_color,\n          paddingTop: padding_top + \"px\",\n          paddingBottom: padding_bottom + \"px\",\n        }}\n      >\n        {headerActionsTemplate}\n        {this.renderContent()}\n        {\n          (isAdminReviewer(roles)) && (\n            <ReviewModal\n              open={is_review_modal_open}\n              content={this.props.content}\n              data={questions}\n              customOptions={custom_options}\n              users={interaction_objects}\n              btnConfirmTextColor={confirm_button_text_color}\n              primaryColor={primary_color}\n              noteRange={this.getNoteRange()}\n              onCancel={this.handleCloseReviewModal}\n              onConfirm={this.handleCloseReviewModal}\n              labels={this.getLabels()}\n              updateLocalStudentInteraction={(interaction, selectedUser) => {\n                let studentsCopy = [...interaction_objects];\n\n                studentsCopy = studentsCopy.map(student => {\n                  if (student.user_uid === selectedUser.uid) {\n                    if (student.interaction_objects.length === 0) {\n                      student.interaction_objects = [interaction];\n                    } else {\n                      student.interaction_objects = student.interaction_objects.map(row => {\n                        if (row.uid === interaction.uid) {\n                          return {\n                            ...row,\n                            score: interaction.score,\n                            reviewed_at: interaction.reviewed_at,\n                            reviewer_user_uid: interaction.reviewer_user_uid,\n                            updated_at: interaction.updated_at,\n                          };\n                        }\n                        return row;\n                      });\n                    }\n                  }\n                  return student;\n                });\n\n                this.setState({\n                  interaction_objects: studentsCopy,\n                })\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;\n\nexport const OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n  \n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 2;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewedColumn = styled.div`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 12px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const StudentList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const QuestionList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import styled, {css} from \"styled-components\";\n\nexport const Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const Dropdown = styled.div`\n\tposition: relative;\n`\n\nexport const DropdownButton = styled.button`\n  vertical-align: middle;\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport const Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nexport const List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nexport const ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nexport const ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nexport const NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport const ListScroll = styled.div`\n  position: relative;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 100%;\n`","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge,\n  ListScroll,\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            <ListScroll>\n              {\n                notes.map((note, index) => (\n                  <ListOption\n                    hoverColor={backgroundHoverColor}\n                    color={primaryColor}\n                    key={index}\n                    role=\"option\"\n                    aria-selected={note === selected ? \"true\" : \"false\"}\n                    onClick={() => handleClickOption(note)}\n                    onMouseEnter={(event) => handleMouseOption(event, note)}\n                    onMouseLeave={(event) => handleMouseOption(event, null)}\n                  >\n                    {note}\n                  </ListOption>\n                ))\n              }\n            </ListScroll>\n          </List>\n        </Dropdown\n          >\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\"/>\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import React, {useEffect, useMemo, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\nimport NoteDropdown from \"./note-dropdown\";\nimport API from \"../../services\";\n\n\nfunction ReviewModal(props) {\n  const {\n    content,\n    allQuestions = [],\n    open = false,\n    data = [],\n    users = [],\n    noteRange = [],\n    customOptions,\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    btnConfirmTextColor = \"#fff\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    updateLocalStudentInteraction = (interaction, selectedUser) => {\n    },\n  } = props;\n  const closeRef = useRef();\n  const questionListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [questions, setQuestions] = useState(data);\n  const [isLoadingNote, setIsLoadingNote] = useState([]);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const byAnswered = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.answered && !b.answered) {\n        return -1;\n      }\n      if (!a.answered && b.answered) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.answered && b.answered) {\n        return -1;\n      }\n      if (a.answered && !b.answered) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => (a, b) => {\n    if (order === \"asc\") {\n      if (a.reviewed && !b.reviewed) {\n        return -1;\n      }\n      if (!a.reviewed && b.reviewed) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if (!a.reviewed && b.reviewed) {\n        return -1;\n      }\n      if (a.reviewed && !b.reviewed) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let answered = false;\n\n    let interactionObjectTemp = questions.map(question => {\n      let interaction = {};\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === question.id);\n        let isReviewed = false;\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (object_data) {\n            answered = true;\n          }\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: 0,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages: questions.length,\n      reviewed: count_reviewed === questions.length,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        const userInteractionObject = interaction.find(item => item.target_uid === question.id);\n\n        if (userInteractionObject) {\n          question.score = userInteractionObject.score;\n        } else {\n          question.score = 0;\n        }\n      });\n\n      setQuestions(questionsCopy);\n    } else {\n      let questionsCopy = [...questions];\n      questionsCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        } else {\n          question.score = 0;\n        }\n      });\n      setQuestions(questionsCopy);\n    }\n    return interaction;\n  }\n\n  const students = useMemo(() => {\n      const orderedUsers = users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder))\n      // Atualiza o usurio selecionado para refletir a mudana na nota\n      if (\"interaction_objects\" in selectedUser) {\n        const selectedUserUpdated = users.find(user => {\n          return user.user_uid === selectedUser.uid\n        });\n        if (selectedUserUpdated !== undefined) {\n          updateLocalQuestion(selectedUserUpdated.interaction_objects);\n        }\n      }\n      return orderedUsers;\n    }, [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (questionListRef && questionListRef.current) {\n      questionListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const handleSelectNote = (question, note) => {\n    const {\n      interaction_objects = [],\n      interaction_uid,\n    } = selectedUser;\n    const userInteractionObject = interaction_objects.find(item => item.target_uid === question.id);\n\n    if (userInteractionObject) {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n      API.cms\n        .learning\n        .interaction.uid(interaction_uid)\n        .score\n        .object.uid(userInteractionObject.uid)\n        .updateScore(note, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    } else {\n      setIsLoadingNote([...isLoadingNote, question.id]);\n\n      API.cms.learning.interaction\n        .uid(interaction_uid).object\n        .reviewed({\n          context_uid: content.id,\n          type: content.type,\n          target_uid: question.id,\n          object_data: \"\",\n          score: note,\n        }, customOptions)\n        .then(updateLocalQuestion)\n        .then(interaction => updateLocalStudentInteraction(interaction, selectedUser))\n        .then(() => {\n          setIsLoadingNote(isLoadingNote.filter(item => item !== question.id));\n        })\n    }\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const getQuestionAnswer = (question, user) => {\n    if (user && user.interaction_objects) {\n      const interaction = user.interaction_objects.find(interaction => interaction.target_uid === question.id);\n      if (interaction) {\n        return interaction.answer || \"\";\n      }\n    }\n    return \"\";\n  }\n\n  const getQuestionIndex = (question) => {\n    if (allQuestions && allQuestions.length > 0) {\n      return allQuestions.findIndex(item => item.id === question.id);\n    } else {\n      return 0;\n    }\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.StudentList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p>{user.name}</p>\n                            <p>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === questions.length) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{questions.length}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.StudentList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n              <S.QuestionList ref={questionListRef}>\n                {questions.map((question, i) => (\n                  <S.Question key={i}>\n                    <S.Title primaryColor={primaryColor}>\n                      {labels.question || \"Questo\"} {getQuestionIndex(question) + 1}\n                    </S.Title>\n\n                    <S.QuestionText\n                      dangerouslySetInnerHTML={{__html: question.question || \"\"}}\n                    />\n\n                    <S.AnswerContainer>\n                      <S.NoteContainer>\n                        <NoteDropdown\n                          notes={noteRange}\n                          selected={(question.score !== null && question.score !== \"\" && question.score !== \"null\") ? parseInt(question.score) : null}\n                          label={labels.score}\n                          primaryColor={primaryColor}\n                          onSelect={(note) => handleSelectNote(question, note)}\n                          isLoadingNote={isLoadingNote.includes(question.id)}\n                        />\n                      </S.NoteContainer>\n\n                      <S.AnswerLabel aria-label={labels.answer || \"Resposta\"}>\n                        <S.Title primaryColor={primaryColor}>Resposta</S.Title>\n\n                        <S.AnswerText\n                          tabIndex=\"-1\"\n                          primaryColor={primaryColor}\n                          name=\"answer\"\n                          rows=\"10\"\n                          readOnly\n                          value={getQuestionAnswer(question, selectedUser)}\n                        />\n                      </S.AnswerLabel>\n                    </S.AnswerContainer>\n\n                  </S.Question>\n                ))}\n              </S.QuestionList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","const userCanRemakeQuiz = (content, attempsMade) => {\n  const {\n    max_attempts = null,\n    remake = \"disable\"\n  } = content;\n  //  comparado se o max_attempts  null pois a quantidade de tentativas foi implementada posteriormente,\n  // caso a composio no possua esse valor  considerado apenas se ele pode refazer o questionrio e ignorado,\n  // a verificao do limite de refaes\n  if (remake === \"enable\" && String(max_attempts) === 'null') {\n    return true;\n  }\n  if (isNaN(parseInt(max_attempts)) === false && typeof parseInt(max_attempts) === 'number') {\n    const default_first_attempt_count = 1;\n    const total_attempts = parseInt(max_attempts) + default_first_attempt_count;\n    return remake === \"enable\" && attempsMade < total_attempts\n  }\n\n  return false;\n}\n\nexport default userCanRemakeQuiz;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\nimport * as S from \"./element-quiz-6.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport userCanRemakeQuiz from \"../../utils/userCanRemakeQuiz\";\n\nexport default class ElementQuiz6 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    protocol: null,\n    custom_options: window.cstmptns || {},\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    is_review_modal_open: false,\n    is_loading_review_modal: false,\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n      this.trackElementView();\n    }\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    switch (question.type) {\n      case \"quiz-1\":\n        question.choices.forEach((choice) => {\n          if (answer.id === choice.id) {\n            activeChoices[question.id] = choice.id;\n          }\n        });\n        break;\n      case \"quiz-2\":\n        activeChoices[question.id] = [];\n        question.choices.forEach((choice) => {\n          if (answer.find(c => c.id === choice.id) !== undefined) {\n            activeChoices[question.id].push(choice.id);\n          }\n        });\n        break;\n      case \"quiz-5\":\n        activeChoices[question.id] = answer;\n        break;\n      default:\n        console.error(\"Question type not found\");\n\n    }\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  //region Trackers\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-mixed\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-mixed\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          type: currentQuestion.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick = (choice) => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-mixed-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          type: currentQuestion.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: choice,\n        },\n      },\n    };\n\n    if (currentQuestion.type === \"quiz-1\" || currentQuestion.type === \"quiz-2\") {\n      obj.metadata.question.answer = {\n        id: choice.id,\n        title: StringFormat.HtmlToText(choice.text),\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick = (questionId, questions) => {\n    var content = this.props.content;\n    const {activeChoices, currentQuestionIndex} = this.state;\n\n    let question = questions[currentQuestionIndex] || null;\n    let questionIndex = currentQuestionIndex || -1;\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = null;\n      let answer;\n\n      switch (question.type) {\n        case \"quiz-1\":\n          selectedChoice = question.choices.find((choice) => activeChoices[question.id] === choice.id);\n          correctAnswer = questionIsCorrect(question, activeChoices);\n          answer = {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            correct: correctAnswer,\n          };\n          break;\n        case \"quiz-2\":\n          selectedChoice = question.choices.filter((choice) => activeChoices[question.id].includes(choice.id));\n          correctAnswer = questionIsCorrect(question, activeChoices);\n          answer = selectedChoice.map((choice) => ({\n            id: choice.id,\n            title: StringFormat.HtmlToText(choice.text),\n            correct: correctAnswer,\n          }));\n          break;\n        case \"quiz-5\":\n          answer = activeChoices[question.id];\n          break;\n          default:\n            console.error(\"Question type not supported: \", question.type);\n      }\n\n\n      const obj = {\n        action: \"click\",\n        element: \"quiz-mixed-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions: questions.length,\n          current_question: questionIndex,\n          question: {\n            id: question.id,\n            type: question.type,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n            answers: question.choices ? question.choices.map(choice => {\n              let result = { ... choice };\n              result.text = StringFormat.HtmlToText(result.text);\n              return result;\n            }) : null\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionFeedback(correctAnswer, answer, question);\n    }\n  }\n\n  trackQuestionResult = (correctAnswer, selectedChoice, question) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"result\",\n      verb: \"viewed\",\n      element: \"quiz-mixed-question-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          type: question.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n          answer: {\n            id: selectedChoice.id,\n            title: StringFormat.HtmlToText(selectedChoice.text),\n            hit: correctAnswer,\n          },\n        },\n      },\n    };\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuestionFeedback = (correctAnswer, answer, question) => {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-mixed-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            type: question.type,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation = (direction) => {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-mixed-question-navigation-next\"\n        : \"quiz-mixed-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.currentQuestionIndex - 1\n        : this.state.currentQuestionIndex + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.currentQuestionIndex];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          type: question.type,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionIndex - 1\n              : this.state.currentQuestionIndex + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-mixed-feedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizResult(questions, resume) {\n    let evaluative = false;\n\n    for (let i = 0; i < questions.length; i++) {\n      if (!questions[i].no_correct_answer) {\n        evaluative = true;\n        break;\n      }\n    }\n\n    let content = this.props.content;\n    let obj = {\n      action: \"view\",\n      verb: \"viewed\",\n      element: \"quiz-mixed-result\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        questions: questions,\n      },\n    };\n\n    if (evaluative === true) {\n      obj.metadata.result = {\n        hits: resume.rdp_html_content.hits,\n        total: resume.rdp_html_content.total,\n        percentage_average:\n          (100 / resume.rdp_html_content.total) * resume.rdp_html_content.hits,\n        min_percentage: resume.rdp_html_content.min_percentage,\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz = () => {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-mixed-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n  //endregion Trackers\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n        reviewed: \"Reviewed\",\n        review: \"Review answers\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n        review: \"Revisar respostas\",\n        reviewed: \"Revisado\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {content, activeChoices} = this.state;\n    let {questions} = content;\n    let question = questions.find(q => q.id === questionId);\n\n    switch (question.type) {\n      case \"quiz-1\":\n        this.setState({activeChoices: {...activeChoices, [questionId]: choice.id}});\n        break;\n\n      case \"quiz-2\":\n        if (activeChoices[question.id]) {\n          if (activeChoices[question.id].includes(choice.id)) {\n            activeChoices[question.id] = activeChoices[question.id].filter(selected => selected !== choice.id);\n          } else {\n            activeChoices[question.id].push(choice.id);\n          }\n        } else {\n          activeChoices[question.id] = [];\n          activeChoices[question.id].push(choice.id);\n        }\n\n        this.setState({\n          activeChoices: activeChoices\n        });\n        break;\n      case \"quiz-3\":\n      case \"quiz-4\":\n      case \"quiz-5\":\n        this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n        break;\n      default:\n        return;\n    }\n\n    this.trackAnswerClick(choice);\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds, content: {\n      questions\n    }} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    }, () => {\n      this.trackAnswerConfirmClick(questionId, questions)\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"prev\");\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"next\");\n    });\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = null;\n\n    switch (question.type) {\n      case \"quiz-1\":\n        object_data = question.choices.find(c => c.id === activeChoices[question.id]);\n        break;\n      case \"quiz-2\":\n        object_data = question.choices.filter(c => activeChoices[question.id].includes(c.id));\n        break;\n      case \"quiz-5\":\n        object_data = activeChoices[question.id];\n        break;\n      default:\n        console.error(\"Invalid question type\");\n    }\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  showResult = async () => {\n    const {content, activeChoices, answeredQuestionsIds, attempsMade} = this.state;\n    const {questions} = content;\n    let hits = 0;\n    const quizTypesWithReview = [\"quiz-5\"];\n    const questionsPendingReview = questions.filter(q => quizTypesWithReview.includes(q.type));\n    let total = questions.length - questionsPendingReview.length;\n\n    questions\n      .filter(q => quizTypesWithReview.includes(q.type) === false)\n      .forEach(async question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        pending_review_total: questionsPendingReview.length,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizResult(questions, resume);\n    });\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  handleCloseReviewModal = () => {\n    this.setState({\n      is_review_modal_open: false,\n    });\n  }\n\n  startReviewForQuestion = (question) => {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n        this.setState({\n          is_review_modal_open: true,\n          is_loading_review_modal: false,\n          current_question: question,\n          interaction_objects\n        })\n      })\n      .catch(error => {\n        console.error(\"Error getting interaction objects\", error);\n      });\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  renderReview(question) {\n    const {\n      content: {\n        primary_color\n      },\n      is_loading_review_modal\n    } = this.state;\n\n    return (\n      <div>\n        <div className=\"rdp-react-quiz-5-stats-container\">\n          <div className=\"rdp-react-quiz-5-stats-container-content\">\n            <S.OutlinedButton\n              tabIndex={1}\n              type=\"button\"\n              onClick={() => {\n                this.setState({\n                  is_loading_review_modal: true,\n                }, () => this.startReviewForQuestion(question))\n              }}\n              background={primary_color}\n              disabled={is_loading_review_modal}\n            >\n              {this.getLabels().review}...\n            </S.OutlinedButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n    this.sortQuestions(true);\n  }\n\n  handleRemakeQuiz = () => {\n    this.resetState();\n    this.trackRemakeQuiz();\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  getQuestionsByType = (type) => {\n    const {content} = this.state;\n    return content.questions.filter(q => q.type === type);\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n      user: {\n        roles = []\n      },\n      custom_options,\n      is_review_modal_open,\n      interaction_objects,\n      attempsMade,\n    } = this.state;\n    const {\n      questions,\n      primary_color,\n      confirm_button_text_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          canRemake={userCanRemakeQuiz(content, attempsMade)}\n          onClickRemake={this.handleRemakeQuiz}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n            onlyShowQuestion={isAdminReviewer(roles)}\n          />\n\n          {(isAdminReviewer(roles)) && this.renderReview(question)}\n\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n\n          {\n            (isAdminReviewer(roles)) && (\n              <ReviewModal\n                open={is_review_modal_open}\n                allQuestions={questions}\n                content={content}\n                data={this.getQuestionsByType(\"quiz-5\")}\n                customOptions={custom_options}\n                users={interaction_objects}\n                btnConfirmTextColor={confirm_button_text_color}\n                primaryColor={primary_color}\n                noteRange={this.getNoteRange()}\n                onCancel={this.handleCloseReviewModal}\n                onConfirm={this.handleCloseReviewModal}\n                labels={this.getLabels()}\n                updateLocalStudentInteraction={(interaction, selectedUser) => {\n                  let studentsCopy = [...interaction_objects];\n\n                  studentsCopy = studentsCopy.map(student => {\n                    if (student.user_uid === selectedUser.uid) {\n                      if (student.interaction_objects.length === 0) {\n                        student.interaction_objects = [interaction];\n                      } else {\n                        student.interaction_objects = student.interaction_objects.map(row => {\n                          if (row.uid === interaction.uid) {\n                            return {\n                              ...row,\n                              score: interaction.score,\n                              reviewed_at: interaction.reviewed_at,\n                              reviewer_user_uid: interaction.reviewer_user_uid,\n                              updated_at: interaction.updated_at,\n                            };\n                          }\n                          return row;\n                        });\n                      }\n                    }\n                    return student;\n                  });\n\n                  this.setState({\n                    interaction_objects: studentsCopy,\n                  })\n                }}\n              />\n            )\n          }\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n\n}\n","import React, {Component} from 'react';\nimport Moment from 'react-moment';\nimport './user-log.css';\n\nexport default class UserLog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  renderTimestamp(timestamp) {\n    return <div className=\"rdp-composer-player-user-log-date\">\n      <Moment unix>{timestamp}</Moment>\n    </div>\n  }\n\n  renderViewElement(event) {\n    let _this = this;\n    const {\n      element,\n    } = event;\n\n    switch (element) {\n      case \"video\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>player de vdeo</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"accordion\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>accordion</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"audio\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>player de udio</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"header-1\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>cabealho</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"webview\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>webview</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"tabs\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o elemento de <b>tabs</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"flashcards\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o elemento de <b>flashcards</b> identificado\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"text\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou o <b>texto</b> identificado como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"image\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>imagem</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-only-choice\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz de nica escolha</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-only-choice-question\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a questo de ttulo <b>{event.metadata.question.title}</b> da <b>atividade de\n            quiz de nica escolha</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-multiple-choice\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz de mltiplas escolhas</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-essay\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a <b>atividade de quiz dissertativo</b> identificada\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      case \"quiz-essay-question\":\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio visualizou a questo de ttulo <b>{event.metadata.question.title}</b> da <b>atividade de quiz\n            dissertativo</b> identificada como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      default:\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            {event.action}\n          </>\n        )\n    }\n  }\n\n  renderClickElement(event) {\n    let _this = this;\n    const {\n      element,\n      verb,\n    } = event;\n\n    switch (element) {\n      case \"accordion\":\n        const verbLabel = verb === \"opened\" ? \"abriu\" : \"fechou\";\n        return (\n          <>\n            {_this.renderTimestamp(event.timestamp)}\n            O usurio {verbLabel} o item <b>{event.metadata.title}</b> do elemento <b>accordion</b> identificado\n            como <b>{event.metadata.element_title}</b>.\n          </>\n        )\n      default:\n        return <>{event.action}</>\n    }\n  }\n\n  render() {\n    let _this = this;\n    let events = this.props.events;\n\n    return (\n      <ul className=\"rdp-composer-player-user-log\">\n        {\n          events.map(function (event, index) {\n            let action = event.action;\n\n            switch (action) {\n              case \"view\":\n                return (\n                  <li key={index}>\n                    {_this.renderViewElement(event)}\n                  </li>\n                )\n              case \"click\":\n                return (\n                  <li key={index}>\n                    {_this.renderClickElement(event)}\n                  </li>\n                )\n              default:\n                return <li key={index}>{event.action}</li>\n            }\n          })\n        }\n      </ul>\n    )\n  }\n}\n","import React from 'react';\nimport videojs from 'video.js';\n// import 'video.js/dist/video-js.css';\n\nexport default class VideoPlayer extends React.Component {\n  componentDidMount() {\n    // instantiate Video.js\n    this.player = videojs(this.videoNode, this.props, function onPlayerReady() {\n      console.log('onPlayerReady', this)\n    });\n  }\n\n  // destroy player on unmount\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose()\n    }\n  }\n\n  // wrap the player in a div with a `data-vjs-player` attribute\n  // so videojs won't create additional wrapper in the DOM\n  // see https://github.com/videojs/video.js/pull/3856\n  render() {\n    return (\n      <div>\t\n        <div data-vjs-player>\n          <video height=\"auto\" width=\"100%\" ref={ node => this.videoNode = node } className=\"video-js\"></video>\n        </div>\n      </div>\n    )\n  }\n}","import styled from 'styled-components';\n\nexport const ImagesGalleryContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const ImagesContainer = styled.div`\n  max-width: 750px;\n  display: flex;\n  justify-content: center;\n  \n  @media(max-width: 800px) {\n    flex-direction: column;\n  }\n`;\n\nexport const ImageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 10px;\n\n  @media(max-width: 800px) {\n    margin: 10px 0;\n  }\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n\n  & > img {\n    cursor: pointer;\n    transition: 0.3s;\n    margin-bottom: 8px;\n    object-fit: cover;\n\n    ${({ numberOfImages }) => {\n        const imagesSize = 750 / numberOfImages;\n        return `width: ${imagesSize}px; height: ${imagesSize}px;`;\n      }\n    }\n\n    @media(max-width: 800px) {\n      width: 70vw;\n      height: 70vw;\n    }\n  }\n`;\n\nexport const Modal = styled.div`\n  position: fixed;\n  z-index: 1000;\n  padding-top: 50px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.9);\n  overflow-x: hidden;\n\n  .slick-list {\n    width: 100%;\n  }\n\n  .slick-track, .slick-slider {\n    display: flex;\n    justify-content: center;\n  }\n\n  .slick-slide {\n    margin: 0;\n    position: relative;\n    text-align: center;\n    flex-flow: column;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media(max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n`;\n\nexport const ModalImage = styled.img`\n  margin: auto;\n  display: block;\n  width: 70%;\n  max-width: 700px;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n  \n  @media only screen and (max-width: 700px) {\n    width: 100%;\n  }\n`;\n\nexport const Caption = styled.p`\n  margin: auto;\n  display: block;\n  width: 80%;\n  max-width: 700px;\n  text-align: center;\n  color: #ccc;\n  padding: 10px 0;\n\n  @keyframes zoom {\n    from {transform:scale(0)}\n    to {transform:scale(1)}\n  }\n\n  animation-name: zoom;\n  animation-duration: 0.6s;\n`;\n\nexport const ArrowButton = styled.button`\n  background: #f1f1f1;\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 50%;\n  z-index: 1000;\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n\n  &:first-of-type {\n    left: 28px;\n  }\n\n  &:last-of-type {\n    right: 28px;\n  }\n\n  &:hover,\n  &:focus {\n    background: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  i {\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    display: inline-block;\n    padding: 5px;\n    margin-top: 3px;\n  }\n\n  @media (max-width: 700px) {\n    &:first-of-type {\n      left: 8px;\n    }\n\n    &:last-of-type {\n      right: 8px;\n    }\n  }\n`;\n\nexport const ArrowLeft = styled.i`\n  transform: rotate(135deg);\n  -webkit-transform: rotate(135deg);\n  margin-left: 5px;\n`;\n\nexport const ArrowRight = styled.i`\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  margin-right: 5px;\n`;\n\n\nexport const Dots = styled.ul`\n  width: 100vw;\n  text-align: center;\n  margin-top: 10px;\n`;\n\nexport const Dot = styled.li`\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin: 0 8px;\n  background: #f1f1f1;\n  border-radius: 50%;\n  opacity: ${({ isSelected }) => isSelected ? 1 : 0.25};\n  cursor: pointer;\n`;\n\nexport const Close = styled.span`\n  position: absolute;\n  top: 15px;\n  right: 35px;\n  color: #f1f1f1;\n  font-size: 40px;\n  font-weight: bold;\n  transition: 0.3s;\n\n  &:focus, &:hover {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n`;","import React, { useRef, useState } from \"react\";\nimport Slider from \"react-slick\";\nimport \"animate.css/animate.min.css\";\n\nimport * as S from \"./styles\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nconst ElementImagesGallery = ({\n  headerActionsTemplate,\n  footerActionsTemplate,\n  content,\n  onTrackEvent\n}) => {\n  const elementRef = useRef(null);\n  const sliderRef = useRef(null);\n  const [visible, setVisible] = useState(false);\n\n  React.useEffect(() => {\n    trackElementView();\n  }, []);\n\n  const trackElementView = () => {\n    var isVisible = VisibleElement.visible(elementRef.current);\n    if (visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"images-gallery-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        onTrackEvent(obj);\n      };\n      setVisible(isVisible);\n    };\n  }\n\n  const [isModalActivated, setIsModalActivated] = useState(\n    content.images.map(() => false)\n  );\n  const [currentImageOnModal, setCurrentImageOnModal] = useState(0);\n\n  const handleClickOnImage = (i) => {\n    isModalActivated[i] = true;\n    setIsModalActivated([...isModalActivated]);\n    setCurrentImageOnModal(i);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalActivated(isModalActivated.map(() => false));\n  };\n\n  const handleClickOnNext = () => {\n    const newCurrentImage =\n      currentImageOnModal === content.images.length - 1\n        ? 0\n        : currentImageOnModal + 1;\n\n    sliderRef.current.slickGoTo(newCurrentImage);\n  };\n\n  const handleClickOnPrev = () => {\n    const newCurrentImage =\n      currentImageOnModal === 0\n        ? content.images.length - 1\n        : currentImageOnModal - 1;\n\n    sliderRef.current.slickGoTo(newCurrentImage);\n  };\n\n  const handleClickOnDot = (index) => {\n    setCurrentImageOnModal(index);\n    sliderRef.current.slickGoTo(index);\n  };\n\n  const imagesGalleryStyle = {\n    backgroundColor: content.background_color,\n    paddingTop: content.padding_top + \"px\",\n    paddingBottom: content.padding_bottom + \"px\",\n    color: content.text_color,\n  };\n\n  const sliderSettings = {\n    dots: false,\n    infinite: false,\n    arrows: false,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    initialSlide: currentImageOnModal,\n  };\n\n  return (\n    <S.ImagesGalleryContainer ref={elementRef} style={imagesGalleryStyle}>\n      {headerActionsTemplate}\n      <S.ImagesContainer>\n        {content.images.map((image, i) => (\n          <S.ImageContainer numberOfImages={content.images.length} key={i}>\n            <img\n              src={image.src}\n              alt={image.caption}\n              onClick={() => handleClickOnImage(i)}\n            />\n            <span>{image.caption}</span>\n          </S.ImageContainer>\n        ))}\n      </S.ImagesContainer>\n      {isModalActivated.includes(true) && (\n        <S.Modal>\n          <div>\n            <S.ArrowButton onClick={handleClickOnPrev}>\n              <S.ArrowLeft />\n            </S.ArrowButton>\n            <Slider\n              ref={sliderRef}\n              beforeChange={(currentSlide, nextSlide) =>\n                setCurrentImageOnModal(nextSlide)\n              }\n              {...sliderSettings}\n            >\n              {content.images.map((image, index) => (\n                <div key={index}>\n                  <S.ModalImage src={image.src} alt=\"\" />\n                  {image.caption && <S.Caption>{image.caption}</S.Caption>}\n                </div>\n              ))}\n            </Slider>\n            <S.Dots>\n              {content.images.map((image, index) => (\n                <S.Dot\n                  onClick={() => handleClickOnDot(index)}\n                  isSelected={index === currentImageOnModal}\n                  key={index}\n                />\n              ))}\n            </S.Dots>\n            <S.ArrowButton onClick={handleClickOnNext}>\n              <S.ArrowRight />\n            </S.ArrowButton>\n            <S.Close onClick={handleCloseModal}>&times;</S.Close>\n          </div>\n        </S.Modal>\n      )}\n      {footerActionsTemplate}\n    </S.ImagesGalleryContainer>\n  );\n};\n\nexport default ElementImagesGallery;\n","import styled from \"styled-components\";\n\nexport const ContainerDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 300px;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n`\n\nexport const TextArea = styled.textarea`\n  margin: 15px;\n  display: block;\n  width: calc(100% - 30px);\n  resize: none;\n  height: 210px;\n  border: 0;\n  outline: none;\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`","import styled from \"styled-components\";\n\nexport const QuillContainer = styled.div`\n  .quill {\n    margin: 0;\n    border-radius: 8px;\n\n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size span.ql-picker-label.ql-active::before, \n    div.ql-toolbar.ql-snow span.ql-formats span.ql-picker.ql-size.ql-expanded span.ql-picker-options span.ql-picker-item::before {\n      content: attr(data-value) !important;\n    }\n    \n    .ql-toolbar.ql-snow {\n      border: none;\n      ${props => props.colorPickerOpened && \"opacity: 0;\"}\n\n      + .ql-container.ql-snow {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n\n    .ql-container.ql-snow {\n      background-color: transparent;\n      border: none;\n\n      .ql-editor {\n        min-height: 200px;\n        max-height: 200px;\n      }\n    }\n  }\n\n  .ql-format-custom-color {\n    width: 25px;\n    height: 22px;\n    cursor: pointer;\n    display: inline-block;\n    background-color: ${props => props.quillColor || \"#000\"};\n  }\n\n  .ql-custom-color-picker {\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .ql-custom-color-picker-overlay {\n    position: relative;\n    top: 40px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n\n  .ql-custom-color-picker .github-picker {\n    border: 0 !important;\n    min-height: 40px !important;\n    box-shadow: none !important;\n    background: #ffffff !important;\n    justify-content: center !important;\n    align-items: center !important;\n    padding: 5px !important;\n  }\n`","import React, {PureComponent} from 'react';\nimport ReactQuill, {Quill as QuillR} from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport {GithubPicker} from \"react-color\";\nimport {QuillContainer} from \"./quill.styled\";\n\nclass Quill extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.addCustomColorPicker = this.addCustomColorPicker.bind(this);\n    this.toggleColor = this.toggleColor.bind(this);\n    this.onQuillColorChange = this.onQuillColorChange.bind(this);\n\n    this.quillRef = React.createRef();\n\n    this.state = {\n      current_selection: null,\n      current_quill_color: \"#000\",\n      render_quill_color_picker: false,\n      colors: [\n        \"#000000\", \"#555555\", \"#ABB8C3\", \"#e60000\", \"#F47373\", \"#ff9900\", \"#FCB900\", \"#FCCB00\",\n        \"#008a00\", \"#4CAF50\", \"#CDDC39\", \"#0066cc\", \"#03A9F4\", \"#8ED1FC\", \"#9933ff\", \"#F78DA7\", \"#ffffff\"\n      ],\n      modules: {\n        toolbar: [\n          ['bold', 'italic', 'underline','strike'],\n          [\n            { 'align': '' },\n            { 'align': 'center' },\n            { 'align': 'right' }\n          ],\n          [\n            { 'script': 'sub' },\n            { 'script': 'super' },\n            'formula'\n          ],\n          [\n            {\n              'size': [\n                false, \"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\",\n                \"15px\", \"18px\", \"20px\", \"22px\", \"26px\", \"30px\", \"34px\",\n                \"36px\", \"38px\", \"40px\", \"45px\", \"50px\", \"55px\", \"60px\"\n              ]\n            }\n          ],\n          [{'list': 'ordered'}, {'list': 'bullet'}],\n          ['link']\n        ]\n      },\n      formats: [\n        'header', 'size', 'bold', 'italic', 'underline', 'strike', 'script',\n        'formula', 'list', 'bullet', 'indent', 'link', 'color', 'align'\n      ]\n    }\n  }\n\n  componentWillMount() {\n    const Font = QuillR.import('formats/font');\n    Font.whitelist = ['large', 'medium', \"small\", \"regular\", \"bold\", \"pullquote\"];\n    QuillR.register(Font, true);\n\n    let SizeStyle = QuillR.import('attributors/style/size');\n    SizeStyle.whitelist = [\n      \"9px\", \"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"15px\", \"18px\", \"20px\",\n      \"22px\", \"26px\", \"30px\", \"34px\", \"36px\", \"38px\", \"40px\", \"45px\", \"50px\",\n      \"55px\", \"60px\"\n    ]\n    QuillR.register(SizeStyle, true);\n  }\n\n  componentDidMount() {\n    this.addCustomColorPicker();\n  }\n\n  addCustomColorPicker() {\n    const quillRef = this.quillRef;\n    const quill = quillRef.current;\n\n    if (quill !== null) {\n      const toolbar = quill.querySelector(\".ql-toolbar\")\n      if (toolbar) {\n        toolbar.insertAdjacentHTML(\"beforeend\",\n          '<span class=\"ql-formats\"><span class=\"ql-format-custom-color\"></span></span>'\n        )\n      }\n      const customColor = quill.querySelector(\".ql-format-custom-color\")\n      if (customColor) {\n        customColor.addEventListener(\"click\", this.toggleColor)\n      }\n    }\n  }\n\n  toggleColor() {\n    const {\n      render_quill_color_picker\n    } = this.state;\n    let current_selection = null;\n    const selection = window.getSelection();\n\n    if (selection && selection.rangeCount > 0) {\n      console.log(\"range\", selection.getRangeAt(0));\n      current_selection = selection.getRangeAt(0);\n    }\n\n    this.setState({\n      current_selection,\n      render_quill_color_picker: !render_quill_color_picker\n    })\n  }\n\n  onQuillColorChange(color) {\n    const {\n      current_selection\n    } = this.state;\n    const selection = window.getSelection();\n    if (selection && current_selection) {\n      selection.removeAllRanges();\n      selection.addRange(current_selection);\n    }\n    this.setState({\n      current_quill_color: color.hex,\n      render_quill_color_picker: false,\n    });\n\n    this.changeSelectedTextColor(color.hex);\n  }\n\n  changeSelectedTextColor(color) {\n    const quill = this.quillRef;\n    const {\n      onChange,\n    } = this.props;\n\n    if (window.getSelection) {\n      const sel = getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        const range = getSelection().getRangeAt(0);\n\n        let html = '<span style=\"color: ' + color + ';\">' + range + '</span>'\n        range.deleteContents();\n\n        let el = document.createElement(\"div\");\n        el.innerHTML = html;\n        let frag = document.createDocumentFragment(),\n          node,\n          lastNode;\n        while ( (node = el.firstChild) ) {\n          lastNode = frag.appendChild(node);\n        }\n        range.insertNode(frag);\n      }\n    }\n\n    if (quill.current !== null && onChange) {\n      const editor = quill.current.querySelector(\".ql-editor\");\n      if (editor) {\n        onChange(editor.innerHTML);\n      }\n    }\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      placeholder,\n    } = this.props;\n    const {\n      render_quill_color_picker,\n      modules,\n      formats,\n      colors,\n      current_quill_color\n    } = this.state;\n\n    return (\n      <QuillContainer\n        ref={this.quillRef}\n        quillColor={current_quill_color}\n        colorPickerOpened={render_quill_color_picker}\n      >\n        {\n          render_quill_color_picker &&\n          <div className=\"ql-custom-color-picker\">\n            <div\n              className=\"ql-custom-color-picker-overlay\"\n              onClick={this.toggleColor}\n            />\n            <GithubPicker\n              colors={colors}\n              color={current_quill_color}\n              onChange={this.onQuillColorChange}\n              triangle=\"hide\"\n              width=\"100%\"\n            />\n          </div>\n        }\n        <ReactQuill\n          value={value}\n          onChange={onChange}\n          placeholder={placeholder}\n          modules={modules}\n          formats={formats}\n          theme={\"snow\"}\n        />\n      </QuillContainer>\n    );\n  }\n}\n\nexport default Quill;","import React from 'react';\nimport styled from \"styled-components\";\nimport gif from \"./icon-preloader.gif\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Img = styled.img`\n  width: auto;\n  height: ${props => props.height};\n`;\n\nexport default function Preloader({width = \"100%\", height = \"100%\", gifHeight = \"auto\"}) {\n  return (\n    <Container style={{width: width, height: height}}>\n      <Img src={gif} alt=\"loading...\" height={gifHeight}/>\n    </Container>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport {ActionsDiv, Button, ContainerDiv, ContentDiv, Form, Overlay} from \"./modal.styled\";\nimport Quill from \"./quill\";\nimport Preloader from \"./preloader\";\n\nfunction Modal(props) {\n\tconst {\n\t\topen = false,\n\t\tonConfirm = (text) => text,\n\t\tonCancel = () => {},\n\t\tvalue = \"\",\n\t\ttitle = \"Criar tpico\",\n\t\tbtnConfirmLabel = \"Criar tpico\",\n\t\tbtnCancelLabel = \"Cancelar\",\n    btnConfirmTextColor = \"#fff\",\n    btnConfirmColor = \"#000\",\n    btnCancelTextColor = \"#fff\",\n    btnCancelColor = \"#000\",\n    isLoading = false,\n\t} = props;\n\tconst [text, setText] = useState(value);\n\n  useEffect(() => {\n    setText(value);\n  }, [value]);\n\n\tconst handleEscape = (event) => {\n\t\tlet key = event.which || event.keyCode;\n\n\t\tif (key === KeyCode.ESC) {\n\t\t\tevent.stopPropagation();\n      onCancel();\n\t\t}\n\t}\n\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tonConfirm(text);\n    setText(\"\");\n  }\n\n\tconst handleClose = () => {\n\t\tonCancel();\n    setText(\"\");\n  }\n\n\treturn (<ContainerDiv\n\t\trole=\"dialog\"\n\t\taria-modal=\"true\"\n\t\taria-labelledby={title}\n\t\tonKeyUp={handleEscape}\n\t\thidden={!open}\n\t>\n\t\t<Form onSubmit={handleSubmit}>\n\t\t\t<Overlay onClick={handleClose}/>\n\n\t\t\t<ContentDiv>\n        <Quill\n          value={text}\n          onChange={setText}\n          placeholder=\"Escreva aqui...\"\n        />\n\n\t\t\t\t<ActionsDiv>\n\t\t\t\t\t<Button\n            type=\"submit\"\n            background={btnConfirmColor}\n            color={btnConfirmTextColor}\n            disabled={isLoading}\n          >\n\t\t\t\t\t\t{btnConfirmLabel}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{marginLeft: \"15px\"}}\n            background={btnCancelColor}\n            color={btnCancelTextColor}\n            disabled={isLoading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{btnCancelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</ActionsDiv>\n\t\t\t</ContentDiv>\n\t\t</Form>\n\t</ContainerDiv>)\n}\n\nexport default Modal;","import React from 'react';\n\nfunction LearningPlayerContextLoading() {\n\treturn (<div className=\"element-forum-1-preloader\">\n\t\t<div className=\"element-forum-1-preloader-message\">\n\t\t\t<div className=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t<div\n\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t<div\n\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div className=\"element-forum-1-preloader-message-children\">\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>);\n}\n\nexport default LearningPlayerContextLoading;","import styled from \"styled-components\";\n\nconst NoMessageDiv = styled.div`\n  width: 100%;\n  max-width: 760px;\n  margin: auto;\n  text-align: center;\n  padding-bottom: 40px;\n`\n\nconst Icon = styled.span`\n  width: 200px;\n  height: 132px;\n  display: block;\n  margin: auto;\n  background-image: url(\"./icon-no-message.png\");\n  background-size: 240px;\n  background-position: center;\n  background-repeat: no-repeat;\n`\n\nconst Message = styled.p`\n  display: block;\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  margin: 15px 0;\n  color: #acb6c1;\n`\n\nexport {\n\tNoMessageDiv,\n\tIcon,\n\tMessage,\n}","import React from 'react';\nimport {NoMessageDiv, Icon, Message} from \"./composer-player-context.styled\";\n\nfunction ComposerPlayerContext() {\n\treturn (\n\t\t<NoMessageDiv>\n\t\t\t<Icon />\n\t\t\t<Message>\n\t\t\t\tFuncionalidade habilitada apenas no mdulo de Learning.\n\t\t\t</Message>\n\t\t</NoMessageDiv>\n\t)\n}\n\nexport default ComposerPlayerContext;","import styled, {css} from \"styled-components\";\n\nconst Container = styled.div`\n  --note-dropdown-primary-color: #00643e;\n  --note-dropdown-background-color: #fff;\n  --note-dropdown-background-hover-color: rgba(213, 213, 213, 0.49);\n  --note-dropdown-list-z-index: 1;\n\t\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Dropdown = styled.div`\n\tposition: relative;\n`\n\nconst DropdownButton = styled.button`\n  background-color: transparent;\n  border: none;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  text-transform: uppercase;\n  font-size: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: inline-flex;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nconst Arrow = styled.span`\n  -webkit-transition: all ease-in-out 150ms;\n  -moz-transition: all ease-in-out 150ms;\n  -o-transition: all ease-in-out 150ms;\n  transition: all ease-in-out 150ms;\n\t\n\tsvg {\n    fill: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n    top: 0;\n    width: 8px;\n    height: 8px;\n    margin-left: 3px;\n\t}\n\t\n\t${props => (props.rotate === \"true\") && css`\n    -moz-transform: rotate(60deg);\n    -webkit-transform: rotate(60deg);\n    -o-transform: rotate(60deg);\n    transform: rotate(60deg);\n\t`}\n`\n\nconst List = styled.ul`\n  width: 100%;\n  max-height: 140px;\n  overflow-y: auto;\n  padding: 0;\n  position: absolute;\n  margin: 8px 0;\n  left: 0;\n  background-color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 8px;\n  display: flex;\n  //justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  z-index: ${props => props.zIndex || \"var(--note-dropdown-list-z-index)\"};\n  \n  ${props => props.pos === \"bottom\" && css`\n    top: auto;\n  `}\n\n  ${props => props.pos === \"top\" && css`\n    bottom: 14px;\n  `}\n\n  &[hidden] {\n    display: none;\n  }\n\t\n\t&[hidden=false] {\n    display: flex;\n\t}\n\t\n\tli[role=option]:first-child {\n    border-radius: 8px 8px 0 0;\n\t}\n\t\n\tli[role=option]:last-child {\n    border-radius:  0 0 8px 8px;\n\t}\n`\n\nconst ListOption = styled.li`\n  width: 100%;\n  text-align: center;\n  padding: 5px 0;\n\t\n\t&:hover {\n    filter: grayscale(1);\n    cursor: pointer;\n    background-color: ${props => props.hoverColor || \"var(--note-dropdown-background-hover-color)\"}};\n\t}\n\n &[aria-selected=true] {\n   border: 2px solid ${props => props.color || \"var(--note-dropdown-primary-color)\"} !important;\n }\n`\n\nconst ContainerNoteBadge = styled.div`\n  padding: 0 10px;\n`\n\nconst NoteBadge = styled.span`\n  background-color: ${props => props.color || \"var(--note-dropdown-primary-color)\"};\n  border-radius: 10px;\n  height: 20px;\n  min-width: 20px;\n  font-size: 12px;\n  margin-left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${props => props.backgroundColor || \"var(--note-dropdown-background-color)\"};\n  padding: 4px;\n`\n\nexport {\n\tContainer,\n\tDropdown,\n\tDropdownButton,\n\tArrow,\n\tList,\n\tListOption,\n\tContainerNoteBadge,\n\tNoteBadge,\n}","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  Arrow,\n  Container,\n  ContainerNoteBadge,\n  Dropdown,\n  DropdownButton,\n  List,\n  ListOption,\n  NoteBadge\n} from \"./note-dropdown.styled\";\nimport Preloader from \"./preloader\";\n\n/**\n * Allows you to assign and view notes.\n *\n * @example\n * <NoteDropdown\n *    notes={[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n *    onSelect={note => saveNote(note)}\n * />\n *\n *\n * @param {object} props Component properties.\n * @param {array} props.notes Array with available notes to select.\n * @param {string} props.label Button label that opens and closes the dropdown.\n * @param {number|null} props.selected Selected note value.\n * @param {string} props.listTitle List title for screen readers.\n * @param {(number) => void} props.onSelect Function invoked when selecting a note, receives the note as a parameter.\n * @param {(number) => void} props.onHoverNote Function invoked when hover a note, receives the note as a parameter.\n * @param {boolean} props.open Defines if the list is open when rendering the component.\n * @param {string} props.primaryColor Defines the main color of component.\n * @param {string} props.backgroundColor Defines the background color of component.\n * @param {string} props.backgroundHoverColor Defines the hover color of list option.\n * @param {number} props.listZIndex Defines z-index of dropdown list\n * @return {JSX.Element}\n * @constructor\n */\nfunction NoteDropdown(props) {\n  const {\n    notes = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    label = \"Atribuir nota\",\n    selected = 0,\n    listTitle = \"Notas\",\n    onSelect = note => note,\n    onHoverNote = note => note,\n    open = false,\n    primaryColor = \"#00643e\",\n    backgroundColor = \"#fff\",\n    backgroundHoverColor = \"rgba(213, 213, 213, 0.49)\",\n    listZIndex = 1,\n    position = \"bottom\",\n    show = true,\n    isLoadingNote,\n  } = props;\n  const listRef = useRef();\n  const [dropdownPos, setDropdownPos] = useState(position);\n  const [isOpen, setIsOpen] = useState(open);\n  const [hoverNote, setHoverNote] = useState(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (listRef && listRef.current) {\n        const {y, height} = listRef.current.getBoundingClientRect();\n        let totalHeight = height;\n        let actualPos = dropdownPos;\n\n        if (actualPos === \"top\") {\n          totalHeight += totalHeight;\n        }\n\n        if ((y + totalHeight) >= window.innerHeight) {\n          actualPos = \"top\";\n        } else {\n          actualPos = \"Bottom\";\n        }\n\n        if (actualPos !== dropdownPos) {\n          setDropdownPos(actualPos);\n        }\n      }\n    }\n  }, [isOpen, listRef]);\n\n\n  const toggleVisibilityOfList = (event) => {\n    event.preventDefault();\n\n    setIsOpen(prevState => !prevState);\n  }\n\n  const handleClickOption = (note) => {\n    setIsOpen(false);\n    setHoverNote(null);\n    if (onSelect) onSelect(note);\n  }\n\n  const handleMouseOption = (event, note) => {\n    setHoverNote(note);\n    if (onHoverNote) onHoverNote(note)\n  }\n\n  return (\n    <Container>\n      {show && (\n        <Dropdown>\n          <DropdownButton\n            type=\"button\"\n            aria-haspopup=\"listbox\"\n            aria-expanded={isOpen ? \"true\" : \"false\"}\n            onClick={toggleVisibilityOfList}\n            color={primaryColor}\n          >\n            <span>{label}{hoverNote !== null ? `: ${hoverNote}` : \"\"}</span>\n            <Arrow\n              color={primaryColor}\n              rotate={isOpen ? \"true\" : \"false\"}\n            >\n              <svg\n                width=\"10\"\n                height=\"10\"\n                viewBox=\"0 0 6 5\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M3.86602 4.5C3.48112 5.16667 2.51887 5.16667 2.13397 4.5L0.401924 1.5C0.0170235 0.833332 0.498149 -9.15728e-08 1.26795 -2.42746e-08L4.73205 2.78567e-07C5.50185 3.45865e-07 5.98298 0.833334 5.59808 1.5L3.86602 4.5Z\"\n                />\n              </svg>\n            </Arrow>\n          </DropdownButton>\n\n          <List\n            ref={listRef}\n            title={listTitle}\n            tabIndex=\"-1\"\n            role=\"listbox\"\n            hidden={!isOpen}\n            color={primaryColor}\n            backgroundColor={backgroundColor}\n            zIndex={listZIndex}\n            pos={dropdownPos}\n          >\n            {\n              notes.map((note, index) => (\n                <ListOption\n                  hoverColor={backgroundHoverColor}\n                  color={primaryColor}\n                  key={index}\n                  role=\"option\"\n                  aria-selected={note === selected ? \"true\" : \"false\"}\n                  onClick={() => handleClickOption(note)}\n                  onMouseEnter={(event) => handleMouseOption(event, note)}\n                  onMouseLeave={(event) => handleMouseOption(event, null)}\n                >\n                  {note}\n                </ListOption>\n              ))\n            }\n          </List>\n        </Dropdown>\n      )}\n\n\n      {\n        selected !== null && (\n          <ContainerNoteBadge>\n            <NoteBadge\n              color={primaryColor}\n              backgroundColor={backgroundColor}\n            >\n              {\n                isLoadingNote ? (\n                  <Preloader width=\"5px\" gifHeight=\"70px\" />\n                ) : <>{selected}</>\n              }\n            </NoteBadge>\n          </ContainerNoteBadge>\n        )\n      }\n    </Container>\n  )\n}\n\nexport default NoteDropdown;","import styled, {css} from \"styled-components\";\n\nconst MessageContentItem = styled.div`\n  background-color: ${props => props.backgroundColor || \"#e1f1eb\"};\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  margin-left: ${props => props.column ? (props.column * 40) + \"px\" : \"0\"};\n  ${props => props.elevation === 1 && css`\n      box-shadow: 1px 1px 3px #A8A8A8;\n  `}\n  ${props => props.elevation === -1 && css`\n      box-shadow: 1px 1px 3px ${props.backgroundColor || \"#e1f1eb\"};\n  `}\n`\n\nconst MessageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 15px;\n`\n\nconst Author = styled.span`\n  font-size: 12px;\n  color: ${props => props.color || \"#A8A8A8\"};\n  display: block;\n`\n\nconst Message = styled.p`\n  font-size: 14px;\n  line-height: 18px;\n  color: ${props => props.color || \"#727272\"};\n  display: block;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n`\n\nconst Actions = styled.ul`\n  display: block;\n  text-align: right;\n  margin-top: 10px;\n`\n\nconst ActionItem = styled.li`\n  display: inline-block;\n`\n\nconst ActionButton = styled.button`\n  text-transform: uppercase;\n  color: ${props => props.color || '#00643e'};\n  font-size: 10px;\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 10px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  border-radius: 10px;\n  \n  &:focus {\n    outline: 2px solid #00643e !important;\n    outline-offset: 2px;\n  }\n  \n  &:hover {\n    filter: saturate(1.5);\n  }\n  \n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nconst OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  font-family: Lato-Bold, serif;\n  background: transparent;\n  color: ${props => props.background || \"#000\"};\n  border: 1px solid ${props => props.background || \"#fff\"};\n  border-radius: 30px;\n  cursor: pointer;\n  \n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n  }\n  \n  &:hover {\n    filter: brightness(1.2);\n  }\n`\n\nexport {\n\tMessageContentItem,\n\tMessageHeader,\n\tAuthor,\n\tMessage,\n  Actions,\n  ActionItem,\n  ActionButton,\n  OutlinedButton,\n}","import {useEffect, useState} from \"react\";\n\nexport default function useOnScreen(ref) {\n  const [isIntersecting, setIntersecting] = useState(false)\n\n  const observer = new IntersectionObserver(\n    ([entry]) => setIntersecting(entry.isIntersecting)\n  )\n\n  useEffect(() => {\n    if (ref.current) {\n      observer.observe(ref.current)\n    }\n    return () => observer.disconnect()\n  }, [ref])\n\n  return isIntersecting\n}","import React, {useEffect, useRef} from 'react';\nimport useOnScreen from \"../../hooks/use-on-screen\";\n\nfunction PostLoading(props) {\n  const {\n    onScreen = () => {},\n    column = 1,\n  } = props;\n  const ref = useRef();\n  const isVisible = useOnScreen(ref);\n\n  useEffect(() => {\n    if (isVisible) {\n      onScreen();\n    }\n  }, [isVisible, onScreen]);\n\n\treturn (<div ref={ref} className=\"element-forum-1-preloader\">\n\t\t<div className=\"element-forum-1-preloader-message-children\" style={{paddingLeft: (column * 40) + \"px\"}}>\n\t\t\t<div className=\"element-forum-1-preloader-message-child\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-author element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"element-forum-1-preloader-message-message element-forum-1-preloader-linear-background\"/>\n\t\t\t\t<div className=\"element-forum-1-preloader-message-actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"element-forum-1-preloader-message-actions-item element-forum-1-preloader-linear-background\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>);\n}\n\nexport default PostLoading;","import React, {useEffect, useMemo, useState} from 'react';\nimport NoteDropdown from \"./note-dropdown\";\nimport {\n  ActionButton,\n  ActionItem,\n  Actions,\n  Author,\n  Message,\n  MessageContentItem,\n  MessageHeader\n} from \"./forum-message.styled\";\nimport PostLoading from \"./post-loading\";\nimport {isAdminReviewer, isContentOwner} from \"../../utils/permission\";\nimport API from \"../../services\";\nimport Quill from \"./quill\";\n\nfunction ForumMessage(props) {\n  const {\n    id,\n    user,\n    rawContent,\n    primaryColor = '#00643e',\n    authorUID,\n    column = 0,\n    topicBackgroundColor,\n    topicAuthorColor,\n    topicTextColor,\n    children,\n    value,\n    createdAtDateTime,\n    createdAt,\n    byLabel = \"Por\",\n    customOptions,\n    content,\n    interactionObjects,\n    language = \"pt-br\",\n    onClickDelete,\n    onClickReply,\n    onClickEdit,\n    onClickSaveNote = () => {},\n    disableOperations = false,\n    withReviewDropdown = false,\n    elevation = 0,\n  } = props;\n  const [isVisible, setIsVisible] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [authorName, setAuthorName] = useState(null);\n  const [notesRange, setNotesRange] = useState([]);\n  const [note, setNote] = useState(null);\n  const [text, setText] = useState(value);\n  const [isLoadingNote, setIsLoadingNote] = useState(false);\n\n  useEffect(() => {\n    const getNoteRange = () => {\n      const {\n        grade_type,\n        grade_numeral,\n      } = content;\n\n      switch (grade_type) {\n        case 'numeral':\n        default:\n          const {min = 0, max = 10, steps = 1} = grade_numeral;\n          let values = [];\n\n          for (let i = min; i <= max; i += steps) {\n            values.push(i);\n          }\n\n          return values;\n      }\n    }\n\n    setNotesRange(getNoteRange)\n  }, [content])\n\n  useEffect(() => {\n    if (Array.isArray(interactionObjects)) {\n      const object = interactionObjects[0];\n      if (object && Array.isArray(object.interaction_objects)) {\n        const interaction = object.interaction_objects[0];\n\n        if (interaction && interaction.score !== null) {\n          setNote(parseInt(interaction.score));\n        }\n      }\n    }\n  }, [interactionObjects])\n\n  useMemo(async () => {\n    if (authorUID && authorName === null && isVisible) {\n      const {\n        access_token, api_env, domain, project_key,\n      } = customOptions;\n\n      try {\n        const body = await API.auth.user.uid(authorUID, {\n          access_token,\n          api_env,\n          domain,\n          project_key,\n        });\n        setAuthorName(body.detail.name);\n      } catch (e) {\n        setAuthorName(\"\");\n      }\n    }\n  }, [customOptions, authorUID, authorName, isVisible])\n\n  const getRemoveLabel = () => {\n    const label = {\n      \"en\": \"Remove\", \"pt-br\": \"Excluir\"\n    }\n    return label[language] || \"Excluir\";\n  }\n\n  const getReplyLabel = () => {\n    const label = {\n      \"en\": \"Reply\", \"pt-br\": \"Comentar\"\n    }\n    return label[language] || \"Comentar\";\n  }\n\n  const getEditLabel = () => {\n    const label = {\n      \"en\": \"Edit\", \"pt-br\": \"Editar\"\n    }\n    return label[language] || \"Editar\";\n  }\n\n  const getCancelLabel = () => {\n    const label = {\n      \"en\": \"Cancel\", \"pt-br\": \"Cancelar\"\n    }\n    return label[language] || \"Cancelar\";\n  }\n\n  const getSaveLabel = () => {\n    const label = {\n      \"en\": \"Save\", \"pt-br\": \"Salvar\"\n    }\n    return label[language] || \"Salvar\";\n  }\n\n  const handleSaveNote = (savedNote) => {\n    if (Array.isArray(interactionObjects)) {\n      const object = interactionObjects[0];\n      if (object && Array.isArray(object.interaction_objects)) {\n        const interaction = object.interaction_objects[0];\n\n        if (interaction) {\n          const prevNote = note;\n          setNote(savedNote);\n\n          setIsLoadingNote(true);\n\n          API.cms\n            .learning\n            .interaction.uid(object.interaction_uid)\n            .score\n            .object.uid(interaction.uid)\n            .updateScore(savedNote, customOptions)\n            .then((resp) => {\n              setIsLoadingNote(false);\n              onClickSaveNote(savedNote, resp);\n            })\n            .catch(() => {\n              setNote(prevNote);\n              setIsLoadingNote(false);\n            });\n        } else {\n          setIsLoadingNote(true);\n\n          API.cms\n            .learning\n            .interaction.uid(object.interaction_uid)\n            .object\n            .reviewed({\n              context_uid: customOptions.activity_uid,\n              type: content.type,\n              target_uid: rawContent.uid,\n              object_data: rawContent,\n              score: savedNote,\n            }, customOptions)\n            .then((resp) => {\n              setNote(savedNote);\n              setIsLoadingNote(false);\n              onClickSaveNote(savedNote, resp);\n            });\n        }\n      }\n    }\n  }\n\n  const handleClickEdit = () => {\n    setIsEditing(true);\n  }\n\n  const handleClickSave = () => {\n    setIsEditing(false);\n    onClickEdit(text);\n  }\n\n  const renderNoteDropdown = () => {\n    return (\n      <NoteDropdown\n        notes={notesRange}\n        primaryColor={primaryColor}\n        onSelect={handleSaveNote}\n        selected={note}\n        isLoadingNote={isLoadingNote}\n      />\n    )\n  }\n\n  const renderOnlyNote = () => {\n    return (\n      <NoteDropdown\n        notes={notesRange}\n        primaryColor={primaryColor}\n        selected={note}\n        show={false}\n      />\n    )\n  }\n\n  if (authorName === null)\n    return <PostLoading column={column} onScreen={() => setIsVisible(true)}/>\n\n  return (\n    <MessageContentItem\n      backgroundColor={topicBackgroundColor}\n      column={column}\n      elevation={elevation}\n    >\n      <MessageHeader>\n        <Author\n          color={topicAuthorColor}\n        >\n          {`${byLabel}: ${authorName || \"\"} - `}\n          <time dateTime={createdAtDateTime}>{createdAt}</time>\n        </Author>\n\n        {(withReviewDropdown && isAdminReviewer(user.roles) && (user.uid !== authorUID)) &&\n          renderNoteDropdown()\n        }\n\n        {(!withReviewDropdown && note !== null) &&\n          renderOnlyNote()\n        }\n      </MessageHeader>\n\n      {\n        (value && !isEditing) && (\n          <Message\n            color={topicTextColor}\n            dangerouslySetInnerHTML={{__html: value}}\n          />\n        )\n      }\n\n      {\n        (isEditing) && (\n          <div>\n            <Quill\n              value={text}\n              onChange={setText}\n              placeholder=\"Escreva aqui...\"\n            />\n          </div>\n        )\n      }\n\n      {children}\n\n      <Actions>\n        <ActionItem>\n          {\n            isEditing ? (\n              <>\n                <ActionButton\n                  type=\"button\"\n                  color={primaryColor}\n                  onClick={handleClickSave}\n                >\n                  {getSaveLabel()}\n                </ActionButton>\n\n                <ActionButton\n                  type=\"button\"\n                  color={primaryColor}\n                  onClick={() => setIsEditing(false)}\n                >\n                  {getCancelLabel()}\n                </ActionButton>\n              </>\n            ) : (\n              !disableOperations && <>\n                {onClickReply && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={() => onClickReply(id)}\n                  >\n                    {getReplyLabel()}\n                  </ActionButton>\n                )}\n\n                {(authorName && isContentOwner(user.uid || \"\", authorUID) && onClickEdit && note === null) && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={handleClickEdit}\n                  >\n                    {getEditLabel()}\n                  </ActionButton>\n                )}\n\n                {(authorName && isContentOwner(user.uid || \"\", authorUID) && onClickDelete && note === null) && (\n                  <ActionButton\n                    type=\"button\"\n                    color={primaryColor}\n                    onClick={() => onClickDelete(id)}\n                  >\n                    {getRemoveLabel()}\n                  </ActionButton>\n                )}\n              </>\n            )\n          }\n        </ActionItem>\n      </Actions>\n    </MessageContentItem>\n  )\n}\n\nexport default ForumMessage;","import styled from \"styled-components\";\n\nconst Backdrop = styled.div`\n  position: fixed;\n  overflow-y: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  @media screen and (min-width: 640px) {\n    background: rgba(0, 0, 0, 0.3);\n  }\n`\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.85);\n\tz-index: 1;\n`\n\nconst ContentDiv = styled.div`\n  position: absolute;\n  width: 100%;\n  max-width: 768px;\n  height: 200px;\n  top: 40%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n  box-shadow: 0 0 10px #a9a9a9;\n`\n\nconst Label = styled.h2`\n  margin: 20px;\n  font-size: 1.3rem;\n  text-align: center;\n`\nconst Description = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst DescriptionText = styled.p`\n  font-size: 1.3rem;\n`\n\nconst ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: right;\n  padding: 0 20px 20px 0;\n`\n\nconst Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n\t\n\t&:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n\t}\n\t\n\t&:hover {\n    filter: saturate(1.5);\n\t}\n\t\n\t&:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n\t}\n`\n\nexport {\n  Container,\n  ContentDiv,\n  Backdrop,\n  ActionsDiv,\n  Button,\n  Label,\n  Description,\n  DescriptionText,\n}","import React, {useEffect} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport {\n  ActionsDiv,\n  Button,\n  Container,\n  ContentDiv,\n  Description,\n  DescriptionText,\n  Label,\n  Backdrop\n} from \"./alert-dialog.styled\";\n\nfunction AlertDialog(props) {\n  const {\n    id = \"alert-dialog\",\n    open = false,\n    onConfirm = () => {\n    },\n    onCancel = () => {\n    },\n    label = \"Confirmao\",\n    description = \"Deseja realizar esta ao?\",\n    btnConfirmLabel = \"Sim\",\n    btnCancelLabel = \"No\",\n    controlsID = \"\",\n    btnConfirmTextColor = \"#fff\",\n    btnConfirmColor = \"#000\",\n    btnCancelTextColor = \"#fff\",\n    btnCancelColor = \"#000\",\n  } = props;\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  useEffect(() => {\n    if (open) {\n      document.querySelector('body').style.overflow = \"hidden\";\n    } else {\n      document.querySelector('body').style.overflow = \"auto\";\n    }\n\n    return () => document.querySelector('body').style.overflow = \"auto\";\n  }, [open])\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleCancel = () => {\n    onCancel();\n  }\n\n  const handleConfirm = () => {\n    onConfirm();\n  }\n\n  return (\n    <Backdrop hidden={!open}>\n      <Container\n        id={id}\n        role=\"alertdialog\"\n        aria-modal=\"true\"\n        aria-labelledby={id + \"-label\"}\n        aria-describedby={id + \"-desc\"}\n        onKeyUp={handleEscape}\n        hidden={!open}\n      >\n\n\n        <ContentDiv>\n          <Label id={id + \"-label\"}>\n            {label}\n          </Label>\n\n          <Description id={id + \"-desc\"}>\n            <DescriptionText>\n              {description}\n            </DescriptionText>\n          </Description>\n\n          <ActionsDiv>\n            <Button\n              id={id + \"-confirm\"}\n              aria-controls={controlsID}\n              type=\"button\"\n              onClick={handleConfirm}\n              color={btnConfirmTextColor}\n              background={btnConfirmColor}\n              disabled={isLoading}\n            >\n              {btnConfirmLabel}\n            </Button>\n\n            <Button\n              type=\"button\"\n              onClick={handleCancel}\n              style={{marginLeft: \"15px\"}}\n              color={btnCancelTextColor}\n              background={btnCancelColor}\n              disabled={isLoading}\n            >\n              {btnCancelLabel}\n            </Button>\n          </ActionsDiv>\n        </ContentDiv>\n      </Container>\n    </Backdrop>\n  )\n}\n\nexport default AlertDialog;","import styled, {css} from \"styled-components\";\n\nexport const OutlinedButton = styled.button`\n  display: block;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 8px 30px;\n  font-size: 12px;\n  border: 1px solid ${props => props.background || \"#2d7b45\"};\n  font-family: Lato-Bold, serif;\n  background: ${props => props.color || \"#fff\"};\n  color: ${props => props.background || \"#2d7b45\"};\n  border-radius: 30px;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n    \n    ${props => props.isLoading && css`\n      cursor: progress;\n    `};\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.background || \"#2d7b45\"} !important;\n    outline-offset: 2px !important;\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n\n  &:hover {\n    background: ${props => props.background || \"#2d7b45\"};\n    color: ${props => props.color || \"#fff\"};\n  }\n`\n\nexport const MessagesContainer = styled.div`\n  border-bottom: 1px solid #e9e9e9;\n  transform: scale(0.9);\n\n  &:last-child {\n    margin-bottom: 20px;\n  }\n`;","import styled, {css} from \"styled-components\";\n\nexport const ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  overflow-x: hidden;\n  z-index: 1;\n  transition: all 0.3s ease-in-out;\n`\n\nexport const ContentDiv = styled.div`\n  position: absolute;\n  width: 80%;\n  max-width: 1240px;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background: #FFF;\n  border-radius: 8px;\n\n  @media (max-width: 599px) {\n    // Phone\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    // Tablet\n    width: 90%;\n    height: 90%;\n  }\n\n  @media (max-width: 768px) {\n    padding-bottom: 60px;\n  }\n`\n\nexport const Form = styled.form``;\n\nexport const Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nexport const ActionsDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  height: 60px;\n  padding: 12px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 60%;\n\n  @media (max-width: 768px) {\n    border-top: 1px solid #e9e9e9;\n    width: 100%;\n  }\n`\n\nexport const Button = styled.button`\n  border-radius: 100px;\n  border: 0;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n  cursor: pointer;\n  background: ${props => props.background || '#000'};\n  color: ${props => props.color || '#FFF'};\n  font-weight: bold;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n`\n\nexport const CloseButton = styled.button`\n  border: 0;\n  cursor: pointer;\n  color: black;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 20px;\n  top: 15px;\n  padding: 0;\n  border-radius: 8px;\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"black\"} !important;\n    outline-offset: 2px;\n  }\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  @media (max-width: 768px) {\n    &.visible {\n      display: none;\n    }\n  }\n`\n\nexport const ReviewContent = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-rows: 50px 100%;\n  overflow: hidden;\n`\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: 40% 60%;\n  grid-auto-rows: 100%;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      grid-template-columns: 0 100%;\n    }\n\n    &.visible {\n      grid-template-columns: 100% 0;\n    }\n  }\n`\n\nexport const SearchColumn = styled.div`\n  padding: 5px;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  @media (max-width: 768px) {\n    padding-left: 55px;\n  }\n`\n\nexport const AnsweredColumn = styled.button`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-right: 1px solid #e9e9e9;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n`\n\nexport const ReviewedColumn = styled.button`\n  border: 0;\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.1vw;\n  border-bottom: 1px solid #e9e9e9;\n\n  &:focus {\n    outline: 2px solid ${props => props.background || '#000'} !important;\n    outline-offset: -2px;\n  }\n\n  &:hover {\n    filter: saturate(1.5);\n    background-color: #e9e9e9;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    filter: grayscale(1);\n  }\n\n  @media (max-width: 599px) {\n    font-size: 2.3vw;\n  }\n\n  @media (min-width: 600px) and (max-width: 1239px) {\n    font-size: 1.2vw;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 16px;\n  }\n`\n\nexport const ReviewColumn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid #e9e9e9;\n  position: relative;\n  pointer-events: none;\n  overflow: hidden;\n`\n\nexport const HeadRow = styled.div`\n  display: grid;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-rows: 50px;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  transition: all 0.3ms ease-in-out;\n  will-change: width;\n\n  @media (max-width: 768px) {\n    &:not(.visible) {\n      width: 0;\n    }\n\n    &.visible {\n      width: 100%;\n    }\n  }\n`\n\nexport const BodyRow = styled(HeadRow)`\n  border-right: none;\n  \n  &:last-child {\n    border-bottom: 1px solid #e9e9e9;\n  }\n`\n\nexport const StudentData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  flex-direction: column;\n  border-right: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 0 5px;\n  \n  p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nexport const AnsweredData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const ReviewedData = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const ReviewData = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nexport const ReviewDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const ReviewNoMessagesDataOverlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  z-index: 1;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n  \n  padding: 15px;\n  \n  ${props => props.isVisible && css`\n    pointer-events: all;\n    opacity: 1;\n  `}\n`\n\nexport const LeftList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  border-right: 1px solid #e9e9e9;\n`\n\nexport const Student = styled.li`\n  &:nth-child(even) {\n    background-color: #f5f5f5;\n  }\n`\n\nexport const StudentButton = styled.button`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    background-color: rgba(223, 221, 223, 0.66);\n  }\n\n  &:focus {\n    outline: 1px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -1px;\n  }\n\n  &[aria-selected=\"true\"] {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n    color: ${props => props.primaryColor || \"rgb(223, 221, 223)\"};\n  }\n`\n\nexport const CheckboxLabel = styled.label`\n  position: relative;\n  display: block;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  .checkmark {\n    left: 35%;\n    top: -5px;\n    width: 8px;\n    height: 16px;\n    border: solid ${props => props.checkColor || '#002bff'};\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n`\n\n\nexport const CheckboxInput = styled.input`\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n  pointer-events: none;\n\n  &[checked=true] {\n    background-color: #fac100;\n  }\n\n  &[checked=true] ~ .checkmark:after {\n    display: block;\n  }\n`\n\nexport const Checkmark = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  border: 1px solid #ddd;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n`\n\nexport const QuestionText = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`\n\nexport const AnswerLabel = styled.label``;\n\nexport const AnswerText = styled.textarea`\n  margin-bottom: 10px;\n  margin-top: 10px;\n  width: 100%;\n  max-height: 50%;\n  resize: vertical;\n  border: 1px solid hsl(0, 0%, 80%);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 10px;\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"rgb(223, 221, 223)\"} !important;\n    outline-offset: -2px;\n  }\n`\n\nexport const SearchLabel = styled.label`\n  height: 100%;\n  width: 100%;\n  display: block;\n  position: relative;\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  border-radius: 5px;\n  padding: 4px;\n  border: 1px solid hsl(0, 0%, 80%);\n  \n  &:hover {\n    border: 1px solid hsl(0, 0%, 70%);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#a9a8a8\"} !important;\n    outline-offset: -1px;\n    border: 1px solid ${props => props.primaryColor || \"#e9e9e9\"};\n  }\n`\n\nexport const SearchInputIcon = styled.img`\n  cursor: pointer;\n  width: 15px;\n  position: absolute;\n  right: 10px;\n  top: 32%;\n  \n  &:hover {\n    filter: brightness(0.8);\n  }\n`\n\nexport const MenuIcon = styled.button`\n  width: auto;\n  height: 20px;\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  cursor: pointer;\n  display: none;\n  padding: 0;\n  border: 0;\n  background: transparent;\n\n  &:hover {\n    svg {\n      fill: ${props => props.primaryColor || \"black\"};\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Title = styled.p`\n  font-weight: bold;\n  font-size: 20px;\n  color: ${props => props.primaryColor || \"black\"};\n`\n\nexport const AnswerContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n`\n\nexport const NoteContainer = styled.div`\n  top: 0;\n  right: 0;\n  position: absolute;\n`\n\nexport const RightList = styled.ul`\n  overflow-y: scroll;\n  height: calc(100% - 50px);\n  max-height: calc(100% - 50px);\n  padding: 10px 0;\n  scroll-behavior: smooth;\n`\n\nexport const Question = styled.li`\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 20px;\n  padding: 0 20px 20px 20px;\n\n  &:last-child {\n    padding-bottom: 80px;\n    border-bottom: none;\n  }\n\n  @media (max-width: 768px) {\n    &:last-child {\n      padding-bottom: 25px;\n    }\n  }\n`","import React, {useEffect, useMemo, useRef, useState} from 'react';\nimport KeyCode from \"../../utils/key-code\";\nimport * as S from \"./review-modal.styled\";\nimport searchIcon from \"../../assets/svg/icon-search.svg\";\nimport searchClearIcon from \"../../assets/svg/close.svg\";\n\n\nfunction ReviewModal(props) {\n  const {\n    open = false,\n    data = [],\n    users = [],\n    onConfirm = (text) => text,\n    onCancel = () => {\n    },\n    value = \"\",\n    primaryColor = \"#000\",\n    labels = {},\n    closeIcon,\n    expandRightIcon,\n    expandLeftIcon,\n    iterateRightList = (item, index, selectedUser) => item,\n  } = props;\n  const closeRef = useRef();\n  const rightListRef = useRef();\n  const [text, setText] = useState(value);\n  const [searchText, setSearchText] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [isListOfItemsOpened, setIsListOfItemsOpened] = useState(false);\n  const [messages, setMessages] = useState(data);\n  const [sortAnsweredOrder, setSortAnsweredOrder] = useState(\"\");\n  const [sortReviewedOrder, setSortReviewedOrder] = useState(\"\");\n\n  const interactionObject = (user = {}, index) => {\n    const {\n      user_uid = index,\n      name = `Usurio ${index + 1}`,\n      email = \"\",\n      interaction_objects = [],\n      interaction_uid = \"\",\n    } = user;\n\n    let count_reviewed = 0;\n    let total_messages = 0;\n    let answered = false;\n\n    let interactionObjectTemp = messages.map(message => {\n      let interaction = {};\n      let isReviewed = false;\n\n      const {children = []} = message;\n\n      if (children.length > 0) {\n        children.forEach(child => {\n          interaction = interaction_objects.find(interaction => interaction.target_uid === child.uid);\n\n          if (interaction) {\n            const {\n              reviewer_uid = null,\n              score = null,\n            } = interaction;\n\n            total_messages++;\n            answered = true;\n\n            if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n              isReviewed = true;\n              count_reviewed++;\n            }\n          }\n        })\n      }\n\n      if (interaction_objects) {\n        interaction = interaction_objects.find(interaction => interaction.target_uid === message.uid);\n\n        if (interaction) {\n          const {\n            uid = null,\n            reviewer_uid = null,\n            object_data,\n            score = null,\n            target_uid = null,\n            context_uid = null,\n          } = interaction;\n\n          total_messages++;\n          answered = true;\n\n          const {\n            data = \"\"\n          } = object_data;\n\n          if (((score !== null && score !== \"\" && score !== \"null\") || reviewer_uid !== null)) {\n            isReviewed = true;\n            count_reviewed++;\n          }\n          return {\n            uid,\n            context_uid,\n            reviewed: isReviewed,\n            answered,\n            score,\n            answer: data,\n            target_uid,\n          }\n        }\n      }\n\n      return {\n        reviewed: false,\n        answered,\n        score: null,\n        answer: \"\",\n        target_uid: null,\n      }\n    })\n\n    return {\n      uid: user_uid,\n      name,\n      email,\n      interaction_uid,\n      count_reviewed,\n      total_messages,\n      answered,\n      interaction_objects: interactionObjectTemp,\n    }\n  }\n\n  const byAnswered = (order = \"asc\") => ( a, b ) => {\n    if ( order === \"asc\" ) {\n      if ( a.answered && !b.answered ) {\n        return -1;\n      }\n      if ( !a.answered && b.answered ) {\n        return 1;\n      }\n    } else if ( order === \"desc\" ) {\n      if ( !a.answered && b.answered ) {\n        return -1;\n      }\n      if ( a.answered && !b.answered ) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const byReviewed = (order = \"asc\") => ( a, b ) => {\n    if ( order === \"asc\" ) {\n      if ( a.total_messages !== a.count_reviewed && b.total_messages === b.count_reviewed ) {\n        return -1;\n      }\n      if ( a.total_messages === a.count_reviewed && b.total_messages !== b.count_reviewed ) {\n        return 1;\n      }\n    } else if (order === \"desc\") {\n      if ( a.total_messages === a.count_reviewed && b.total_messages !== b.count_reviewed ) {\n        return -1;\n      }\n      if ( a.total_messages !== a.count_reviewed && b.total_messages === b.count_reviewed ) {\n        return 1;\n      }\n    }\n    return 0;\n  }\n\n  const students = useMemo(() =>\n      users.map(interactionObject)\n        .sort(byAnswered(sortAnsweredOrder))\n        .sort(byReviewed(sortReviewedOrder)),\n    [users, sortAnsweredOrder, sortReviewedOrder]\n  );\n\n  useEffect(() => {\n    setMessages(data);\n  }, [data]);\n\n  useEffect(() => {\n    if (rightListRef && rightListRef.current) {\n      rightListRef.current.scrollTop = 0;\n    }\n    if (closeRef && closeRef.current) {\n      closeRef.current.focus();\n    }\n    setSelectedUser({});\n  }, [open]);\n\n  const handleEscape = (event) => {\n    let key = event.which || event.keyCode;\n\n    if (key === KeyCode.ESC) {\n      event.stopPropagation();\n      onCancel();\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onConfirm(text);\n    setText(\"\");\n  }\n\n  const handleClose = () => {\n    onCancel();\n    setText(\"\");\n  }\n\n  const handleStudentSelect = (user) => {\n    setSelectedUser(user);\n    updateLocalQuestion(user.interaction_objects);\n    setIsListOfItemsOpened(false);\n    if (rightListRef && rightListRef.current) {\n      rightListRef.current.scrollTop = 0;\n    }\n  }\n\n  const handleStudentsMenu = () => {\n    setIsListOfItemsOpened(!isListOfItemsOpened);\n  }\n\n  const updateLocalQuestion = (interaction) => {\n    if (Array.isArray(interaction)) {\n      let messagesCopy = [...messages];\n      messagesCopy.forEach(message => {\n        const userInteractionObject = interaction.find(item => item.target_uid === message.id);\n        if (userInteractionObject) {\n          message.score = userInteractionObject.score;\n        }\n      });\n\n      setMessages(messagesCopy);\n    } else {\n      let messagesCopy = [...messages];\n      messagesCopy.forEach(question => {\n        if (question.id === interaction.target_uid) {\n          question.score = interaction.score;\n        }\n      });\n      setMessages(messagesCopy);\n    }\n    return interaction;\n  }\n\n  const iconExpandLeft = () => {\n    return expandRightIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M4,2H2V22H4V13H18.17L12.67,18.5L14.08,19.92L22,12L14.08,4.08L12.67,5.5L18.17,11H4V2Z\"/>\n      </svg>\n    )\n  }\n\n  const iconExpandRight = () => {\n    return expandLeftIcon || (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M20,22H22V2H20V11H5.83L11.33,5.5L9.92,4.08L2,12L9.92,19.92L11.33,18.5L5.83,13H20V22Z\"/>\n      </svg>\n    )\n  }\n\n  const iconClose = () => {\n    return closeIcon || (\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 768 768\">\n        <path\n          d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\"/>\n      </svg>\n    )\n  }\n\n  const handleSearch = (event) => {\n    const {value} = event.target;\n    setSearchText(value);\n  }\n\n  const sameUserNameOrEmail = (user = {}) => {\n    if (searchText) {\n      const {name, email} = user;\n      const text = searchText.toLowerCase();\n      return name.toLowerCase().includes(text) || email.toLowerCase().includes(text);\n    } else {\n      return true;\n    }\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\");\n  }\n\n  const interactionUserName = (user) => {\n    const {\n      name,\n      email,\n    } = user;\n    return {\n      name,\n      email,\n    }\n  }\n\n  const handleSortByAnswered = () => {\n    if (sortAnsweredOrder === \"asc\") {\n      setSortAnsweredOrder(\"desc\");\n    } else if (sortAnsweredOrder === \"desc\") {\n      setSortAnsweredOrder(\"\");\n    } else {\n      setSortAnsweredOrder(\"asc\");\n    }\n  }\n\n  const handleSortByReviewed = () => {\n    if (sortReviewedOrder === \"asc\") {\n      setSortReviewedOrder(\"desc\");\n    } else if (sortReviewedOrder === \"desc\") {\n      setSortReviewedOrder(\"\");\n    } else {\n      setSortReviewedOrder(\"asc\");\n    }\n  }\n\n  const getStyleForOrder = (order) => {\n    if (order === \"asc\") {\n      return \"overline\"\n    }\n    if (order === \"desc\") {\n      return \"underline\"\n    }\n    return \"none\"\n  }\n\n  return (<S.ModalDiv\n    role=\"dialog\"\n    aria-modal=\"true\"\n    aria-labelledby={labels.review || \"Revisar\"}\n    aria-describedby={labels.review || \"Revisar\"}\n    onKeyUp={handleEscape}\n    hidden={!open}\n  >\n    <S.Form onSubmit={handleSubmit}>\n      <S.Overlay onClick={handleClose}/>\n\n      <S.ContentDiv>\n        <S.ReviewContent>\n          <S.MenuIcon\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleStudentsMenu}\n            primaryColor={primaryColor}\n          >\n            {\n              isListOfItemsOpened\n                ? iconExpandRight()\n                : iconExpandLeft()\n            }\n          </S.MenuIcon>\n\n          <S.CloseButton\n            ref={closeRef}\n            className={isListOfItemsOpened ? \"visible\" : \"\"}\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={handleClose}\n            primaryColor={primaryColor}\n            title={labels.close || \"Fechar\"}\n          >\n            {iconClose()}\n          </S.CloseButton>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.HeadRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n              <S.SearchColumn>\n                <S.SearchLabel\n                  aria-label={labels.search || \"Buscar\"}\n                >\n                  <S.SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    placeholder={labels.search || \"Buscar\"}\n                    primaryColor={primaryColor}\n                    value={searchText}\n                    onChange={handleSearch}\n                  />\n\n                  {\n                    searchText.length\n                      ? (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchClearIcon}\n                          onClick={handleClearSearch}\n                        />\n                      ) : (\n                        <S.SearchInputIcon\n                          role=\"button\"\n                          src={searchIcon}\n                        />\n                      )\n                  }\n\n                </S.SearchLabel>\n              </S.SearchColumn>\n\n              <S.AnsweredColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByAnswered}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortAnsweredOrder)}}\n                >\n                  {labels.answered || \"Respondido\"}\n                </p>\n              </S.AnsweredColumn>\n\n              <S.ReviewedColumn\n                type=\"button\"\n                background={primaryColor}\n                onClick={handleSortByReviewed}\n              >\n                <p\n                  style={{color: primaryColor, textDecoration: getStyleForOrder(sortReviewedOrder)}}>\n                  {labels.reviewed || \"Corrigido\"}\n                </p>\n              </S.ReviewedColumn>\n            </S.HeadRow>\n\n            <S.ReviewColumn>\n              <S.Title primaryColor={primaryColor}>\n                {interactionUserName(selectedUser).name}\n              </S.Title>\n            </S.ReviewColumn>\n          </S.Grid>\n\n          <S.Grid className={isListOfItemsOpened ? \"visible\" : \"\"}>\n            <S.LeftList>\n              {\n                students\n                  .filter(sameUserNameOrEmail)\n                  .map((user, index) => (\n                    <S.Student key={index}>\n                      <S.StudentButton\n                        tabIndex=\"1\"\n                        type=\"button\"\n                        onClick={() => handleStudentSelect(user)}\n                        aria-selected={user.uid === selectedUser.uid}\n                        primaryColor={primaryColor}\n                      >\n                        <S.BodyRow className={isListOfItemsOpened ? \"visible\" : \"\"}>\n                          <S.StudentData>\n                            <p style={{fontSize: \"16px\"}}>{user.name}</p>\n                            <p style={{fontSize: \"16px\"}}>{user.email}</p>\n                          </S.StudentData>\n\n                          <S.AnsweredData>\n                            {\n                              (user.interaction_objects.find(objects => objects.answered === true)) && (\n                                <S.CheckboxLabel\n                                  aria-label={labels.answered_by_student || \"Respondido pelo aluno\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark\n                                    className=\"checkmark\"\n                                  />\n                                </S.CheckboxLabel>\n                              )\n                            }\n                          </S.AnsweredData>\n\n                          <S.ReviewedData>\n                            {\n                              (user.count_reviewed > 0 && user.count_reviewed === user.total_messages) ? (\n                                <S.CheckboxLabel\n                                  aria-label={labels.reviewed || \"Corrigido\"}\n                                  checkColor={primaryColor}\n                                >\n                                  <S.CheckboxInput\n                                    type=\"checkbox\"\n                                    readOnly\n                                    checked\n                                  />\n                                  <S.Checkmark className=\"checkmark\"/>\n                                </S.CheckboxLabel>\n                              ) : (\n                                <p>{user.count_reviewed}/{user.total_messages || 0}</p>\n                              )\n                            }\n                          </S.ReviewedData>\n                        </S.BodyRow>\n                      </S.StudentButton>\n                    </S.Student>\n                  ))\n              }\n            </S.LeftList>\n\n            <S.ReviewData>\n              <S.ReviewDataOverlay\n                isVisible={Object.keys(selectedUser).length === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.select_to_start_review || \"Selecione um aluno para efetuar a reviso.\"}\n                </p>\n              </S.ReviewDataOverlay>\n\n              <S.ReviewNoMessagesDataOverlay\n                isVisible={selectedUser.total_messages === 0}\n              >\n                <p style={{color: primaryColor}}>\n                  {labels.no_messages_to_review || \"Este aluno no possui mensagens para reviso.\"}\n                </p>\n              </S.ReviewNoMessagesDataOverlay>\n\n              <S.RightList ref={rightListRef}>\n                {messages.map((message, index) => <span\n                  key={index}>{iterateRightList(message, index, selectedUser)}</span>)}\n              </S.RightList>\n            </S.ReviewData>\n          </S.Grid>\n        </S.ReviewContent>\n      </S.ContentDiv>\n    </S.Form>\n  </S.ModalDiv>)\n}\n\nexport default ReviewModal;","import React, {Component} from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-forum-1.css';\nimport Modal from \"./modal\";\nimport LearningPlayerContextLoading from \"./learning-player-context-loading\";\nimport ComposerPlayerContext from \"./composer-player-context\";\nimport ForumMessage from \"./forum-message\";\nimport AlertDialog from \"./alert-dialog\";\nimport API from \"../../services\";\nimport moment from \"moment\";\nimport PostLoading from \"./post-loading\";\nimport {MessagesContainer, OutlinedButton} from \"./element-forum-1.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport {isAdminReviewer} from \"../../utils/permission\";\nimport ReviewModal from \"./review-modal\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementForum1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    const {\n      contentLanguage = \"pt-br\"\n    } = this.props;\n\n    this.handleChange = this.handleChange.bind(this);\n    this.mountThreadsAndPosts = this.mountThreadsAndPosts.bind(this);\n    this.getThreads = this.getThreads.bind(this);\n    this.renderContext = this.renderContext.bind(this);\n    this.renderForumMessage = this.renderForumMessage.bind(this);\n    this.toggleVisibilityOfNewTopicModal = this.toggleVisibilityOfNewTopicModal.bind(this);\n    this.toggleVisibilityOfReplyModal = this.toggleVisibilityOfReplyModal.bind(this);\n    this.sendThread = this.sendThread.bind(this);\n    this.sendPost = this.sendPost.bind(this);\n    this.onApiSendPost = this.onApiSendPost.bind(this);\n    this.onApiSendThread = this.onApiSendThread.bind(this);\n    this.onApiDeleteThread = this.onApiDeleteThread.bind(this);\n    this.onApiGetAuthorInfo = this.onApiGetAuthorInfo.bind(this);\n    this.appendPostIntoThread = this.appendPostIntoThread.bind(this);\n    this.getSignedUserFromJwt = this.getSignedUserFromJwt.bind(this);\n    this.closeAlertDialog = this.closeAlertDialog.bind(this);\n    this.onApiDeletePost = this.onApiDeletePost.bind(this);\n    this.handleDeletePost = this.handleDeletePost.bind(this);\n    this.handleConfirmAlertDialog = this.handleConfirmAlertDialog.bind(this);\n    this.handleDeleteThread = this.handleDeleteThread.bind(this);\n    this.resetAlertDialog = this.resetAlertDialog.bind(this);\n    this.isUserAllowedToCreateTopic = this.isUserAllowedToCreateTopic.bind(this);\n    this.createInteractionObject = this.createInteractionObject.bind(this);\n    this.onApiEditPost = this.onApiEditPost.bind(this);\n    this.renderModal = this.renderModal.bind(this);\n    this.getInteractionObjects = this.getInteractionObjects.bind(this);\n    this.filterInteractionObjectOf = this.filterInteractionObjectOf.bind(this);\n    this.handleCloseReviewModal = this.handleCloseReviewModal.bind(this);\n    this.reviewModalIterateRightList = this.reviewModalIterateRightList.bind(this);\n\n    this.state = {\n      content: props.content,\n      interaction_objects: [],\n      language: contentLanguage,\n      is_showing_new_topic_modal: false,\n      is_loading_new_topic_modal_confirmation: false,\n      is_showing_reply_thread_modal: false,\n      is_loading_new_reply_thread_modal_confirmation: false,\n      is_showing_alert_dialog: false,\n      context: \"composer_player\",\n      forum_messages: [],\n      all_forum_messages: [],\n      custom_options: null,\n      current_thread: null,\n      syncTimer: null,\n      user: {\n        roles: []\n      },\n      is_review_modal_open: false,\n      is_loading_review_modal: false,\n      authors: [],\n      alert_dialog_action: null,\n      alert_dialog_action_data: null,\n      current_page: 1,\n      total_pages: 1,\n      thread_page_size: 5,\n      posts_page_size: 5,\n      visible: false\n    }\n  }\n\n  componentDidMount() {\n    if (window.cstmptns) {\n      this.setState({\n        context: \"learning_player\",\n        custom_options: window.cstmptns,\n      }, () => {\n        this.getSignedUserFromJwt()\n          .then(this.getInteractionObjects)\n          .then(this.getThreads)\n          .then(this.mountThreadsAndPosts);\n      });\n    }\n  }\n\n\n  componentWillUnmount() {\n    const {\n      syncTimer\n    } = this.state;\n\n    if (syncTimer) {\n      clearTimeout(syncTimer);\n    }\n  }\n\n  componentDidUpdate() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"forum-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"options\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  async getInteractionObjects(user) {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n      interaction_uid,\n    } = custom_options;\n\n    try {\n      if (isAdminReviewer(user.roles)) {\n        const interaction_objects = await API.cms\n          .learning\n          .register.uid(register_uid)\n          .interaction\n          .recoverObjects(\n            {\n              activity_uid,\n              last_occurrence: true,\n              type: \"forum-1\",\n            },\n            custom_options\n          );\n\n        this.setState({\n          interaction_objects,\n        });\n      } else {\n        // O aluno solicita a lista de objetos de interao\n        const interaction_objects = await API.cms\n          .learning\n          .interaction.uid(interaction_uid)\n          .recoverObject({context_uid: activity_uid}, custom_options);\n\n        const userInteractionObject = {\n          interaction_objects,\n          interaction_uid,\n          user_register_uid: null,\n          user_uid: user.uid,\n        }\n\n        this.setState({\n          interaction_objects: [userInteractionObject],\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async getSignedUserFromJwt() {\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  async getThreads() {\n    const {\n      current_page,\n      custom_options,\n      thread_page_size = 5\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    return API.cms\n      .socialmedia\n      .threads\n      .available(\n        {\n          //TODO: change activity_uid to content.id\n          context_uid: activity_uid,\n          page_size: thread_page_size,\n          page: current_page\n        },\n        custom_options\n      )\n      .then(data => {\n        this.setState({\n          total_pages: data.total_pages,\n        })\n        return data.result;\n      });\n  }\n\n  async mountThreadsAndPosts(threads, firstLoading = true, isforReview = false) {\n    if (threads.length === 0) {\n      if (isforReview) {\n        this.setState(prevState => {\n          return {all_forum_messages: []}\n        });\n      } else {\n        this.setState(prevState => {\n          return {forum_messages: []}\n        });\n      }\n    }\n\n    for (const thread of threads) {\n      try {\n        if (firstLoading) {\n          thread.loading = true;\n          if (isforReview) {\n            this.setState(prevState => {\n              const {all_forum_messages = []} = prevState;\n              return {all_forum_messages: [...all_forum_messages, thread]}\n            });\n          } else {\n            this.setState(prevState => {\n              const {forum_messages = []} = prevState;\n              return {forum_messages: [...forum_messages, thread]}\n            });\n          }\n        }\n\n        let children = await this.onApiGetThreadPosts(thread.uid);\n        thread.children = children.result;\n        thread.current_page = children.current_page;\n        thread.total_pages = children.total_pages;\n        thread.loading = false;\n\n        if (isforReview) {\n          this.setState(prevState => {\n            const {all_forum_messages = []} = prevState;\n            return {all_forum_messages: [...all_forum_messages.map(value => value.uid === thread.uid ? thread : value)]}\n          });\n        } else {\n          this.setState(prevState => {\n            const {forum_messages = []} = prevState;\n            return {forum_messages: [...forum_messages.map(value => value.uid === thread.uid ? thread : value)]}\n          });\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    return threads;\n  }\n\n  onApiGetAuthorInfo(uid) {\n    const {\n      custom_options,\n      authors,\n    } = this.state;\n\n    return new Promise((resolve, reject) => {\n      const user = authors.find(value => value.uid === uid);\n      if (user) {\n        resolve(user);\n      } else {\n        API.auth\n          .user.uid(uid, custom_options)\n          .then(data => {\n            this.setState(prevState => {\n              const {authors: prevAuthors} = prevState;\n              return {authors: [...prevAuthors, data]}\n            });\n            resolve(data);\n          })\n          .catch(reject);\n      }\n    })\n  }\n\n  async onApiSendThread(text) {\n    const {\n      custom_options,\n      content,\n      user,\n    } = this.state;\n    const {\n      activity_uid, social_media_connector_uid\n    } = custom_options;\n\n    try {\n      const thread = await API.cms\n        .socialmedia\n        .connector.uid(social_media_connector_uid)\n        .createThread(\n          {\n            title: content.context_title || \"title\",\n            description: \"description\",\n            content: text,\n            context_type: \"Activity\",\n            //TODO: change activity_uid to content.id\n            context_uid: activity_uid\n          },\n          custom_options\n        );\n\n      await this.createInteractionObject(thread);\n      await this.getInteractionObjects(user);\n      await this.getThreads().then(this.mountThreadsAndPosts);\n    } catch (e) {\n      console.error(e);\n      throw e;\n    }\n  }\n\n  // TODO: Necessita implementar a API\n  // onApiEditThread(uid, text) {\n  //   const {\n  //     custom_options\n  //   } = this.state;\n  //   const {\n  //     activity_uid\n  //   } = custom_options;\n  //\n  //   return API.cms\n  //     .socialmedia\n  //     .thread.uid(uid)\n  //     .update(\n  //       {\n  //         title: \"title\",\n  //         description: \"description\",\n  //         content: text,\n  //         context_type: \"Activity\",\n  //         //TODO: change activity_uid to content.id\n  //         context_uid: activity_uid\n  //       },\n  //       custom_options\n  //     )\n  //     .then(resp => {\n  //       console.log(resp)\n  //     });\n  // }\n\n  onApiEditPost(threadUid, postUid, text) {\n    const {\n      custom_options,\n      content,\n      user: {\n        roles = []\n      }\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .post.uid(postUid)\n      .update(\n        {\n          title: content.context_title || \"title\",\n          content: text,\n          context_type: \"Activity\",\n          //TODO: change activity_uid to content.id\n          context_uid: activity_uid\n        },\n        custom_options\n      )\n      .then(async resp => {\n        if (!isAdminReviewer(roles)) {\n          await this.createInteractionObject(resp);\n        }\n\n        const {\n          forum_messages\n        } = this.state;\n        const {content} = resp;\n\n        const thread = forum_messages.find(value => value.uid === threadUid);\n        let post = thread.children.find(value => value.uid === postUid);\n        post = {...post, content};\n        thread.children = [...thread.children.filter(value => value.uid !== postUid), post];\n        this.setState({forum_messages: [...forum_messages.filter(value => value.uid !== threadUid), thread]});\n      });\n  }\n\n  onApiDeleteThread(uid) {\n    const {\n      custom_options,\n      forum_messages\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread\n      .uid(uid)\n      .delete(custom_options)\n      .then((resp) => {\n        if (resp !== null) {\n          this.setState({\n            forum_messages: forum_messages.filter(value => value.uid !== uid)\n          })\n        }\n      });\n  }\n\n  handleConfirmAlertDialog() {\n    const {alert_dialog_action, alert_dialog_action_data} = this.state;\n\n    switch (alert_dialog_action) {\n      case \"delete_post\":\n        this.onApiDeletePost(alert_dialog_action_data)\n          .then(this.resetAlertDialog)\n          .catch(this.resetAlertDialog)\n        break;\n      case \"delete_thread\":\n        this.onApiDeleteThread(alert_dialog_action_data)\n          .then(this.resetAlertDialog)\n          .catch(this.resetAlertDialog)\n        break;\n      default:\n        this.setState({\n          alert_dialog_action: null,\n          alert_dialog_action_data: null,\n          is_showing_alert_dialog: false,\n        })\n    }\n  }\n\n  handleDeletePost(uid, threadUid) {\n    this.setState({\n      is_showing_alert_dialog: true,\n      alert_dialog_action: \"delete_post\",\n      alert_dialog_action_data: {uid, threadUid}\n    })\n  }\n\n  handleDeleteThread(uid) {\n    this.setState({\n      is_showing_alert_dialog: true,\n      alert_dialog_action: \"delete_thread\",\n      alert_dialog_action_data: uid\n    })\n  }\n\n  resetAlertDialog(args) {\n    this.setState({\n      alert_dialog_action: null,\n      alert_dialog_action_data: null,\n      is_showing_alert_dialog: false,\n    });\n    return args\n  }\n\n  onApiDeletePost({uid, threadUid}) {\n    const {\n      custom_options,\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .post.uid(uid)\n      .delete(custom_options)\n      .then(resp => {\n        if (resp !== null) {\n          const {\n            forum_messages\n          } = this.state;\n\n          const forum_messages_new = forum_messages.map(thread => {\n            if (thread.uid === threadUid) {\n              thread.children = [...thread.children.filter(value => value.uid !== uid)];\n            }\n            return thread;\n          });\n          this.setState({forum_messages: forum_messages_new});\n        }\n      });\n  }\n\n  onApiGetThreadPosts(threadUid, page = 1) {\n    let {\n      custom_options,\n      posts_page_size = 5\n    } = this.state;\n\n    return API.cms\n      .socialmedia\n      .thread.uid(threadUid)\n      .recoverPosts(\n        {\n          page,\n          page_size: posts_page_size,\n        },\n        custom_options\n      );\n  }\n\n  async onApiSendPost(text) {\n    const {\n      custom_options,\n      current_thread,\n      content,\n    } = this.state;\n\n    try {\n      const post = await API.cms\n        .socialmedia\n        .thread.uid(current_thread)\n        .createPost(\n          {\n            title: content.title || \"\",\n            content: text,\n          },\n          custom_options\n        );\n\n      await this.createInteractionObject(post);\n      await this.appendPostIntoThread(post);\n    } catch (e) {\n      console.error(e);\n      throw e;\n    }\n  }\n\n  async createInteractionObject(object_data) {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      content,\n    } = this.props;\n    const {\n      interaction_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .interaction.uid(interaction_uid)\n      .createObject({\n        //TODO: change activity_uid to content.id\n        context_uid: activity_uid,\n        type: content.type,\n        target_uid: object_data.uid,\n        object_data,\n      }, custom_options)\n  }\n\n  appendPostIntoThread(post) {\n    const {\n      current_thread,\n    } = this.state;\n    console.log(\"appendPostIntoThread\", post);\n    this.setState(prevState => {\n      const updatedThread = prevState.forum_messages.find(thread => thread.uid === current_thread)\n      updatedThread.children = [...updatedThread.children, post];\n      const filtered = prevState.forum_messages.map(thread => {\n        if (thread.uid !== updatedThread.uid)\n          return thread\n        else\n          return updatedThread\n      })\n      return {\n        forum_messages: filtered\n      }\n    })\n  }\n\n  handleChange(content) {\n    const {\n      onChange = () => console.warn(\"No onChange defined\")\n    } = this.props;\n\n    onChange(content);\n  }\n\n  getFormatDate(date = \"\") {\n    let language = this.state.language;\n    if (date.length) {\n      let date_whitout_milisseconds = date.split(\".\")[0] + \"Z\";\n      if (language === \"en\") {\n        return moment(date_whitout_milisseconds).local().format(\"MM/DD/YYYY - HH:mm:ss\");\n      } else {\n        return moment(date_whitout_milisseconds).local().format(\"DD/MM/YYYY - HH:mm:ss\");\n      }\n    }\n    return \"\"\n  }\n\n  getByLabel() {\n    const {language} = this.state;\n    const label = {\n      \"en\": \"By\", \"pt-br\": \"Por\"\n    }\n    return label[language] || \"Por\";\n  }\n\n  sendThread(text) {\n    const {\n      forum_messages,\n    } = this.state;\n\n    const backup = [...forum_messages];\n\n    this.setState({\n      is_loading_new_topic_modal_confirmation: true,\n      forum_messages: []\n    })\n\n    this.onApiSendThread(text)\n      .then(() => {\n        this.setState({\n          is_showing_new_topic_modal: false,\n          is_loading_new_topic_modal_confirmation: false\n        })\n      })\n      .catch(() => {\n        this.setState({\n          is_loading_new_topic_modal_confirmation: false,\n          forum_messages: backup,\n        })\n      })\n  }\n\n  sendPost(text) {\n    this.setState({\n      is_loading_new_reply_thread_modal_confirmation: true\n    })\n    this.onApiSendPost(text)\n      .then(() => {\n        this.setState({\n          is_showing_reply_thread_modal: false,\n          is_loading_new_reply_thread_modal_confirmation: false\n        })\n      })\n      .catch(() => {\n        this.setState({\n          is_loading_new_reply_thread_modal_confirmation: false\n        })\n      })\n  }\n\n  // TODO: Necessita implementar a API\n  // editThread(uid, text) {\n  //   this.setState({\n  //     is_showing_edit_thread_modal: false\n  //   })\n  //   this.onApiEditThread(uid, text)\n  // }\n\n  editPost(threadUid, postUid, text) {\n    this.setState({\n      is_showing_edit_post_modal: false\n    })\n    this.onApiEditPost(threadUid, postUid, text)\n  }\n\n  toggleVisibilityOfNewTopicModal() {\n    const {\n      is_showing_new_topic_modal\n    } = this.state;\n\n    this.setState({\n      is_showing_new_topic_modal: !is_showing_new_topic_modal\n    })\n  }\n\n  closeAlertDialog() {\n    this.setState({\n      is_showing_alert_dialog: false\n    })\n  }\n\n  toggleVisibilityOfReplyModal(uid) {\n    const {\n      is_showing_reply_thread_modal\n    } = this.state;\n\n    this.setState({\n      is_showing_reply_thread_modal: !is_showing_reply_thread_modal, current_thread: uid || null\n    });\n  }\n\n  isUserAllowedToCreateTopic() {\n    const {\n      content: {\n        enable_new_topics = []\n      },\n    } = this.props;\n    const {\n      user: {\n        roles = []\n      },\n    } = this.state;\n\n    let canCreate = false;\n\n    roles.map(role => {\n      if (enable_new_topics.includes(role)) {\n        canCreate = true;\n      }\n      return role;\n    })\n\n    return canCreate;\n  }\n\n  filterInteractionObjectOf(uid, author_uid) {\n    const {\n      interaction_objects\n    } = this.state;\n    let copy = [...interaction_objects];\n    return copy.filter(obj => obj.user_uid === author_uid)\n      .map(obj => {\n        let objCpy = {...obj};\n        objCpy.interaction_objects = objCpy.interaction_objects\n          .filter(interaction => interaction.object_data.data.uid === uid);\n        return objCpy;\n      })\n  }\n\n  highlightedUserColor(authorUid, highlightedUser, defaultColor) {\n    if (highlightedUser !== null && highlightedUser.uid !== authorUid) {\n      return \"#e5e5e5\";\n    }\n    return defaultColor;\n  }\n\n  updateLocalInteraction(interaction, author_uid) {\n    const {\n      interaction_objects = []\n    } = this.state;\n\n    let copy = [...interaction_objects];\n    copy = copy.map(obj => {\n      if (obj.user_uid === author_uid) {\n        let objCpy = {...obj};\n        objCpy.interaction_objects = objCpy.interaction_objects\n          .map(int => {\n            if (int.uid === interaction.uid) {\n              let parsedInteraction = {...interaction};\n              parsedInteraction.object_data = JSON.parse(interaction.object_data);\n              return parsedInteraction;\n            }\n            return int;\n          });\n        return objCpy;\n      }\n\n      return obj;\n    })\n\n    this.setState({\n      interaction_objects: copy\n    });\n  }\n\n  renderForumMessage(message, withReviewDropdown = false, highlightedUser = null) {\n    const {\n      content: {\n        primary_topic_background_color,\n        primary_topic_author_color,\n        primary_topic_text_color,\n        topic_button_color,\n        secondary_topic_background_color,\n        secondary_topic_author_color,\n        secondary_topic_text_color,\n        confirm_button_background_color\n      },\n    } = this.props;\n\n    const {\n      content, uid, created_at, children = null, author_uid, loading, current_page = 1, total_pages = 1,\n    } = message;\n\n    const {\n      user,\n    } = this.state;\n\n    if (loading)\n      return (\n        <LearningPlayerContextLoading\n          id={`thread-${uid}`}\n          key={`thread-${uid}`}\n        />\n      )\n\n    function elevationFor(author, user) {\n      return author === user ? 1 : -1;\n    }\n\n    return (\n      <li key={uid}>\n        <ForumMessage\n          elevation={withReviewDropdown ? elevationFor(author_uid, highlightedUser.uid) : 0}\n          withReviewDropdown={withReviewDropdown && author_uid === highlightedUser.uid}\n          disableOperations={withReviewDropdown}\n          id={`thread-${uid}`}\n          user={user}\n          authorUID={author_uid}\n          customOptions={this.state.custom_options}\n          content={this.props.content}\n          rawContent={message}\n          interactionObjects={this.filterInteractionObjectOf(uid, author_uid)}\n          primaryColor={topic_button_color}\n          topicBackgroundColor={withReviewDropdown ? this.highlightedUserColor(author_uid, highlightedUser, primary_topic_background_color) : primary_topic_background_color}\n          topicAuthorColor={primary_topic_author_color}\n          topicTextColor={primary_topic_text_color}\n          byLabel={this.getByLabel()}\n          createdAtDateTime={created_at}\n          value={content}\n          createdAt={this.getFormatDate(created_at)}\n          onClickReply={() => this.toggleVisibilityOfReplyModal(uid)}\n          // TODO: Necessrio implementar API de edio\n          // onClickEdit={(text) => this.editThread(uid, text)}\n          onClickDelete={(children !== null && children.length > 0) ? null : () => this.handleDeleteThread(uid)}\n          onClickSaveNote={(note, interaction) => this.updateLocalInteraction(interaction, author_uid)}\n        />\n\n        {children && (children.map((row, i) => (\n          <ForumMessage\n            elevation={withReviewDropdown ? elevationFor(row.author_uid, highlightedUser.uid) : 0}\n            withReviewDropdown={withReviewDropdown && row.author_uid === highlightedUser.uid}\n            disableOperations={withReviewDropdown}\n            id={`post-${row.uid}`}\n            key={`post-${row.uid}`}\n            user={user}\n            uid={row.uid}\n            column={1}\n            threadUid={uid}\n            authorUID={row.author_uid}\n            customOptions={this.state.custom_options}\n            content={this.props.content}\n            rawContent={row}\n            interactionObjects={this.filterInteractionObjectOf(row.uid, row.author_uid)}\n            value={row.content}\n            primaryColor={topic_button_color}\n            topicBackgroundColor={withReviewDropdown ? this.highlightedUserColor(row.author_uid, highlightedUser, primary_topic_background_color) : secondary_topic_background_color}\n            topicAuthorColor={secondary_topic_author_color}\n            topicTextColor={secondary_topic_text_color}\n            byLabel={this.getByLabel()}\n            createdAtDateTime={row.created_at}\n            createdAt={this.getFormatDate(row.created_at)}\n            onClickEdit={(text) => this.editPost(uid, row.uid, text)}\n            onClickDelete={() => this.handleDeletePost(row.uid, uid)}\n            onClickSaveNote={(note, interaction) => this.updateLocalInteraction(interaction, row.author_uid)}\n          />\n        )))}\n\n        {\n          (withReviewDropdown && current_page < total_pages) && (\n            <PostLoading column={1} onScreen={async () => {\n              let posts = await this.onApiGetThreadPosts(uid, current_page + 1);\n              let thread = message;\n              thread.children = [...thread.children, ...posts.result];\n              thread.current_page = current_page + 1;\n              thread.total_pages = posts.total_pages;\n              this.setState(prevState => {\n                const {forum_messages = []} = prevState;\n                return {forum_messages: [...forum_messages.map(value => value.uid === uid ? thread : value)]}\n              });\n            }}/>\n          )\n        }\n\n        {\n          (children.length >= 5 && current_page < total_pages && !withReviewDropdown) && (\n            <div className=\"load-more-container\">\n              <OutlinedButton\n                background={confirm_button_background_color}\n                onClick={async evt => {\n                  evt.persist();\n                  evt.target.innerText = \"carregando...\";\n                  evt.target.disabled = true;\n                  let posts = await this.onApiGetThreadPosts(uid, current_page + 1);\n                  evt.target.innerText = \"carregar mais...\";\n                  evt.target.removeAttribute(\"disabled\");\n                  let thread = message;\n                  thread.children = [...thread.children, ...posts.result];\n                  thread.current_page = current_page + 1;\n                  thread.total_pages = posts.total_pages;\n                  this.setState(prevState => {\n                    const {forum_messages = []} = prevState;\n                    return {forum_messages: [...forum_messages.map(value => value.uid === uid ? thread : value)]}\n                  });\n                }}\n              >\n                carregar {children.length > 0 ? \"mais\" : \"respostas\"}...\n              </OutlinedButton>\n            </div>\n          )\n        }\n      </li>\n    )\n  }\n\n  getLabels() {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    let language = this.props.contentLanguage;\n    if (language === undefined) language = \"pt_br\";\n    if (language === \"en\") {\n      return {\n        confirm: \"Confirm\",\n        edit: \"Edit answer\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        answer_saved: \"Answer saved!\",\n        stats: \"Statistics\",\n        review: \"Review answers\",\n        answer: \"Answer\",\n        reviewed: \"Reviewed\",\n        answered_by_student: \"Answered by student\",\n        answered: \"Answered\",\n        search: \"Search\",\n        finish_review: \"Finish review\",\n        close: \"Close\",\n        score: \"Score\",\n        select_to_start_review: \"Select a student to review.\",\n        no_messages_to_review: \"This student has no messages for review.\"\n      };\n    } else if (language === \"pt_br\") {\n      return {\n        confirm: \"Confirmar\",\n        edit: \"Editar resposta\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        answer_saved: \"Resposta salva!\",\n        stats: \"Estatsticas\",\n        review: \"Revisar respostas\",\n        answer: \"Resposta\",\n        reviewed: \"Revisado\",\n        answered_by_student: \"Respondido pelo aluno\",\n        answered: \"Respondido\",\n        search: \"Pesquisar\",\n        finish_review: \"Finalizar reviso\",\n        close: \"Fechar\",\n        score: \"Nota\",\n        select_to_start_review: \"Selecione um aluno para efetuar a reviso.\",\n        no_messages_to_review: \"O aluno no possui mensagens para reviso.\"\n      };\n    }\n  }\n\n  startReview() {\n    this.getUsersInteractions()\n      .then(interaction_objects => {\n        this.getThreads()\n          .then(threads => this.mountThreadsAndPosts(threads, true, true))\n          .then(threads => {\n            this.setState({\n              is_review_modal_open: true,\n              is_loading_review_modal: false,\n              interaction_objects\n            })\n          });\n      });\n  }\n\n  getUsersInteractions() {\n    const {\n      content,\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({\n          // TODO: Mudar para content.id\n          context_uid: activity_uid,\n          activity_uid,\n          last_occurrence: true\n        }, custom_options\n      );\n  }\n\n  renderLearningPlayerContext() {\n    const {\n      content: {\n        topic_button_color,\n      }\n    } = this.props;\n\n    const {\n      forum_messages = null,\n      current_page,\n      total_pages,\n      is_loading_more,\n      is_loading_review_modal,\n      user,\n    } = this.state;\n\n    if (forum_messages === null) return <LearningPlayerContextLoading/>\n\n    return (<>\n      {forum_messages.length === 0 && (<div className=\"element-forum-1-no-message\">\n        <span className=\"element-forum-1-no-message-icon\"/>\n        <span className=\"element-forum-1-no-message-message\">\n          No h nenhum tpico nesse frum.\n        </span>\n        {this.isUserAllowedToCreateTopic() && (\n          <button\n            type=\"button\"\n            className=\"element-forum-1-no-message-new-topic-btn\"\n            onClick={this.toggleVisibilityOfNewTopicModal}\n            style={{backgroundColor: topic_button_color}}\n          >\n            Responder\n          </button>\n        )}\n      </div>)}\n\n      {forum_messages.length > 0 && (<div className=\"element-forum-content\">\n        <div className=\"element-forum-1-content-header\">\n          {\n            isAdminReviewer(user.roles) && (\n              <OutlinedButton\n                tabIndex={1}\n                type=\"button\"\n                onClick={() => {\n                  this.setState({\n                    is_loading_review_modal: true,\n                    thread_page_size: 50000,\n                    posts_page_size: 50000,\n                    all_forum_messages: [],\n                    current_page: 1,\n                  }, () => this.startReview())\n                }}\n                background={topic_button_color}\n                disabled={is_loading_review_modal}\n                isLoading={is_loading_review_modal}\n              >\n                {this.getLabels().review}...\n              </OutlinedButton>\n            )\n          }\n\n          {this.isUserAllowedToCreateTopic() && (\n            <button\n              type=\"button\"\n              className=\"element-forum-1-content-header-new-topic-btn\"\n              onClick={this.toggleVisibilityOfNewTopicModal}\n              style={{backgroundColor: topic_button_color}}\n            >\n              Responder\n            </button>\n          )}\n        </div>\n        <ul className=\"element-forum-content-messages\">\n          {forum_messages.map((message) => this.renderForumMessage(message, false))}\n        </ul>\n        {\n          (current_page < total_pages && !is_loading_more) && (\n            <PostLoading column={0} onScreen={() => {\n              this.setState({\n                current_page: current_page + 1,\n                is_loading_more: true,\n              }, () => {\n                this.getThreads()\n                  .then(this.mountThreadsAndPosts)\n                  .then(r => {\n                    this.setState({\n                      is_loading_more: false,\n                    })\n                  })\n              });\n            }}/>\n          )\n        }\n      </div>)}\n    </>)\n  }\n\n  renderContext() {\n    const {context} = this.state;\n\n    switch (context) {\n      case \"composer_player\":\n        return <ComposerPlayerContext/>\n      case \"learning_player\":\n        return this.renderLearningPlayerContext();\n      default:\n    }\n  }\n\n  renderModal() {\n    const {\n      content: {\n        cancel_button_background_color,\n        cancel_button_text_color,\n        confirm_button_background_color,\n        confirm_button_text_color,\n      },\n    } = this.props;\n    const {\n      is_showing_new_topic_modal,\n      is_loading_new_topic_modal_confirmation,\n      is_showing_reply_thread_modal,\n      is_loading_new_reply_thread_modal_confirmation,\n    } = this.state;\n\n    let props = {\n      open: true,\n      btnConfirmTextColor: confirm_button_text_color,\n      btnConfirmColor: confirm_button_background_color,\n      btnCancelTextColor: cancel_button_text_color,\n      btnCancelColor: cancel_button_background_color,\n    };\n\n    switch (true) {\n      case is_showing_new_topic_modal:\n        props = {\n          ...props, ...{\n            title: \"Responder\",\n            btnConfirmLabel: \"Responder\",\n            onConfirm: this.sendThread,\n            onCancel: this.toggleVisibilityOfNewTopicModal,\n            isLoading: is_loading_new_topic_modal_confirmation,\n          }\n        }\n        break;\n      case is_showing_reply_thread_modal:\n        props = {\n          ...props, ...{\n            title: \"Adicionar comentrio\",\n            btnConfirmLabel: \"Comentar\",\n            onConfirm: this.sendPost,\n            onCancel: this.toggleVisibilityOfReplyModal,\n            isLoading: is_loading_new_reply_thread_modal_confirmation,\n          }\n        }\n        break;\n      default:\n        props = {\n          ...props, ...{\n            open: false,\n          }\n        }\n        break;\n    }\n\n    return <Modal {...props} />\n  }\n\n  getNoteRange = () => {\n    const {\n      content: {\n        grade_type = \"numeral\",\n        grade_numeral = {\n          min: 0,\n          max: 10,\n          steps: 1,\n        },\n      }\n    } = this.state;\n    const {min = 0, max = 10, steps = 1} = grade_numeral;\n\n    switch (grade_type) {\n      case 'numeral':\n      default:\n        let values = [];\n\n        for (let i = min; i <= max; i += steps) {\n          values.push(i);\n        }\n\n        return values;\n    }\n  }\n\n  handleCloseReviewModal() {\n    this.setState({\n      is_review_modal_open: false,\n    })\n  }\n\n  reviewModalIterateRightList(message, index, selectedUser) {\n    let messageCopy = {...message};\n    let containsSelectedUser = false;\n\n    const {\n      children = null, author_uid,\n    } = messageCopy;\n\n    if (selectedUser !== null) {\n      if (children && children.length > 0) {\n        const selectedUserReplies = children.filter(child => child.author_uid === selectedUser.uid);\n        containsSelectedUser = selectedUserReplies.length > 0;\n\n        messageCopy.children = selectedUserReplies;\n      }\n\n      if (containsSelectedUser === false && author_uid === selectedUser.uid) {\n        containsSelectedUser = true;\n      }\n    }\n\n    if (containsSelectedUser) {\n      return (\n        <MessagesContainer role=\"listitem\">\n          {this.renderForumMessage(messageCopy, true, selectedUser)}\n        </MessagesContainer>\n      )\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      content: {\n        topic_button_color,\n        background_color,\n        padding_top,\n        padding_bottom,\n        cancel_button_background_color,\n        cancel_button_text_color,\n        confirm_button_background_color,\n        confirm_button_text_color,\n      },\n      className\n    } = this.props;\n\n    const {\n      is_showing_alert_dialog,\n      user: {\n        roles = []\n      },\n      is_review_modal_open,\n      interaction_objects,\n      custom_options,\n      all_forum_messages = [],\n    } = this.state;\n\n    const forumStyle = {\n      backgroundColor: background_color, paddingTop: padding_top + \"px\", paddingBottom: padding_bottom + \"px\"\n    }\n\n    return (<div ref={this.elementRef} id={this.props.content.id} className={className} style={forumStyle}>\n      {this.renderContext()}\n      {this.renderModal()}\n      <AlertDialog\n        open={is_showing_alert_dialog}\n        onCancel={this.closeAlertDialog}\n        onConfirm={this.handleConfirmAlertDialog}\n        btnConfirmTextColor={confirm_button_text_color}\n        btnConfirmColor={confirm_button_background_color}\n        btnCancelTextColor={cancel_button_text_color}\n        btnCancelColor={cancel_button_background_color}\n      />\n      {\n        (isAdminReviewer(roles) && is_review_modal_open) && (\n          <ReviewModal\n            open={is_review_modal_open}\n            data={all_forum_messages}\n            iterateRightList={this.reviewModalIterateRightList}\n            customOptions={custom_options}\n            users={interaction_objects}\n            btnConfirmTextColor={confirm_button_text_color}\n            primaryColor={topic_button_color}\n            noteRange={this.getNoteRange()}\n            onCancel={this.handleCloseReviewModal}\n            onConfirm={this.handleCloseReviewModal}\n            labels={this.getLabels()}\n          />\n        )\n      }\n    </div>)\n  }\n}","import React, { Component } from 'react';\nimport './element-divider-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDivider1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_color,\n      height: content.height\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-1\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-1-content\">\n        <div className=\"element-divider-1-line\" style={lineStyle}></div>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport './element-divider-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDivider4 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_color,\n      height: content.height\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-4\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-4-content\">\n        <div className=\"element-divider-4-line\" style={lineStyle}></div>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport './element-divider-numbered.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementDividerNumbered extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"divider-numbered\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var dividerContainerStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    var lineStyle = {\n      backgroundColor: content.divider_primary_color\n    }\n\n    var circleStyle = {\n      backgroundColor: content.divider_primary_color,\n      color: content.divider_secondary_color\n    }\n\n    return (<div ref={this.elementRef} className=\"element-divider-numbered\" style={dividerContainerStyle}>\n      {headerActionsTemplate}\n      <div className=\"element-divider-numbered-content\">\n        <div className=\"element-divider-numbered-line\" style={lineStyle}></div>\n        <span className=\"element-divider-numbered-circle\" style={circleStyle}>{this.props.objectIndex + 1}</span>\n      </div>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementHotspots1 = styled.div`\n  padding-top: ${props => props.paddingTop || \"30\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"30\"}px;\n  overflow: hidden;\n  position: relative;\n  background-color: ${props => props.backgroundColor || \"transparent\"};\n`;\n\nexport const Container = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nexport const Stage = styled.figure`\n  height: auto;\n  max-width: 760px;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n`;\n\nexport const Img = styled.img`\n  width: ${props => props.width ? `${props.width}px` : \"100%\"};\n  height: auto;\n  max-width: 760px;\n  display: block;\n  cursor: ${props => props.showCursor ? \"crosshair\" : \"default\"};\n  margin-left: auto;\n  margin-right: auto;\n`;","import styled, {css} from 'styled-components';\n\nexport const Spot = styled.button`\n  border-radius: 100%;\n  position: absolute;\n  top: calc(${props => `${props.posY}%`} - 21px);\n  left: calc(${props => `${props.posX}%`} - 21px);\n  background: white;\n  border: 2px solid transparent;\n  box-shadow: 1px 1px 1px 1px rgba(204, 204, 204, 0.47);\n  margin: 4px;\n  cursor: pointer;\n  outline: 8px solid rgba(255, 255, 255, 0.56) !important;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 38px;\n  height: 38px;\n  animation: pulse 3s ease-in-out infinite;\n  color: ${props => props.color || \"#2d7b45\"};\n  transition: opacity 0.3s ease-in-out, transform 0.5s ease-in-out;\n\n  @media only screen and (max-width: 700px) {\n    transform: scale(0.7);\n  }\n\n  @media only screen and (max-width: 600px) {\n    transform: scale(0.6);\n  }\n\n  @media only screen and (max-width: 400px) {\n    transform: scale(0.4);\n  }\n\n  @media only screen and (max-width: 300px) {\n    transform: scale(0.3);\n  }\n\n  &:hover {\n    border: 2px solid ${props => props.color || \"#2d7b45\"};\n  }\n\n  @keyframes pulse {\n    0% {\n      outline-offset: 4px;\n    }\n    50% {\n      outline-offset: 16px;\n    }\n    100% {\n      outline-offset: 4px;\n    }\n  }\n\n  &:before {\n    transition: opacity 0.3s ease-in-out;\n    opacity: 0;\n    content: '';\n  }\n\n  &:focus, &.expanded {\n    background: ${props => props.color || \"#2d7b45\"};\n    color: white;\n    animation: none;\n    outline: none !important;\n    border-color: white;\n\n    &:hover {\n      border: 2px solid #bbb;\n    }\n\n    .hotspot-remove-btn, .hotspot-cancel-btn {\n      opacity: 1;\n      top: -30px;\n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ${props => !props.flipped && css`\n        left: -30px;\n      `}\n      ${props => props.flipped && css`\n        right: -30px;\n        left: auto;\n      `}\n    }\n\n    .hotspot-move-btn, .hotspot-confirm-btn {\n      opacity: 1;\n      top: 30px;\n      \n      pointer-events: auto;\n      height: 28px;\n      width: 28px;\n      ${props => !props.flipped && css`\n        left: -30px;\n      `}\n      ${props => props.flipped && css`\n        right: -30px;\n        left: auto;\n      `}\n    }\n  }\n\n  ${props => props.isMoving && css`\n    &:focus, &.expanded {\n      opacity: 0.8;\n    }\n  `}\n\n  ${props => !props.isMoving && css`\n    &:focus, &.expanded {\n      &::before {\n        content: \"\";\n        position: absolute;\n        top: 7px;\n        left: ${props => props.flipped ? \"-20px\" : \"40px\"};\n        width: 0;\n        height: 0;\n        border-top: 10px solid transparent;\n        border-bottom: 10px solid transparent;\n        border-right: 10px solid white;\n        z-index: 2;\n        opacity: 1;\n        ${props => props.flipped && css`\n          transform: rotate(180deg);\n        `}\n      }\n\n      @media only screen and (max-width: 700px) {\n        &::before {\n          left: ${props => props.flipped ? \"-36px\" : \"55px\"};\n        }\n      }\n\n      @media only screen and (max-width: 600px) {\n        &::before {\n          left: ${props => props.flipped ? \"-45px\" : \"63px\"};\n        }\n      }\n      \n      .hotspot-tooltip {\n        opacity: 1;\n        height: auto;\n      }\n    }\n  `}\n`;\n\nexport const Tooltip = styled.div`\n  pointer-events: inherit;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  transition: opacity 0.3s ease-in-out;\n  width: auto;\n  height: 0;\n  background: white;\n  top: calc(${props => `${props.posY}%`} - 40px);\n  ${props => props.flippedY && css`\n    top: calc(${props => `${props.posY}%`} - 140px);\n  `}\n  left: calc(${props => `${props.posX}%`} + 35px);\n  ${props => props.flippedX && css`\n    left: calc(${props => `${props.posX}%`} - 335px);\n  `}\n  bottom: 0;\n  min-height: 100px;\n  max-width: 300px;\n  max-height: 400px;\n  overflow: hidden;\n  border-radius: 8px;\n  box-shadow: 14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  ${props => props.flippedX && css`\n    box-shadow: -14px 3px 14px 1px rgba(0, 0, 0, 0.47);\n  `}\n  color: black;\n  z-index: 1;\n  padding: 20px;\n  cursor: initial;\n  \n  ${props => props.expanded === \"true\" && css`\n    opacity: 1;\n    height: auto;\n    overflow: auto;\n    display: initial;\n\n    @media only screen and (max-width: 468px) {\n      top: 0;\n      left: 0;\n      position: fixed;\n      z-index: 9999;\n      right: 0;\n      width: 100%;\n      bottom: 0;\n      height: 100%;\n      max-height: 100%;\n      border-radius: 0;\n      max-width: 100%;\n    }\n  `}\n`;\n\nexport const TooltipHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 30px;\n  \n  p {\n    font-weight: bold;\n  }\n`;\n\nexport const NavigationButton = styled.span`\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: none;\n  padding: 2px;\n  margin: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: none;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ${props => props.color || \"#2d7b45\"};\n  }\n`;\n\nexport const CloseButton = styled.span`\n  display: none;\n  cursor: pointer;\n  pointer-events: auto;\n  background: transparent;\n  font-weight: bold;\n  border-radius: 4px;\n  border: 0;\n  padding: 2px;\n\n  @media only screen and (max-width: 468px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n  }\n\n  &:hover {\n    background: rgba(187, 187, 187, 0.1);\n    color: ${props => props.color || \"#2d7b45\"};\n  }\n`;\n\nexport const TooltipImage = styled.img`\n  width: 100%;\n  height: auto;\n  margin: 10px 0;\n`;\n\nexport const TooltipAudio = styled.audio`\n  width: 100%;\n  margin: 10px 0;\n`;\n\nexport const TooltipDescription = styled.div`\n  margin-top: 10px;\n  text-align: justify;\n`;\n\nexport const RemoveButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n`;\n\nexport const CancelButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  pointer-events: none;\n`;\n\nexport const ConfirmButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n`;\n\nexport const MoveButton = styled.div`\n  position: absolute;\n  cursor: grab;\n  top: 0;\n  left: 0;\n  background: #5d5d5d;\n  border: none;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  color: white;\n  opacity: 0;\n  transition: all 0.3s ease-in-out;\n  transition-delay: 0.1s;\n  pointer-events: none;\n  \n  &:active {\n    cursor: grabbing;\n  }\n`;","import React from \"react\";\n\nconst markers = {\n  \"01\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" />\n    </svg>\n  ),\n  \"02\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n    </svg>\n  ),\n  \"03\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M 11,4L 13,4L 13,15L 11,15L 11,4 Z M 13,18L 13,20L 11,20L 11,18L 13,18 Z\" />\n    </svg>\n  ),\n  \"04\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M10,19H13V22H10V19M12,2C17.35,2.22 19.68,7.62 16.5,11.67C15.67,12.67 14.33,13.33 13.67,14.17C13,15 13,16 13,17H10C10,15.33 10,13.92 10.67,12.92C11.33,11.92 12.67,11.33 13.5,10.67C15.92,8.43 15.32,5.26 12,5A3,3 0 0,0 9,8H6A6,6 0 0,1 12,2Z\" />\n    </svg>\n  ),\n  \"05\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" />\n    </svg>\n  ),\n  \"06\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n    </svg>\n  ),\n  \"07\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\" />\n    </svg>\n  ),\n  \"08\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z\" />\n    </svg>\n  ),\n  \"09\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n    </svg>\n  ),\n  \"10\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n    </svg>\n  ),\n  \"11\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\" />\n    </svg>\n  ),\n  \"12\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\" />\n    </svg>\n  ),\n  \"13\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n    </svg>\n  ),\n  \"14\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\" />\n    </svg>\n  ),\n  \"15\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\" />\n    </svg>\n  ),\n  \"16\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" style={{transform: \"rotate(45deg)\"}}>\n      <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n    </svg>\n  ),\n  \"17\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M10,7V9H12V17H14V7H10Z\" />\n    </svg>\n  ),\n  \"18\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V9H13V11H11A2,2 0 0,0 9,13V17H11L15,17V15H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9Z\" />\n    </svg>\n  ),\n  \"19\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H9V9H13V11H11V13H13V15H9V17H13A2,2 0 0,0 15,15\" />\n    </svg>\n  ),\n  \"20\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V13H13V17H15V7H13V11H11V7H9Z\" />\n    </svg>\n  ),\n  \"21\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M9,7V13H13V15H9V17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H9Z\" />\n    </svg>\n  ),\n  \"22\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H11M11,13H13V15H11V13Z\" />\n    </svg>\n  ),\n  \"23\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,17L15,9V7H9V9H13L9,17\" />\n    </svg>\n  ),\n  \"24\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,13H13V15H11M11,9H13V11H11M11,17H13A2,2 0 0,0 15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H11A2,2 0 0,0 9,9V10.5A1.5,1.5 0 0,0 10.5,12A1.5,1.5 0 0,0 9,13.5V15C9,16.11 9.9,17 11,17\" />\n    </svg>\n  ),\n  \"25\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M13,17A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11A2,2 0 0,0 9,9V11A2,2 0 0,0 11,13H13V15H9V17H13M13,11H11V9H13V11Z\" />\n    </svg>\n  ),\n  \"26\": props => (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11M11,9H13V15H11V9Z\" />\n    </svg>\n  ),\n}\n\nexport default markers;\n","import React from \"react\";\nimport * as S from \"./spot.styled\";\nimport markers from \"./markers\";\n\nfunction Spot(props) {\n  const {\n    id,\n    icon = \"01\",\n    title = \"\",\n    description = \"\",\n    image,\n    audio,\n    className,\n    posX,\n    posY,\n    editable,\n    onClickRemove,\n    onGrab,\n    onMove,\n    onRelease,\n    onNext,\n    onPrev,\n    onFocus,\n    onBlur,\n    color,\n  } = props;\n  const containerRef = React.useRef(null);\n  const tooltipRef = React.useRef(null);\n  const [expanded, setExpanded] = React.useState(\"false\");\n  const [isMoving, setIsMoving] = React.useState(false);\n  const [isTryingToDelete, setIsTryingToDelete] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (containerRef && !containerRef.current.contains(e.target)) {\n        setExpanded(\"false\");\n        if (isTryingToDelete) {\n          setIsTryingToDelete(false);\n        }\n\n        if (typeof onBlur === \"function\") {\n          onBlur(e);\n        }\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleRemoveClick = e => {\n    if (typeof onClickRemove === \"function\") {\n      onClickRemove(id);\n    }\n  }\n\n  const closeDragElement = () => {\n    document.removeEventListener(\"mouseup\", closeDragElement);\n    document.removeEventListener(\"mousemove\", elementDrag);\n    setIsMoving(false);\n\n    if (typeof onRelease === \"function\") {\n      onRelease(id);\n    }\n  }\n\n  const elementDrag = (e) => {\n    e = e || window.event;\n    e.preventDefault();\n    // Posio do boto de mover relativo ao spot\n    const relativePostOfMovingButton = 30;\n    const x = e.clientX + (posX > 60 ? (relativePostOfMovingButton - (relativePostOfMovingButton * 2)) : relativePostOfMovingButton)\n    const y = e.clientY - relativePostOfMovingButton;\n\n    if (typeof onMove === \"function\" && x && y) {\n      onMove(e, {\n        id, x, y\n      });\n    }\n  }\n\n  const handleMouseDown = e => {\n    e = e || window.event;\n    e.preventDefault();\n\n    if (!isMoving) {\n      document.addEventListener(\"mouseup\", closeDragElement);\n      document.addEventListener(\"mousemove\", elementDrag);\n    }\n\n    if (typeof onGrab === \"function\") {\n      setIsMoving(true);\n      onGrab(id);\n    }\n  }\n\n  const handleMouseUp = e => {\n    if (typeof onRelease === \"function\") {\n      setIsMoving(false);\n      onRelease(id);\n    }\n  }\n\n  const handleCancelClick = e => {\n    if (isTryingToDelete) {\n      setIsTryingToDelete(false);\n    }\n  }\n\n  const handleConfirmClick = e => {\n    if (isTryingToDelete) {\n      handleRemoveClick(e);\n    }\n  }\n\n  const handleFocus = e => {\n    setExpanded(\"true\");\n\n    if (typeof onFocus === \"function\") {\n      onFocus(e);\n    }\n  }\n\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      handleConfirmClick(e);\n    }\n    if (e.key === \"Escape\") {\n      handleCancelClick(e);\n    }\n    if (e.key === \"ArrowRight\" && typeof onNext === \"function\") {\n      handleNextClick(e);\n    }\n    if (e.key === \"ArrowLeft\" && typeof onPrev === \"function\") {\n      handlePrevClick(e);\n    }\n  }\n\n  const handleNextClick = e => {\n    e.stopPropagation();\n    setExpanded(\"false\");\n    if (typeof onNext === \"function\") {\n      onNext(e, id);\n    }\n  }\n\n  const handlePrevClick = e => {\n    e.stopPropagation();\n    setExpanded(\"false\");\n    if (typeof onPrev === \"function\") {\n      onPrev(e, id);\n    }\n  }\n\n  const handleClose = e => {\n    e.stopPropagation();\n    setExpanded(\"false\")\n  }\n\n  return (\n    <div\n      role=\"button\"\n      ref={containerRef}\n      onClick={e => e.stopPropagation()}\n      onFocus={handleFocus}\n      onKeyDown={handleKeyDown}\n      style={{pointerEvents: \"auto\"}}\n    >\n      <S.Spot\n        id={id}\n        aria-expanded={expanded}\n        className={[expanded === \"true\" ? \"expanded\" : \"\", posX > 60 ? \"flipped\" : \"\"].concat(className).join(\" \")}\n        posX={posX}\n        posY={posY}\n        flipped={posX > 60}\n        isMoving={isMoving}\n        color={color}\n      >\n        {markers[icon]()}\n        {\n          editable && (\n            <>\n              <S.RemoveButton\n                className=\"hotspot-remove-btn\"\n                role=\"button\"\n                type=\"button\"\n                onClick={e => setIsTryingToDelete(true)}\n                tooltip=\"Remove\"\n              >\n                <svg\n                  version=\"1.1\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 768 768\"\n                >\n                  <title>remove</title>\n                  <g id=\"icomoon-ignore\">\n                  </g>\n                  <path fill=\"currentColor\"\n                        d=\"M607.5 127.5v64.5h-447v-64.5h111l33-31.5h159l33 31.5h111zM192 607.5v-384h384v384c0 34.5-30 64.5-64.5 64.5h-255c-34.5 0-64.5-30-64.5-64.5z\"></path>\n                </svg>\n              </S.RemoveButton>\n\n              <S.MoveButton\n                className=\"hotspot-move-btn\"\n                role=\"button\"\n                type=\"button\"\n                onMouseDown={handleMouseDown}\n                onMouseUp={handleMouseUp}\n                tooltip=\"Move\"\n              >\n                <svg\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path fill=\"currentColor\"\n                        d=\"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z\"/>\n                </svg>\n              </S.MoveButton>\n\n              {\n                isTryingToDelete && (\n                  <>\n                    <S.CancelButton\n                      className=\"hotspot-cancel-btn\"\n                      role=\"button\"\n                      type=\"button\"\n                      onClick={handleCancelClick}\n                      tooltip=\"Cancel\"\n                    >\n                      <svg\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path fill=\"currentColor\"\n                              d=\"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\"/>\n                      </svg>\n                    </S.CancelButton>\n\n                    <S.ConfirmButton\n                      className=\"hotspot-confirm-btn\"\n                      role=\"button\"\n                      type=\"button\"\n                      onClick={handleConfirmClick}\n                      tooltip=\"Confirm\"\n                    >\n                      <svg\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/>\n                      </svg>\n                    </S.ConfirmButton>\n                  </>\n                )\n              }\n            </>\n          )\n        }\n      </S.Spot>\n\n      {\n        !isMoving && (\n          <S.Tooltip\n            ref={tooltipRef}\n            className=\"hotspot-tooltip\"\n            posX={posX}\n            posY={posY}\n            flippedX={posX > 60}\n            flippedY={posY > 70}\n            expanded={expanded}\n            onClick={e => e.stopPropagation()}\n          >\n            <S.TooltipHeader>\n              <p>{title}</p>\n\n              <div>\n                <S.NavigationButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handlePrevClick}\n                  color={color}\n                >\n                  &larr;\n                </S.NavigationButton>\n\n                <S.NavigationButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handleNextClick}\n                  color={color}\n                >\n                  &rarr;\n                </S.NavigationButton>\n\n                <S.CloseButton\n                  tabIndex=\"0\"\n                  role=\"button\"\n                  type=\"button\"\n                  onClick={handleClose}\n                  color={color}\n                >\n                  <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n                  </svg>\n                </S.CloseButton>\n              </div>\n            </S.TooltipHeader>\n\n            {\n              image && (\n                <S.TooltipImage\n                  src={image}\n                />\n              )\n            }\n\n            {\n              audio && (\n                <S.TooltipAudio\n                  src={audio}\n                  controls\n                />\n              )\n            }\n\n            <S.TooltipDescription\n              dangerouslySetInnerHTML={{__html: description}}\n            />\n          </S.Tooltip>\n        )\n      }\n    </div>\n  );\n}\n\nexport default Spot;","import React, {Component} from \"react\";\nimport * as S from \"./element-hotspots-1.styled\";\nimport Spot from \"../../fragments/element-spot/spot\";\nimport uuidv1 from \"uuid/v1\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementHotspots1 extends Component {\n  stageRef = React.createRef();\n  timeoutMoveSpot = null;\n  state = {\n    editable: false,\n    movingSpotId: null,\n    disableAddSpot: false,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.movingSpotId !== null) {\n      this.moveSpot(this.state.movingSpotId);\n    }\n    this.trackElementView();\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutMoveSpot);\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.stageRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"hotspots-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"url\": content.image,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  createSpot = () => {\n    return ({\n      id: uuidv1(),\n      x: \"0\",\n      y: \"0\",\n      icon: \"01\",\n      title: \"Lorem ipsum dolor sit amet\",\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n      hasMedia: false,\n      isActive: false,\n      image: null,\n      audio: null,\n    })\n  }\n\n  getCoordinatesInPorcentage = (event) => {\n    const rect = event.target.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    const width = event.target.clientWidth;\n    const height = event.target.clientHeight;\n\n    const posX = ((x * 100) / width).toString();\n    const posY = ((y * 100) / height).toString();\n\n    return {\n      x: posX,\n      y: posY\n    }\n  }\n\n  addSpot = e => {\n    if (this.state.disableAddSpot) {\n      this.setState({\n        disableAddSpot: false,\n      })\n      return;\n    }\n\n    if (this.state.movingSpotId !== null) {\n      this.setState({\n        movingSpotId: null,\n      })\n      return;\n    }\n\n    if (this.state.editable) {\n      let {content} = this.props;\n      const {spots = []} = content;\n      const coord = this.getCoordinatesInPorcentage(e);\n\n      let newSpot = this.createSpot();\n      newSpot.x = coord.x;\n      newSpot.y = coord.y;\n\n      content.spots = [...spots, newSpot];\n\n      this.props.onChange(content);\n    }\n  }\n\n  moveSpot = (e, info = {}) => {\n    if (this.timeoutMoveSpot) {\n      clearTimeout(this.timeoutMoveSpot);\n    }\n\n    this.timeoutMoveSpot = setTimeout(() => {\n      if (this.state.movingSpotId !== null) {\n        const {id, x, y} = info;\n        const {content} = this.props;\n        const {spots = []} = content;\n\n        let spot = spots.find(spot => spot.id === id);\n\n        if (spot) {\n          const rect = this.stageRef.current.getBoundingClientRect();\n          const parentX = rect.left;\n          const parentY = rect.top;\n\n          const width = this.stageRef.current.clientWidth;\n          const height = this.stageRef.current.clientHeight;\n\n          const posX = (((x - parentX) * 100) / width).toFixed(2);\n          const posY = (((y - parentY) * 100) / height).toFixed(2);\n\n          if (posX >= 0 && posX <= 100) spot.x = posX;\n          if (posY >= 0 && posY <= 100) spot.y = posY;\n\n          const originalSpot = spots.find(spot => spot.id === this.state.movingSpotId);\n          const originalSpotIndex = spots.indexOf(originalSpot);\n          spots[originalSpotIndex] = spot;\n          content.spots = [...spots];\n\n          this.props.onChange(content);\n        }\n\n        clearTimeout(this.timeoutMoveSpot);\n      }\n    }, 5);\n  }\n\n  handleRemoveSpot = (id) => {\n    let {content} = this.props;\n    const {spots = []} = content;\n\n    content.spots = spots.filter(spot => spot.id !== id);\n\n    this.props.onChange(content);\n  }\n\n  handleStartMoveSpot = (id) => {\n    const {\n      movingSpotId\n    } = this.state;\n\n    if (movingSpotId === null || movingSpotId !== id) {\n      this.setState({\n        movingSpotId: id\n      });\n    }\n  }\n\n  handleStopMoveSpot = (id) => {\n    this.setState({\n      disableAddSpot: true,\n    });\n  }\n\n  handleNextSpotFocus = (e, id) => {\n    const {content} = this.props;\n    const {spots = []} = content;\n\n    const currentSpot = spots.find(spot => spot.id === id);\n    const currentSpotIndex = spots.indexOf(currentSpot);\n    const nextSpot = spots[currentSpotIndex + 1] || spots[0];\n\n    if (nextSpot) {\n      const spotElement = document.getElementById(nextSpot.id);\n      spotElement.focus();\n    }\n  }\n\n  handlePrevSpotFocus = (e, id) => {\n    const {content} = this.props;\n    const {spots = []} = content;\n\n    const currentSpot = spots.find(spot => spot.id === id);\n    const currentSpotIndex = spots.indexOf(currentSpot);\n    const prevSpot = spots[currentSpotIndex - 1] || spots[spots.length - 1];\n\n    if (prevSpot) {\n      const spotElement = document.getElementById(prevSpot.id);\n      spotElement.focus();\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      className,\n      content\n    } = this.props;\n    const {\n      image,\n      spots = [],\n      spot_color,\n      background_color,\n      padding_top,\n      padding_bottom,\n      image_alt,\n      width,\n    } = content;\n    const {\n      disableAddSpot,\n      editable,\n    } = this.state;\n\n    return (\n      <S.ElementHotspots1\n        className={className}\n        marginTop={\"\"}\n        marginBottom={\"\"}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Container>\n          <S.Stage\n            ref={this.stageRef}\n            onClick={this.addSpot}\n          >\n            <S.Img\n              src={image}\n              alt={image_alt}\n              showCursor={!disableAddSpot && editable}\n              width={width}\n            />\n\n            <ol>\n              {spots.map((spot) => (\n                <li key={spot.id}>\n                  <Spot\n                    editable={editable}\n                    id={spot.id}\n                    posY={spot.y}\n                    posX={spot.x}\n                    image={spot.image}\n                    audio={spot.audio}\n                    title={spot.title}\n                    description={spot.description}\n                    icon={spot.icon}\n                    onClickRemove={this.handleRemoveSpot}\n                    onGrab={this.handleStartMoveSpot}\n                    onMove={this.moveSpot}\n                    onRelease={this.handleStopMoveSpot}\n                    onNext={this.handleNextSpotFocus}\n                    onPrev={this.handlePrevSpotFocus}\n                    onFocus={e => this.setState({disableAddSpot: true})}\n                    color={spot_color}\n                  />\n                </li>\n              ))}\n            </ol>\n          </S.Stage>\n        </S.Container>\n\n        {footerActionsTemplate}\n      </S.ElementHotspots1>\n    );\n  }\n}\n\nexport default ElementHotspots1;","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-1 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-1-container\" style={{borderColor: content.border_color}}>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-2.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement2 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-2 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-2-container\">\n        <div className=\"rdp-element-statement-2-container-border\" style={{backgroundColor: content.border_color}}></div>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-3.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement3 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-3\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-3 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-3-container\" style={{borderColor: content.border_color}}>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-statement-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementStatement4 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"statement-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-statement-4 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-statement-4-container\">\n        <div className=\"rdp-element-statement-4-container-border\" style={{backgroundColor: content.border_color}}></div>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport 'animate.css/animate.min.css';\nimport './element-note-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementNote1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"note-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n\n    var textStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    };\n\n    return <div ref={this.elementRef} className={`rdp-element-note-1 ${this.getFont(content.font_family) || \"\"}`} style={textStyle}>\n      <div className=\"rdp-element-note-1-container\" style={{backgroundColor: content.secondary_color, borderColor: content.primary_color}}>\n        <span className=\"rdp-element-note-1-container-icon\">\n          {content.icon === \"info\" &&\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n              <path fill={content.primary_color} d=\"M224 152c0-13.2 10.8-24 24-24h16c13.2 0 24 10.8 24 24v16c0 13.2-10.8 24-24 24h-16c-13.2 0-24-10.8-24-24v-16z\"></path>\n              <path fill={content.primary_color} d=\"M320 384h-128v-32h32v-96h-32v-32h96v128h32z\"></path>\n              <path fill={content.primary_color} d=\"M256 0c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256-114.615-256-256-256zM256 464c-114.875 0-208-93.125-208-208s93.125-208 208-208 208 93.125 208 208-93.125 208-208 208z\"></path>\n            </svg>\n          }\n        </span>\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}></div>\n      </div>\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-1.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-1-text-container\">\n      <div className=\"rdp-element-quote-1-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-1-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-1-author-info\">\n      <div className=\"rdp-element-quote-1-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-1 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-1-container\" style={{borderColor: content.primary_color}}>\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-2.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote1 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-2\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-2-text-container\">\n      <div className=\"rdp-element-quote-2-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-2-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-2-author-info\">\n      <div className=\"rdp-element-quote-2-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-2 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-2-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-3.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote3 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-3\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-3-text-container\">\n      <span className=\"rdp-element-quote-3-text-container-icon\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"416\" height=\"448\" viewBox=\"0 0 416 448\">\n          <path fill={content.primary_color} d=\"M192 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48zM416 240v96c0 26.5-21.5 48-48 48h-96c-26.5 0-48-21.5-48-48v-176c0-70.5 57.5-128 128-128h16c8.75 0 16 7.25 16 16v32c0 8.75-7.25 16-16 16h-16c-35.25 0-64 28.75-64 64v8c0 13.25 10.75 24 24 24h56c26.5 0 48 21.5 48 48z\"></path>\n        </svg>\n      </span>\n      <div className=\"rdp-element-quote-3-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n      {this.renderAuthorInfo()}\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-3-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-3-author-info\">\n      <div className=\"rdp-element-quote-3-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-3 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-3-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-4.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote4 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-4\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-4-text-container\">\n      <div className=\"rdp-element-quote-4-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n      {this.renderAuthorInfo()}\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-4-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f1\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c281ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#1c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-4-author-info\">\n      <div className=\"rdp-element-quote-4-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-4 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundColor: content.background_color }}>\n      {headerActionsTemplate}\n      <div className=\"rdp-element-quote-4-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n      </div>\n      {footerActionsTemplate}\n    </div>;\n  }\n}\n","import React, { Component } from 'react';\nimport './element-quote-5.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class ElementQuote5 extends Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"avatar_size\": \"width\",\n      \"visible\": false\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n    this.handleChangeAuthorName = this.handleChangeAuthorName.bind(this);\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-5\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  handleChange(content) {\n    this.props.onChange(content);\n  }\n\n  handleAvatarChange(img) {\n    this.setState({\n      \"avatar_size\": img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  handleChangeText(text) {\n    var content = this.props.content;\n    content.text = text;\n    this.props.onChange(content);\n  }\n\n  renderText() {\n    let { content } = this.props;\n\n    return <div className=\"rdp-element-quote-5-text-container\">\n      <span className=\"rdp-element-quote-5-text-container-icon\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n          <path fill={content.primary_color} d=\"M112.5 224c61.856 0 112 50.145 112 112s-50.144 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.817 5.818-11.126 12.008-15.915 18.51 5.719-0.9 11.58-1.373 17.552-1.373zM400.5 224c61.855 0 112 50.145 112 112s-50.145 112-112 112-112-50.144-112-112l-0.5-16c0-123.712 100.288-224 224-224v64c-42.737 0-82.917 16.643-113.137 46.863-5.818 5.818-11.127 12.008-15.916 18.51 5.72-0.9 11.58-1.373 17.553-1.373z\"></path>\n        </svg>\n      </span>\n      <div className=\"rdp-element-quote-5-text\">\n        <div className=\"editor\" dangerouslySetInnerHTML={{__html: content.text}}/>\n      </div>\n    </div>;\n  }\n\n  renderAvatar() {\n    let { content } = this.props;\n\n    if (content.avatar !== null) {\n      var avatarSize = this.state.avatar_size;\n      return <div className=\"rdp-element-quote-5-avatar\">\n        <img\n          style={avatarSize === \"width\" ? { width: \"102%\" } : { height: \"102%\" }}\n          src={this.getAvatarUrl(content.avatar)}\n          onLoad={this.handleAvatarChange.bind(this)}\n        />\n      </div>;\n    } else {\n      return null;\n    }\n  }\n\n  getAvatarUrl(image) {\n    return image;\n  }\n\n  handleChangeAuthorName(name) {\n    var content = this.props.content;\n    content.author_name = name;\n    this.props.onChange(content);\n  }\n\n  renderAuthorInfo() {\n    let { content } = this.props;\n\n    var modules = {\n      toolbar: [\n        ['bold', 'italic', 'underline','strike'], [{'color': [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\", 'custom-color']}]\n      ],\n    };\n    var formats = ['bold', 'italic', 'underline', 'strike', 'color'];\n    \n    return <div className=\"rdp-element-quote-5-author-info\">\n      <div className=\"rdp-element-quote-5-author-name\">\n        <div className=\"editor\"\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          dangerouslySetInnerHTML={{__html: content.author_name}}\n        />\n      </div>\n    </div>\n  }\n\n  getBackgroundUrl(image) {\n    return image;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    let { content } = this.props;\n    \n    return <div ref={this.elementRef} className={`rdp-element-quote-5 ${this.getFont(content.font_family) || \"\"}`} style={{ backgroundImage: `url(${this.getBackgroundUrl(content.background_image)})` }}>\n      <div className=\"rdp-element-quote-5-container\">\n        {this.renderAvatar()}\n        {this.renderText()}\n        {this.renderAuthorInfo()}\n      </div>\n    </div>;\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Root = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Carousel = styled.div`\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Slides = styled.ul`\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n`;\n\nexport const Slide = styled.li`\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Quote = styled.div`\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  padding: 50px 0;\n  text-align: center;\n  border-top: 1px solid #e9eaeb;\n  border-bottom: 1px solid #e9eaeb;\n  margin: 30px auto;\n  \n  &.mobile,\n  &.tablet {\n    padding: 30px;\n  }\n`;\n\nexport const Avatar = styled.div`\n  width: 70px;\n  height: 70px;\n  border-radius: 500px;\n  overflow: hidden;\n  display: block;\n  margin: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n  margin-bottom: 30px;\n`;\n\nexport const AvatarImage = styled.img`\n  margin-left: 50%;\n  margin-top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n`;\n\nexport const AuthorInfo = styled.div`\n  display: block;\n  margin-top: 10px;\n`;\n\nexport const AuthorName = styled.div`\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nexport const TextContainer = styled.div`\n  position: relative;\n`;\n\nexport const Text = styled.div`\n  color: #fff;\n  margin-top: 30px;\n  width: 100%;\n  display: block;\n  line-height: 5px;\n\n  .editor {\n    padding: 0;\n    line-height: inherit;\n    overflow: hidden;\n  }\n\n  .editor p:before,\n  .editor p:after {\n    content: '\"';\n    color: #313537;\n    font-size: 16px;\n  }\n\n  .editor * {\n    line-height: 10px;\n    padding-bottom: 10px;\n  }\n`;\n\nexport const Controls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n\n  @media (max-width: 800px) {\n    display: none;\n  }\n`;\n\nexport const ControlsLeft = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const ControlsLeftArrow = styled.svg``;\n\nexport const Pages = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n\n  @media (max-width: 600px) {\n    display: none;\n  }\n`;\n\nexport const Page = styled.div`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ${props => props.primaryColor || \"#2d7b45\"};\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n`;\n\nexport const ControlsRight = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 100px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const ControlsRightArrow = styled.svg``;","import React, { Component } from 'react';\nimport * as S from './element-quote-6.styled';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementQuote6 extends Component {\n  elementRef = React.createRef();\n  state = {\n    avatar_size: \"width\",\n    visibleSlideIndex: 0,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  componentDidMount() {\n    const { items } = this.props.content;\n    if (items.length > 0) {\n      this.setActivePageMarker(items[0].id);\n    }\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"quote-6\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  handleAvatarChange = (img) => {\n    this.setState({\n      avatar_size: img.target.width >= img.target.height ? \"height\" : \"width\"\n    });\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  renderText = (text) => {\n    return (\n      <S.TextContainer>\n        <S.Text>\n          <div className=\"editor\" dangerouslySetInnerHTML={{__html: text}}/>\n        </S.Text>\n      </S.TextContainer>\n    );\n  }\n\n  renderAvatar = (avatar) => {\n    if (avatar !== null) {\n      const { avatar_size } = this.state;\n\n      return (\n        <S.Avatar>\n          <S.AvatarImage\n            style={{ [avatar_size]: \"102%\" }}\n            src={this.getAssetUrl(avatar)}\n            onLoad={this.handleAvatarChange}\n            alt=\"avatar\"\n          />\n        </S.Avatar>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderAuthorInfo = (author_name) => {\n    return (\n      <S.AuthorInfo>\n        <S.AuthorName\n          style={{fontFamily: \"Merriweather-Regular\"}}\n          value={author_name}\n        />\n      </S.AuthorInfo>\n    )\n  }\n\n  handlePageChange = (page) => (event) => {\n    const { content } = this.props;\n    const { items } = content;\n\n    event.preventDefault();\n    const slideElement = document.getElementById(page);\n\n    let visibleSlideId = page.split(\"slide-\")[1];\n    let visibleItem = items.find(item => item.id === visibleSlideId);\n    let visibleSlideIndex = items.indexOf(visibleItem);\n    this.setState({visibleSlideIndex}, () => {\n      slideElement.scrollIntoView();\n      slideElement.focus();\n    });\n  }\n\n  handlePrevClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex > 0) {\n      const prevIndex = visibleSlideIndex - 1;\n      let prevItem = this.props.content.items[prevIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: prevIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  handleNextClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex < this.props.content.items.length - 1) {\n      const nextIndex = visibleSlideIndex + 1;\n      let prevItem = this.props.content.items[nextIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: nextIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  isInViewport = (event, target) => {\n    const element = target || event.target;\n    const rect = element.getBoundingClientRect();\n    const isVisivle = rect.top >= 0 && rect.bottom <= window.innerHeight;\n\n    if (isVisivle) {\n     this.setActivePageMarker(element.id.split(\"slide-\")[1]);\n     this.trackElementClick(element.id.split(\"slide-\")[1]);\n    }\n\n    return isVisivle;\n  }\n\n  trackElementClick = (itemId) => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"quote-6\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  setActivePageMarker = (slideId) => {\n    const pageMarker = document.getElementById(this.getSlidePageId(slideId));\n    if (pageMarker) {\n      this.resetActivePageMarkers();\n      pageMarker.classList.add(\"active\");\n    }\n  }\n\n  resetActivePageMarkers = () => {\n    const { items } = this.props.content;\n\n    items.forEach(item => {\n      const pageMarker = document.getElementById(this.getSlidePageId(item.id));\n      if (pageMarker) {\n        pageMarker.classList.remove(\"active\")\n      }\n    });\n  }\n\n  getSlideId = id => `slide-${id}`;\n\n  getSlidePageId = id => `page-${id}`;\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.Root\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Carousel\n          className=\"element-quote-6-carrousel\"\n        >\n          <S.Slides\n            className=\"element-quote-6-slides\"\n          >\n            {\n              items.map((item) =>\n                (\n                 <S.Slide\n                   className=\"element-quote-6-slide\"\n                   key={item.id}\n                   tabIndex=\"1\"\n                   id={this.getSlideId(item.id)}\n                   onFocus={this.isInViewport}\n                 >\n                   <S.Quote\n                     style={{borderColor: primary_color}}\n                   >\n                     {this.renderAvatar(item.avatar)}\n                     {this.renderText(item.text)}\n                     {this.renderAuthorInfo(item.author_name)}\n                   </S.Quote>\n                 </S.Slide>\n                )\n              )}\n          </S.Slides>\n        </S.Carousel>\n\n        <S.Controls\n          className=\"element-quote-6-controls\"\n        >\n          <S.ControlsLeft\n            onClick={this.handlePrevClick}\n          >\n            <S.ControlsLeftArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </S.ControlsLeftArrow>\n          </S.ControlsLeft>\n\n          <S.Pages role=\"list\">\n            {\n              items.map((item, index) =>\n                (\n                  <S.Page\n                    id={this.getSlidePageId(item.id)}\n                    key={item.id}\n                    role=\"listitem\"\n                    onClick={this.handlePageChange(this.getSlideId(item.id))}\n                    primaryColor={primary_color}\n                  >\n                    {index+1}\n                  </S.Page>\n                )\n              )}\n          </S.Pages>\n\n          <S.ControlsRight\n            onClick={this.handleNextClick}\n          >\n            <S.ControlsRightArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </S.ControlsRightArrow>\n          </S.ControlsRight>\n        </S.Controls>\n\n        {footerActionsTemplate}\n      </S.Root>\n    );\n  }\n}\n\nexport default ElementQuote6;\n","import styled, {css} from \"styled-components\";\n\nexport const ElementSortedActivity1 = styled.div`\n  padding-top: ${props => props.paddingTop || \"30\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"30\"}px;\n  overflow: hidden;\n  position: relative;\n  background-color: ${props => props.backgroundColor || \"transparent\"};\n`;\n\nexport const Container = styled.div`\n  max-width: 750px;\n  margin: 0 auto;\n`;\n\nexport const ItemCardList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  height: 200px;\n`;\n\nexport const ItemCard = styled.li`\n  position: absolute;\n  padding: 20px;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  background-color: ${props => props.backgroundColor || \"#FFFFFF\"};\n  border: 1px solid #ededed;\n  color: ${props => props.fontColor || \"#000\"};\n  width: 300px;\n  height: 200px;\n  border-top: 3px solid ${props => props.borderColor || \"#00643e\"};\n  cursor: ${props => props.cursorStyle || \"grab\"};\n  pointer-events: ${props => props.draggable !== \"false\" ? \"all\" : \"none\"}!important;\n  box-shadow: 0 2px 5px rgb(0 0 0 / 10%);\n  \n  p {\n    max-height: 130px;\n    overflow: hidden;\n  }\n\n  &[draggable=true]:after {\n    content: \"\";\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    bottom: 12px;\n    left: calc(50% - 12px);\n    background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTMsMTVWMTNINVYxNUgzTTMsMTFWOUg1VjExSDNNNywxNVYxM0g5VjE1SDdNNywxMVY5SDlWMTFIN00xMSwxNVYxM0gxM1YxNUgxMU0xMSwxMVY5SDEzVjExSDExTTE1LDE1VjEzSDE3VjE1SDE1TTE1LDExVjlIMTdWMTFIMTVNMTksMTVWMTNIMjFWMTVIMTlNMTksMTFWOUgyMVYxMUgxOVoiIC8+Cjwvc3ZnPg==\");\n  }\n  \n  ${props => props.isCorrect === false && css`\n    opacity: 0;\n    animation: shake 0.5s, disappear 0s;\n    animation-delay: 0s, 0.5s;\n  `}\n\n  ${props => props.isCorrect === true && css`\n    opacity: 0;\n    transform: scale(0.8);\n    animation: correct 1s, slide 0.5s;\n    animation-delay: 0s, 1s;\n    \n    &::after {\n      content: \"\";\n      width: 34px;\n      height: 34px;\n      position: absolute;\n      animation: grow 1s;\n      top: -12px;\n      left: -12px;\n      background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTAsMTdMNSwxMkw2LjQxLDEwLjU4TDEwLDE0LjE3TDE3LjU5LDYuNThMMTksOE0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMloiIC8+Cjwvc3ZnPg==\");\n    }\n  `}\n  \n  @keyframes grow {\n    0% {\n      width: 0;\n      height: 0;\n      top: 12px;\n      left: 12px;\n    }\n    100% {\n      width: 34px;\n      height: 34px;\n      top: -12px;\n      left: -12px;\n    }\n  };\n\n  @keyframes slide {\n    0% {\n      opacity: 1;\n      top: 0;\n    }\n    100% {\n      opacity: 0;\n      top: 200px;\n    }\n  };\n  \n  @keyframes correct {\n    0% {\n      opacity: 1;\n      transform: scale(1);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(0.8);\n    }\n  };\n  \n  @keyframes shake {\n    0% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    25% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    50% {\n      opacity: 1;\n      transform: translate(10px, 0);\n    }\n    75% {\n      opacity: 1;\n      transform: translate(-10px, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate(0, 0);\n    }\n  };\n\n  @keyframes disappear {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  };\n`;\n\nexport const DropPileList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  width: 100%;\n  position: relative;\n  min-height: 220px;\n  gap: 30px;\n  margin-top: 30px;\n`;\n\nexport const DropPileItemCardList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  width: 300px;\n  height: 200px;\n  pointer-events: none;\n  background: ${props => props.backgroundColor || \"#e1e1e1\"};\n  color: ${props => props.color || \"#000\"};\n  border: 1px dashed ${props => props.borderColor || \"#00643e\"};\n  box-shadow: inset 0 2px 5px rgb(0 0 0 / 60%);\n`;\n\nexport const DropPile = styled.li`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 320px;\n  height: 220px;\n  overflow: hidden;\n  padding: 20px;\n  \n  p {\n    margin: 10px;\n  }\n`;\n\nexport const ResultItem = styled.li`\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 300px;\n  height: 200px;\n`;\n\nexport const ResultPlacar = styled.p`\n  font-weight: bold;\n  font-size: 1.3em;\n`;\n\nexport const ReloadButton = styled.button`\n  border: none;\n  background: none;\n  height: auto;\n  width: 100px;\n  margin: 20px;\n  cursor: pointer;\n  pointer-events: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  justify-content: center;\n  align-items: center;\n  border-top: 1px solid #bbb;\n  padding-top: 20px;\n  text-transform: uppercase;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-sorted-activity-1.styled\";\n\nclass ItemCard extends Component {\n  state = {\n    isDragging: false,\n  }\n\n  handleDragStart = (e) => {\n    e.dataTransfer.setData(\"text\", e.target.id);\n\n    this.setState({\n      isDragging: true,\n    });\n  }\n\n  handleDrag = (e) => {}\n\n  handleDragEnd = (e) => {\n    this.setState({\n      isDragging: false,\n    });\n  }\n\n  getCursor = () => {\n    const {\n      draggable,\n    } = this.props;\n    const {\n      isDragging,\n    } = this.state;\n\n    if (isDragging) {\n      return \"grabbing\";\n    } else if (draggable) {\n      return \"grab\";\n    }\n\n    return \"default\"\n  }\n\n  render() {\n    const {\n      id,\n      title,\n      primaryColor,\n      backgroundColor,\n      draggable,\n      isCorrect,\n      color,\n    } = this.props;\n    const {\n      isDragging,\n    } = this.state;\n\n    return (\n      <S.ItemCard\n        id={id}\n        draggable={draggable ? \"true\" : \"false\"}\n        borderColor={primaryColor}\n        backgroundColor={backgroundColor}\n        fontColor={color}\n        cursorStyle={this.getCursor()}\n        isDragging={isDragging}\n        onDragStart={this.handleDragStart}\n        onDrag={this.handleDrag}\n        onDragEnd={this.handleDragEnd}\n        title={title}\n        isCorrect={isCorrect}\n      >\n        <p>\n          {title}\n        </p>\n      </S.ItemCard>\n    );\n  }\n}\n\nexport default ItemCard;","import React, {Component} from 'react';\nimport * as S from \"./element-sorted-activity-1.styled\";\nimport ItemCard from \"./item-card\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementSortedActivity1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    language: this.props.contentLanguage || \"pt_br\",\n    movedItems: [],\n    incorrectMovedItems: [],\n    pileItems: [],\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n\n    if (this.state.movedItems !== prevState.movedItems) {\n      const {\n        content\n      } = this.props;\n      const {\n        items,\n      } = content;\n\n      if (this.state.movedItems.length === items.length) {\n        this.trackElementFinish();\n      }\n    }\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"sorted-activity-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n            \"piles\": content.piles,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackElementFinish = () => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"sorted-activity-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"verb\": \"ended\",\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"items\": content.items,\n        \"piles\": content.piles,\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const language = this.state.language;\n    const labels = {\n      pt_br: {\n        remake: \"Refazer\",\n        moved_correctly: \"Movidos corretamente\",\n      },\n      en: {\n        remake: \"Remake\",\n        moved_correctly: \"Moved correctly\",\n      }\n    }\n\n    return labels[language] || labels.pt_br;\n  }\n\n  handleDrop = (e) => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n\n    e.preventDefault();\n\n    const pileElement = e.target;\n    const pileId = pileElement.id;\n\n    const data = e.dataTransfer.getData(\"text\");\n    let pileItems = [...this.state.pileItems];\n    const item = items.find(item => item.id === data);\n\n    if (!pileItems[pileId]) pileItems[pileId] = [];\n\n    pileItems[pileId].push(item);\n\n    let movedItems = [...this.state.movedItems];\n    let incorrectMovedItems = [...this.state.incorrectMovedItems];\n\n    if (pileId === item.pileId) {\n      movedItems = [...this.state.movedItems, data];\n    } else {\n      incorrectMovedItems = incorrectMovedItems.filter(id => id !== data);\n      incorrectMovedItems.push(data);\n    }\n\n    this.setState({\n      movedItems,\n      pileItems,\n      incorrectMovedItems,\n    }, () => {\n      if (pileId !== item.pileId) {\n        setTimeout(() => {\n          pileItems[pileId] = pileItems[pileId].filter(item => item.id !== data);\n          this.setState({\n            pileItems\n          });\n        }, 1000);\n      }\n    });\n  }\n\n  handleDragOver = (e) => {\n    e.preventDefault();\n  }\n\n  getNotMovedItems = () => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      movedItems,\n    } = this.state;\n\n    return items.filter(item => !movedItems.includes(item.id));\n  }\n\n  resetState = () => {\n    this.setState({\n      movedItems: [],\n      incorrectMovedItems: [],\n      pileItems: []\n    });\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      className,\n      content\n    } = this.props;\n    const {\n      items,\n      piles = [],\n      primary_color,\n      background_color,\n      pile_color,\n      pile_text_color,\n      item_color,\n      item_text_color,\n      padding_top,\n      padding_bottom,\n    } = content;\n    const {\n      pileItems,\n      movedItems,\n      incorrectMovedItems,\n    } = this.state;\n\n    return (\n      <S.ElementSortedActivity1\n        ref={this.elementRef}\n        className={className}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Container>\n          {\n            movedItems.length === items.length ? (\n              <S.ItemCardList>\n                <S.ResultItem>\n                  <S.ResultPlacar>\n                    {(items.length - incorrectMovedItems.length)}/{items.length} {this.getLabels().moved_correctly}\n                  </S.ResultPlacar>\n\n                  <S.ReloadButton\n                    onClick={this.resetState}\n                  >\n                    {this.getLabels().remake}\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                    >\n                      <path fill=\"currentColor\" d=\"M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z\" />\n                    </svg>\n                  </S.ReloadButton>\n                </S.ResultItem>\n              </S.ItemCardList>\n            ) : (\n              <S.ItemCardList>\n                {\n                  this.getNotMovedItems().map((item) => (\n                    <ItemCard\n                      draggable\n                      id={item.id}\n                      key={item.id}\n                      primaryColor={primary_color}\n                      backgroundColor={item_color}\n                      color={item_text_color}\n                      title={item.title}\n                    />\n                  ))\n                }\n              </S.ItemCardList>\n            )\n          }\n\n          <S.DropPileList>\n            {\n              piles.map((pile) => (\n                <S.DropPile\n                  id={pile.id}\n                  key={pile.id}\n                  onDrop={this.handleDrop}\n                  onDragOver={this.handleDragOver}\n                  primaryColor={primary_color}\n                  title={pile.title}\n                >\n                  <S.DropPileItemCardList\n                    backgroundColor={pile_color}\n                    color={pile_text_color}\n                    borderColor={primary_color}\n                  >\n                    <p>\n                      {pile.title}\n                    </p>\n                    {\n                      pileItems[pile.id] &&\n                      pileItems[pile.id].map((item) => (\n                        <ItemCard\n                          id={item.id}\n                          key={item.id}\n                          primaryColor={primary_color}\n                          backgroundColor={item_color}\n                          color={item_text_color}\n                          title={item.title}\n                          isCorrect={item.pileId === pile.id}\n                          draggable={false}\n                        />\n                      ))\n                    }\n                  </S.DropPileItemCardList>\n                </S.DropPile>\n              ))\n            }\n          </S.DropPileList>\n        </S.Container>\n\n        {footerActionsTemplate}\n      </S.ElementSortedActivity1>\n    );\n  }\n}\n\nexport default ElementSortedActivity1;","import styled from \"styled-components\";\n\nexport const ElementTimeline1 = styled.div`\n  width: 100%;\n  padding-top: ${props => props.paddingTop || 0}px;\n  padding-bottom: ${props => props.paddingBottom || 0}px;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n  padding-right: 10px;\n`;\n\nexport const TimelineList = styled.ul`\n  li {\n    margin-bottom: 50px;\n  }\n  \n  li:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport const TimelineItem = styled.li`\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-left: 5px solid ${props => props.primaryColor || \"#00643e\"};\n  border-radius: 8px;\n  position: relative;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    height: 50px;\n    width: 1px;\n    border-left: 1px solid ${props => props.primaryColor || \"grey\"};\n  }\n  \n  &:last-child:before {\n    border-left: none;\n  }\n`;\n\nexport const TimelineDate = styled.p`\n  color: ${props => props.primaryColor || \"#00643e\"};\n  font-weight: bold;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n`;\n\nexport const TimelineTitle = styled.p`\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n`;\n\nexport const TimelineDescription = styled.p`\n  font-size: 1.2rem;\n`;\n\nexport const TimelineImage = styled.img`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const TimelineAudio = styled.audio`\n  width: 100%;\n  margin: 20px 0;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-timeline-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementTimeline1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"timeline-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"items\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n    return \"\";\n  }\n\n  getAssetUrl(assetUrl) {\n    return assetUrl;\n  }\n\n  render() {\n    const {\n      className,\n      content,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      items = [],\n    } = content;\n\n    return (\n      <S.ElementTimeline1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont()}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.TimelineList>\n          {items.map((item) => (\n            <S.TimelineItem\n              key={item.id}\n              backgroundColor={background_color}\n              primaryColor={primary_color}\n            >\n              <S.TimelineDate\n                primaryColor={primary_color}\n              >\n                {item.date}\n              </S.TimelineDate>\n\n              <S.TimelineTitle\n                dangerouslySetInnerHTML={{__html: item.title}}\n              />\n\n              {item.audio && (\n                <S.TimelineAudio\n                  src={this.getAssetUrl(item.audio)}\n                  controls\n                />\n              )}\n\n              <S.TimelineDescription\n                dangerouslySetInnerHTML={{__html: item.description}}\n              />\n\n              {item.image && (\n                <S.TimelineImage\n                  src={this.getAssetUrl(item.image)}\n                />\n              )}\n            </S.TimelineItem>\n          ))}\n        </S.TimelineList>\n\n        {footerActionsTemplate}\n      </S.ElementTimeline1>\n    );\n  }\n}\n\nexport default ElementTimeline1;","import styled, {css} from \"styled-components\";\n\nexport const ElementSteps1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const CardList = styled.ul`\n  max-width: 1000px;\n  position: relative;\n  margin: auto;\n  display: inline-block;\n`;\n\nexport const NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  max-width: 1000px;\n  gap: 20px;\n`;\n\nconst Button = styled.button`\n  border: none;\n  cursor: pointer;\n  border-radius: 100%;\n  height: 50px;\n  width: 50px;\n  color: ${props => props.fontColor || \"white\"};\n  background: ${props => props.backgroundColor || \"#00643e\"};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n\n  &:active, &:disabled {\n    animation: none;\n  }\n\n  &:hover {\n    filter: brightness(1.3);\n  }\n\n  &:disabled {\n    cursor: default;\n    opacity: 0;\n  }\n\n  &:focus {\n    outline: 2px solid ${props => props.backgroundColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const ChangeCardButton = styled(Button)`\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n`;\n\nexport const Card = styled.div`\n  width: 100%;\n  max-width: 800px;\n  padding: 40px;\n  border: 1px solid #e6e6e6;\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  transition: all 0.2s ease-in-out;\n  opacity: 0;\n  position: absolute;\n\n  ${props => props.position === \"right\" && css`\n    margin-left: 100%;\n    position: absolute;\n    top: 0;\n    pointer-events: none;\n  `}\n\n  ${props => props.position === \"left\" && css`\n    margin-left: -100%;\n    position: absolute;\n    pointer-events: none;\n  `}\n\n  ${props => props.position === \"center\" && css`\n    opacity: 1;\n    transition: all 0.2s ease-in-out;\n    transition-delay: 0.3s;\n    position: relative;\n    border-left: 5px solid ${props => props.primaryColor || \"#00643e\"};\n  `}\n`;\n\nexport const CardTitle = styled.p`\n  font-weight: bold;\n  font-size: 1.3rem;\n  margin-bottom: 30px;\n  text-align: ${props => props.align};\n`;\n\nexport const CardDescription = styled.p`\n  font-size: 1.2rem;\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const CardAudio = styled.audio`\n  width: 100%;\n  margin: 20px 0;\n`;\n\nexport const StartButton = styled(Button)`\n  width: 300px;\n  border-radius: 8px;\n  margin: 20px auto;\n`;\n\nexport const RetryButton = styled(Button)`\n  margin: 20px auto;\n  border-radius: 0;\n  height: auto;\n  width: auto;\n  background-color: transparent;\n  color: ${props => props.fontColor || \"#00643e\"};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 10px;\n`;\n\nexport const ProgressList = styled.ul`\n  margin: 50px auto 0 auto;\n  text-align: center;\n`;\n\nexport const ProgressItem = styled.li`\n  display: inline-block;\n  padding: 5px;\n  margin: 2px;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  \n  ${props => props.active && css`\n    border: 2px solid ${props => props.primaryColor || \"#00643e\"};\n    border-radius: 100%;\n    color: ${props => props.primaryColor || \"#00643e\"};\n  `}\n`;\n\n\nexport const StepBadge = styled.span`\n  position: absolute;\n  left: calc(50% - 50px);\n  top: -25px;\n  width: 100px;\n  height: 50px;\n  background-color: ${props => props.primaryColor || \"#00643e\"};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-size: 1.2rem;\n  color: #fff;\n`;","import React, {Component} from 'react';\nimport * as S from \"./element-steps-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementSteps1 extends Component {\n  itemRef = React.createRef();\n  state = {\n    itemsStringfy: JSON.stringify(this.props.content.items),\n    visibleCardIndex: 0,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // Redefine o estado para evitar exibir um item que deixou de existir ou est oculto\n    if (JSON.stringify(nextProps.content.items) !== prevState.itemsStringfy) {\n      return {\n        itemsStringfy: JSON.stringify(nextProps.content.items),\n        visibleCardIndex: 0,\n      };\n    }\n    return null;\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.itemRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"steps-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackItemView = () => {\n    const {\n      content\n    } = this.props;\n    const {\n      items = []\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n    const filteredItems = items.filter(this.isVisibleItem);\n\n    const item = filteredItems[visibleCardIndex];\n\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"steps-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": item.id || null,\n        \"item_data\": item,\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getLabels = () => {\n    const {contentLanguage} = this.props;\n\n    const labels = {\n      \"pt_br\": {\n        \"retry\": \"Tentar novamente\",\n        \"start\": \"Iniciar\",\n        \"step\": \"Passo\",\n      },\n      \"en\": {\n        \"retry\": \"Start again\",\n        \"start\": \"Start\",\n        \"step\": \"Step\",\n      }\n    };\n\n    return labels[contentLanguage || \"pt_br\"];\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  handlePrevCard = () => {\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex > 0) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex - 1,\n      }, () => {\n        this.trackItemView();\n      });\n    }\n  }\n\n  handleNextCard = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    if (visibleCardIndex < items.length - 1) {\n      this.setState({\n        visibleCardIndex: visibleCardIndex + 1,\n      }, () => {\n        this.trackItemView();\n      });\n    }\n  }\n\n  handleResetCard = () => {\n    this.setState({\n      visibleCardIndex: 0,\n    }, () => {\n      this.trackItemView();\n    });\n  }\n\n  handleItemIndexChange = (index) => {\n    this.setState({\n      visibleCardIndex: index,\n    }, () => {\n      this.trackItemView();\n    });\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === \"ArrowLeft\") {\n      this.handlePrevCard();\n    } else if (e.key === \"ArrowRight\") {\n      this.handleNextCard();\n    }\n  }\n\n  getCurrentItemHeight = () => {\n    if (this.itemRef.current) {\n      return this.itemRef.current.offsetHeight;\n    }\n  }\n\n  isVisibleItem = (item) => {\n    return false === item.isHidden\n  }\n\n  getItemsLength = () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const hasIntro = items.find(item => false === item.isHidden && \"intro\" === item.type);\n    let count = items.filter(this.isVisibleItem).length;\n\n    if (hasIntro) {\n      return count - 1;\n    }\n\n    return count;\n  }\n\n  getItemIndex = (i) => {\n    const {\n      content,\n    } = this.props;\n    const {\n      items = [],\n    } = content;\n    const hasHiddenIntro = items.find(item => false === item.isHidden && \"intro\" === item.type);\n\n    if (hasHiddenIntro) {\n      return i + 1;\n    }\n    return i;\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      primary_color,\n      items = [],\n    } = content;\n    const {\n      visibleCardIndex,\n    } = this.state;\n\n    const filteredItems = items.filter(this.isVisibleItem);\n\n    return (\n      <S.ElementSteps1\n        ref={this.itemRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        onKeyDown={this.handleKeyDown}\n      >\n        {headerActionsTemplate}\n\n        <S.NavigationContainer>\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handlePrevCard}\n            backgroundColor={primary_color}\n            disabled={visibleCardIndex === 0}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"36\"\n              height=\"36\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"/>\n            </svg>\n          </S.ChangeCardButton>\n\n          <S.CardList\n            minHeight={this.getCurrentItemHeight() + 30}\n          >\n            {filteredItems.map((item, index) => (\n              <S.Card\n                key={item.id}\n                show={visibleCardIndex === index}\n                backgroundColor={background_color}\n                primaryColor={primary_color}\n                position={index === visibleCardIndex ? \"center\" : index < visibleCardIndex ? \"left\" : \"right\"}\n              >\n                {\n                  (\"intro\" !== item.type && \"summary\" !== item.type) && (\n                    <S.StepBadge\n                      primaryColor={primary_color}\n                    >\n                      {this.getLabels().step} {(items[0].type === \"intro\" && items[0].isHidden) ? index + 1 : index}\n                    </S.StepBadge>\n                  )\n                }\n\n                <S.CardTitle\n                  align={(\"intro\" === item.type  || \"summary\" === item.type) ? \"center\" : \"left\"}\n                  dangerouslySetInnerHTML={{__html: item.title}}\n                />\n\n                {item.image && (\n                  <S.CardImage\n                    src={this.getAssetUrl(item.image)}\n                  />\n                )}\n\n                {item.audio && (\n                  <S.CardAudio\n                    src={this.getAssetUrl(item.audio)}\n                    controls\n                  />\n                )}\n\n                <S.CardDescription\n                  dangerouslySetInnerHTML={{__html: item.description}}\n                />\n\n                {item.type === \"intro\" && (\n                  <S.StartButton\n                    tabIndex=\"1\"\n                    type=\"button\"\n                    onClick={this.handleNextCard}\n                    backgroundColor={primary_color}\n                  >\n                    {this.getLabels().start}\n                  </S.StartButton>\n                )}\n\n                {item.type === \"summary\" && (\n                  <S.RetryButton\n                    tabIndex=\"1\"\n                    type=\"button\"\n                    onClick={this.handleResetCard}\n                    fontColor={primary_color}\n                  >\n                    {this.getLabels().retry}\n                    <svg\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 768 768\"\n                    >\n                      <path fill=\"currentColor\" d=\"M625.504 469.344c-23.552 66.656-71.84 117.44-131.008 145.696s-128.992 33.952-195.648 10.4-117.44-71.84-145.696-131.008-33.952-128.992-10.4-195.648 71.84-117.44 131.008-145.696 128.992-33.952 195.648-10.4c38.016 13.44 70.688 34.816 95.584 60.224l90.368 85.088h-111.36c-17.664 0-32 14.336-32 32s14.336 32 32 32h191.904c0.128 0 0.288 0 0.416 0 4.384-0.032 8.544-0.96 12.352-2.624 3.808-1.632 7.328-4.032 10.368-7.2 0.384-0.384 0.736-0.8 1.088-1.216 2.432-2.784 4.288-5.888 5.6-9.184 1.312-3.264 2.080-6.816 2.208-10.496 0.064-0.448 0.064-0.896 0.064-1.344v-191.936c0-17.664-14.336-32-32-32s-32 14.336-32 32v117.92l-93.312-87.84c-31.776-32.384-72.768-59.072-119.936-75.712-83.328-29.472-170.752-22.336-244.608 12.96s-134.304 98.816-163.744 182.144-22.272 170.72 12.992 244.576 98.816 134.304 182.144 163.744 170.72 22.304 244.576-12.992 134.304-98.816 163.744-182.144c5.888-16.672-2.848-34.944-19.52-40.832s-34.944 2.848-40.832 19.52z\"></path>\n                    </svg>\n                  </S.RetryButton>\n                )}\n\n                {item.type !== \"intro\" && (\n                  <S.ProgressList>\n                    {\n                      Array.from({ length: this.getItemsLength() }, (_, i) => (\n                        <S.ProgressItem\n                          key={i}\n                          tabIndex=\"1\"\n                          role=\"button\"\n                          onClick={() => this.handleItemIndexChange(this.getItemIndex(i))}\n                          active={visibleCardIndex === this.getItemIndex(i)}\n                          primaryColor={primary_color}\n                        >\n                          {items[i+1].type === \"summary\" ? (\n                            <svg\n                              xmlns=\"http://www.w3.org/2000/svg\"\n                              viewBox=\"0 0 24 24\"\n                              width=\"16\"\n                              height=\"16\"\n                            >\n                              <path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" />\n                            </svg>\n                          ) : i + 1}\n                        </S.ProgressItem>\n                      ))\n                    }\n                  </S.ProgressList>\n                )}\n              </S.Card>\n            ))}\n          </S.CardList>\n\n          <S.ChangeCardButton\n            tabIndex=\"1\"\n            type=\"button\"\n            onClick={this.handleNextCard}\n            backgroundColor={primary_color}\n            disabled={visibleCardIndex === filteredItems.length - 1}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"36\"\n              height=\"36\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"/>\n            </svg>\n          </S.ChangeCardButton>\n        </S.NavigationContainer>\n\n        {footerActionsTemplate}\n      </S.ElementSteps1>\n    )\n  }\n}\n\nexport default ElementSteps1;\n","import styled from \"styled-components\";\n\nexport const ElementQuizContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 30px;\n  overflow: hidden;\n  position: relative;\n`;","import React, {Component} from 'react';\nimport Navigation from \"../../fragments/element-navigation/navigation\";\nimport classNameFn from \"../../utils/classNameFn\";\nimport QuizCard from \"../../fragments/element-quiz-card/quiz-card\";\nimport ElementQuizQuestion from \"../../fragments/element-quiz-question/element-quiz-question\";\nimport QuizFinishResult from \"../../fragments/element-quiz-finish-result/quiz-finish-result\";\nimport questionIsCorrect from \"../../utils/questionIsCorrect\";\nimport * as S from \"./element-quiz-3.styled\";\nimport jwtDecode from \"jwt-decode\";\nimport API from \"../../services\";\nimport {VisibleElement} from \"../../utils/visible-element\";\nimport {StringFormat} from \"../../utils/string-format\";\nimport userCanRemakeQuiz from \"../../utils/userCanRemakeQuiz\";\n\nexport default class ElementQuiz3 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    contentBkp: this.props.content,\n    activeChoices: [],\n    answeredQuestionsIds: [],\n    currentQuestionIndex: 0,\n    showResult: false,\n    protocol: null,\n    custom_options: window.cstmptns || {},\n    attempsMade: 0,\n    user: {\n      roles: [],\n    },\n    interaction_objects: [],\n  }\n\n  componentDidMount() {\n    const {content, defaultData} = this.props;\n\n    if (\n      defaultData &&\n      defaultData.elements &&\n      defaultData.elements[content.id]\n    ) {\n      this.getSignedUserFromJwt()\n        .then(this.loadContentFromDefaultData);\n    }\n\n    this.getSignedUserFromJwt()\n      .then(this.loadContentFromServer);\n\n    this.sortQuestions();\n  }\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevProps.defaultData !== this.props.defaultData) {\n      this.loadContentFromDefaultData();\n    }\n    this.trackElementView();\n  }\n\n  sortQuestions(isRemake = false) {\n    const contentCopy = { ...this.props.content };\n    var splitQuestions = contentCopy.number_of_questions_to_display !== undefined && contentCopy.number_of_questions_to_display > 0;\n    var randomizeOnRemake = contentCopy.random_on_remake !== undefined && contentCopy.random_on_remake.enabled === true;\n    var sortQuestions = contentCopy.random_question_order !== undefined && contentCopy.random_question_order.enabled === true;\n\n    if ((randomizeOnRemake && isRemake) || !isRemake) {\n      const backup = this.props.content.questions;\n      var newQuestions = this.props.content.questions;\n\n      if (sortQuestions) {\n        newQuestions.sort((a, b) => {\n          return Math.floor(Math.random() * (1 - -1)) + -1;\n        });\n      }\n\n      if (splitQuestions) {\n        newQuestions = newQuestions.slice(0, contentCopy.number_of_questions_to_display);\n      }\n\n      contentCopy.questions = newQuestions;\n\n      this.props.content.questions = backup;\n      this.setState({\n        content: contentCopy\n      })\n    }\n\n    return contentCopy;\n  }\n\n  getSignedUserFromJwt = async () => {\n    if (!this.state.custom_options) return;\n    const {custom_options: {access_token}} = this.state;\n\n    return new Promise((resolve, reject) => {\n      let user = jwtDecode(access_token);\n\n      if (user) {\n        let roles = [];\n        if (user.role && Array.isArray(user.role)) {\n          roles = user.role.map(role => role.toString().toLowerCase())\n        } else if (user.role && typeof user.role === \"string\") {\n          roles.push(user.role.toString().toLowerCase())\n        }\n        user = {...user, roles, uid: user.oid || \"\"};\n        this.setState({\n          user\n        }, () => {\n          resolve(user);\n        });\n      } else {\n        reject(\"Error jwt decode\");\n      }\n    });\n  }\n\n  loadContentFromServer = () => {\n    this.recoverObjects()\n      .then(this.updateQuestionsBasedOnObjects);\n  }\n\n  loadContentFromDefaultData = (defaultData) => {\n    try {\n      const {content} = this.props;\n\n      if (defaultData && defaultData.elements) {\n        let cloneContent = content;\n        let loadActiveChoices;\n\n        loadActiveChoices = defaultData.elements[content.id].answers\n          ? defaultData.elements[content.id].answers\n          : [];\n\n        this.setState({\n          content: cloneContent,\n          activeChoices: loadActiveChoices,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  recoverObjects = async () => {\n    const {\n      content,\n    } = this.props;\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      activity_uid\n    } = custom_options;\n\n    if (custom_options === undefined) return;\n\n    const { interaction_uid } = custom_options;\n\n    return await new Promise(async (resolve, reject) => {\n      if (content) {\n        const objects = await API.cms.learning.interaction\n          .uid(interaction_uid)\n          .recoverObject({\n            context_uid: activity_uid,\n          }, custom_options);\n\n        if (objects && objects.length > 0) {\n          resolve(objects);\n        }\n      }\n\n      reject();\n    })\n  }\n\n  updateQuestionsBasedOnObjects = async (objects = []) => {\n    if (objects.length > 0) {\n      const {\n        content,\n      } = this.state;\n      const {\n        questions = []\n      } = content;\n      let attempsMade = 0;\n      let answeredQuestionsIds = [];\n\n      content.questions.forEach((question) => {\n        let lastObjectDate = null;\n        const objectTries = objects.filter((object) => {\n          return object.target_uid === question.id;\n        }).map(object => {\n\n          if (lastObjectDate === null) {\n            lastObjectDate = object.created_at;\n          } else {\n            if (object.created_at > lastObjectDate) {\n              lastObjectDate = object.created_at;\n            }\n          }\n\n          return object;\n        });\n\n        attempsMade = objectTries.length;\n\n        const object = objectTries.find((obj) => {\n          return obj.created_at >= lastObjectDate;\n        });\n\n        if (object) {\n          answeredQuestionsIds.push(question.id);\n          const answer = object.object_data;\n\n          if (answer && answer.data) {\n            this.updateActiveChoicesBasedOnAnswer(question, answer.data);\n          }\n        }\n      });\n\n      let currentQuestionIndex = answeredQuestionsIds.length - 1;\n      this.setState({\n        attempsMade,\n        currentQuestionIndex: currentQuestionIndex >= 0 ? currentQuestionIndex : 0,\n        answered_qtd: answeredQuestionsIds.length,\n        answeredQuestionsIds,\n      }, () => {\n        if (answeredQuestionsIds.length === questions.length) {\n          this.showResult();\n        }\n      });\n    }\n\n    return objects;\n  }\n\n  updateActiveChoicesBasedOnAnswer = (question, answer) => {\n    let activeChoices = {...this.state.activeChoices};\n\n    activeChoices[question.id] = answer.text;\n\n    this.setState({\n      activeChoices,\n    });\n  }\n\n  getUsersInteractions = () => {\n    const {\n      custom_options,\n    } = this.state;\n    const {\n      register_uid,\n      activity_uid,\n    } = custom_options;\n\n    return API.cms\n      .learning\n      .register.uid(register_uid)\n      .interaction\n      .recoverObjects({context_uid: activity_uid, activity_uid, last_occurrence: true}, custom_options);\n  }\n\n  //region Trackers\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: \"quiz-fill-the-blank\",\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n        this.trackQuestionView();\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  trackQuestionView = () => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"view\",\n      element: \"quiz-fill-the-blank\",\n      verb: \"viewed\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerClick = (choice) => {\n    var content = this.props.content;\n    var currentQuestion = content.questions[this.state.currentQuestionIndex];\n    var obj = {\n      action: \"click\",\n      verb: \"focused\",\n      element: \"quiz-mixed-question-answer\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: currentQuestion.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(currentQuestion.question),\n          answer: choice,\n        },\n      },\n    };\n\n    if (currentQuestion.type === \"quiz-1\" || currentQuestion.type === \"quiz-2\") {\n      obj.metadata.question.answer = {\n        id: choice.id,\n        title: StringFormat.HtmlToText(choice.text),\n      };\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  trackAnswerConfirmClick = (questionId, questions) => {\n    var content = this.props.content;\n    const {activeChoices, currentQuestionIndex} = this.state;\n\n    let question = questions[currentQuestionIndex] || null;\n    let questionIndex = currentQuestionIndex || -1;\n\n    if (question !== null) {\n      let selectedChoice;\n      let correctAnswer = null;\n      let answer;\n\n      selectedChoice = question.choices.find((choice) => this.sameTextChoice(choice, question));\n      correctAnswer = questionIsCorrect(question, activeChoices);\n\n\n      if (selectedChoice) {\n        answer = {\n          id: selectedChoice.id,\n          title: selectedChoice.text,\n        };\n      }\n\n\n      const obj = {\n        action: \"click\",\n        element: \"quiz-fill-the-blank-question-confirm-answer\",\n        verb: \"answered\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          total_questions: questions.length,\n          current_question: questionIndex,\n          question: {\n            id: question.id,\n            position: this.state.currentQuestionIndex + 1,\n            title: StringFormat.HtmlToText(question.question),\n            answer,\n            answers: question.choices ? question.choices : null\n          },\n        },\n      };\n\n      this.props.onTrackEvent(obj);\n      this.trackQuestionFeedback(correctAnswer, answer, question);\n    }\n  }\n\n  trackQuestionFeedback = (correctAnswer, answer, question) => {\n    if (question.no_feedback === false) {\n      var content = this.props.content;\n      var obj = {\n        action: \"view\",\n        element: \"quiz-fill-the-blank-question-feedback\",\n        timestamp: Math.floor(Date.now() / 1000),\n        metadata: {\n          composition_uid: window.structure.metadata.content_uid,\n          element_id: content.id,\n          element_title: content.content_title,\n          question: {\n            id: question.id,\n            position: this.state.currentQuestionIndex + 1,\n            title: question.question,\n            answer,\n          },\n        },\n      };\n      this.props.onTrackEvent(obj);\n    }\n  }\n\n  trackNavigation = (direction) => {\n    var content = this.props.content;\n    var element =\n      direction === \"next\"\n        ? \"quiz-fill-the-blank-question-navigation-next\"\n        : \"quiz-fill-the-blank-question-navigation-previous\";\n    var source =\n      direction === \"next\"\n        ? this.state.currentQuestionIndex - 1\n        : this.state.currentQuestionIndex + 1;\n    var source_question = this.props.content.questions[source];\n    var question = this.props.content.questions[this.state.currentQuestionIndex];\n\n    var obj = {\n      action: \"click\",\n      element: element,\n      timestamp: Math.floor(Date.now() / 1000),\n      verb: direction === \"next\" ? \"advanced\" : \"retreated\",\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        question: {\n          id: question.id,\n          position: this.state.currentQuestionIndex + 1,\n          title: StringFormat.HtmlToText(question.question),\n        },\n        source_question: {\n          id: source_question.id,\n          position:\n            (direction === \"next\"\n              ? this.state.currentQuestionIndex - 1\n              : this.state.currentQuestionIndex + 1) + 1,\n          title: StringFormat.HtmlToText(source_question.question),\n        },\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackQuizFinishView = (resume) => {\n    var content = this.props.content;\n    var obj = {\n      action: \"view\",\n      element: \"quiz-fill-the-blankfeedback\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n        resume,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n\n  trackRemakeQuiz = () => {\n    var content = this.props.content;\n    var obj = {\n      action: \"click\",\n      element: \"quiz-fill-the-blank-remake\",\n      timestamp: Math.floor(Date.now() / 1000),\n      metadata: {\n        composition_uid: window.structure.metadata.content_uid,\n        element_id: content.id,\n        element_title: content.content_title,\n      },\n    };\n    this.props.onTrackEvent(obj);\n  }\n  //endregion Trackers\n\n  getLabels = () => {\n    const {\n      content: {\n        questions = []\n      }\n    } = this.state;\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n\n    const labels = {\n      en: {\n        confirm: \"Confirm\",\n        question: \"Question\",\n        back: \"Back\",\n        retry: \"Try again\",\n        previous: \"Previous\",\n        next: \"Next\",\n        finish: questions.length > 1 ? \"Send answers\" : \"Send answer\",\n        incorrect: \"Incorrect\",\n        right: \"Right!\",\n        finish_quiz_message: \"You have completed this quiz.\",\n        edit: \"Edit\",\n        answer_saved: \"Answer saved!\",\n      },\n      pt_br: {\n        confirm: \"Confirmar\",\n        question: \"Questo\",\n        retry: \"Refazer atividade\",\n        previous: \"Anterior\",\n        next: \"Prximo\",\n        finish: questions.length > 1 ? \"Enviar respostas\" : \"Enviar resposta\",\n        incorrect: \"Incorreto\",\n        right: \"Correto!\",\n        finish_quiz_message: \"Voc finalizou este questionrio.\",\n        edit: \"Editar resposta\",\n        answer_saved: \"Resposta salva!\",\n      }\n    }\n\n    return labels[contentLanguage] || labels[\"en\"];\n  }\n\n  isFinishButtonVisible = () => {\n    const {currentQuestionIndex, content} = this.state;\n    const {questions} = content;\n    let current = currentQuestionIndex + 1;\n    let questions_count = questions.length;\n\n    return current === questions_count;\n  }\n\n  isFinishButtonDisabled = () => {\n    const {content, answeredQuestionsIds} = this.state;\n    const {questions} = content;\n    let answeredQuestions = questions.filter(q => answeredQuestionsIds.includes(q.id));\n\n    return questions.length !== answeredQuestions.length;\n  }\n\n  updateContentAndNotifyChange = (content) => {\n    this.setState({\n      content\n    }, () => {\n      this.props.onChange(this.state.content)\n    });\n  }\n\n  setAnswer = (questionId, choice) => {\n    let {activeChoices} = this.state;\n\n    this.setState({activeChoices: {...activeChoices, [questionId]: choice}});\n\n    this.trackAnswerClick(choice);\n  }\n\n  setAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds, content: {\n      questions\n    }} = this.state;\n    this.setState({\n      answeredQuestionsIds: [...answeredQuestionsIds, questionId]\n    }, () => {\n      this.trackAnswerConfirmClick(questionId, questions)\n    })\n  }\n\n  deleteAnswerConfirmation = (questionId) => {\n    const {answeredQuestionsIds} = this.state;\n    this.setState({\n      answeredQuestionsIds: answeredQuestionsIds.filter(id => id !== questionId)\n    })\n  }\n\n  getContentOnlyWithQuestion = (question) => {\n    const {\n      content,\n    } = this.state;\n\n    let contentCopy = {...content};\n    contentCopy.questions = [question];\n\n    return contentCopy;\n  }\n\n  goToPreviusQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex - 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"prev\");\n    });\n  }\n\n  goToNextQuestion = () => {\n    const {currentQuestionIndex} = this.state;\n    this.setState({\n      currentQuestionIndex: currentQuestionIndex + 1\n    }, () => {\n      this.trackQuestionView();\n      this.trackNavigation(\"next\");\n    });\n  }\n\n  renderContentFor = (currentQuestionIndex) => {\n    const {\n      editable,\n      contentLanguage,\n      headerActionsTemplate,\n      footerActionsTemplate,\n    } = this.props;\n    const {\n      content,\n      showResult,\n      activeChoices,\n      answeredQuestionsIds,\n      grades,\n      attempsMade,\n    } = this.state;\n    const {\n      questions,\n      primary_color\n    } = content;\n\n    if (showResult) {\n      return (\n        <QuizFinishResult\n          grades={grades}\n          labels={this.getLabels()}\n          canRemake={userCanRemakeQuiz(content, attempsMade)}\n          onClickRemake={this.handleRemakeQuiz}\n          content={content}\n          contentLanguage={contentLanguage}\n        />\n      )\n    } else if (questions) {\n      let question = questions[currentQuestionIndex];\n      question.type = \"quiz-3\";\n\n      return (\n        <>\n          <ElementQuizQuestion\n            data={question}\n            answered={answeredQuestionsIds.includes(question.id)}\n            labels={this.getLabels()}\n            editable={editable}\n            content={this.getContentOnlyWithQuestion(question)}\n            questionNumber={currentQuestionIndex}\n            questionTotal={questions.length}\n            contentLanguage={contentLanguage}\n            headerActionsTemplate={headerActionsTemplate}\n            footerActionsTemplate={footerActionsTemplate}\n            activeChoices={activeChoices}\n            onAnswering={this.setAnswer}\n            onConfirmAnswer={this.setAnswerConfirmation}\n            onResetAnswer={this.deleteAnswerConfirmation}\n            onUpdateContent={this.updateContentAndNotifyChange}\n          />\n          <Navigation\n            showFinishButton={this.isFinishButtonVisible()}\n            disableFinishButton={this.isFinishButtonDisabled()}\n            currentProgress={currentQuestionIndex + 1}\n            totalProgress={questions.length}\n            primaryColor={primary_color}\n            labels={this.getLabels()}\n            activeChoices={activeChoices}\n            onClickPrevius={this.goToPreviusQuestion}\n            onClickNext={this.goToNextQuestion}\n            onClickFinish={this.onFinishClick}\n          />\n        </>\n      )\n    }\n\n    return null;\n  }\n\n  sameTextChoice = (choice, question) => {\n    const {\n      activeChoices,\n    } = this.state;\n\n    return String(choice.text).toLowerCase() === String(activeChoices[question.id]).toLowerCase()\n  }\n\n  createInteractionObject = async (question) => {\n    const {\n      content,\n      custom_options,\n      activeChoices,\n    } = this.state;\n\n    let object_data = question.choices.find(c => this.sameTextChoice(c, question));\n\n    if (object_data === undefined) {\n      object_data = {\n        text: activeChoices[question.id] || \"\",\n        id: null,\n      }\n    }\n\n    if (custom_options) {\n      const {\n        interaction_uid,\n        activity_uid\n      } = custom_options;\n\n      return API.cms.learning.interaction\n        .uid(interaction_uid)\n        .createObject({\n          context_uid: activity_uid,\n          type: content.type,\n          target_uid: question.id,\n          object_data,\n        }, custom_options);\n    }\n  }\n\n  onFinishClick = async () => {\n    const {content} = this.state;\n    const {questions} = content;\n\n    const promises = questions.map(async question => await this.createInteractionObject(question));\n\n    await Promise.all(promises)\n\n    this.showResult();\n  }\n\n  showResult = () => {\n    const {\n      content,\n      activeChoices,\n      answeredQuestionsIds,\n      attempsMade,\n    } = this.state;\n    const {questions} = content;\n    let hits = 0;\n    let total = questions.length;\n\n    questions\n      .forEach(question => {\n        if (answeredQuestionsIds.includes(question.id)) {\n          if (questionIsCorrect(question, activeChoices)) {\n            hits++;\n          }\n        }\n      });\n\n    const resume = {\n      rdp_html_content: {\n        questions: questions,\n        hits: hits,\n        total: total,\n        percentage_average: (100 / total * hits)\n      }\n    };\n\n    this.setState({\n      grades: resume,\n      showResult: true,\n      attempsMade: attempsMade + 1,\n    }, () => {\n      this.trackQuizFinishView(resume);\n    })\n  }\n\n  resetState = () => {\n    this.setState({\n      answered: false,\n      grades: null,\n      showResult: false,\n      currentQuestionIndex: 0,\n      activeChoices: [],\n      answeredQuestionsIds: [],\n    })\n  }\n\n  handleRemakeQuiz = () => {\n    this.resetState();\n    this.trackRemakeQuiz();\n    this.sortQuestions(true);\n  }\n\n  getFont = (font) => {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      currentQuestionIndex,\n    } = this.state;\n\n    return (\n      <S.ElementQuizContainer\n        ref={this.elementRef}\n        className={classNameFn([\n          className,\n          this.getFont(content.font_family) || \"\"\n        ])}\n        style={{\n          backgroundColor: content.background_color,\n          paddingTop: content.padding_top + \"px\",\n          paddingBottom: content.padding_bottom + \"px\"\n        }}\n      >\n        {headerActionsTemplate}\n\n        <QuizCard>\n          {this.renderContentFor(currentQuestionIndex)}\n        </QuizCard>\n\n        {footerActionsTemplate}\n      </S.ElementQuizContainer>\n    )\n  }\n}\n","import styled from \"styled-components\";\n\nexport const ElementAttachment1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const AttachmentList = styled.ul`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nexport const AttachmentItem = styled.li`\n  max-width: 600px;\n  width: 100%;\n  height: 120px;\n`;\n\nexport const Attachment = styled.a`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  cursor: pointer;\n  text-decoration: none;\n  color: black;\n  \n  &:hover, &:focus {\n    text-decoration: underline;\n    color: ${props => props.primaryColor || \"#00643e\"};\n    border: 1px solid ${props => props.primaryColor || \"#00643e\"};\n  }\n  \n  &:visited {\n    color: initial;\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n`;\n\nexport const Information = styled.div`\n  display: block;\n  color: inherit;\n`;\n\nexport const FileName = styled.p`\n  margin: 5px;\n  font-weight: bold;\n  max-width: 300px;\n  color: inherit;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  line-clamp: 2;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 20px;\n`;\n\nexport const FileSize = styled.p`\n  margin: 5px;\n  font-size: 0.8rem;\n  text-transform: uppercase;\n  color: inherit;\n`;\n\nexport const AttachmentIcon = styled.svg`\n  color: inherit;\n`;\n\nexport const FileIcon = styled.svg`\n  color: inherit;\n  max-height: 48px;\n  width: auto;\n  \n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n`;\n\nexport const LeftContainer = styled.div`\n  flex: 4;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  gap: 10px;\n  color: inherit;\n`;\n\nexport const RightContainer = styled.div`\n  flex: 1;\n  text-align: end;\n  color: inherit;\n`;\n\n\n","import React, { Component } from 'react';\nimport * as S from \"./element-attachment-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\n\nclass ElementAttachment1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": content.type,\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"items\": content.items,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont(font) {\n    if (font) return font.replace(/\\s/g, '-').toLowerCase();\n  }\n\n  getBytes = (bytes) => {\n    if (bytes < 1024) return bytes + \" B\";\n    if (bytes < 1048576) return (bytes / 1024).toFixed(1) + \" KB\";\n    if (bytes < 1073741824) return (bytes / 1048576).toFixed(1) + \" MB\";\n    if (bytes < 1099511627776) return (bytes / 1073741824).toFixed(1) + \" GB\";\n    return (bytes / 1099511627776).toFixed(1) + \" TB\";\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n\n    return (\n      <S.ElementAttachment1\n        ref={this.elementRef}\n        tabIndex=\"1\"\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.AttachmentList>\n          {items.map((item) => (\n            <S.AttachmentItem key={item.id}>\n              <S.Attachment\n                tabIndex=\"1\"\n                href={this.getAssetUrl(item.original_url)}\n                target=\"_blank\"\n                primaryColor={primary_color}\n              >\n                <S.LeftContainer>\n                  <S.FileIcon\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path fill=\"currentColor\" d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\" />\n                  </S.FileIcon>\n\n                  <S.Information>\n                    <S.FileName>\n                      {item.filename}\n                    </S.FileName>\n\n                    <S.FileSize>\n                      {this.getBytes(item.size)}\n                    </S.FileSize>\n                  </S.Information>\n                </S.LeftContainer>\n\n                <S.RightContainer>\n                  <S.AttachmentIcon\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                    width=\"32\"\n                    height=\"32\"\n                  >\n                    <path fill=\"currentColor\" d=\"M17,13L12,18L7,13H10V9H14V13M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z\" />\n                  </S.AttachmentIcon>\n                </S.RightContainer>\n              </S.Attachment>\n            </S.AttachmentItem>\n          ))}\n        </S.AttachmentList>\n\n        {footerActionsTemplate}\n      </S.ElementAttachment1>\n    )\n  }\n}\n\nexport default ElementAttachment1;\n","import styled from \"styled-components\";\n\nexport const Root = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const Carousel = styled.div`\n  width: 600px;\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Slides = styled.ul`\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n\n  pointer-events: none;\n  \n  @media (max-width: 800px) {\n    pointer-events: auto;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n  &::-webkit-scrollbar-track {\n    display: none;\n  }\n`;\n\nexport const Slide = styled.li`\n  scroll-snap-align: start;\n  flex-shrink: 0;\n  width: 600px;\n  margin-right: 50px;\n  border-radius: 10px;\n  transform-origin: center center;\n  transform: scale(1);\n  transition: transform 0.5s;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 100px;\n  \n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nexport const Item = styled.div`\n  width: 100%;\n  max-width: 760px;\n  display: block;\n  text-align: center;\n  margin: 30px auto;\n`;\n\nexport const ImageContainer = styled.div`\n  width: 100%;\n  height: 500px;\n  overflow: hidden;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    height: auto;\n    box-shadow: none\n  }\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  height: auto;\n  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);\n`;\n\nexport const AuthorInfo = styled.div`\n  display: block;\n  margin-top: 10px;\n`;\n\nexport const AuthorName = styled.div`\n  color: #fff;\n  font-family: Prompt-Regular;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 26px;\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nexport const TextContainer = styled.div`\n  position: relative;\n  \n  .element-quote-6-text {\n    color: #fff;\n    margin-top: 30px;\n    width: 100%;\n    display: block;\n\n    @media (max-width: 600px) {\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n\n    .ql-editor {\n      padding: 0;\n      line-height: inherit;\n      overflow: hidden;\n    }\n\n    .ql-editor p:before,\n    .ql-editor p:after {\n      content: '\"';\n      color: #313537;\n      font-size: 16px;\n    }\n\n    .ql-editor * {\n      line-height: 150%;\n    }\n  }\n`;\n\nexport const Controls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  width: 800px;\n`;\n\nexport const ControlsLeft = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  \n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n`;\n\nexport const ControlsLeftArrow = styled.svg``;\n\nexport const Pages = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n`;\n\nexport const Page = styled.div`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  pointer-events: auto;\n  border-radius: 100%;\n  background-color: ${props => props.primaryColor || \"#2d7b45\"};\n  color: white;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n  opacity: 0.5;\n  \n  &.active {\n    opacity: 1;\n  }\n`;\n\nexport const ControlsRight = styled.div`\n  color: black;\n  width: 50px;\n  height: 100px;\n  margin-top: calc(-50% - 200px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  @media (max-width: 800px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n`;\n\nexport const ControlsRightArrow = styled.svg``;","import React, { Component } from 'react';\nimport * as S from './element-gallery-1.styled';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementGallery1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    avatar_size: \"width\",\n    visibleSlideIndex: 0,\n    visible: false,\n  }\n\n  componentDidMount() {\n    const { items } = this.props.content;\n    if (items.length > 0) {\n      this.setActivePageMarker(items[0].id);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        let obj = {\n          \"action\": \"view\",\n          \"element\": \"gallery-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"url\": content.image,\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  trackElementClick = (itemId) => {\n    const content = this.props.content;\n    let obj = {\n      \"action\": \"click\",\n      \"element\": \"gallery-1\",\n      \"timestamp\": Math.floor(Date.now() / 1000),\n      \"metadata\": {\n        \"composition_uid\": window.structure.metadata.content_uid,\n        \"element_id\": content.id,\n        \"item_id\": itemId\n      }\n    };\n    if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n      obj.assets = content.dam_assets;\n    }\n\n    this.props.onTrackEvent(obj);\n  }\n\n  getAssetUrl = (assetUrl) => {\n    return assetUrl;\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  renderImage = (avatar) => {\n    if (avatar !== null) {\n      return (\n        <S.ImageContainer\n          className=\"element-gallery-1-image-container\"\n        >\n          <S.Image\n            className=\"element-gallery-1-image\"\n            src={this.getAssetUrl(avatar)}\n            alt=\"\"\n          />\n        </S.ImageContainer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  handlePageChange = (page) => (event) => {\n    const { content } = this.props;\n    const { items } = content;\n\n    event.preventDefault();\n    const slideElement = document.getElementById(page);\n\n    let visibleSlideId = page.split(\"slide-\")[1];\n    let visibleItem = items.find(item => item.id === visibleSlideId);\n    let visibleSlideIndex = items.indexOf(visibleItem);\n    this.setState({visibleSlideIndex}, () => {\n      slideElement.scrollIntoView();\n      slideElement.focus();\n    });\n  }\n\n  handlePrevClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex > 0) {\n      const prevIndex = visibleSlideIndex - 1;\n      let prevItem = this.props.content.items[prevIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: prevIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  handleNextClick = (event) => {\n    const {\n      visibleSlideIndex\n    } = this.state;\n\n    if (visibleSlideIndex < this.props.content.items.length - 1) {\n      const nextIndex = visibleSlideIndex + 1;\n      let prevItem = this.props.content.items[nextIndex];\n      const itemElement = document.getElementById(`slide-${prevItem.id}`);\n\n      if (itemElement) {\n        this.setState({visibleSlideIndex: nextIndex}, () => {\n          itemElement.scrollIntoView();\n          itemElement.focus();\n        });\n      }\n    }\n  }\n\n  isInViewport = (event, target) => {\n    const element = target || event.target;\n    const rect = element.getBoundingClientRect();\n    const isVisivle = rect.top >= 0 && rect.bottom <= window.innerHeight;\n\n    if (isVisivle) {\n     this.setActivePageMarker(element.id.split(\"slide-\")[1]);\n     this.trackElementClick(element.id.split(\"slide-\")[1]);\n    }\n\n    return isVisivle;\n  }\n\n  setActivePageMarker = (slideId) => {\n    const pageMarker = document.getElementById(this.getSlidePageId(slideId));\n    if (pageMarker) {\n      this.resetActivePageMarkers();\n      pageMarker.classList.add(\"active\");\n    }\n  }\n\n  resetActivePageMarkers = () => {\n    const { items } = this.props.content;\n\n    items.forEach(item => {\n      const pageMarker = document.getElementById(this.getSlidePageId(item.id));\n      if (pageMarker) {\n        pageMarker.classList.remove(\"active\")\n      }\n    });\n  }\n\n  getSlideId = id => `slide-${id}`;\n\n  getSlidePageId = id => `page-${id}`;\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.Root\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.Carousel\n          className=\"element-gallery-1-carrousel\"\n        >\n          <S.Slides\n            className=\"element-gallery-1-slides\"\n          >\n            {\n              items.map((item) =>\n                (\n                 <S.Slide\n                   className=\"element-gallery-1-slide\"\n                   key={item.id}\n                   tabIndex=\"1\"\n                   id={this.getSlideId(item.id)}\n                   onFocus={this.isInViewport}\n                 >\n                   <S.Item\n                     style={{borderColor: primary_color}}\n                   >\n                     {this.renderImage(item.image)}\n                   </S.Item>\n                 </S.Slide>\n                )\n              )}\n          </S.Slides>\n        </S.Carousel>\n\n        <S.Controls\n          className=\"element-gallery-1-controls\"\n        >\n          <S.ControlsLeft\n            onClick={this.handlePrevClick}\n            className=\"element-gallery-1-controls-left\"\n          >\n            <S.ControlsLeftArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" />\n            </S.ControlsLeftArrow>\n          </S.ControlsLeft>\n\n          <S.Pages role=\"list\">\n            {\n              items.map((item, index) =>\n                (\n                  <S.Page\n                    id={this.getSlidePageId(item.id)}\n                    key={item.id}\n                    role=\"listitem\"\n                    onClick={this.handlePageChange(this.getSlideId(item.id))}\n                    primaryColor={primary_color}\n                  >\n                    {index+1}\n                  </S.Page>\n                )\n              )}\n          </S.Pages>\n\n          <S.ControlsRight\n            onClick={this.handleNextClick}\n            className=\"element-gallery-1-controls-right\"\n          >\n            <S.ControlsRightArrow\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"40\"\n              height=\"40\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path fill=\"currentColor\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n            </S.ControlsRightArrow>\n          </S.ControlsRight>\n        </S.Controls>\n\n        {footerActionsTemplate}\n      </S.Root>\n    );\n  }\n}\n\nexport default ElementGallery1;\n","import styled from \"styled-components\";\n\nexport const ElementButton1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const ButtonList = styled.ul`\n  flex: 3;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 650px;\n  height: auto;\n`;\n\nexport const ButtonItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0;\n  \n  @media screen and (max-width: 649px) {\n    justify-content: center;\n    padding: 0 10px;\n  }\n`;\n\nexport const ButtonLink = styled.a`\n  flex: 2;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: ${props => props.primaryColor || \"#00643e\"};\n  color: white;\n  transition: all 0.3s ease-out;\n  margin: 0 auto;\n  border: 0;\n  padding: 8px 30px;\n  font-weight: bold;\n  border-radius: 30px;\n  min-width: 200px;\n  max-width: 500px;\n  min-height: 50px;\n  font-size: 1em;\n  pointer-events: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  \n  &:hover {\n    filter: brightness(1.1);\n  }\n  \n  &:focus {\n    outline: 2px solid ${props => props.primaryColor || \"#00643e\"} !important;\n    outline-offset: 2px;\n  }\n  \n  &:active {\n    background-color: ${props => props.primaryColor || \"#00643e\"};\n    filter: brightness(1.2);\n  }\n`;\n\nexport const ButtonLabel = styled.label`\n  max-width: 400px;\n`;\n\n","import React, {Component} from 'react';\nimport * as S from \"./element-button-1.styled\";\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementButton1 extends Component {\n  elementRef = React.createRef();\n  state = {\n    content: this.props.content,\n    visible: false,\n  }\n\n  componentDidMount() {\n    this.trackElementView();\n  }\n\n  trackElementView = () => {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          action: \"view\",\n          element: content.type,\n          timestamp: Math.floor(Date.now() / 1000),\n          metadata: {\n            composition_uid: window.structure.metadata.content_uid,\n            element_id: content.id,\n            element_title: content.content_title,\n          },\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        visible: isVisible,\n      });\n    }\n  }\n\n  getFont = (font) => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  getDestinationUrl = (item) => {\n    switch (item.type) {\n      case \"link\":\n        return item.destination;\n      case \"email\":\n        return `mailto:${item.destination}`;\n      default:\n        return item.destination;\n    }\n  }\n\n  render() {\n    const {\n      headerActionsTemplate,\n      footerActionsTemplate,\n      content,\n      className\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n\n    return (\n      <S.ElementButton1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family) || \"\"}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n      >\n        {headerActionsTemplate}\n\n        <S.ButtonList>\n          {items.map(item => (\n            <S.ButtonItem\n              className=\"element-button-1__button-item\"\n              key={item.id}\n            >\n              <S.ButtonLabel\n                htmlFor={item.id}\n                dangerouslySetInnerHTML={{__html: item.description}}\n              />\n\n              <S.ButtonLink\n                className=\"element-button-1__button\"\n                id={item.id}\n                tabIndex=\"1\"\n                href={this.getDestinationUrl(item)}\n                target=\"_blank\"\n                primaryColor={primary_color}\n              >\n                {item.label}\n              </S.ButtonLink>\n            </S.ButtonItem>\n          ))}\n        </S.ButtonList>\n\n        {footerActionsTemplate}\n      </S.ElementButton1>\n    );\n  }\n}\n\nexport default ElementButton1;","import styled from 'styled-components';\n\n\nexport const ElementCodeSnippet1 = styled.div`\n  background-color: ${props => props.backgroundColor || \"#fff\"};\n  padding-top: ${props => props.paddingTop || \"0\"}px;\n  padding-bottom: ${props => props.paddingBottom || \"0\"}px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  \n  :root {\n    --primary-color: ${props => props.primaryColor || \"#2d7b45\"};\n  }\n`;\n\n\nexport const SnippetList = styled.ul`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const SnippetItem = styled.li`\n  max-width: 800px;\n  min-width: 600px;\n  position: relative;\n`;\n\nexport const Figure = styled.figure`\n  min-height: 300px;\n  border-radius: 8px;\n  background-color: whitesmoke;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n`;\n\nexport const Pre = styled.pre``;\n\nexport const FigCaption = styled.figcaption`\n  margin-top: 10px;\n  width: 100%;\n  border-bottom: 1px solid #e6e6e6;\n  padding-bottom: 5px;\n`;\n\nexport const CopyButton = styled.button`\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n  \n  &:hover {\n    img {\n      filter: brightness(0.8);\n    }\n  }\n`;\n\nexport const CopyButtonIcon = styled.img``;\n","import React, {Component} from 'react';\nimport * as S from './element-code-snippet-1.styled';\nimport copyIcon from './copy.svg';\nimport checkCircleIcon from './check-circle.svg';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nclass ElementCodeSnippet1 extends Component {\n  codeRef = React.createRef();\n  elementRef = React.createRef();\n  state = {\n    copied: false,\n    visible: false,\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    const content = this.props.content;\n    const isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        const obj = {\n          \"action\": \"view\",\n          \"element\": \"code-snippet-1\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title,\n            \"items\": content.items\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        }\n\n        this.props.onTrackEvent(obj);\n      }\n      this.setState({\n        \"visible\": isVisible\n      });\n    }\n  }\n\n  getCaptionAriaProps = (item) => {\n    const {\n      id,\n    } = item;\n\n    return {\n      'aria-labelledby': `caption-${id}`,\n      'aria-describedby': `caption-${id}`,\n    }\n  }\n\n  getLabels = (label) => {\n    const {\n      contentLanguage = \"pt_br\"\n    } = this.props;\n    const labels = {\n      \"pt_br\": {\n        \"copy\": 'Copiar',\n      },\n      \"en\": {\n        \"copy\": 'Copy',\n      }\n    }\n\n    const localizedLabels = labels[contentLanguage.toLowerCase()] || {};\n\n    return localizedLabels[label] || label;\n  }\n\n  handleCopyItemCodeText = async (evt) => {\n    evt.preventDefault();\n\n    if (navigator && navigator.clipboard) {\n      try {\n        await navigator.clipboard.writeText(this.codeRef.current.innerText);\n        this.setState({\n          copied: true,\n        });\n      } catch (err) {\n        console.error('Failed to copy text: ', err);\n      }\n    }\n  }\n\n  getFont = font => font ? font.replace(/\\s/g, '-').toLowerCase() : \"\";\n\n  render() {\n    const {\n      content,\n      className,\n    } = this.props;\n    const {\n      background_color,\n      primary_color,\n      padding_top,\n      padding_bottom,\n      font_family,\n      items = [],\n    } = content;\n    const {\n      copied,\n    } = this.state;\n\n    return (\n      <S.ElementCodeSnippet1\n        ref={this.elementRef}\n        className={`${className} ${this.getFont(font_family)}`}\n        backgroundColor={background_color}\n        paddingTop={padding_top}\n        paddingBottom={padding_bottom}\n        primaryColor={primary_color}\n      >\n        <S.SnippetList>\n          {items.map(item => (\n            <S.SnippetItem\n              key={item.id}\n              className=\"element-snippet-1__snippet-item\"\n            >\n              <S.CopyButton\n                tabIndex=\"1\"\n                type=\"button\"\n                onClick={this.handleCopyItemCodeText}\n                title={this.getLabels('copy')}\n              >\n                <S.CopyButtonIcon\n                  src={copied ? checkCircleIcon : copyIcon}\n                  width=\"24\"\n                  height=\"24\"\n                />\n              </S.CopyButton>\n\n              <S.Figure\n                id={`figure-${item.id}`}\n                {...this.getCaptionAriaProps(item)}\n              >\n                <S.Pre\n                  ref={this.codeRef}\n                  dangerouslySetInnerHTML={{__html: item.code}}\n                />\n              </S.Figure>\n              {\n                item.caption.length > 0 && (\n                  <S.FigCaption\n                    id={`caption-${item.id}`}\n                    dangerouslySetInnerHTML={{__html: item.caption}}\n                  />\n                )\n              }\n            </S.SnippetItem>\n          ))}\n        </S.SnippetList>\n      </S.ElementCodeSnippet1>\n    );\n  }\n}\n\nexport default ElementCodeSnippet1;","import React, { Component } from 'react';\nimport Helmet from 'react-helmet';\nimport './element-3d.css';\nimport {VisibleElement} from \"../../utils/visible-element\";\n\nexport default class Element3d extends Component {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n\n    this.state = {\n      \"visible\": false\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.trackElementView();\n  }\n\n  trackElementView() {\n    var content = this.props.content;\n    var isVisible = VisibleElement.visible(this.elementRef.current);\n    if (this.state.visible !== isVisible) {\n      if (isVisible === true) {\n        var obj = {\n          \"action\": \"view\",\n          \"element\": \"3d\",\n          \"timestamp\": Math.floor(Date.now() / 1000),\n          \"metadata\": {\n            \"composition_uid\": window.structure.metadata.content_uid,\n            \"element_id\": content.id,\n            \"element_title\": content.content_title\n          }\n        };\n        if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n          obj.assets = content.dam_assets;\n        };\n\n        this.props.onTrackEvent(obj);\n      };\n      this.setState({\n        \"visible\": isVisible\n      });\n    };\n  }\n\n  render() {\n    let { headerActionsTemplate, footerActionsTemplate, content } = this.props;\n    var audioStyle = {\n      backgroundColor: content.background_color,\n      paddingTop: content.padding_top + \"px\",\n      paddingBottom: content.padding_bottom + \"px\"\n    }\n\n    return (<div ref={this.elementRef} className={this.props.className} style={audioStyle}>\n      <Helmet>\n        <script type=\"module\" src=\"https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js\"></script>\n      </Helmet>\n      {headerActionsTemplate}\n      <model-viewer class=\"element-3d-area\" src={content.file} shadow-intensity=\"1\" ar ar-modes=\"webxr scene-viewer quick-look\" camera-controls touch-action=\"pan-y\" alt=\"A 3D model carousel\">\n        <button slot=\"ar-button\" id=\"ar-button\">\n          Visualizar no ambiente\n        </button>\n      </model-viewer>\n      {footerActionsTemplate}\n    </div>)\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  overflow-x: hidden;\n  \n  &:hover {\n    div.interaction-monitor-status-container {\n      opacity: 1;\n      pointer-events: auto;\n    }\n  }\n`;\n\nexport const IconsList = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.44);\n  color: rgba(0, 0, 0, 0.66);\n  z-index: 9999;\n  opacity: 0.8;\n  pointer-events: none;\n  transition: all 0.3s ease-in-out;\n  border-radius: 25%;\n  cursor: pointer;\n`;\n\n\nexport const InteractionStatusContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 3px;\n`;\n\nexport const InteractionCounter = styled.span`\n`;","import React, {createRef} from \"react\";\nimport * as S from \"./interaction-monitor-wrapper.styled\";\nimport useOnScreen from \"../../hooks/use-on-screen\";\n\nexport default function InteractionMonitorObjectWrapper(props) {\n  const {\n    children,\n    content,\n    objectInteractionMonitor,\n  } = props;\n  const ref = createRef();\n  const isOnScreen = useOnScreen(ref);\n  const [isRequiredInteraction, setIsRequiredInteraction] = React.useState(false);\n  const [completed, setCompleted] = React.useState(false);\n  const [interaction, setInteraction] = React.useState(null);\n\n  React.useEffect(() => {\n    elementView();\n  }, [isOnScreen]);\n\n  React.useEffect(() => {\n    if (!isRequiredInteraction && content && \"required_interaction\" in content && content.required_interaction) {\n      setIsRequiredInteraction(true);\n    }\n  }, [content]);\n\n  React.useEffect(() => {\n    if (isRequiredInteraction && objectInteractionMonitor) {\n      objectInteractionMonitor.completedObjects.find(object => object.id === content.id) !== undefined && setCompleted(true);\n      let int = objectInteractionMonitor.interactionActionsCount.find(int => int.element_id === content.id);\n      if (int && interaction && int.interactions > interaction.interactions) {\n        setInteraction(int);\n      } else if (int && interaction === null) {\n        setInteraction(int);\n      }\n    }\n  }, [isRequiredInteraction, objectInteractionMonitor.completedObjects, objectInteractionMonitor.interactionActionsCount]);\n\n  const elementView = () => {\n    if (isOnScreen) {\n      const obj = {\n        \"action\": \"view\",\n        \"element\": content.type,\n        \"timestamp\": Math.floor(Date.now() / 1000),\n        \"metadata\": {\n          \"element_id\": content.id,\n          \"element_title\": content.content_title,\n        }\n      };\n      if (content.dam_assets !== undefined && content.dam_assets.length > 0) {\n        obj.assets = content.dam_assets;\n      }\n      objectInteractionMonitor.onObjectInteractionEvent(obj);\n    }\n  }\n\n  const renderProgressAlert = () => {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M13,2V4C17.39,4.54 20.5,8.53 19.96,12.92C19.5,16.56 16.64,19.43 13,19.88V21.88C18.5,21.28 22.45,16.34 21.85,10.85C21.33,6.19 17.66,2.5 13,2M11,2C9.04,2.18 7.19,2.95 5.67,4.2L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.24,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.06,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37H7.06M13,13V7H11V13H13M13,17V15H11V17H13Z\" />\n      </svg>\n    )\n  }\n\n  const renderProgressCheck = () => {\n    return (\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M15.5,8.5L10.62,13.38L8.5,11.26L7.44,12.32L10.62,15.5L16.56,9.56L15.5,8.5M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37Z\" />\n      </svg>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <S.Container ref={ref}>\n        {(content && \"show_interaction_progress\" in content && content.show_interaction_progress) && (\n          <S.IconsList className=\"interaction-monitor-status-container\" title=\"progress\">\n            {isRequiredInteraction && (\n              <React.Fragment>\n                {completed ? (\n                  <>\n                    {renderProgressCheck()}\n                  </>\n                ) : (\n                  <>\n                    <S.InteractionStatusContainer>\n                      {(interaction !== null && !interaction.finished && interaction.interactions) ? (\n                        <S.InteractionCounter>\n                          {interaction.interactions}/{interaction.total}\n                        </S.InteractionCounter>\n                      ) : null}\n\n                      {renderProgressAlert()}\n                    </S.InteractionStatusContainer>\n                  </>\n                )}\n              </React.Fragment>\n            )}\n          </S.IconsList>\n        )}\n        {children}\n      </S.Container>\n    </React.Fragment>\n  );\n}","export default function (func, delay) {\n  let prev = 0;\n  return (...args) => {\n    let now = new Date().getTime();\n\n    if(now - prev> delay){\n      prev = now;\n\n      return func(...args);\n    }\n  }\n}","import React from 'react';\nimport API from \"../services\";\n\nexport default function withObjectInteractionMonitor(WrappedComponent) {\n  return function HOC(props) {\n    const [requiredObjects, setRequiredObjects] = React.useState([]);\n    const [events, setEvents] = React.useState([]);\n    const [completedObjects, setCompletedObjects] = React.useState([]);\n    const [completed, setCompleted] = React.useState(false);\n    const [interactionActionsCount, setInteractionActionsCount] = React.useState([]);\n\n    React.useEffect(() => {\n      checkIfHasCompletedAllObjects();\n    }, [completedObjects, requiredObjects, completed]);\n\n    const onObjectInteractionEvent = (event) => {\n      let newEvents = [...events, event];\n      setEvents(newEvents);\n      checkIfHasCompletedObject(event, newEvents);\n    }\n\n    const checkIfHasCompletedObject = (event, events) => {\n      const { metadata, action } = event;\n      const { element_id } = metadata;\n\n      const object = requiredObjects.find(object => object.id === element_id);\n\n      const completedObject = completedObjects.find(object => object.id === element_id);\n\n      if (object && completedObject) {\n        return;\n      }\n\n      let interactions = 0;\n\n      if (object) {\n        switch (object.type) {\n          case \"flashcards-1\":\n          case \"flashcards-2\":\n          case \"steps-1\":\n          case \"accordion\":\n          case \"quote-6\":\n          case \"list-2\":\n          case \"tabs\":\n          case \"gallery-1\":\n            {\n              let viewed = events.filter(event => event.metadata.element_id === element_id && event.action === \"view\");\n              let clicked = events.filter(event => event.metadata.element_id === element_id && event.action === \"click\");\n              let itensClicked = object.items.filter(item => clicked.find(event => event.metadata.item_id === item.id)) || [];\n              let total = object.items.length;\n\n              if (object.type === \"tabs\" || object.type === \"quote-6\" || object.type === \"gallery-1\" || object.type === \"steps-1\") {\n                itensClicked.push(object.items[0])// add first tab as clicked\n                total = total - 1;\n                interactions -= 1;\n              }\n\n              let clickedAllCards = object.items.filter(item => clicked.find(event => event.metadata.item_id === item.id) !== undefined).length === total;\n\n              if (itensClicked.length > 0) {\n                interactions += itensClicked.length;\n              }\n\n              let interaction = {\n                element_id,\n                interactions,\n                total\n              };\n\n              if (viewed && clickedAllCards) {\n                addCompletedObject(object);\n                interaction.finished = true;\n              }\n\n              setInteractionActionsCount([...interactionActionsCount.filter(i => i.element_id !== element_id), interaction]);\n            }\n            break;\n          case \"sorted-activity-1\":\n          case \"audio-1\":\n          case \"video-1\":\n            let ended = events.filter(event => event.metadata.element_id === element_id && event.action === \"click\" && event.verb === \"ended\");\n\n            if (ended.length > 0) {\n              addCompletedObject(object);\n            }\n            break;\n          case \"quiz-1\":\n          case \"quiz-2\":\n          case \"quiz-3\":\n          case \"quiz-4\":\n          case \"quiz-5\":\n          case \"quiz-6\":\n          case \"quiz-only-choice-result\":\n            {\n              let quizResultTypes = [\n                \"quiz-only-choice-result\",\n                \"quiz-multiple-choice-result\",\n                \"quiz-fill-the-blankfeedback\",\n                \"quiz-match-feedback\",\n                \"quiz-essay-result\",\n                \"quiz-mixed-result\"\n              ];\n              let finished = events.filter(event => event.metadata.element_id === element_id && event.action === \"view\" && quizResultTypes.includes(event.element));\n\n              if (finished.length > 0) {\n                addCompletedObject(object);\n              }\n            }\n            break;\n          default:\n            if (action === \"view\") {\n              addCompletedObject(object);\n            }\n            break;\n        }\n      }\n    }\n\n    const sendMessageToPlayer = (action, message) => {\n      try {\n        const { activity_uid } = window.cstmptns || {};\n        if (window.parent) window.parent.postMessage({\n          type:\"app_player\",\n          action: action,\n          value: message,\n          activity_uid,\n        }, \"*\");\n      } catch (error) {\n        console.log(\"Error sending message to player\", error);\n      }\n    }\n\n    const addCompletedObject = async (object) => {\n      setCompletedObjects([...completedObjects.filter(obj => obj.id !== object.id), object]);\n\n      try {\n        const { interaction_uid, activity_uid } = window.cstmptns || {};\n\n        if (interaction_uid) {\n          const objectEvents = events.filter(event => event.metadata.element_id === object.id);\n          const interactions = interactionActionsCount.find(i => i.element_id === object.id);\n          API.cms.learning.interaction\n            .uid(interaction_uid)\n            .createObject({\n              context_uid: activity_uid,\n              type: object.type,\n              target_uid: object.id,\n              object_data: {\n                events: objectEvents,\n                interactions,\n                completed: true\n              },\n              score: \"100\",\n            }, window.cstmptns);\n        }\n      } catch (error) {\n        console.log(\"Error sending object interaction\", error);\n\n      }\n    }\n\n    const checkIfHasCompletedAllObjects = () => {\n      if (!completed && requiredObjects.length > 0 && requiredObjects.length === completedObjects.length) {\n        setCompleted(true);\n        sendMessageToPlayer(\"interaction.progress\", {\n          required_objects: requiredObjects.length,\n          completed_objects: completedObjects.length,\n          completed: true\n        })\n      } else {\n        sendMessageToPlayer(\"interaction.progress\", {\n          required_objects: requiredObjects.length,\n          completed_objects: completedObjects.length,\n          completed: false\n        })\n      }\n    }\n\n    return (\n      <React.Fragment>\n        <WrappedComponent\n          {...props}\n          _objectInteractionMonitor={{\n            onObjectInteractionEvent,\n            setRequiredObjects,\n            requiredObjects,\n            completed,\n            completedObjects,\n            setCompletedObjects,\n            interactionActionsCount,\n            setCompleted\n          }}\n        />\n      </React.Fragment>\n    );\n  };\n}","import React, {Component} from \"react\";\nimport LazyLoad from 'react-lazyload';\nimport \"./home.css\";\n//region: No remover as imagens abaixo, pois algumas composies usam path relativo para estes arquivos no build\nimport \"./image-1.jpg\";\nimport \"./image-2.jpg\";\nimport \"./image-3.jpg\";\nimport \"./image-4.jpg\";\nimport \"./image-5.jpg\";\nimport \"./image-6.jpg\";\n//endregion\n\nimport {\n  ElementAccordion,\n  ElementAudio,\n  ElementFlashcards1,\n  ElementForum1,\n  ElementHead1,\n  ElementIframe,\n  ElementImage,\n  ElementImagesGallery,\n  ElementImageAndText,\n  ElementImageWithText,\n  ElementQuiz1,\n  ElementQuiz2,\n  ElementQuiz5,\n  ElementQuiz6,\n  ElementTabs,\n  ElementText,\n  ElementTextTwoColumn,\n  ElementList,\n  ElementVideo,\n  ElementDivider1,\n  ElementDividerNumbered,\n  UserLog,\n  ElementHotspots1,\n  ElementStatement1,\n  ElementStatement2,\n  ElementStatement3,\n  ElementStatement4,\n  ElementNote1,\n  ElementQuote1,\n  ElementQuote2,\n  ElementQuote3,\n  ElementQuote4,\n  ElementQuote5,\n  ElementSortedActivity1,\n  ElementTimeline1,\n  ElementSteps1,\n  ElementQuiz3,\n  ElementQuote6,\n  ElementAttachment1,\n  ElementGallery1,\n  ElementQuiz4,\n  ElementButton1,\n  ElementCodeSnippet1,\n  ElementDivider4,\n  ElementFlashcards2,\n  Element3d\n} from \"../../components\";\n\nimport lzw from \"lzwcompress\";\nimport Sdk from \"api.digitalpages.module.sdk.api\";\nimport withObjectInteractionMonitor from \"../../hocs/with-object-interaction-monitor\";\nimport InteractionMonitorObjectWrapper from \"../../fragments/interaction-monitor-wrapper/interaction-monitor-wrapper\";\nimport throttle from \"../../utils/throttle\";\nimport API from \"../../services\";\nimport withGTM from \"../../hocs/with-gtm\";\n\nconst ConditionalLazyLoad = (props) => {\n  const {children, elementId, scrollToId, ...rest} = props;\n\n  if (elementId === scrollToId) {\n    return children;\n  }\n\n  return (\n    <LazyLoad {...rest}>\n      {children}\n    </LazyLoad>\n  )\n}\n\nclass ViewHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.observer = null;\n\n    this.state = {\n      renderCompleted : false,\n      protocol: null,\n      events: [],\n      contentReady: false,\n      composition: null,\n      scormAPI: null,\n      scrollPage: null,\n      progressPage: 0,\n      timer: 0,\n      scrollToEnd: false,\n      prerequisites: null,\n      lessionStatus : null,\n      scoreQuizzes: [],\n      suspendData: { elements: {} },\n      score : undefined,\n      \"summary_items\": null,\n      \"summary_items_current\": null,\n      \"summary_items_render\": false,\n      \"show_summary\": null,\n      \"finish_btn\": null,\n      \"can_track_object\": false,\n      \"need_scroll_to_element_id\": null,\n    };\n\n    Sdk.insights.createXapiTracking({\n      endpoint : \"-\",\n      auth : \"-\"\n    });\n  }\n\n  componentDidMount() {\n    if (window.document) {\n      this.handleRedirectObject();\n\n      var anchorTags = window.document.getElementsByTagName(\"a\");\n\n      for (let index = 0; index < anchorTags.length; index++) {\n        const element = anchorTags[index];\n\n        element.addEventListener(\"click\", () => {\n          var url = element.href;\n          if (url) {\n            if (window.cordova) {\n              window.CordovaExec(function () {}, \"ShelfPlugin\", \"OpenUrl\", [\n                url,\n              ]);\n            } else {\n              window.open(url, \"_blank\");\n            }\n          }\n        });\n        element.href = \"#\";\n      }\n    }\n\n    this.setState({\n      timerStart: Date.now(),\n    });\n\n    this.handleScroll();\n  }\n\n  async componentWillMount() {\n    if(typeof String.prototype.replaceAll === \"undefined\") {\n      String.prototype.replaceAll = function(match, replace) {\n        return this.replace(new RegExp(match, 'g'), () => replace);\n      }\n    }\n\n    this.initListeners();\n\n    //estrutura adicionada localmente (arquivo exportado)\n    if (window.structure) {\n      this.loadStructure(window.structure, null);\n      return;\n    }\n\n    if (window.location.search.indexOf(\"?custom_options=\") == -1) return;\n\n    const context = await (await fetch(\"./api_context.json\")).json();\n    const components = window.location.search.split(\"?\")[1].split(\"&\");\n    let input = null;\n\n    for (const index in components) {\n      const element = components[index];\n      var values = element.split(\"=\");\n      if (values[0] == \"custom_options\") {\n        input = values[1];\n        break;\n      }\n    }\n\n    const data = JSON.parse(atob(input));\n    window.cstmptns = data;\n\n    if (data.content_uid) {\n      var url = `https://${context.domain}/storage/v1.0/content?uid=${data.content_uid}&api_env=${context.api_env}&access_token=${data.access_token}&project_key=${context.project_key}`;\n      var response = await fetch(url);\n      var json = await response.json();\n\n      this.loadStructure(json, context, data);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      progressPage,\n      scrollPage,\n      lessionStatus,\n      timerStart,\n      sessionTimer,\n      scrollToEnd,\n      suspendData,\n      prerequisites,\n      quizUpdated,\n      summary_items,\n      finish_btn,\n      summary_items_current\n    } = this.state;\n\n    if (prevState.renderCompleted != this.state.renderCompleted) this.handleScroll();\n    if (progressPage > 1 && lessionStatus == \"not attempted\") this.setState({lessionStatus : \"incomplete\"});\n    if (prevState.summary_items_current != summary_items_current) this.notifySummaryUpdated();\n\n    if (prevState.suspendData != this.state.suspendData) this.notifySuspendDataUpdated();\n    if (prevState.sessionTimer != this.state.sessionTimer) this.notiftSessionUpdated();\n    if (prevState.progressPage != this.state.progressPage) this.notiftLocationUpdated();\n    if (prevState.lessionStatus != this.state.lessionStatus) \n    {\n      this.notifyStatusUpdated();\n      this.notifyCommit();\n    }\n\n    if (prevState.contentReady != this.state.contentReady) this.notifyProtocol();\n\n\n    if ((summary_items !== null && summary_items.length > 0)) {\n      if (this.nextIndex() !== null) return;\n    } else {\n      if (progressPage < 90) return;\n    }\n\n    if (!scrollToEnd) this.setState({ scrollToEnd : true });\n\n    if (prerequisites && prerequisites.quizzes && prerequisites.quizzes.length > 0)\n    {\n      if (!quizUpdated) return;\n\n      const finished = prerequisites.quizzes.findIndex(\n          (quiz) =>\n            !suspendData ||\n            !suspendData.elements[quiz] ||\n            !suspendData.elements[quiz].finished\n        ) === -1;\n\n      const statusUpdated = { lessionStatus: finished ? \"passed\" : \"incomplete\", quizUpdated: false }\n\n      if (finished)\n      {\n        statusUpdated.score = prerequisites.quizzes.reduce((sum, id) => (sum += suspendData.elements[id].score),0) / prerequisites.quizzes.length;\n      }\n\n      this.setState(statusUpdated);\n\n    } else if (lessionStatus !== \"completed\") {\n      if (this.props._objectInteractionMonitor.requiredObjects.length > 0) {\n        if (this.props._objectInteractionMonitor.completed) {\n          this.finishActivity();\n        }\n      } else if (finish_btn === null || finish_btn === undefined || finish_btn === \"disabled\") {\n        this.setState({ lessionStatus: \"completed\", quizUpdated: false });\n      }\n    }\n  }\n\n  initListeners() {\n    window.addEventListener(\"scroll\", throttle(this.handleScroll, 500));\n    window.addEventListener(\"resize\", throttle(this.handleScroll, 500));\n    window.addEventListener(\"load\", this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", throttle(this.handleScroll, 500));\n    window.removeEventListener(\"resize\", throttle(this.handleScroll, 500));\n    window.removeEventListener(\"load\", this.handleLoad);\n\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n\n  scrollTo = (id) => {\n    const elem = document.getElementById(id);\n    if (elem !== null) {\n      window.scrollTo(elem.offsetLeft, (elem.offsetTop - 70));\n      this.setState({\n        need_scroll_to_element_id: null\n      })\n    } else {\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n      this.observer = new MutationObserver(() => {\n        const elem = document.getElementById(id);\n        if (elem !== null) {\n          this.observer.disconnect();\n          window.scrollTo(elem.offsetLeft, (elem.offsetTop - 70));\n        }\n        this.setState({\n          need_scroll_to_element_id: null\n        })\n      });\n      this.observer.observe(document, {subtree: true, childList: true});\n    }\n  }\n\n  handleRedirectObject = async () => {\n    const scormApi = window.getAPIHandle();\n    let unpacked = \"\";\n\n    if (scormApi != null) scormApi.LMSInitialize(\"\");\n    if (scormApi != null)\n    {\n      let suspendData = scormApi.LMSGetValue(\"cmi.suspend_data\");\n\n      try {\n        suspendData = JSON.parse(suspendData);\n        unpacked = lzw.unpack(suspendData);\n        if (unpacked) {\n          this.redirectToObject(unpacked);\n        }\n      } catch(e) {\n        console.error(e);\n      }\n    }\n  };\n\n  handleLoad = async (event) => {\n    const scormApi = window.getAPIHandle();\n    let unpacked = \"\";\n\n    var data = {\n      contentReady : true,\n      scormAPI : scormApi\n    };\n\n    if (scormApi != null) scormApi.LMSInitialize(\"\");\n    if (scormApi != null && this.state.lessionStatus == null)\n    {\n      var status = scormApi.LMSGetValue(\"cmi.core.lesson_status\");\n      var suspendData = scormApi.LMSGetValue(\"cmi.suspend_data\");\n\n\n      try {\n        suspendData = JSON.parse(suspendData);\n        unpacked = lzw.unpack(suspendData);\n      } catch(e) {\n        console.error(e);\n      }\n\n      data.lessionStatus = status;\n      data.suspendData = unpacked;\n    }\n    this.setState(data);\n  };\n\n  redirectToObject(data) {\n    if (typeof data === \"object\" && data.progress) {\n      this.setState({\n        \"summary_items_current\": data.progress.current_summary_item,\n      })\n\n      if (\"current_object_id\" in data.progress) {\n        this.setState({\n          \"can_track_object\": true,\n          \"need_scroll_to_element_id\": data.progress.current_object_id\n        }, () => {\n          this.scrollTo(data.progress.current_object_id);\n        })\n      }\n    }\n    this.setState({\n      \"can_track_object\": true,\n    })\n  }\n\n  MillisecondsToCMIDuration(n) {\n    //Convert duration from milliseconds to 0000:00:00.00 format\n    var hms = \"\";\n    var dtm = new Date();\n    dtm.setTime(n);\n    var h = \"000\" + Math.floor(n / 3600000);\n    var m = \"0\" + dtm.getMinutes();\n    var s = \"0\" + dtm.getSeconds();\n    var cs = \"0\" + Math.round(dtm.getMilliseconds() / 10);\n    hms = h.substr(h.length - 4) + \":\" + m.substr(m.length - 2) + \":\";\n    hms += s.substr(s.length - 2) + \".\" + cs.substr(cs.length - 2);\n    return hms;\n  }\n\n  handleScroll = (event) => {\n    const { renderCompleted, timerStart, progressPage } = this.state;\n\n    if (!renderCompleted) return;\n\n    let scrollTop = window.scrollY;\n    let limitPage = document.body.offsetHeight - window.innerHeight;\n    let progress = parseInt(String((scrollTop / limitPage) * 100));\n\n    this.setState({\n      scrollPage : scrollTop\n    });\n\n    if (limitPage <= 0) progress = 100;\n\n    if (progressPage && progressPage >= progress) return;\n\n    this.setState({\n      scrollPage : scrollTop,\n      progressPage : progress,\n      sessionTimer: this.MillisecondsToCMIDuration(\n        Math.floor((Date.now() - timerStart) / 1000)\n      )\n    });\n  };\n\n  suspendDataIsValid = (data) => {\n    try {\n      if (!data) return false;\n\n      if (typeof data == \"object\")\n      {\n        if (data.elements == undefined) data.elements = {};\n        return true;\n      }\n\n      JSON.parse(data);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  prepareSuspendData = (element, answers) => {\n    let { suspendData } = this.state;\n    if (!this.suspendDataIsValid(suspendData)) {\n      suspendData = { elements: {} };\n    }\n\n    /**\n     * Check if is packed in lzw\n     */\n    if (Array.isArray(suspendData)) {\n      suspendData = lzw.unpack(suspendData);\n    }\n\n    if (!Object.keys(suspendData).includes(\"elements\")) {\n      suspendData.elements = [];\n    }\n\n    suspendData.elements[element.id] = { answers: answers };\n    return suspendData;\n  };\n\n  suspendDataUpdate = (element, answers) => {\n    var _this = this;\n    const { timerStart } = this.state;\n\n    let suspend_data = this.prepareSuspendData(element, answers);\n\n    this.setState({\n      sessionTimer: _this.MillisecondsToCMIDuration(\n        Math.floor((Date.now() - timerStart) / 1000)\n      ),\n      suspendData: suspend_data,\n      quizUpdated: true,\n    });\n  };\n\n  suspendDataFinish = (element, finished) => {\n    let { suspendData } = this.state;\n\n    if (!this.suspendDataIsValid(suspendData)) {\n      suspendData = { elements: {} };\n    }\n\n    suspendData.elements[element.id] = {\n      ...(suspendData.elements[element.id] || {}),\n      ...finished,\n    };\n\n    this.setState({ suspendData });\n  };\n\n  sendStructurePostMessage(structure) {\n    this.sendPostMessage({\n      type : \"interaction\",\n      rdp_composer_structure: structure,\n    });\n  }\n\n  sendPostMessage(message) \n  {\n    //\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  }\n\n  hasIndex(structure) {\n    return structure.structure.filter(item => item.type === \"virtual-index-1\").length > 0;\n  }\n\n  recoverObjects = async () => {\n    try {\n      let custom_options = window.cstmptns;\n\n      if (custom_options === undefined) return;\n\n      const { interaction_uid, activity_uid } = custom_options;\n\n      return await API.cms.learning.interaction\n        .uid(interaction_uid)\n        .recoverObject({\n          context_uid: activity_uid\n        }, custom_options);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  loadRequiredObjectsState = async (structure) => {\n    let isAllRequired = \"required_interaction\" in structure && structure.required_interaction;\n    let requiredObjects = structure.structure.filter(item => (isAllRequired && item.type !== \"virtual-index-1\") || (\"required_interaction\" in item && item.required_interaction === true));\n    const objectsData = await this.recoverObjects() || [];\n    let completedObjects = [];\n\n    if (objectsData && objectsData.length > 0) {\n      requiredObjects.forEach((item, index) => {\n        let objectData = objectsData.find(object => object.target_uid === item.id && \"completed\" in object.object_data.data && object.object_data.data.completed === true);\n        if (objectData) {\n          completedObjects.push(item);\n        }\n      });\n    }\n\n    this.props._objectInteractionMonitor.setCompleted(completedObjects.length === requiredObjects.length);\n    this.props._objectInteractionMonitor.setCompletedObjects(completedObjects);\n    this.props._objectInteractionMonitor.setRequiredObjects(requiredObjects);\n  }\n\n  async loadStructure(structure, context, userData) {\n    structure = this.adjustStructure(context, structure, userData);\n\n    this.loadRequiredObjectsState(structure);\n\n    this.sendStructurePostMessage(structure);\n\n    if (structure && \"interface\" in structure && \"gtm_container_id\" in structure.interface) {\n      this.props._GTM.initialize(structure.interface.gtm_container_id);\n    }\n\n    //todo: ajustar\n    window.structure = structure;\n\n    var hasIndex = this.hasIndex(structure);\n    if (hasIndex) {\n      var tempItems = structure.structure;\n      var temp = [];\n\n      for (var i = 0; i < tempItems.length; i++) \n      {\n        var item = tempItems[i];\n        if (item.type === \"virtual-index-1\") {\n          item.children = [];\n          temp.push(item)\n        } else if (item) \n        {\n          var lastItem =  temp[temp.length -1];\n          if (lastItem && lastItem.children)\n          {\n            lastItem.children.push(item.id);\n          }\n        }\n      }\n\n      var filtered = tempItems.filter(item => item.type === \"virtual-index-1\");\n\n      this.setState({\n        \"summary_items\": filtered || tempItems,\n        \"summary_items_current\": filtered[0] || tempItems[0],\n        \"show_summary\": structure.interface.show_summary\n      })\n\n    }\n\n    this.setState({\n      context: context,\n      composition: structure,\n      prerequisites: {\n        quizzes:\n          structure.structure\n            .filter((element) => [\"quiz-1\", \"quiz-2\", \"quiz-5\"].includes(element.type))\n            .filter((element) => element.scorm_progress_count === \"with_finish_and_minimum_score\" || element.scorm_progress_count === \"with_finish_without_minimum_score\")\n            .map((element) => element.id) || [],\n      },\n      scoreQuizzes: structure.structure\n        .filter((element) => element.utilization && element.utilization.enabled)\n        .map((element) => element.id),\n      finish_btn: structure.interface.finish_btn\n    });\n  }\n\n  adjustStructure(context, structure, userData) {\n    if (!structure.assets) return structure;\n\n    var originalJson = JSON.stringify(structure);\n    var accessToken = userData ? userData.access_token : \"\";\n    var mapReplaced = [];\n\n    for (const index in structure.assets) {\n      const url = structure.assets[index];\n\n      if (url.indexOf(\"/content\") == -1 || url.indexOf(\"/storage/v\") == -1)\n        continue;\n\n      if (mapReplaced.find((p) => p == url)) continue;\n\n      var urlBase = url.substr(url.length-20);\n      var newUrl = urlBase;\n\n      if (url.indexOf(\"access_token\") == -1)\n      {\n        newUrl += `&access_token=${accessToken}`;\n      }\n\n      if (url.indexOf(\"api_env\") == -1 && context.api_env.toLowerCase() != \"production\")\n      {\n        newUrl += `&api_env=${context.api_env}`;\n      }\n        \n      if (url.indexOf(\"project_key\") == -1)\n      {\n        newUrl += `&project_key=${context.project_key}`;\n      }\n\n      originalJson = originalJson.replaceAll(`${urlBase}\"`, `${newUrl}\"`);\n      mapReplaced.push(url);\n    }\n\n    structure = JSON.parse(originalJson);\n\n    structure.structure.map(item => {\n\n      if (!item.questions) return;\n      var sortQuestions = item.random_question_order !== undefined && item.random_question_order.enabled === true;\n\n      if (sortQuestions)\n        item.questions.sort((a,b) =>{\n          return Math.floor(Math.random() * (1 - -1) ) + -1;\n        });\n\n      item.questions.map(question =>{\n        //corrigi casos que a composio salvou essa informao na estrutura\n        question.answered = false;\n\n        var sortQuestionChoices = item.random_order !== undefined && item.random_order.enabled === true;\n\n        if (!question.choices || !sortQuestionChoices) return;\n\n        question.choices.sort((a,b) =>{\n          return Math.floor(Math.random() * (1 - -1) ) + -1;\n        });\n      })\n    })\n\n    return structure;\n  }\n\n  notifySummaryUpdated(current_object_id)\n  {\n    let { summary_items_current, suspendData, scormAPI } = this.state;\n\n    if (!suspendData) suspendData = {};\n    if (!suspendData.progress) suspendData.progress = {}\n\n    suspendData.progress.current_summary_item = summary_items_current\n    if (current_object_id) {\n      suspendData.progress.current_object_id = current_object_id\n    }\n\n    const data = JSON.stringify(lzw.pack(suspendData));\n\n    this.sendPostMessage({type:\"scorm\", action:\"cmi.suspend_data\", value:data});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.suspend_data\", data);\n  }\n\n  notifyStatusUpdated()\n  {\n    const { scormAPI, lessionStatus, score } = this.state;\n\n    if (score !== undefined) {\n      this.sendPostMessage({type:\"scorm\", action:\"cmi.core.score.max\", value:100});\n      this.sendPostMessage({type:\"scorm\", action:\"cmi.core.score.raw\", value:score});\n    }\n\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.lesson_status\", value:lessionStatus});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.lesson_status\", lessionStatus);\n\n    if (score !== undefined) {\n      scormAPI.LMSSetValue(\"cmi.core.score.raw\", score);\n      scormAPI.LMSSetValue(\"cmi.core.score.max\", 100);\n    }\n  }\n\n  notifySuspendDataUpdated()\n  {\n    const { scormAPI, suspendData } = this.state;   \n    const data = JSON.stringify(lzw.pack(suspendData));\n\n    this.sendPostMessage({type:\"scorm\", action:\"cmi.suspend_data\", value:data});\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.suspend_data\", data);\n  }\n\n  notiftSessionUpdated()\n  {\n    const { scormAPI, sessionTimer } = this.state;  \n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.session_time\", value:sessionTimer}); \n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.session_time\", sessionTimer);\n  }\n\n  notiftLocationUpdated()\n  {\n    const { scormAPI, progressPage } = this.state;   \n    const data = String(progressPage);\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.core.lesson_location\", value:data}); \n\n    if (!scormAPI) return;\n\n    scormAPI.LMSSetValue(\"cmi.core.lesson_location\", data);\n  }\n\n  notifyCommit()\n  {\n    this.sendPostMessage({type:\"scorm\",action:\"cmi.commit\"}); \n\n    const { scormAPI} = this.state;\n\n    if (!scormAPI) return;\n\n    scormAPI.LMSCommit();\n  }\n\n  notifyProtocol()\n  {\n    this.sendPostMessage({type:\"communication\", status:\"established\"});\n  }\n\n  transformFontToSlug(font) {\n    return font.replace(/\\s/g, \"-\").toLowerCase();\n  }\n\n  trackEvent(data)\n  {\n    // /apenas para validao\n    // const statements = Sdk.insights.xapi.builder.create(data, {\n    //   id : 'teste',\n    //   title : 'teste',\n    //   description : 'teste'\n    // },{\n    //   id : 'teste',\n    //   title : 'teste'\n    // });\n\n    // if (statements) {\n    //     statements.forEach(statement=> {\n    //\n    //   })\n    // }\n\n    this.props._objectInteractionMonitor.onObjectInteractionEvent(data);\n    this.props._GTM.addDataLayerEvent(data);\n\n    this.updateCurrentObjectOnSuspendData(data);\n\n    if (!data.type) data.type = \"xapi\";\n    if (window.customListenerTrack && window.customListenerTrack.postMessage)\n    {\n      window.customListenerTrack.postMessage(data);\n    }\n\n    this.sendPostMessage(data);\n\n    if (this.props.match.path === \"/userlog\") {\n      const events = this.state.events;\n      events.unshift(data);\n      this.setState({\n        events: events,\n      });\n    }\n  }\n\n  updateCurrentObjectOnSuspendData  = (data) => {\n    const {need_scroll_to_element_id} = this.state;\n    if (typeof data === \"object\" && data.action === \"view\" && need_scroll_to_element_id === null) {\n\n      if (\"metadata\" in data && \"element_id\" in data.metadata) {\n        const { suspendData } = this.state;\n\n        if (typeof suspendData === \"object\" && \"progress\" in suspendData) {\n          let {progress} = suspendData;\n\n          progress.current_object_id = data.metadata.element_id;\n\n          this.setState({\n            suspendData: {...suspendData, progress},\n            current_object_id: data.metadata.element_id,\n          }, () => {\n            this.notifySummaryUpdated(data.metadata.element_id);\n          });\n        } else {\n          this.setState({\n            suspendData: {\n              ...suspendData,\n              progress: {\n                current_object_id: data.metadata.element_id\n              },\n            },\n            current_object_id: data.metadata.element_id,\n          }, () => {\n            this.notifySummaryUpdated(data.metadata.element_id);\n          });\n        }\n      }\n    }\n  }\n\n  toggleIndexMenu() {\n    this.setState({\n      \"summary_items_render\": !this.state.summary_items_render\n    })\n  }\n\n  changeIndexItemsCurrent(item) {\n    this.setState({\n      \"summary_items_render\": false,\n      \"summary_items_current\": item\n    }, function() {\n      window.scrollTo(0, 0);\n    })\n  }\n\n  prevIndex() {\n    var temp = null;\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n\n    if (items) {\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].id === current.id) {\n          if (i > 0) {\n            temp = items[i - 1];\n          }\n        }\n      }\n    }\n    \n    return temp;\n  }\n\n  nextIndex() {\n    var temp = null;\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n\n    if (items) {\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].id === current.id) {\n          if (items[i + 1] !== undefined) {\n            temp = items[i + 1];\n          }\n        }\n      }\n    }\n\n    return temp;\n  }\n\n  lastIndex() {\n    var items = this.state.summary_items;\n    var current = this.state.summary_items_current;\n    if (items) {\n      return (items[items.length - 1].id === current.id) && this.state.finish_btn === \"enabled\";\n    } else {\n      return this.state.finish_btn === \"enabled\" \n    }\n    \n  }\n\n  finishActivity() {\n    this.setState({ lessionStatus: \"completed\", quizUpdated: false });\n  }\n\n  getElementIndexByType(element) {\n    var index = 0;\n    var structure = this.state.composition.structure;\n    var objects = structure.filter(obj => obj.type === element.type);\n    for (var i = 0; i < objects.length; i++) {\n      if (objects[i].id === element.id) {\n        index = i;\n      };\n    }\n    return index;\n  }\n\n  getTemplate() {\n    var _this = this;\n\n    if (this.state.composition == null) return null;\n\n    var ui = this.state.composition.interface;\n    var structure = this.state.composition.structure;\n\n    if (this.state.summary_items) {\n      const childrensIDs = this.state.summary_items_current.children;\n      structure = this.state.composition.structure.filter(object => childrensIDs.includes(object.id))\n      this.nextIndex()\n    }\n\n    return (\n      <div\n        className={`rdp-composer-player-container ${this.state.show_summary === \"enabled\" ? \"has-header\" : \"\"} ${_this.transformFontToSlug(ui.font_family)} ${_this.props.match.path === \"/userlog\" ? \"userlog\" : \"\"}`}\n      >\n        {this.state.show_summary === \"enabled\" &&\n          <div className=\"rdp-composer-player-header\">\n            <span className=\"rdp-composer-player-header-title\">{this.state.composition.metadata.title}</span>\n            <span className=\"rdp-composer-player-header-index-menu-btn\" onClick={() => this.toggleIndexMenu()}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n                <path fill=\"#3f3f3f\" d=\"M112 160h288c8.833 0 16-7.167 16-16s-7.167-16-16-16h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16zM400 192h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 256h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16zM400 320h-288c-8.833 0-16 7.167-16 16s7.167 16 16 16h288c8.833 0 16-7.167 16-16s-7.167-16-16-16z\"/>\n              </svg>\n            </span>\n          </div>\n        }\n        {this.state.summary_items_render &&\n          <ul className=\"rdp-composer-player-index-menu\">\n            {this.state.summary_items.map(function (item, index) {\n              return <li key={index} className={`rdp-composer-player-index-menu-item ${item.id === _this.state.summary_items_current.id ? \"active\" : \"\"}`} onClick={() => _this.changeIndexItemsCurrent(item)}>\n                <span className=\"rdp-composer-player-index-menu-item-bullet\">{index + 1}</span>\n                <span className=\"rdp-composer-player-index-menu-item-title\">{item.title}</span>\n                {item.duration !== null && item.duration !== \"\" &&\n                  <span className=\"rdp-composer-player-index-menu-item-duration\">{item.duration}</span>\n                }\n              </li>\n            })}\n          </ul>\n        }\n\n        <div className=\"rdp-composer-player-objects\">\n          {this.prevIndex() !== null &&\n            <div className=\"rdp-composer-player-prev-btn\" onClick={() => this.changeIndexItemsCurrent(this.prevIndex())}>\n              <span className=\"rdp-composer-player-prev-btn-icon\"></span>\n              <span className=\"rdp-composer-player-prev-btn-label\">{this.prevIndex().title}</span>\n            </div>\n          }\n\n          {structure.map((element, index) => {\n            var type = element.type;\n            if (type === \"head-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100} >\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementHead1\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (\n              type === \"text-1\" ||\n              type === \"text-2\" ||\n              type === \"text-3\" ||\n              type === \"text-4\" ||\n              type === \"text-5\" ||\n              type === \"text-7\"\n            ) {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementText\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (type === \"text-two-column\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTextTwoColumn\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (\n              type === \"list-1\" ||\n              type === \"list-2\" ||\n              type === \"list-3\"\n            ) {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementList\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    backgroundColor={element.background_color}\n                    paddingTop={element.padding_top}\n                    paddingBottom={element.padding_bottom}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImage\n                    className=\"element-image-1\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImage\n                    className=\"element-image-2\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-and-text\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImageAndText\n                    className=\"element-image-and-text\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"image-with-text\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImageWithText\n                    className=\"element-image-with-text\"\n                    key={index}\n                    content={element}\n                    context={_this.state.context}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"audio-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAudio\n                    className=\"element-audio-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"video-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementVideo\n                    className=\"element-video-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"accordion\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAccordion\n                    className=\"element-accordion\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"tabs\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTabs\n                    className=\"element-tabs\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"iframe\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementIframe\n                    className=\"element-iframe\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"flashcards-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementFlashcards1\n                    className=\"element-flashcards-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"flashcards-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementFlashcards2\n                    className=\"element-flashcards-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz1\n                    className=\"element-quiz-1\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz2\n                    className=\"element-quiz-2\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz3\n                    className=\"element-quiz-3\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz4\n                    className=\"element-quiz-4\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-5\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz5\n                    className=\"element-quiz-5\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quiz-6\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuiz6\n                    className=\"element-quiz-6\"\n                    key={index}\n                    content={element}\n                    contentLanguage={ui.content_language}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    defaultData={_this.state.suspendData}\n                    handleComplete={_this.suspendDataUpdate}\n                    handleFinish={_this.suspendDataFinish}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"images-gallery\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementImagesGallery\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"forum-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementForum1\n                    className=\"element-forum-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDivider1\n                    className=\"element-divider-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDivider4\n                    className=\"element-divider-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"divider-numbered\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementDividerNumbered\n                    className=\"element-divider-numbered\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                    objectIndex={_this.getElementIndexByType(element)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"hotspots-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementHotspots1\n                    className=\"element-hotspots-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement1\n                    className=\"element-statement-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement2\n                    className=\"element-statement-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement3\n                    className=\"element-statement-3\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"statement-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementStatement4\n                    className=\"element-statement-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"gallery-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementGallery1\n                    className=\"element-gallery-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"note-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementNote1\n                    className=\"element-note-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote1\n                    className=\"element-quote-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote2\n                    className=\"element-quote-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-3\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote3\n                    className=\"element-quote-3\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-4\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote4\n                    className=\"element-quote-4\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-5\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote5\n                    className=\"element-quote-5\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"quote-6\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementQuote6\n                    className=\"element-quote-6\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"sorted-activity-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementSortedActivity1\n                    className=\"element-sorted-activity-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"timeline-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementTimeline1\n                    className=\"element-timeline-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"steps-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementSteps1\n                    className=\"element-steps-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"attachment-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementAttachment1\n                    className=\"element-attachment-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"button-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementButton1\n                    className=\"element-button-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"button-2\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementButton1\n                    className=\"element-button-2\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"snippet-1\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <ElementCodeSnippet1\n                    className=\"element-snippet-1\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            } else if (element.type === \"3d\") {\n              return <ConditionalLazyLoad elementId={element.id} scrollToId={this.state.need_scroll_to_element_id} key={index} once={true} offset={100}>\n                <InteractionMonitorObjectWrapper\n                  objectInteractionMonitor={this.props._objectInteractionMonitor}\n                  content={element}\n                >\n                  <Element3d\n                    className=\"element-3d\"\n                    key={index}\n                    content={element}\n                    scrolling={_this.state.scrollPage}\n                    onTrackEvent={(data) => _this.trackEvent(data)}\n                  />\n                </InteractionMonitorObjectWrapper>\n              </ConditionalLazyLoad>\n            }\n          })}\n\n          {this.nextIndex() !== null &&\n            <div className=\"rdp-composer-player-next-btn\" onClick={() => this.changeIndexItemsCurrent(this.nextIndex())}>\n              <span className=\"rdp-composer-player-next-btn-label\">{this.nextIndex().title}</span>\n              <span className=\"rdp-composer-player-next-btn-icon\"></span>\n            </div>\n          }\n\n          {this.lastIndex() &&\n            <>\n              {this.state.lessionStatus !== \"passed\" && this.state.lessionStatus !== \"completed\" &&\n                <div className=\"rdp-composer-player-next-btn\" onClick={() => this.finishActivity()}>\n                  <span className=\"rdp-composer-player-next-btn-label\">Concluir</span>\n                  <span className=\"rdp-composer-player-next-btn-icon\"></span>\n                </div>\n              }\n              {(this.state.lessionStatus === \"passed\" || this.state.lessionStatus === \"completed\") &&\n                <div className=\"rdp-composer-player-done-btn\" onClick={() => this.finishActivity()}>\n                  <span className=\"rdp-composer-player-done-btn-label\">Concludo</span>\n                  <span className=\"rdp-composer-player-done-btn-icon\"></span>\n                </div>\n              }\n            </>\n          }\n        </div>\n      </div>\n    );\n  }\n\n  renderUserLog() {\n    if (this.props.match.path === \"/userlog\") {\n      return <UserLog events={this.state.events} />;\n    }\n  }\n\n  render() {\n    const _this = this;\n    const template = this.getTemplate();\n    if (template != null && !this.state.renderCompleted) \n    {\n      setTimeout(function(){\n        _this.setState({ renderCompleted : true});\n      }, 1000)\n    }\n\n    return (\n      <div className=\"rdp-composer-player-home\">\n        {template}\n        {this.renderUserLog()}\n      </div>\n    );\n  }\n}\n\n\nexport default withGTM(withObjectInteractionMonitor(ViewHome));\n","import React from 'react';\n\nexport default function withGTM(WrappedComponent) {\n  return function HOC(props) {\n    const initialize = (container) => {\n      if (typeof container === \"string\" && container.length > 0) {\n        const head = document.getElementsByTagName('head')[0];\n        const body = document.getElementsByTagName('body')[0];\n\n        window.dataLayer = window.dataLayer || [];\n\n        window.dataLayer.push({\n          \"gtm.start\": new Date().getTime(),\n          \"event\": \"gtm.js\"\n        });\n\n        if (document.getElementById(`gtm-script-${container}`) === null) {\n          const script = document.createElement('script');\n          script.type = 'text/javascript';\n          script.async = true;\n          script.src = `https://www.googletagmanager.com/gtm.js?id=${container}`;\n          script.setAttribute(\"id\", `gtm-script-${container}`);\n          head.insertAdjacentElement(\"afterbegin\", script);\n        }\n\n        if (document.getElementById(`gtm-noscript-${container}`) === null) {\n          const noscript = document.createElement('noscript');\n          const iframe = document.createElement('iframe');\n          iframe.src = `https://www.googletagmanager.com/ns.html?id=${container}`;\n          iframe.height = \"0\";\n          iframe.width = \"0\";\n          iframe.style.display = \"none\";\n          iframe.style.visibility = \"hidden\";\n          noscript.appendChild(iframe);\n          noscript.setAttribute(\"id\", `gtm-noscript-${container}`);\n          body.insertAdjacentElement(\"afterbegin\", noscript);\n        }\n      }\n    }\n\n    const addDataLayerEvent = (event) => {\n      if (window.dataLayer) {\n        window.dataLayer.push({\n          ...event,\n          event: (event.action ? event.action : \"\") + (event.verb ? \".\" + event.verb : \"\") + (event.element ? \".\" + event.element : \"\"),\n        });\n      }\n    }\n\n    return (\n      <React.Fragment>\n        <WrappedComponent\n          {...props}\n          _GTM={{\n            initialize,\n            addDataLayerEvent\n          }}\n        />\n      </React.Fragment>\n    );\n  };\n}","import React, { Component } from 'react';\nimport {Route} from 'react-router-dom';\nimport './reset.css';\nimport './App.css';\n\nimport {\n  ViewHome,\n} from './views';\n\n// Habilita LaTeX no site.\nimport katex from \"katex\";\nimport \"katex/dist/katex.min.css\";\nwindow.katex = katex;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n  }\n  \n  render() {\n    return (\n      <div id=\"root\" className=\"rdp-composer-player\">\n        <Route exact={true} path=\"/\" component={ViewHome}/>\n        <Route exact={true} path=\"/userlog\" component={ViewHome}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/icon-search.b13c6094.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.118d1d00.svg\";"],"sourceRoot":""}